(dp0
Vhas_more
p1
I00
sVitems
p2
(lp3
(dp4
Vbody
p5
V<p>For fitting <em>y</em> = <em>A</em> + <em>B</em> log <em>x</em>, just fit <em>y</em> against (log <em>x</em>).</p>\u000a\u000a<pre><code>&gt;&gt;&gt; x = numpy.array([1, 7, 20, 50, 79])\u000a&gt;&gt;&gt; y = numpy.array([10, 19, 30, 35, 51])\u000a&gt;&gt;&gt; numpy.polyfit(numpy.log(x), y, 1)\u000aarray([ 8.46295607,  6.61867463])\u000a# y \u2248 8.46 log(x) + 6.62\u000a</code></pre>\u000a\u000a<hr>\u000a\u000a<p>For fitting <em>y</em> = <em>Ae</em><sup><em>Bx</em></sup>, take the logarithm of both side gives log <em>y</em> = log <em>A</em> + <em>Bx</em>. So fit (log <em>y</em>) against <em>x</em>. </p>\u000a\u000a<p>Note that fitting (log <em>y</em>) as if it is linear will emphasize small values of <em>y</em>, causing large deviation for large <em>y</em>. This is because <code>polyfit</code> (linear regression) works by minimizing \u2211<sub><em>i</em></sub> (\u0394<em>Y</em>)<sup>2</sup> = \u2211<sub><em>i</em></sub> (<em>Y<sub>i</sub></em> &minus; <em>\u0176</em><sub><em>i</em></sub>)<sup>2</sup>. When <em>Y</em><sub><em>i</em></sub> = log <em>y</em><sub><em>i</em></sub>, the residues \u0394<em>Y</em><sub><em>i</em></sub> = \u0394(log <em>y</em><sub><em>i</em></sub>) \u2248 \u0394<em>y</em><sub><em>i</em></sub> / |<em>y</em><sub><em>i</em></sub>|. So even if <code>polyfit</code> makes a very bad decision for large <em>y</em>, the "divide-by-|<em>y</em>|" factor will compensate for it, causing <code>polyfit</code> favors small values.</p>\u000a\u000a<p>This could be alleviated by giving each entry a "weight" proportional to <em>y</em>. <code>polyfit</code> supports weighted-least-squares via the <code>w</code> keyword argument.</p>\u000a\u000a<pre><code>&gt;&gt;&gt; x = numpy.array([10, 19, 30, 35, 51])\u000a&gt;&gt;&gt; y = numpy.array([1, 7, 20, 50, 79])\u000a&gt;&gt;&gt; numpy.polyfit(x, numpy.log(y), 1)\u000aarray([ 0.10502711, -0.40116352])\u000a#    y \u2248 exp(-0.401) * exp(0.105 * x) = 0.670 * exp(0.105 * x)\u000a# (^ biased towards small values)\u000a&gt;&gt;&gt; numpy.polyfit(x, numpy.log(y), 1, w=numpy.sqrt(y))\u000aarray([ 0.06009446,  1.41648096])\u000a#    y \u2248 exp(1.42) * exp(0.0601 * x) = 4.12 * exp(0.0601 * x)\u000a# (^ not so biased)\u000a</code></pre>\u000a\u000a<p><strong>Note that Excel, LibreOffice and most scientific calculators typically use the unweighted (biased) formula for the exponential regression / trend lines.</strong> If you want your results to be compatible with these platforms, do not include the weights even if it provides better results.</p>\u000a\u000a<hr>\u000a\u000a<p>Now, if you can use scipy, you could use <a href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.optimize.curve_fit.html" rel="noreferrer"><code>scipy.optimize.curve_fit</code></a> to fit any model without transformations.</p>\u000a\u000a<p>For <em>y</em> = <em>A</em> + <em>B</em> log <em>x</em> the result is the same as the transformation method:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; x = numpy.array([1, 7, 20, 50, 79])\u000a&gt;&gt;&gt; y = numpy.array([10, 19, 30, 35, 51])\u000a&gt;&gt;&gt; scipy.optimize.curve_fit(lambda t,a,b: a+b*numpy.log(t),  x,  y)\u000a(array([ 6.61867467,  8.46295606]), \u000a array([[ 28.15948002,  -7.89609542],\u000a        [ -7.89609542,   2.9857172 ]]))\u000a# y \u2248 6.62 + 8.46 log(x)\u000a</code></pre>\u000a\u000a<p>For <em>y</em> = <em>Ae</em><sup><em>Bx</em></sup>, however, we can get a better fit since it computes \u0394(log <em>y</em>) directly. But we need to provide an initialize guess so <code>curve_fit</code> can reach the desired local minimum.</p>\u000a\u000a<pre><code>&gt;&gt;&gt; x = numpy.array([10, 19, 30, 35, 51])\u000a&gt;&gt;&gt; y = numpy.array([1, 7, 20, 50, 79])\u000a&gt;&gt;&gt; scipy.optimize.curve_fit(lambda t,a,b: a*numpy.exp(b*t),  x,  y)\u000a(array([  5.60728326e-21,   9.99993501e-01]),\u000a array([[  4.14809412e-27,  -1.45078961e-08],\u000a        [ -1.45078961e-08,   5.07411462e+10]]))\u000a# oops, definitely wrong.\u000a&gt;&gt;&gt; scipy.optimize.curve_fit(lambda t,a,b: a*numpy.exp(b*t),  x,  y,  p0=(4, 0.1))\u000a(array([ 4.88003249,  0.05531256]),\u000a array([[  1.01261314e+01,  -4.31940132e-02],\u000a        [ -4.31940132e-02,   1.91188656e-04]]))\u000a# y \u2248 4.88 exp(0.0553 x). much better.\u000a</code></pre>\u000a\u000a<p><a href="https://i.stack.imgur.com/8JSLa.png" rel="noreferrer"><img src="https://i.stack.imgur.com/8JSLa.png" alt="comparison of exponential regression"></a></p>\u000a
p6
sVquestion_id
p7
I3433486
sVlast_activity_date
p8
I1489845557
sVcreation_date
p9
I1281253292
sVscore
p10
I65
sVowner
p11
(dp12
Vuser_id
p13
I224671
sVprofile_image
p14
Vhttps://www.gravatar.com/avatar/c90de868a7e95d75bdfd6a906dfedac7?s=128&d=identicon&r=PG
p15
sVuser_type
p16
Vregistered
p17
sVreputation
p18
I346173
sVlink
p19
Vhttp://stackoverflow.com/users/224671/kennytm
p20
sVaccept_rate
p21
I67
sVdisplay_name
p22
Vkennytm
p23
ssVis_accepted
p24
I01
sVlast_edit_date
p25
I1489845557
sVanswer_id
p26
I3433503
sa(dp27
Vbody
p28
V<h2>Django &lt;= 1.7</h2>\u000a\u000a<p>This gives you the property names for all related objects:</p>\u000a\u000a<pre><code>links = [rel.get_accessor_name() for rel in a._meta.get_all_related_objects()]\u000a</code></pre>\u000a\u000a<p>You can then use something like this to get all related objects:</p>\u000a\u000a<pre><code>for link in links:\u000a    objects = getattr(a, link).all()\u000a    for object in objects:\u000a        # do something with related object instance\u000a</code></pre>\u000a\u000a<p>I spent a while trying to figure this out so I could implement a kind of "Observer Pattern" on\u000aone of my models. Hope it's helpful.</p>\u000a\u000a<h2>Django 1.8+</h2>\u000a\u000a<p>Use <code>_meta.get_fields()</code>: <a href="https://docs.djangoproject.com/en/1.10/ref/models/meta/#django.db.models.options.Options.get_fields" rel="nofollow noreferrer">https://docs.djangoproject.com/en/1.10/ref/models/meta/#django.db.models.options.Options.get_fields</a> (see reverse in the <code>_get_fields()</code> source also)</p>\u000a
p29
sVquestion_id
p30
I2233883
sVlast_activity_date
p31
I1489509207
sVcreation_date
p32
I1266880986
sVscore
p33
I75
sVowner
p34
(dp35
Vuser_id
p36
I279089
sVprofile_image
p37
Vhttps://www.gravatar.com/avatar/33cd4933e841cf3c03ee8a3aed0585f7?s=128&d=identicon&r=PG
p38
sVuser_type
p39
Vregistered
p40
sVreputation
p41
I1750
sVlink
p42
Vhttp://stackoverflow.com/users/279089/robbles
p43
sVaccept_rate
p44
I80
sVdisplay_name
p45
Vrobbles
p46
ssVis_accepted
p47
I01
sVlast_edit_date
p48
I1489509207
sVanswer_id
p49
I2315053
sa(dp50
Vbody
p51
V<p>With python &lt; 3 (e.g. 2.6 [see comments] or 2.7), there are two ways to do so.</p>\u000a\u000a<pre><code># Option one \u000aolder_method_string = "%.9f" % numvar\u000a\u000a# Option two\u000anewer_method_string = "{:.9f}".format(numvar) \u000a</code></pre>\u000a\u000a<p>But note that for python versions above 3 (e.g. 3.2 or 3.3), option two is <a href="http://docs.python.org/2/library/stdtypes.html#str.format" rel="nofollow noreferrer">preferred</a>.</p>\u000a\u000a<p>For more info on option two, I suggest <a href="http://docs.python.org/2/library/string.html#formatstrings" rel="nofollow noreferrer">this link on string formatting from the python docs</a>.</p>\u000a\u000a<p>And for more info on option one, <a href="http://docs.python.org/2/library/stdtypes.html#string-formatting" rel="nofollow noreferrer">this link will suffice and has info on the various flags</a>.</p>\u000a\u000a<p>UPDATE: Python 3.6 (official release in December of 2016), will add the <code>f</code> string literal, <a href="https://docs.python.org/3.6/reference/lexical_analysis.html#f-strings" rel="nofollow noreferrer">see more info here</a>, which extends the str.format method (use of curly braces such that <code>f"{numvar:.9f}"</code> solves original problem).</p>\u000a
p52
sVquestion_id
p53
I15263597
sVlast_activity_date
p54
I1487273859
sVcreation_date
p55
I1362634618
sVscore
p56
I74
sVowner
p57
(dp58
Vuser_id
p59
I2142582
sVprofile_image
p60
Vhttps://i.stack.imgur.com/yhT6C.jpg?s=128&g=1
p61
sVuser_type
p62
Vregistered
p63
sVreputation
p64
I1070
sVlink
p65
Vhttp://stackoverflow.com/users/2142582/hal-9001
p66
sVdisplay_name
p67
VHAL 9001
p68
ssVis_accepted
p69
I01
sVlast_edit_date
p70
I1487273859
sVanswer_id
p71
I15263885
sa(dp72
Vbody
p73
V<p>Not entirely clear what you want, but I would use <a href="http://docs.scipy.org/doc/numpy/reference/generated/numpy.random.randint.html" rel="nofollow noreferrer">numpy.random.randint</a>:</p>\u000a\u000a<pre><code>import numpy.random as nprnd\u000aimport timeit\u000a\u000at1 = timeit.Timer('[random.randint(0,1000) for r in xrange(10000)]','import random') # v1\u000a### change v2 so that it picks numbers in (0,10000) and thus runs...\u000at2 = timeit.Timer('random.sample(range(10000), 10000)','import random') # v2\u000at3 = timeit.Timer('nprnd.randint(1000, size=10000)','import numpy.random as nprnd') # v3\u000a\u000aprint t1.timeit(1000)/1000\u000aprint t2.timeit(1000)/1000\u000aprint t3.timeit(1000)/1000\u000a</code></pre>\u000a\u000a<p>which gives on my machine</p>\u000a\u000a<pre><code>0.0233682730198\u000a0.00781716918945\u000a0.000147947072983\u000a</code></pre>\u000a\u000a<p>Note that randint is <em>very</em> different from random.sample (in order for it to work in your case I had to change the 1,000 to 10,000 as one of the commentators pointed out -- if you really want them from 0 to 1,000 you could divide by 10). And if you really don't care what distribution you are getting then it is possible that you either don't understand your problem very well, or random numbers -- with apologies if that sounds rude...</p>\u000a
p74
sVquestion_id
p75
I4172131
sVlast_activity_date
p76
I1486886053
sVcreation_date
p77
I1289646306
sVscore
p78
I52
sVowner
p79
(dp80
Vuser_id
p81
I12266
sVprofile_image
p82
Vhttps://www.gravatar.com/avatar/6a2a454191fa75d4114ed05836a0b924?s=128&d=identicon&r=PG
p83
sVuser_type
p84
Vregistered
p85
sVreputation
p86
I14329
sVlink
p87
Vhttp://stackoverflow.com/users/12266/andrew-jaffe
p88
sVaccept_rate
p89
I43
sVdisplay_name
p90
VAndrew Jaffe
p91
ssVis_accepted
p92
I01
sVlast_edit_date
p93
I1486886053
sVanswer_id
p94
I4172186
sa(dp95
Vbody
p96
V<p>Yes, it is possible.</p>\u000a\u000a<pre><code>try:\u000a   ...\u000aexcept FirstException:\u000a   handle_first_one()\u000a\u000aexcept SecondException:\u000a   handle_second_one()\u000a\u000aexcept (ThirdException, FourthException, FifthException) as e:\u000a   handle_either_of_3rd_4th_or_5th()\u000a\u000aexcept:\u000a   handle_all_other_exceptions()\u000a</code></pre>\u000a\u000a<p>See:  <a href="http://docs.python.org/tutorial/errors.html" rel="noreferrer">http://docs.python.org/tutorial/errors.html</a></p>\u000a\u000a<p>The "as" keyword is used to assign the error to a variable so that the error can be investigated more thoroughly later on in the code. Also note that the parentheses for the triple exception case are needed in python 3. This page has more info: <a href="http://stackoverflow.com/questions/6470428/catch-multiple-exceptions-in-one-line-except-block">Catch multiple exceptions in one line (except block)</a></p>\u000a
p97
sVquestion_id
p98
I6095717
sVlast_activity_date
p99
I1485543799
sVcreation_date
p100
I1306145586
sVscore
p101
I115
sVowner
p102
(dp103
Vuser_id
p104
I60711
sVprofile_image
p105
Vhttps://www.gravatar.com/avatar/0b4fa970be41e2286c39f5b0167e6d9d?s=128&d=identicon&r=PG
p106
sVuser_type
p107
Vregistered
p108
sVreputation
p109
I80752
sVlink
p110
Vhttp://stackoverflow.com/users/60711/vartec
p111
sVaccept_rate
p112
I82
sVdisplay_name
p113
Vvartec
p114
ssVis_accepted
p115
I01
sVlast_edit_date
p116
I1485543799
sVanswer_id
p117
I6095782
sa(dp118
Vbody
p119
V<pre><code>import zipfile\u000azip_ref = zipfile.ZipFile(path_to_zip_file, 'r')\u000azip_ref.extractall(directory_to_extract_to)\u000azip_ref.close()\u000a</code></pre>\u000a\u000a<p>That's pretty much it!</p>\u000a
p120
sVquestion_id
p121
I3451111
sVlast_activity_date
p122
I1476976278
sVcreation_date
p123
I1281457407
sVscore
p124
I105
sVowner
p125
(dp126
Vuser_id
p127
I304533
sVprofile_image
p128
Vhttps://www.gravatar.com/avatar/23fcaec3eee6cf382d17daaf0fc5e893?s=128&d=identicon&r=PG
p129
sVuser_type
p130
Vregistered
p131
sVreputation
p132
I1783
sVlink
p133
Vhttp://stackoverflow.com/users/304533/rahul
p134
sVaccept_rate
p135
I71
sVdisplay_name
p136
VRahul
p137
ssVis_accepted
p138
I01
sVlast_edit_date
p139
I1476976278
sVanswer_id
p140
I3451150
sa(dp141
Vbody
p142
V<h2>How Flask Routing Works</h2>\u000a\u000a<p>The entire idea of Flask (and the underlying Werkzeug library) is to map URL paths to some logic that you will run (typically, the "view function"). Your basic view is defined like this:</p>\u000a\u000a<pre><code>@app.route('/greeting/&lt;name&gt;')\u000adef give_greeting(name):\u000a    return 'Hello, {0}!'.format(name)\u000a</code></pre>\u000a\u000a<p>Note that the function you referred to (add_url_rule) achieves the same goal, just without using the decorator notation. Therefore, the following is the same:</p>\u000a\u000a<pre><code># No "route" decorator here. We will add routing using a different method below.\u000adef give_greeting(name):\u000a    return 'Hello, {0}!'.format(name)\u000a\u000aapp.add_url_rule('/greeting/&lt;name&gt;', 'give_greeting', give_greeting)\u000a</code></pre>\u000a\u000a<p>Let's say your website is located at 'www.example.org' and uses the above view. The user enters the following URL into their browser:</p>\u000a\u000a<pre><code>http://www.example.org/greeting/Mark\u000a</code></pre>\u000a\u000a<p>The job of Flask is to take this URL, figure out what the user wants to do, and pass it on to one of your many python functions for handling. It takes the <strong>path</strong>:</p>\u000a\u000a<pre><code>/greeting/Mark\u000a</code></pre>\u000a\u000a<p>...and matches it to the list of routes. In our case, we defined this path to go to the <code>give_greeting</code> function.</p>\u000a\u000a<p>However, while this is the typical way that you might go about creating a view, it actually abstracts some extra info from you. Behind the scenes, Flask did not make the leap directly from URL to the view function that should handle this request. It does not simply say...</p>\u000a\u000a<pre><code>URL (http://www.example.org/greeting/Mark) should be handled by View Function (the function "my_greeting")\u000a</code></pre>\u000a\u000a<p>Actually, it there is another step, where it maps the URL to an endpoint:</p>\u000a\u000a<pre><code>URL (http://www.example.org/greeting/Mark) should be handled by Endpoint "my_greeting".\u000aRequests to Endpoint "my_greeting" should be handled by View Function "my_greeting"\u000a</code></pre>\u000a\u000a<p>Basically, <strong>the "endpoint" is an identifier that is used in determining what logical unit of your code should handle the request</strong>. Normally, an endpoint is just the name of a view function. However, you can actually change the endpoint, as is done in the following example.</p>\u000a\u000a<pre><code>@app.route('/greeting/&lt;name&gt;', endpoint='say_hello')\u000adef give_greeting(name):\u000a    return 'Hello, {0}!'.format(name)\u000a</code></pre>\u000a\u000a<p>Now, when Flask routes the request, the logic looks like this:</p>\u000a\u000a<pre><code>URL (http://www.example.org/greeting/Mark) should be handled by Endpoint "say_hello".\u000aEndpoint "say_hello" should be handled by View Function "my_greeting"\u000a</code></pre>\u000a\u000a<h2>How You Use the Endpoint</h2>\u000a\u000a<p>The endpoint is commonly used for the "reverse lookup". For example, in one view of your Flask application, you want to reference another view (perhaps when you are linking from one area of the site to another). Rather than hard-code the URL, you can use <a href="http://flask.pocoo.org/docs/api/#flask.url_for" rel="noreferrer"><code>url_for()</code></a>. Assume the following</p>\u000a\u000a<pre><code>@app.route('/')\u000adef index():\u000a    print url_for('give_greeting', name='Mark') # This will print '/greeting/Mark'\u000a\u000a@app.route('/greeting/&lt;name&gt;')\u000adef give_greeting(name):\u000a    return 'Hello, {0}!'.format(name)\u000a</code></pre>\u000a\u000a<p>This is advantageous, as now we can change the URLs of our application without needing to change the line where we reference that resource.</p>\u000a\u000a<h2>Why not just always use the name of the view function?</h2>\u000a\u000a<p>One question that might come up is the following: "Why do we need this extra layer?" Why map a path to an endpoint, then an endpoint to a view function? Why not just skip that middle step?</p>\u000a\u000a<p>The reason is because it is more powerful this way. For example, <a href="http://flask.pocoo.org/docs/blueprints/" rel="noreferrer">Flask Blueprints</a> allow you to split your application into various parts. I might have all of my admin-side resources in a blueprint called "admin", and all of my user-level resources in an endpoint called "user".</p>\u000a\u000a<p>Blueprints allow you to separate these into namespaces. For example...</p>\u000a\u000a<p>main.py:</p>\u000a\u000a<pre><code>from flask import Flask, Blueprint\u000afrom admin import admin\u000afrom user import user\u000a\u000aapp = Flask(__name__)\u000aapp.register_blueprint(admin, url_prefix='admin')\u000aapp.register_blueprint(user, url_prefix='user')\u000a</code></pre>\u000a\u000a<p>admin.py:</p>\u000a\u000a<pre><code>admin = Blueprint('admin', __name__)\u000a\u000a@admin.route('/greeting')\u000adef greeting():\u000a    return 'Hello, administrative user!'\u000a</code></pre>\u000a\u000a<p>user.py:</p>\u000a\u000a<pre><code>user = Blueprint('user', __name__)\u000a@user.route('/greeting')\u000adef greeting():\u000a    return 'Hello, lowly normal user!'\u000a</code></pre>\u000a\u000a<p>Note that in both blueprints, the '/greeting' route is a function called "greeting". If I wanted to refer to the admin "greeting" function, I couldn't just say "greeting" because there is also a user "greeting" function. Endpoints allow for a sort of namespacing by having you specify the name of the blueprint as part of the endpoint. So, I could do the following...</p>\u000a\u000a<pre><code>print url_for('admin.greeting') # Prints '/admin/greeting'\u000aprint url_for('user.greeting') # Prints '/user/greeting'\u000a</code></pre>\u000a
p143
sVquestion_id
p144
I19261833
sVlast_activity_date
p145
I1476727791
sVcreation_date
p146
I1381287855
sVscore
p147
I124
sVowner
p148
(dp149
Vuser_id
p150
I272520
sVprofile_image
p151
Vhttps://i.stack.imgur.com/SZ2YT.jpg?s=128&g=1
p152
sVuser_type
p153
Vregistered
p154
sVreputation
p155
I20810
sVlink
p156
Vhttp://stackoverflow.com/users/272520/mark-hildreth
p157
sVaccept_rate
p158
I86
sVdisplay_name
p159
VMark Hildreth
p160
ssVis_accepted
p161
I01
sVlast_edit_date
p162
I1476727791
sVanswer_id
p163
I19262349
sa(dp164
Vbody
p165
V<p>You have a <a href="http://jsonlines.org/" rel="noreferrer">JSON Lines format text file</a>. You need to parse your file line by line:</p>\u000a\u000a<pre><code>import json\u000a\u000adata = []\u000awith open('file') as f:\u000a    for line in f:\u000a        data.append(json.loads(line))\u000a</code></pre>\u000a\u000a<p>Each <em>line</em> contains valid JSON, but as a whole, it is not a valid JSON value as there is no top-level list or object definition.</p>\u000a\u000a<p>Note that because the file contains JSON per line, you are saved the headaches of trying to parse it all in one go or to figure out a streaming JSON parser. You can now opt to process each line separately before moving on to the next, saving memory in the process. You probably don't want to append each result to one list and <em>then</em> process everything if your file is really big.</p>\u000a\u000a<p>If you have a file containing individual JSON objects with delimiters in-between, use <a href="http://stackoverflow.com/questions/21708192/how-do-i-use-the-json-module-to-read-in-one-json-object-at-a-time/21709058#21709058">How do I use the &#39;json&#39; module to read in one JSON object at a time?</a> to parse out individual objects using a buffered method.</p>\u000a
p166
sVquestion_id
p167
I12451431
sVlast_activity_date
p168
I1475086210
sVcreation_date
p169
I1347836903
sVscore
p170
I121
sVowner
p171
(dp172
Vuser_id
p173
I100297
sVprofile_image
p174
Vhttps://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG
p175
sVuser_type
p176
Vmoderator
p177
sVreputation
p178
I554897
sVlink
p179
Vhttp://stackoverflow.com/users/100297/martijn-pieters
p180
sVdisplay_name
p181
VMartijn Pieters
p182
ssVis_accepted
p183
I01
sVlast_edit_date
p184
I1475086210
sVanswer_id
p185
I12451465
sa(dp186
Vbody
p187
V<p>One way using <a href="https://docs.python.org/3/library/itertools.html#itertools.filterfalse"><code>itertools.filterfalse</code></a> and <a href="https://docs.python.org/3/library/itertools.html#itertools.count"><code>itertools.count</code></a>:</p>\u000a\u000a<pre><code>from itertools import count, filterfalse\u000a\u000adata = [1, 10, 2, 9, 3, 8, 4, 7]\u000aoutput = filterfalse(lambda L, c=count(): L &lt; 5 and next(c) &lt; 3, data)\u000a</code></pre>\u000a\u000a<p>Then <code>list(output)</code>, gives you:</p>\u000a\u000a<pre><code>[10, 9, 8, 4, 7]\u000a</code></pre>\u000a
p188
sVquestion_id
p189
I39580063
sVlast_activity_date
p190
I1474367088
sVcreation_date
p191
I1474313117
sVscore
p192
I60
sVowner
p193
(dp194
Vuser_id
p195
I1252759
sVprofile_image
p196
Vhttps://i.stack.imgur.com/E1sVR.jpg?s=128&g=1
p197
sVuser_type
p198
Vmoderator
p199
sVreputation
p200
I79428
sVlink
p201
Vhttp://stackoverflow.com/users/1252759/jon-clements
p202
sVaccept_rate
p203
I100
sVdisplay_name
p204
VJon Clements
p205
ssVis_accepted
p206
I01
sVlast_edit_date
p207
I1474367088
sVanswer_id
p208
I39580621
sa(dp209
Vbody
p210
V<p>For linux, there is <a href="https://github.com/seb-m/pyinotify/wiki" rel="nofollow noreferrer">pyinotify</a>.</p>\u000a\u000a<p>From the homepage:</p>\u000a\u000a<blockquote>\u000a  <p>Pyinotify is a Python module for\u000a  monitoring filesystems changes.\u000a  Pyinotify relies on a Linux Kernel\u000a  feature (merged in kernel 2.6.13)\u000a  called inotify. inotify is an\u000a  event-driven notifier, its\u000a  notifications are exported from kernel\u000a  space to user space through three\u000a  system calls. pyinotify binds these\u000a  system calls and provides an\u000a  implementation on top of them offering\u000a  a generic and abstract way to\u000a  manipulate those functionalities.</p>\u000a</blockquote>\u000a\u000a<p>Thus it is obviously not cross-platform and relies on a new enough kernel version. However, as far as I can see, requiring kernel support would be true about any non-polling mechanism.</p>\u000a
p211
sVquestion_id
p212
I5738442
sVlast_activity_date
p213
I1472934252
sVcreation_date
p214
I1303348802
sVscore
p215
I39
sVowner
p216
(dp217
Vuser_id
p218
I680727
sVprofile_image
p219
Vhttps://www.gravatar.com/avatar/7e84ed97f423d7dd974efd8a871c5861?s=128&d=identicon&r=PG
p220
sVuser_type
p221
Vregistered
p222
sVreputation
p223
I3306
sVlink
p224
Vhttp://stackoverflow.com/users/680727/aleksi-torhamo
p225
sVdisplay_name
p226
VAleksi Torhamo
p227
ssVis_accepted
p228
I01
sVlast_edit_date
p229
I1472934252
sVanswer_id
p230
I5738475
sa(dp231
Vbody
p232
V<p>If you do not have any interoperability requirements (e.g. you are just going to use the data with Python) and a binary format is fine, go with <a href="http://python.org/doc/2.5/lib/module-cPickle.html" rel="noreferrer">cPickle</a> which gives you really fast Python object serialization.</p>\u000a\u000a<p>If you want interoperability or you want a text format to store your data, go with JSON (or some other appropriate format depending on your constraints).</p>\u000a
p233
sVquestion_id
p234
I2259270
sVlast_activity_date
p235
I1472049316
sVcreation_date
p236
I1266099771
sVscore
p237
I37
sVowner
p238
(dp239
Vuser_id
p240
I94237
sVprofile_image
p241
Vhttps://www.gravatar.com/avatar/494580750294e6e6e037e76609898e68?s=128&d=identicon&r=PG
p242
sVuser_type
p243
Vregistered
p244
sVreputation
p245
I15596
sVlink
p246
Vhttp://stackoverflow.com/users/94237/h%c3%a5vard-s
p247
sVaccept_rate
p248
I100
sVdisplay_name
p249
VH&#229;vard S
p250
ssVis_accepted
p251
I01
sVlast_edit_date
p252
I1472049316
sVanswer_id
p253
I2259313
sa(dp254
Vbody
p255
V<p><em>I would like to note that previous answers made many assumptions about the user's knowledge. This answer attempts to answer the question at a more tutorial level.</em></p>\u000a\u000a<p>For every invocation of Python, <code>sys.argv</code> is automatically a list of strings representing the arguments (as separated by spaces) on the command-line. The name comes from the <a href="http://www.crasseux.com/books/ctutorial/argc-and-argv.html" rel="noreferrer">C programming convention</a> in which argv and argc represent the command line arguments.</p>\u000a\u000a<p>You'll want to learn more about lists and strings as you're familiarizing yourself with Python, but it the meantime, here are a few things to know.</p>\u000a\u000a<p>You can simply create a script that prints the arguments as they're represented. It also prints the number of arguments, using the <code>len</code> function on the list.</p>\u000a\u000a<pre><code>from __future__ import print_function\u000aimport sys\u000aprint(sys.argv, len(sys.argv))\u000a</code></pre>\u000a\u000a<p>The script requires Python 2.6 or later. If you call this script <code>print_args.py</code>, you can invoke it with different arguments to see what happens.</p>\u000a\u000a<pre><code>&gt; python print_args.py\u000a['print_args.py'] 1\u000a\u000a&gt; python print_args.py foo and bar\u000a['print_args.py', 'foo', 'and', 'bar'] 4\u000a\u000a&gt; python print_args.py "foo and bar"\u000a['print_args.py', 'foo and bar'] 2\u000a\u000a&gt; python print_args.py "foo and bar" and baz\u000a['print_args.py', 'foo and bar', 'and', 'baz'] 4\u000a</code></pre>\u000a\u000a<p>As you can see, the command-line arguments include the script name but not the interpreter name. In this sense, Python treats the script <em>as</em> the executable. If you need to know the name of the executable (python in this case), you can use <code>sys.executable</code>.</p>\u000a\u000a<p>You can see from the examples that it is possible to receive arguments that do contain spaces if the user invoked the script with arguments encapsulated in quotes, so what you get is the list of arguments as supplied by the user.</p>\u000a\u000a<p>Now in your Python code, you can use this list of strings as input to your program. Since lists are indexed by zero-based integers, you can get the individual items using the list[0] syntax. For example, to get the script name:</p>\u000a\u000a<pre><code>script_name = sys.argv[0] # this will always work.\u000a</code></pre>\u000a\u000a<p>Although that's interesting to know, you rarely need to know your script name. To get the first argument after the script for a filename, you could do the following:</p>\u000a\u000a<pre><code>filename = sys.argv[1]\u000a</code></pre>\u000a\u000a<p>This is a very common usage, but note that it will fail with an IndexError if no argument was supplied.</p>\u000a\u000a<p>Also, Python lets you reference a slice of a list, so to get <em>another list</em> of just the user-supplied arguments (but without the script name), you can do</p>\u000a\u000a<pre><code>user_args = sys.argv[1:] # get everything after the script name\u000a</code></pre>\u000a\u000a<p>Additionally, Python allows you to assign a sequence of items (including lists) to variable names. So if you expect the user to always supply two arguments, you can assign those arguments (as strings) to two variables:</p>\u000a\u000a<pre><code>user_args = sys.argv[1:]\u000afun, games = user_args # len(user_args) had better be 2\u000a</code></pre>\u000a\u000a<p>So, in final answer to your specific question, <code>sys.argv[1]</code> represents the first command-line argument (as a <code>string</code>) supplied to the script in question. It will not prompt for input, but it will fail with an IndexError if no arguments are supplied on the command-line following the script name.</p>\u000a
p256
sVquestion_id
p257
I4117530
sVlast_activity_date
p258
I1472048399
sVcreation_date
p259
I1289139980
sVscore
p260
I164
sVowner
p261
(dp262
Vuser_id
p263
I70170
sVprofile_image
p264
Vhttps://www.gravatar.com/avatar/163acaf31cfd01645493404a2d379df6?s=128&d=identicon&r=PG
p265
sVuser_type
p266
Vregistered
p267
sVreputation
p268
I22499
sVlink
p269
Vhttp://stackoverflow.com/users/70170/jason-r-coombs
p270
sVaccept_rate
p271
I94
sVdisplay_name
p272
VJason R. Coombs
p273
ssVis_accepted
p274
I01
sVlast_edit_date
p275
I1472048399
sVanswer_id
p276
I4118133
sa(dp277
Vbody
p278
V<p>If your YAML file looks like this:</p>\u000a\u000a<pre><code># tree format\u000atreeroot:\u000a    branch1:\u000a        name: Node 1\u000a        branch1-1:\u000a            name: Node 1-1\u000a    branch2:\u000a        name: Node 2\u000a        branch2-1:\u000a            name: Node 2-1\u000a</code></pre>\u000a\u000a<p>And you've installed <code>PyYAML</code> like this:</p>\u000a\u000a<pre><code>pip install PyYAML\u000a</code></pre>\u000a\u000a<p>And the Python code looks like this:</p>\u000a\u000a<pre><code>import yaml\u000af = open('tree.yaml')\u000a# use safe_load instead load\u000adataMap = yaml.safe_load(f)\u000af.close()\u000a</code></pre>\u000a\u000a<p>The variable <code>dataMap</code> now contains a dictionary with the tree data. If you print <code>dataMap</code> using PrettyPrint, you will get something like:</p>\u000a\u000a<pre><code>{'treeroot': {'branch1': {'branch1-1': {'name': 'Node 1-1'},\u000a    'name': 'Node 1'},\u000a    'branch2': {'branch2-1': {'name': 'Node 2-1'},\u000a    'name': 'Node 2'}}}\u000a</code></pre>\u000a\u000a<p>So, now we have seen how to get data into our Python program. Saving data is just as easy:</p>\u000a\u000a<pre><code>f = open('newtree.yaml', "w")\u000ayaml.dump(dataMap, f)\u000af.close()\u000a</code></pre>\u000a\u000a<p>You have a dictionary, and now you have to convert it to a Python object:</p>\u000a\u000a<pre><code>class Struct:\u000a    def __init__(self, **entries): \u000a        self.__dict__.update(entries)\u000a</code></pre>\u000a\u000a<p>Then you can use:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; args = your YAML dictionary\u000a&gt;&gt;&gt; s = Struct(**args)\u000a&gt;&gt;&gt; s\u000a&lt;__main__.Struct instance at 0x01D6A738&gt;\u000a&gt;&gt;&gt; s...\u000a</code></pre>\u000a\u000a<p>and follow "<a href="http://stackoverflow.com/questions/1305532/convert-python-dict-to-object">Convert Python dict to object</a>".</p>\u000a\u000a<p>For more information you can look at <a href="http://pyyaml.org/">pyyaml.org</a> and <a href="http://web.archive.org/web/20130809020433/http://mikkel.elmholdt.dk/?p=4">this</a>.</p>\u000a
p279
sVquestion_id
p280
I6866600
sVlast_activity_date
p281
I1471377945
sVcreation_date
p282
I1311893347
sVscore
p283
I116
sVowner
p284
(dp285
Vuser_id
p286
I702846
sVprofile_image
p287
Vhttps://www.gravatar.com/avatar/ad589b0712b73d8b534d9a7bf5e2f40d?s=128&d=identicon&r=PG
p288
sVuser_type
p289
Vregistered
p290
sVreputation
p291
I1896
sVlink
p292
Vhttp://stackoverflow.com/users/702846/user702846
p293
sVaccept_rate
p294
I52
sVdisplay_name
p295
Vuser702846
p296
ssVis_accepted
p297
I01
sVlast_edit_date
p298
I1471377945
sVanswer_id
p299
I6866697
sa(dp300
Vbody
p301
V<p>There is also the <code>all</code> function which does the opposite of what you want, it returns <code>True</code> if all are <code>True</code> and <code>False</code> if any are <code>False</code>. Therefore you can just do:</p>\u000a\u000a<pre><code>not all(l)\u000a</code></pre>\u000a
p302
sVquestion_id
p303
I38869155
sVlast_activity_date
p304
I1470835852
sVcreation_date
p305
I1470820994
sVscore
p306
I103
sVowner
p307
(dp308
Vuser_id
p309
I1502345
sVprofile_image
p310
Vhttps://www.gravatar.com/avatar/2550973bfc1f6c08ff29efee9a1cc7fa?s=128&d=identicon&r=PG
p311
sVuser_type
p312
Vregistered
p313
sVreputation
p314
I8186
sVlink
p315
Vhttp://stackoverflow.com/users/1502345/jack-aidley
p316
sVaccept_rate
p317
I70
sVdisplay_name
p318
VJack Aidley
p319
ssVis_accepted
p320
I01
sVlast_edit_date
p321
I1470835852
sVanswer_id
p322
I38869246
sa(dp323
Vbody
p324
V<p>For Android Google provides something called ASE (Android Scripting Environment) which allows scripting languages (Python included) to run on Android. More details <a href="http://google-opensource.blogspot.com/2009/06/introducing-android-scripting.html" rel="noreferrer">here</a></p>\u000a\u000a<p>For iOS, it might be quite a bit more complicated (and I'd advise to check the latest version of iOS SDK agreement to check the current state of the law - apple tends to allow &amp; disallow such apps periodically). For the technical part you might need to interface between Python &amp; Objective C as well as do some wizardry to statically link all the libraries Python requires; full details are available <a href="http://www.saurik.com/id/5" rel="noreferrer">here</a>.\u000aAnother approach for iOS Python development would be to embed a Python interpreter into you app and distribute your Python script with it (so to play nicely with Apple rules). In this case your Python application would be a Python interpreter which is packaged with your script and runs it automatically.</p>\u000a\u000a<p>Second option is to use Kivy framework(kivy.org) - it's a framework to write touch-friendly applications in Python and package them for different platforms. It's had Android support for a while, and recently added iOS support</p>\u000a
p325
sVquestion_id
p326
I10664196
sVlast_activity_date
p327
I1462334939
sVcreation_date
p328
I1337422055
sVscore
p329
I22
sVowner
p330
(dp331
Vuser_id
p332
I1033305
sVprofile_image
p333
Vhttps://www.gravatar.com/avatar/d33c4b3799dcf69819fbc055234e6ad6?s=128&d=identicon&r=PG
p334
sVuser_type
p335
Vregistered
p336
sVreputation
p337
I2414
sVlink
p338
Vhttp://stackoverflow.com/users/1033305/raheel
p339
sVaccept_rate
p340
I100
sVdisplay_name
p341
VRaheel
p342
ssVis_accepted
p343
I01
sVlast_edit_date
p344
I1462334939
sVanswer_id
p345
I10664207
sa(dp346
Vbody
p347
V<p><em>revoke</em> cancels the task execution. If a task is revoked, the workers ignore the task and do not execute it. If you don't use persistent revokes your task can be executed after worker's restart.</p>\u000a\u000a<p><a href="http://docs.celeryproject.org/en/latest/userguide/workers.html#worker-persistent-revokes" rel="noreferrer">http://docs.celeryproject.org/en/latest/userguide/workers.html#worker-persistent-revokes</a></p>\u000a\u000a<p>revoke has an terminate option which is <em>False</em> by default. If you need to kill the executing task you need to set terminate to <em>True</em>.</p>\u000a\u000a<pre><code>&gt;&gt;&gt; from celery.task.control import revoke\u000a&gt;&gt;&gt; revoke(task_id, terminate=True)\u000a</code></pre>\u000a\u000a<p><a href="http://docs.celeryproject.org/en/latest/userguide/workers.html#revoke-revoking-tasks" rel="noreferrer">http://docs.celeryproject.org/en/latest/userguide/workers.html#revoke-revoking-tasks</a></p>\u000a
p348
sVquestion_id
p349
I8920643
sVlast_activity_date
p350
I1456270390
sVcreation_date
p351
I1326967365
sVscore
p352
I99
sVowner
p353
(dp354
Vuser_id
p355
I1151847
sVprofile_image
p356
Vhttps://www.gravatar.com/avatar/d438f04ba0164a911c95da7757aa917e?s=128&d=identicon&r=PG
p357
sVuser_type
p358
Vregistered
p359
sVreputation
p360
I5728
sVlink
p361
Vhttp://stackoverflow.com/users/1151847/mher
p362
sVdisplay_name
p363
Vmher
p364
ssVis_accepted
p365
I01
sVlast_edit_date
p366
I1456270390
sVanswer_id
p367
I8924116
sa(dp368
Vbody
p369
V<p>If you have an iterator, you can just call its <code>next</code> method. Something like:</p>\u000a\u000a<pre><code>In [3]: (5*x for x in xrange(2,4)).next()\u000aOut[3]: 10\u000a</code></pre>\u000a
p370
sVquestion_id
p371
I1077307
sVlast_activity_date
p372
I1455645296
sVcreation_date
p373
I1246580302
sVscore
p374
I43
sVowner
p375
(dp376
Vuser_id
p377
I42610
sVprofile_image
p378
Vhttps://www.gravatar.com/avatar/5ea9e348dc045d53f5659eadf3e695b2?s=128&d=identicon&r=PG
p379
sVuser_type
p380
Vregistered
p381
sVreputation
p382
I22397
sVlink
p383
Vhttp://stackoverflow.com/users/42610/liori
p384
sVaccept_rate
p385
I73
sVdisplay_name
p386
Vliori
p387
ssVis_accepted
p388
I01
sVlast_edit_date
p389
I1455645296
sVanswer_id
p390
I1077320
sa(dp391
Vbody
p392
V<p>Not always:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; nan = float('nan')\u000a&gt;&gt;&gt; nan is nan\u000aTrue\u000a</code></pre>\u000a\u000a<p>or formulated the same way as in the question:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; id(nan) == id(nan)\u000aTrue\u000a</code></pre>\u000a\u000a<p>but</p>\u000a\u000a<pre><code>&gt;&gt;&gt; nan == nan\u000aFalse\u000a</code></pre>\u000a\u000a<p><a href="https://en.wikipedia.org/wiki/NaN" rel="noreferrer">NaN</a> is a strange thing. Per definition it is not equal nor less or greater than itself. But it is the same object. More details why all comparisons have to return <code>False</code> in <a href="http://stackoverflow.com/questions/1565164/what-is-the-rationale-for-all-comparisons-returning-false-for-ieee754-nan-values">this SO question</a>.</p>\u000a
p393
sVquestion_id
p394
I34599953
sVlast_activity_date
p395
I1452154920
sVcreation_date
p396
I1451942344
sVscore
p397
I127
sVowner
p398
(dp399
Vuser_id
p400
I837534
sVprofile_image
p401
Vhttps://www.gravatar.com/avatar/4f3782b004830f622e19029e5f7fc146?s=128&d=identicon&r=PG
p402
sVuser_type
p403
Vregistered
p404
sVreputation
p405
I33685
sVlink
p406
Vhttp://stackoverflow.com/users/837534/mike-m%c3%bcller
p407
sVdisplay_name
p408
VMike M&#252;ller
p409
ssVis_accepted
p410
I01
sVlast_edit_date
p411
I1452154920
sVanswer_id
p412
I34600035
sa(dp413
Vbody
p414
V<p>You don't really have to close it - Python will do it automatically either during garbage collection or at program exit. But as @delnan noted, it's better practice to explicitly close it for various reasons.</p>\u000a\u000a<p>So, what you can do to keep it short, simple and explicit:</p>\u000a\u000a<pre><code>with open('pagehead.section.htm','r') as f:\u000a    output = f.read()\u000a</code></pre>\u000a\u000a<p>Now it's just two lines and pretty readable, I think.</p>\u000a
p415
sVquestion_id
p416
I8011797
sVlast_activity_date
p417
I1448540689
sVcreation_date
p418
I1320421061
sVscore
p419
I92
sVowner
p420
(dp421
Vuser_id
p422
I20670
sVprofile_image
p423
Vhttps://www.gravatar.com/avatar/251f2449ffba9fbcc3491db6564ff4a2?s=128&d=identicon&r=PG
p424
sVuser_type
p425
Vregistered
p426
sVreputation
p427
I209304
sVlink
p428
Vhttp://stackoverflow.com/users/20670/tim-pietzcker
p429
sVaccept_rate
p430
I100
sVdisplay_name
p431
VTim Pietzcker
p432
ssVis_accepted
p433
I01
sVlast_edit_date
p434
I1448540689
sVanswer_id
p435
I8011836
sa(dp436
Vbody
p437
V<p>I finally figured it out working on another problem. The problem was that my test couldn't find an import. </p>\u000a\u000a<p>It looks like you get the above error if your test fails to import. This makes sense because the test suite can't import a broken test. At least I think this is what is going on because I fixed the import within my test file and sure enough it started working.</p>\u000a\u000a<p>To validate your test case just try import the test case file in python console. </p>\u000a\u000a<p>Example:</p>\u000a\u000a<pre><code>from project.apps.app1.tests import *\u000a</code></pre>\u000a
p438
sVquestion_id
p439
I25575073
sVlast_activity_date
p440
I1441592681
sVcreation_date
p441
I1409343721
sVscore
p442
I121
sVowner
p443
(dp444
Vuser_id
p445
I584757
sVprofile_image
p446
Vhttps://www.gravatar.com/avatar/7759594c66801d6f311ff38fd3ddef2a?s=128&d=identicon&r=PG
p447
sVuser_type
p448
Vregistered
p449
sVreputation
p450
I1691
sVlink
p451
Vhttp://stackoverflow.com/users/584757/chris
p452
sVaccept_rate
p453
I27
sVdisplay_name
p454
VChris
p455
ssVis_accepted
p456
I01
sVlast_edit_date
p457
I1441592681
sVanswer_id
p458
I25575664
sa(dp459
Vbody
p460
V<p>First off, (though this won't change the performance at all) consider cleaning up your code, similar to this:</p>\u000a\u000a<pre><code>import matplotlib.pyplot as plt\u000aimport numpy as np\u000aimport time\u000a\u000ax = np.arange(0, 2*np.pi, 0.01)\u000ay = np.sin(x)\u000a\u000afig, axes = plt.subplots(nrows=6)\u000astyles = ['r-', 'g-', 'y-', 'm-', 'k-', 'c-']\u000alines = [ax.plot(x, y, style)[0] for ax, style in zip(axes, styles)]\u000a\u000afig.show()\u000a\u000atstart = time.time()\u000afor i in xrange(1, 20):\u000a    for j, line in enumerate(lines, start=1):\u000a        line.set_ydata(np.sin(j*x + i/10.0))\u000a    fig.canvas.draw()\u000a\u000aprint 'FPS:' , 20/(time.time()-tstart)\u000a</code></pre>\u000a\u000a<p>With the above example, I get around 10fps.  </p>\u000a\u000a<p>Just a quick note, depending on your exact use case, matplotlib may not be a great choice.  It's oriented towards publication-quality figures, not real-time display.</p>\u000a\u000a<p>However, there are a lot of things you can do to speed this example up.</p>\u000a\u000a<p>There are two main reasons why this is as slow as it is.  </p>\u000a\u000a<p>1) Calling <code>fig.canvas.draw()</code> redraws <em>everything</em>.  It's your bottleneck.  In your case, you don't need to re-draw things like the axes boundaries, tick labels, etc. </p>\u000a\u000a<p>2) In your case, there are a lot of subplots with a lot of tick labels.  These take a long time to draw.  </p>\u000a\u000a<p>Both these can be fixed by using blitting.</p>\u000a\u000a<p>To do blitting efficiently, you'll have to use backend-specific code.  In practice, if you're really worried about smooth animations, you're usually embedding matplotlib plots in some sort of gui toolkit, anyway, so this isn't much of an issue.</p>\u000a\u000a<p>However, without knowing a bit more about what you're doing, I can't help you there.</p>\u000a\u000a<p>Nonetheless, there is a gui-neutral way of doing it that is still reasonably fast.</p>\u000a\u000a<pre><code>import matplotlib.pyplot as plt\u000aimport numpy as np\u000aimport time\u000a\u000ax = np.arange(0, 2*np.pi, 0.1)\u000ay = np.sin(x)\u000a\u000afig, axes = plt.subplots(nrows=6)\u000a\u000afig.show()\u000a\u000a# We need to draw the canvas before we start animating...\u000afig.canvas.draw()\u000a\u000astyles = ['r-', 'g-', 'y-', 'm-', 'k-', 'c-']\u000adef plot(ax, style):\u000a    return ax.plot(x, y, style, animated=True)[0]\u000alines = [plot(ax, style) for ax, style in zip(axes, styles)]\u000a\u000a# Let's capture the background of the figure\u000abackgrounds = [fig.canvas.copy_from_bbox(ax.bbox) for ax in axes]\u000a\u000atstart = time.time()\u000afor i in xrange(1, 2000):\u000a    items = enumerate(zip(lines, axes, backgrounds), start=1)\u000a    for j, (line, ax, background) in items:\u000a        fig.canvas.restore_region(background)\u000a        line.set_ydata(np.sin(j*x + i/10.0))\u000a        ax.draw_artist(line)\u000a        fig.canvas.blit(ax.bbox)\u000a\u000aprint 'FPS:' , 2000/(time.time()-tstart)\u000a</code></pre>\u000a\u000a<p>This gives me ~200fps.</p>\u000a\u000a<p>To make this a bit more convenient, there's an <code>animations</code> module in recent versions of matplotlib.</p>\u000a\u000a<p>As an example:</p>\u000a\u000a<pre><code>import matplotlib.pyplot as plt\u000aimport matplotlib.animation as animation\u000aimport numpy as np\u000a\u000ax = np.arange(0, 2*np.pi, 0.1)\u000ay = np.sin(x)\u000a\u000afig, axes = plt.subplots(nrows=6)\u000a\u000astyles = ['r-', 'g-', 'y-', 'm-', 'k-', 'c-']\u000adef plot(ax, style):\u000a    return ax.plot(x, y, style, animated=True)[0]\u000alines = [plot(ax, style) for ax, style in zip(axes, styles)]\u000a\u000adef animate(i):\u000a    for j, line in enumerate(lines, start=1):\u000a        line.set_ydata(np.sin(j*x + i/10.0))\u000a    return lines\u000a\u000a# We'd normally specify a reasonable "interval" here...\u000aani = animation.FuncAnimation(fig, animate, xrange(1, 200), \u000a                              interval=0, blit=True)\u000aplt.show()\u000a</code></pre>\u000a
p461
sVquestion_id
p462
I8955869
sVlast_activity_date
p463
I1440605689
sVcreation_date
p464
I1327176119
sVscore
p465
I79
sVowner
p466
(dp467
Vuser_id
p468
I325565
sVprofile_image
p469
Vhttps://www.gravatar.com/avatar/342bd0a61c7081db529c856d3bcd9545?s=128&d=identicon&r=PG
p470
sVuser_type
p471
Vregistered
p472
sVreputation
p473
I136691
sVlink
p474
Vhttp://stackoverflow.com/users/325565/joe-kington
p475
sVdisplay_name
p476
VJoe Kington
p477
ssVis_accepted
p478
I01
sVlast_edit_date
p479
I1440605689
sVanswer_id
p480
I8956211
sa(dp481
Vbody
p482
V<p>You should refactor your code and move the parsing to a function:</p>\u000a\u000a<pre><code>def parse_args(args):\u000a    parser = argparse.ArgumentParser(...)\u000a    parser.add_argument...\u000a    # ...Create your parser as you like...\u000a    return parser.parse_args(args)\u000a</code></pre>\u000a\u000a<p>Then in your <code>main</code> function you should just call it with:</p>\u000a\u000a<pre><code>parser = parse_args(sys.argv[1:])\u000a</code></pre>\u000a\u000a<p>(where the first element of <code>sys.argv</code> that represents the script name is removed to not send it as an additional switch during CLI operation.)</p>\u000a\u000a<p>In your tests, you can then call the parser function with whatever list of arguments you want to test it with:</p>\u000a\u000a<pre><code>def test_parser(self):\u000a    parser = parse_args(['-l', '-m'])\u000a    self.assertTrue(parser.long)\u000a    # ...and so on.\u000a</code></pre>\u000a\u000a<p>This way you'll never have to execute the code of your application just to test the parser.</p>\u000a\u000a<p>If you need to change and/or add options to your parser later in your application, then create a factory method:</p>\u000a\u000a<pre><code>def create_parser():\u000a    parser = argparse.ArgumentParser(...)\u000a    parser.add_argument...\u000a    # ...Create your parser as you like...\u000a    return parser\u000a</code></pre>\u000a\u000a<p>You can later manipulate it if you want, and a test could look like:</p>\u000a\u000a<pre><code>class ParserTest(unittest.TestCase):\u000a    def setUp(self):\u000a        self.parser = create_parser()\u000a\u000a    def test_something(self):\u000a        parsed = self.parser.parse_args(['--something', 'test'])\u000a        self.assertEqual(parsed.something, 'test')\u000a</code></pre>\u000a
p483
sVquestion_id
p484
I18160078
sVlast_activity_date
p485
I1438377532
sVcreation_date
p486
I1376131545
sVscore
p487
I75
sVowner
p488
(dp489
Vuser_id
p490
I2199958
sVprofile_image
p491
Vhttps://www.gravatar.com/avatar/3a72b60a81fb6e164436524470a1b41d?s=128&d=identicon&r=PG
p492
sVuser_type
p493
Vregistered
p494
sVreputation
p495
I19987
sVlink
p496
Vhttp://stackoverflow.com/users/2199958/viktor-kerkez
p497
sVdisplay_name
p498
VViktor Kerkez
p499
ssVis_accepted
p500
I01
sVlast_edit_date
p501
I1438377532
sVanswer_id
p502
I18161115
sa(dp503
Vbody
p504
V<p>The contents of this answer were merged into mpl master in <a href="https://github.com/matplotlib/matplotlib/pull/4342" rel="noreferrer">https://github.com/matplotlib/matplotlib/pull/4342</a> and will be in the next feature release.</p>\u000a\u000a<hr>\u000a\u000a<p>Wow... This is a thorny problem... (And it exposes a lot of limitations in matplotlib's text rendering...)  </p>\u000a\u000a<p>This should (i.m.o.) be something that matplotlib has built-in, but it doesn't.  There have been a few <a href="http://www.mail-archive.com/matplotlib-users@lists.sourceforge.net/msg08115.html" rel="noreferrer">threads about it</a> on the mailing list, but no solution that I could find to automatic text wrapping.</p>\u000a\u000a<p>So, first off, there's no way to determine the size (in pixels) of the rendered text string before it's drawn in matplotlib.  This isn't too large of a problem, as we can just draw it, get the size, and then redraw the wrapped text.  (It's expensive, but not too excessively bad)</p>\u000a\u000a<p>The next problem is that characters don't have a fixed width in pixels, so wrapping a text string to a given number of characters won't necessarily reflect a given width when rendered.  This isn't a huge problem, though.</p>\u000a\u000a<p>Beyond that, we can't just do this once... Otherwise, it will be wrapped correctly when drawn the first time (on the screen, for example), but not if drawn again (when the figure is resized or saved as an image with a different DPI than the screen).  This isn't a huge problem, as we can just connect a callback function to the matplotlib draw event. </p>\u000a\u000a<p>At any rate this solution is imperfect, but it should work in most situations. I don't try to account for tex-rendered strings, any stretched fonts, or fonts with an unusual aspect ratio. However, it should now properly handle rotated text.  </p>\u000a\u000a<p>However, It should attempt automatically wrap any text objects in multiple subplots in whichever figures you connect the <code>on_draw</code> callback to...  It will be imperfect in many cases, but it does a decent job.</p>\u000a\u000a<pre><code>import matplotlib.pyplot as plt\u000a\u000adef main():\u000a    fig = plt.figure()\u000a    plt.axis([0, 10, 0, 10])\u000a\u000a    t = "This is a really long string that I'd rather have wrapped so that it"\u005c\u000a    " doesn't go outside of the figure, but if it's long enough it will go"\u005c\u000a    " off the top or bottom!"\u000a    plt.text(4, 1, t, ha='left', rotation=15)\u000a    plt.text(5, 3.5, t, ha='right', rotation=-15)\u000a    plt.text(5, 10, t, fontsize=18, ha='center', va='top')\u000a    plt.text(3, 0, t, family='serif', style='italic', ha='right')\u000a    plt.title("This is a really long title that I want to have wrapped so it"\u005c\u000a             " does not go outside the figure boundaries", ha='center')\u000a\u000a    # Now make the text auto-wrap...\u000a    fig.canvas.mpl_connect('draw_event', on_draw)\u000a    plt.show()\u000a\u000adef on_draw(event):\u000a    """Auto-wraps all text objects in a figure at draw-time"""\u000a    import matplotlib as mpl\u000a    fig = event.canvas.figure\u000a\u000a    # Cycle through all artists in all the axes in the figure\u000a    for ax in fig.axes:\u000a        for artist in ax.get_children():\u000a            # If it's a text artist, wrap it...\u000a            if isinstance(artist, mpl.text.Text):\u000a                autowrap_text(artist, event.renderer)\u000a\u000a    # Temporarily disconnect any callbacks to the draw event...\u000a    # (To avoid recursion)\u000a    func_handles = fig.canvas.callbacks.callbacks[event.name]\u000a    fig.canvas.callbacks.callbacks[event.name] = {}\u000a    # Re-draw the figure..\u000a    fig.canvas.draw()\u000a    # Reset the draw event callbacks\u000a    fig.canvas.callbacks.callbacks[event.name] = func_handles\u000a\u000adef autowrap_text(textobj, renderer):\u000a    """Wraps the given matplotlib text object so that it exceed the boundaries\u000a    of the axis it is plotted in."""\u000a    import textwrap\u000a    # Get the starting position of the text in pixels...\u000a    x0, y0 = textobj.get_transform().transform(textobj.get_position())\u000a    # Get the extents of the current axis in pixels...\u000a    clip = textobj.get_axes().get_window_extent()\u000a    # Set the text to rotate about the left edge (doesn't make sense otherwise)\u000a    textobj.set_rotation_mode('anchor')\u000a\u000a    # Get the amount of space in the direction of rotation to the left and \u000a    # right of x0, y0 (left and right are relative to the rotation, as well)\u000a    rotation = textobj.get_rotation()\u000a    right_space = min_dist_inside((x0, y0), rotation, clip)\u000a    left_space = min_dist_inside((x0, y0), rotation - 180, clip)\u000a\u000a    # Use either the left or right distance depending on the horiz alignment.\u000a    alignment = textobj.get_horizontalalignment()\u000a    if alignment is 'left':\u000a        new_width = right_space \u000a    elif alignment is 'right':\u000a        new_width = left_space\u000a    else:\u000a        new_width = 2 * min(left_space, right_space)\u000a\u000a    # Estimate the width of the new size in characters...\u000a    aspect_ratio = 0.5 # This varies with the font!! \u000a    fontsize = textobj.get_size()\u000a    pixels_per_char = aspect_ratio * renderer.points_to_pixels(fontsize)\u000a\u000a    # If wrap_width is &lt; 1, just make it 1 character\u000a    wrap_width = max(1, new_width // pixels_per_char)\u000a    try:\u000a        wrapped_text = textwrap.fill(textobj.get_text(), wrap_width)\u000a    except TypeError:\u000a        # This appears to be a single word\u000a        wrapped_text = textobj.get_text()\u000a    textobj.set_text(wrapped_text)\u000a\u000adef min_dist_inside(point, rotation, box):\u000a    """Gets the space in a given direction from "point" to the boundaries of\u000a    "box" (where box is an object with x0, y0, x1, &amp; y1 attributes, point is a\u000a    tuple of x,y, and rotation is the angle in degrees)"""\u000a    from math import sin, cos, radians\u000a    x0, y0 = point\u000a    rotation = radians(rotation)\u000a    distances = []\u000a    threshold = 0.0001 \u000a    if cos(rotation) &gt; threshold: \u000a        # Intersects the right axis\u000a        distances.append((box.x1 - x0) / cos(rotation))\u000a    if cos(rotation) &lt; -threshold: \u000a        # Intersects the left axis\u000a        distances.append((box.x0 - x0) / cos(rotation))\u000a    if sin(rotation) &gt; threshold: \u000a        # Intersects the top axis\u000a        distances.append((box.y1 - y0) / sin(rotation))\u000a    if sin(rotation) &lt; -threshold: \u000a        # Intersects the bottom axis\u000a        distances.append((box.y0 - y0) / sin(rotation))\u000a    return min(distances)\u000a\u000aif __name__ == '__main__':\u000a    main()\u000a</code></pre>\u000a\u000a<p><img src="https://i.stack.imgur.com/m3gep.png" alt="Figure with wrapped text"></p>\u000a
p505
sVquestion_id
p506
I4018860
sVlast_activity_date
p507
I1433705347
sVcreation_date
p508
I1288401849
sVscore
p509
I99
sVowner
p510
(dp511
Vuser_id
p512
I325565
sVprofile_image
p513
Vhttps://www.gravatar.com/avatar/342bd0a61c7081db529c856d3bcd9545?s=128&d=identicon&r=PG
p514
sVuser_type
p515
Vregistered
p516
sVreputation
p517
I136691
sVlink
p518
Vhttp://stackoverflow.com/users/325565/joe-kington
p519
sVdisplay_name
p520
VJoe Kington
p521
ssVis_accepted
p522
I01
sVlast_edit_date
p523
I1433705347
sVanswer_id
p524
I4056853
sa(dp525
Vbody
p526
V<p>The new <a href="http://docs.python.org/2/library/stdtypes.html#str.format" rel="noreferrer"><code>.format()</code> method</a> is meant to replace the old <code>%</code> formatting syntax. The latter has been de-emphasised, (but not officially deprecated <em>yet</em>). The method documentation states as much:</p>\u000a\u000a<blockquote>\u000a  <p>This method of string formatting is the new standard in Python 3, and <strong>should be preferred</strong> to the <code>%</code> formatting described in <a href="http://docs.python.org/2/library/stdtypes.html#string-formatting" rel="noreferrer"><em>String Formatting Operations</em></a> in new code.</p>\u000a</blockquote>\u000a\u000a<p>(Emphasis mine).</p>\u000a\u000a<p>To maintain backwards compatibility and to make transition easier, the old format has been left in place <em>for now</em>. From the original <a href="http://www.python.org/dev/peps/pep-3101/" rel="noreferrer">PEP 3101 proposal</a>:</p>\u000a\u000a<blockquote>\u000a  <h3>Backwards Compatibility</h3>\u000a  \u000a  <p>Backwards compatibility can be maintained by leaving the existing\u000a  mechanisms in place.  The new system does not collide with any of\u000a  the method names of the existing string formatting techniques, so\u000a  both systems can co-exist until it comes time to deprecate the\u000a  older system.</p>\u000a</blockquote>\u000a\u000a<p>Note the <em>until it comes time to deprecate the older system</em>; it hasn't been deprecated, but the new system is to be used whenever you write <em>new code</em>.</p>\u000a\u000a<p>The new system has as an advantage that you can <em>combine</em> the tuple and dictionary approach of the old <code>%</code> formatter:</p>\u000a\u000a<pre><code>"{greeting}, {0}".format(world, greeting='Hello')\u000a</code></pre>\u000a\u000a<p>and is extensible through the <code>object.__format__()</code> hook used to handle formatting of individual values.</p>\u000a\u000a<p>Note that the old system had <code>%</code> and the <code>Template</code> class, where the latter allows you to create subclasses that add or alter its behaviour. The new-style system has the <a href="http://docs.python.org/2/library/string.html#string.Formatter" rel="noreferrer"><code>Formatter</code> class</a> to fill the same niche.</p>\u000a
p527
sVquestion_id
p528
I13451989
sVlast_activity_date
p529
I1429874006
sVcreation_date
p530
I1353322625
sVscore
p531
I39
sVowner
p532
(dp533
Vuser_id
p534
I100297
sVprofile_image
p535
Vhttps://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG
p536
sVuser_type
p537
Vmoderator
p538
sVreputation
p539
I554897
sVlink
p540
Vhttp://stackoverflow.com/users/100297/martijn-pieters
p541
sVdisplay_name
p542
VMartijn Pieters
p543
ssVis_accepted
p544
I01
sVlast_edit_date
p545
I1429874006
sVanswer_id
p546
I13452357
sa(dp547
Vbody
p548
V<p>To answer your first question, <code>numpy.correlate(a, v, mode)</code> is performing the convolution of <code>a</code> with the reverse of <code>v</code> and giving the results clipped by the specified mode. The <a href="http://mathworld.wolfram.com/Convolution.html" rel="noreferrer">definition of convolution</a>, C(t)=\u2211 <sub>-\u221e &lt; i &lt; \u221e </sub> a<sub>i</sub>v<sub>t+i</sub> where -\u221e &lt; t &lt; \u221e, allows for results from -\u221e to \u221e, but you obviously can't store an infinitely long array. So it has to be clipped, and that is where the mode comes in. There are 3 different modes: full, same, &amp; valid: </p>\u000a\u000a<ul>\u000a<li>"full" mode returns results for every <code>t</code> where both <code>a</code> and <code>v</code> have some overlap. </li>\u000a<li>"same" mode returns a result with the same length as the shortest vector (<code>a</code> or <code>v</code>). </li>\u000a<li>"valid" mode returns results only when <code>a</code> and <code>v</code> completely overlap each other. The <a href="http://docs.scipy.org/doc/numpy/reference/generated/numpy.convolve.html" rel="noreferrer">documentation</a> for <code>numpy.convolve</code> gives more detail on the modes.</li>\u000a</ul>\u000a\u000a<p>For your second question, I think <code>numpy.correlate</code> <em>is</em> giving you the autocorrelation, it is just giving you a little more as well. The autocorrelation is used to find how similar a signal, or function, is to itself at a certain time difference. At a time difference of 0, the auto-correlation should be the highest because the signal is identical to itself, so you expected that the first element in the autocorrelation result array would be the greatest. However, the correlation is not starting at a time difference of 0. It starts at a negative time difference, closes to 0, and then goes positive. That is, you were expecting:  </p>\u000a\u000a<p>autocorrelation(a) = \u2211 <sub>-\u221e &lt; i &lt; \u221e </sub> a<sub>i</sub>v<sub>t+i</sub> where 0 &lt;= t &lt; \u221e  </p>\u000a\u000a<p>But what you got was:  </p>\u000a\u000a<p>autocorrelation(a) = \u2211 <sub>-\u221e &lt; i &lt; \u221e </sub> a<sub>i</sub>v<sub>t+i</sub> where -\u221e &lt; t &lt; \u221e</p>\u000a\u000a<p>What you need to do is take the last half of your correlation result, and that should be the autocorrelation you are looking for. A simple python function to do that would be:</p>\u000a\u000a<pre><code>def autocorr(x):\u000a    result = numpy.correlate(x, x, mode='full')\u000a    return result[result.size/2:]\u000a</code></pre>\u000a\u000a<p>You will, of course, need error checking to make sure that <code>x</code> is actually a 1-d array. Also, this explanation probably isn't the most mathematically rigorous. I've been throwing around infinities because the definition of convolution uses them, but that doesn't necessarily apply for autocorrelation. So, the theoretical portion of this explanation may be slightly wonky, but hopefully the practical results are helpful. <a href="http://mathworld.wolfram.com/Autocorrelation.html" rel="noreferrer">These</a> <a href="http://en.wikipedia.org/wiki/Autocorrelation" rel="noreferrer">pages</a> on autocorrelation are pretty helpful, and can give you a much better theoretical background if you don't mind wading through the notation and heavy concepts.</p>\u000a
p549
sVquestion_id
p550
I643699
sVlast_activity_date
p551
I1426703221
sVcreation_date
p552
I1237874942
sVscore
p553
I65
sVowner
p554
(dp555
Vuser_id
p556
I35881
sVprofile_image
p557
Vhttps://www.gravatar.com/avatar/95ee2befbddbd112fbbd1c8b500fcfc9?s=128&d=identicon&r=PG
p558
sVuser_type
p559
Vregistered
p560
sVreputation
p561
I10126
sVlink
p562
Vhttp://stackoverflow.com/users/35881/a-levy
p563
sVaccept_rate
p564
I88
sVdisplay_name
p565
VA. Levy
p566
ssVis_accepted
p567
I01
sVlast_edit_date
p568
I1426703221
sVanswer_id
p569
I676302
sa(dp570
Vbody
p571
V<p>Note: <a href="http://stackoverflow.com/a/26472482/2698552">ozan answer</a> is better than mine. Please use that method</p>\u000a\u000a<p><strong>CREATING APPS &amp; MODELS</strong></p>\u000a\u000a<p><strong>1) Create two apps, <code>app1</code> &amp; <code>app2</code>.</strong></p>\u000a\u000a<pre><code>$ python manage.py startapp app1\u000a$ python manage.py startapp app2\u000a</code></pre>\u000a\u000a<p><strong>2) Create two models <code>model1</code> &amp; <code>model2</code>.</strong></p>\u000a\u000a<p><em>app1/model1.py</em></p>\u000a\u000a<pre><code>from django.db import models\u000a\u000aclass model1(models.Model):\u000a    name  = models.CharField(max_length=100)\u000a</code></pre>\u000a\u000a<p><em>app2/model2.py</em></p>\u000a\u000a<pre><code>from django.db import models\u000a\u000aclass model1(models.Model):\u000a    name  = models.CharField(max_length=100)\u000a</code></pre>\u000a\u000a<p><strong>3) Apply migrations.</strong></p>\u000a\u000a<pre><code>$ python manage.py makemigrations app1 &amp;&amp; python migrate app1\u000a$ python manage.py makemigrations app2 &amp;&amp; python migrate app2\u000a</code></pre>\u000a\u000a<p>Django will create 2 tables <code>app1_model</code> &amp; <code>app2_model2</code>. You can add data to models.</p>\u000a\u000a<p>Lets add little data into our models, to make sure we preserve data while moving model.</p>\u000a\u000a<pre><code>In [1]: from apps.app1.models import model1\u000a\u000aIn [2]: model1.objects.create()\u000aOut[2]: &lt;model1: model1 object&gt;\u000a\u000aIn [3]: model1.objects.create()\u000aOut[3]: &lt;model1: model1 object&gt;\u000a</code></pre>\u000a\u000a<p><strong>MIGRATING MODEL</strong></p>\u000a\u000a<p>Lets look how to perform the actual migration.</p>\u000a\u000a<p><strong>4) Rename Table &amp; Move Source Code</strong>\u000aGo to your database and rename <code>app1_model</code> to <code>app2_model1</code>. Move source code for <code>model1</code> from <code>app1</code> to <code>app2</code> &amp; add meta options.</p>\u000a\u000a<p><em>app1/model1.py</em></p>\u000a\u000a<pre><code>from django.db import models\u000a</code></pre>\u000a\u000a<p><em>app2/model2.py</em></p>\u000a\u000a<pre><code>from django.db import models\u000a\u000aclass model2(models.Model):\u000a    name = models.CharField(max_length=100)\u000a\u000aclass model1(models.Model):\u000a    name  = models.CharField(max_length=100)\u000a\u000aclass Meta:\u000a    managed = False\u000a    db_table = 'app2_model1'\u000a</code></pre>\u000a\u000a<p><strong>5) Apply Migrations.</strong>\u000aApply migrations for both apps. </p>\u000a\u000a<pre><code>$ python manage.py makemigrations app2 &amp;&amp; python manage.py migrate app2\u000a$ python manage.py makemigrations app1 &amp;&amp; python manage.py migrate --fake app1\u000a</code></pre>\u000a\u000a<p>Once migrations are completed, you can check the data in the model.</p>\u000a\u000a<pre><code>In [1]: from apps.app2.models import model1\u000a\u000aIn [2]: model1.objects.all()\u000aOut[2]: [&lt;model1: model1 object&gt;, &lt;model1: model1 object&gt;]\u000a</code></pre>\u000a
p572
sVquestion_id
p573
I25648393
sVlast_activity_date
p574
I1417098271
sVcreation_date
p575
I1409771588
sVscore
p576
I6
sVowner
p577
(dp578
Vuser_id
p579
I2698552
sVprofile_image
p580
Vhttps://i.stack.imgur.com/aHLqN.jpg?s=128&g=1
p581
sVuser_type
p582
Vregistered
p583
sVreputation
p584
I7843
sVlink
p585
Vhttp://stackoverflow.com/users/2698552/chillaranand
p586
sVaccept_rate
p587
I100
sVdisplay_name
p588
VChillarAnand
p589
ssVis_accepted
p590
I01
sVlast_edit_date
p591
I1417098271
sVanswer_id
p592
I25652003
sa(dp593
Vbody
p594
V<p><code>request</code> is not a variable in that scope. You will have to get it from the context first. <a href="http://docs.djangoproject.com/en/dev/howto/custom-template-tags/#inclusion-tags" rel="noreferrer">Pass <code>takes_context</code> to the decorator and add <code>context</code> to the tag arguments</a>.</p>\u000a\u000a<p>Like this:</p>\u000a\u000a<pre><code>@register.inclusion_tag('new/userinfo.html', takes_context=True)\u000adef address(context):\u000a    request = context['request']\u000a    address = request.session['address']\u000a    return {'address':address}\u000a</code></pre>\u000a
p595
sVquestion_id
p596
I2160261
sVlast_activity_date
p597
I1416953949
sVcreation_date
p598
I1264746635
sVscore
p599
I133
sVowner
p600
(dp601
Vuser_id
p602
I20862
sVprofile_image
p603
Vhttps://www.gravatar.com/avatar/2343ae368d3241278581ce6c87f62a25?s=128&d=identicon&r=PG
p604
sVuser_type
p605
Vregistered
p606
sVreputation
p607
I481018
sVlink
p608
Vhttp://stackoverflow.com/users/20862/ignacio-vazquez-abrams
p609
sVaccept_rate
p610
I60
sVdisplay_name
p611
VIgnacio Vazquez-Abrams
p612
ssVis_accepted
p613
I01
sVlast_edit_date
p614
I1416953949
sVanswer_id
p615
I2160298
sa(dp616
Vbody
p617
V<p>The crucial difference between resolution order for legacy vs new-style classes comes when the same ancestor class occurs more than once in the "naive", depth-first approach -- e.g., consider a "diamond inheritance" case:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; class A: x = 'a'\u000a... \u000a&gt;&gt;&gt; class B(A): pass\u000a... \u000a&gt;&gt;&gt; class C(A): x = 'c'\u000a... \u000a&gt;&gt;&gt; class D(B, C): pass\u000a... \u000a&gt;&gt;&gt; D.x\u000a'a'\u000a</code></pre>\u000a\u000a<p>here, legacy-style, the resolution order is D - B - A - C - A : so when looking up D.x, A is the first base in resolution order to solve it, thereby hiding the definition in C.  While:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; class A(object): x = 'a'\u000a... \u000a&gt;&gt;&gt; class B(A): pass\u000a... \u000a&gt;&gt;&gt; class C(A): x = 'c'\u000a... \u000a&gt;&gt;&gt; class D(B, C): pass\u000a... \u000a&gt;&gt;&gt; D.x\u000a'c'\u000a&gt;&gt;&gt; \u000a</code></pre>\u000a\u000a<p>here, new-style, the order is:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; D.__mro__\u000a(&lt;class '__main__.D'&gt;, &lt;class '__main__.B'&gt;, &lt;class '__main__.C'&gt;, \u000a    &lt;class '__main__.A'&gt;, &lt;type 'object'&gt;)\u000a</code></pre>\u000a\u000a<p>with <code>A</code> forced to come in resolution order only once and after all of its subclasses, so that overrides (i.e., C's override of member <code>x</code>) actually work sensibly.</p>\u000a\u000a<p>It's one of the reasons that old-style classes should be avoided: multiple inheritance with "diamond-like" patterns just doesn't work sensibly with them, while it does with new-style.</p>\u000a
p618
sVquestion_id
p619
I1848474
sVlast_activity_date
p620
I1415572003
sVcreation_date
p621
I1259949780
sVscore
p622
I127
sVowner
p623
(dp624
Vuser_id
p625
I95810
sVprofile_image
p626
Vhttps://www.gravatar.com/avatar/e8d5fe90f1fe2148bf130cccd4dc311c?s=128&d=identicon&r=PG
p627
sVuser_type
p628
Vregistered
p629
sVreputation
p630
I516089
sVlink
p631
Vhttp://stackoverflow.com/users/95810/alex-martelli
p632
sVaccept_rate
p633
I80
sVdisplay_name
p634
VAlex Martelli
p635
ssVis_accepted
p636
I01
sVlast_edit_date
p637
I1415572003
sVanswer_id
p638
I1848647
sa(dp639
Vcommunity_owned_date
p640
I1247015022
sVbody
p641
V<p>Check out the inspect module:</p>\u000a\u000a<p><code>inspect.stack()</code> will return the stack information.</p>\u000a\u000a<p>Inside a function, <code>inspect.stack()[1]</code> will return your caller's stack.  From there, you can get more information about the caller's function name, module, etc.</p>\u000a\u000a<p>See the docs for details:</p>\u000a\u000a<p><a href="http://docs.python.org/library/inspect.html" rel="noreferrer">http://docs.python.org/library/inspect.html</a></p>\u000a\u000a<p>Also, Doug Hellmann has a nice writeup of the inspect module in his PyMOTW series:</p>\u000a\u000a<p><a href="http://pymotw.com/2/inspect/index.html#module-inspect" rel="noreferrer">http://pymotw.com/2/inspect/index.html#module-inspect</a></p>\u000a\u000a<p>EDIT: Here's some code which does what you want, I think:</p>\u000a\u000a<pre><code>def info(msg):\u000a    frm = inspect.stack()[1]\u000a    mod = inspect.getmodule(frm[0])\u000a    print '[%s] %s' % (mod.__name__, msg)\u000a</code></pre>\u000a
p642
sVquestion_id
p643
I1095543
sVlast_activity_date
p644
I1414932430
sVcreation_date
p645
I1247015022
sVscore
p646
I83
sVowner
p647
(dp648
Vuser_id
p649
I2611
sVprofile_image
p650
Vhttps://www.gravatar.com/avatar/3d9b2df0d1610c9418ba9e9013dbd418?s=128&d=identicon&r=PG
p651
sVuser_type
p652
Vregistered
p653
sVreputation
p654
I64105
sVlink
p655
Vhttp://stackoverflow.com/users/2611/ars
p656
sVdisplay_name
p657
Vars
p658
ssVis_accepted
p659
I01
sVlast_edit_date
p660
I1414932430
sVanswer_id
p661
I1095621
sa(dp662
Vbody
p663
V<p><strong>Use a list instead of a generator when:</strong></p>\u000a\u000a<p>1) You need to access the data <strong>multiple</strong> times (i.e. cache the results instead of recomputing them):</p>\u000a\u000a<pre><code>for i in outer:           # used once, okay to be a generator or return a list\u000a    for j in inner:       # used multiple times, reusing a list is better\u000a         ...\u000a</code></pre>\u000a\u000a<p>2) You need <strong>random access</strong> (or any access other than forward sequential order):</p>\u000a\u000a<pre><code>for i in reversed(data): ...     # generators aren't reversible\u000a\u000as[i], s[j] = s[j], s[i]          # generators aren't indexable\u000a</code></pre>\u000a\u000a<p>3) You need to <strong>join</strong> strings (which requires two passes over the data):</p>\u000a\u000a<pre><code>s = ''.join(data)                # lists are faster than generators in this use case\u000a</code></pre>\u000a\u000a<p>4) You are using <strong>PyPy</strong> which sometimes can't optimize generator code as much as it can with normal function calls and list manipulations.</p>\u000a
p664
sVquestion_id
p665
I245792
sVlast_activity_date
p666
I1414648773
sVcreation_date
p667
I1414600617
sVscore
p668
I34
sVowner
p669
(dp670
Vuser_id
p671
I1001643
sVprofile_image
p672
Vhttps://www.gravatar.com/avatar/60cac87fb9e2b5689242622999656cb0?s=128&d=identicon&r=PG
p673
sVuser_type
p674
Vregistered
p675
sVreputation
p676
I94640
sVlink
p677
Vhttp://stackoverflow.com/users/1001643/raymond-hettinger
p678
sVaccept_rate
p679
I75
sVdisplay_name
p680
VRaymond Hettinger
p681
ssVis_accepted
p682
I01
sVlast_edit_date
p683
I1414648773
sVanswer_id
p684
I26635939
sa(dp685
Vbody
p686
V<p>Use the <code>datetime.timedelta</code> class:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; from datetime import datetime, timedelta\u000a&gt;&gt;&gt; then = datetime.now() - timedelta(hours = 2)\u000a&gt;&gt;&gt; now = datetime.now()\u000a&gt;&gt;&gt; (now - then) &gt; timedelta(days = 1)\u000aFalse\u000a&gt;&gt;&gt; (now - then) &gt; timedelta(hours = 1)\u000aTrue\u000a</code></pre>\u000a\u000a<p>Your example could be written as:</p>\u000a\u000a<pre><code>if (datetime.now() - self.timestamp) &gt; timedelta(seconds = 100)\u000a</code></pre>\u000a\u000a<p>or</p>\u000a\u000a<pre><code>if (datetime.now() - self.timestamp) &gt; timedelta(minutes = 100)\u000a</code></pre>\u000a
p687
sVquestion_id
p688
I130618
sVlast_activity_date
p689
I1393968580
sVcreation_date
p690
I1222299867
sVscore
p691
I106
sVowner
p692
(dp693
Vuser_id
p694
I3560
sVprofile_image
p695
Vhttps://www.gravatar.com/avatar/4acd21acc7b1f605466f2f48189a7177?s=128&d=identicon&r=PG
p696
sVuser_type
p697
Vregistered
p698
sVreputation
p699
I133151
sVlink
p700
Vhttp://stackoverflow.com/users/3560/john-millikin
p701
sVaccept_rate
p702
I83
sVdisplay_name
p703
VJohn Millikin
p704
ssVis_accepted
p705
I01
sVlast_edit_date
p706
I1393968580
sVanswer_id
p707
I130665
sa(dp708
Vbody
p709
V<p>This is a bug in the readline compatibility in python, related to changes introduced in OSX10.9. This weekend, release candidates for Python2.7.6 and Python3.3.3 were released which fix this bug. The download links are below.</p>\u000a\u000a<p><a href="http://python.org/download/releases/2.7.6/">http://python.org/download/releases/2.7.6/</a></p>\u000a\u000a<p><a href="http://python.org/download/releases/3.3.3/">http://python.org/download/releases/3.3.3/</a></p>\u000a\u000a<p>Here's the issue, quoting from Ned Deily, writing on the <a href="https://mail.python.org/pipermail/python-dev/2013-October/129832.html">python-dev email list</a>.</p>\u000a\u000a<blockquote>\u000a  <p>On Tuesday, Apple released OS X 10.9 (a.k.a. Mavericks).   There has already \u000a  been a lot of interest in it, in part because Apple has made it available for \u000a  free and has made it easy for users with 10.8, 10.7, and (most) 10.6 systems \u000a  to upgrade directly to 10.9.  Unfortunately, there are issues with our current \u000a  maintenance releases (3.3.2 and 2.7.5) on OS X 10.9 that call for new \u000a  maintenance releases as soon as possible.</p>\u000a  \u000a  <p>One is critical in that it causes the interpreter to crash when running in \u000a  interactive mode (<a href="http://bugs.python.org/issue18458">http://bugs.python.org/issue18458</a>).  The problem was due to \u000a  a long-standing compatibility issue in libedit's readline compatibility layer \u000a  that upstream has finally fixed and Apple has now shipped in 10.9.  Because \u000a  the python.org installers dynamically link to libedit, the original workaround \u000a  in readline.c for the original design flaw in history indexing now causes a \u000a  segfault on 10.9 when the user types in the second command interactively.  Not \u000a  good.  Ronald devised a fix that allows readline.so at runtime to detect and \u000a  work with either version of libedit so that we continue to have binary \u000a  compatibility across multiple OS X releases.  That fix is already out in the \u000a  3.4.0 alphas and backported to the 3.3 and 2.7 branches, awaiting release \u000a  there.  Just in the last 12 hours, there have been at least four duplicates of \u000a  the issue reported by users.  I've updated the original issue to explicitly \u000a  mention 10.9, now that it is no longer under NDA, and to provide a \u000a  downloadable script for inexperienced users to workaround the problem by \u000a  "removing" readline.so.  Presumably, as word gets out, there will be fewer \u000a  duplicate issues opened but the impact will remain.</p>\u000a</blockquote>\u000a
p710
sVquestion_id
p711
I19531969
sVlast_activity_date
p712
I1382946695
sVcreation_date
p713
I1382946390
sVscore
p714
I47
sVowner
p715
(dp716
Vuser_id
p717
I1079728
sVprofile_image
p718
Vhttps://www.gravatar.com/avatar/9cf3859e4f8d4e422f242a842a6e301c?s=128&d=identicon&r=PG
p719
sVuser_type
p720
Vregistered
p721
sVreputation
p722
I3016
sVlink
p723
Vhttp://stackoverflow.com/users/1079728/robert-t-mcgibbon
p724
sVaccept_rate
p725
I61
sVdisplay_name
p726
VRobert T. McGibbon
p727
ssVis_accepted
p728
I01
sVlast_edit_date
p729
I1382946695
sVanswer_id
p730
I19629468
sa(dp731
Vbody
p732
V<p>Now that numpy 1.8 is released, where according to the docs all ufuncs should use SSE2, I wanted to double check that Seberg's comment about SSE2 was valid.</p>\u000a\u000a<p>To perform the test a new python 2.7 install was created- numpy 1.7 and 1.8 were compiled with <code>icc</code> using standard options on a AMD opteron core running Ubuntu.</p>\u000a\u000a<p>This is the test run both before and after the 1.8 upgrade:</p>\u000a\u000a<pre><code>import numpy as np\u000aimport timeit\u000a\u000aarr_1D=np.arange(5000,dtype=np.double)\u000aarr_2D=np.arange(500**2,dtype=np.double).reshape(500,500)\u000aarr_3D=np.arange(500**3,dtype=np.double).reshape(500,500,500)\u000a\u000aprint 'Summation test:'\u000aprint timeit.timeit('np.sum(arr_3D)',\u000a                      'import numpy as np; from __main__ import arr_1D, arr_2D, arr_3D',\u000a                      number=5)/5\u000aprint timeit.timeit('np.einsum("ijk-&gt;", arr_3D)',\u000a                      'import numpy as np; from __main__ import arr_1D, arr_2D, arr_3D',\u000a                      number=5)/5\u000aprint '----------------------\u005cn'\u000a\u000a\u000aprint 'Power test:'\u000aprint timeit.timeit('arr_3D*arr_3D*arr_3D',\u000a                      'import numpy as np; from __main__ import arr_1D, arr_2D, arr_3D',\u000a                      number=5)/5\u000aprint timeit.timeit('np.einsum("ijk,ijk,ijk-&gt;ijk", arr_3D, arr_3D, arr_3D)',\u000a                      'import numpy as np; from __main__ import arr_1D, arr_2D, arr_3D',\u000a                      number=5)/5\u000aprint '----------------------\u005cn'\u000a\u000a\u000aprint 'Outer test:'\u000aprint timeit.timeit('np.outer(arr_1D, arr_1D)',\u000a                      'import numpy as np; from __main__ import arr_1D, arr_2D, arr_3D',\u000a                      number=5)/5\u000aprint timeit.timeit('np.einsum("i,k-&gt;ik", arr_1D, arr_1D)',\u000a                      'import numpy as np; from __main__ import arr_1D, arr_2D, arr_3D',\u000a                      number=5)/5\u000aprint '----------------------\u005cn'\u000a\u000a\u000aprint 'Einsum test:'\u000aprint timeit.timeit('np.sum(arr_2D*arr_3D)',\u000a                      'import numpy as np; from __main__ import arr_1D, arr_2D, arr_3D',\u000a                      number=5)/5\u000aprint timeit.timeit('np.einsum("ij,oij-&gt;", arr_2D, arr_3D)',\u000a                      'import numpy as np; from __main__ import arr_1D, arr_2D, arr_3D',\u000a                      number=5)/5\u000aprint '----------------------\u005cn'\u000a</code></pre>\u000a\u000a<p>Numpy 1.7.1:</p>\u000a\u000a<pre><code>Summation test:\u000a0.172988510132\u000a0.0934836149216\u000a----------------------\u000a\u000aPower test:\u000a1.93524689674\u000a0.839519000053\u000a----------------------\u000a\u000aOuter test:\u000a0.130380821228\u000a0.121401786804\u000a----------------------\u000a\u000aEinsum test:\u000a0.979052495956\u000a0.126066613197\u000a</code></pre>\u000a\u000a<p>Numpy 1.8:</p>\u000a\u000a<pre><code>Summation test:\u000a0.116551589966\u000a0.0920487880707\u000a----------------------\u000a\u000aPower test:\u000a1.23683619499\u000a0.815982818604\u000a----------------------\u000a\u000aOuter test:\u000a0.131808176041\u000a0.127472200394\u000a----------------------\u000a\u000aEinsum test:\u000a0.781750011444\u000a0.129271841049\u000a</code></pre>\u000a\u000a<p>I think this is fairly conclusive that SSE plays a large role in the timing differences, it should be noted that repeating these tests the timings very by only ~0.003s.  The remaining difference should be covered in the other answers to this question.</p>\u000a
p733
sVquestion_id
p734
I18365073
sVlast_activity_date
p735
I1382824276
sVcreation_date
p736
I1382822915
sVscore
p737
I16
sVowner
p738
(dp739
Vuser_id
p740
I975477
sVprofile_image
p741
Vhttps://www.gravatar.com/avatar/4a90245d2d9469ccbc9bc7892c79d100?s=128&d=identicon&r=PG
p742
sVuser_type
p743
Vregistered
p744
sVreputation
p745
I10535
sVlink
p746
Vhttp://stackoverflow.com/users/975477/daniel
p747
sVaccept_rate
p748
I82
sVdisplay_name
p749
VDaniel
p750
ssVis_accepted
p751
I01
sVlast_edit_date
p752
I1382824276
sVanswer_id
p753
I19612080
sa(dp754
Vbody
p755
V<p>You can use consumer-producer pattern. For example you can create queue that is shared between threads. First thread that fetches data from the web enqueues this data in the shared queue. Another thread that owns database connection dequeues data from the queue and passes it to the database. </p>\u000a
p756
sVquestion_id
p757
I393554
sVlast_activity_date
p758
I1381761918
sVcreation_date
p759
I1230275439
sVscore
p760
I34
sVowner
p761
(dp762
Vuser_id
p763
I42371
sVprofile_image
p764
Vhttps://www.gravatar.com/avatar/88c3ead39812c6d6c19c866d0f8d33b5?s=128&d=identicon&r=PG
p765
sVuser_type
p766
Vregistered
p767
sVreputation
p768
I5884
sVlink
p769
Vhttp://stackoverflow.com/users/42371/lazin
p770
sVaccept_rate
p771
I84
sVdisplay_name
p772
VLazin
p773
ssVis_accepted
p774
I01
sVlast_edit_date
p775
I1381761918
sVanswer_id
p776
I393576
sa(dp777
Vbody
p778
V<p>You might want to use the <code>.quantize()</code> method. This will round a decimal value to a certain number of places, the argument you provide specifies the number of places:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; from decimal import Decimal\u000a&gt;&gt;&gt; Decimal("12.234").quantize(Decimal("0.00"))\u000aDecimal("12.23")\u000a</code></pre>\u000a\u000a<p>It can also take an argument to specify what rounding approach you want (different accounting systems might want different rounding). More info in the <a href="http://docs.python.org/2/library/decimal.html#decimal.Decimal.quantize" rel="noreferrer">Python docs</a>.</p>\u000a\u000a<p>Below is a custom field that automatically produces the correct value. Note that this is only when it is retrieved from the database, and wont help you when you set it yourself (until you save it to the db and retrieve it again!).</p>\u000a\u000a<pre><code>from django.db import models\u000afrom decimal import Decimal\u000aclass CurrencyField(models.DecimalField):\u000a    __metaclass__ = models.SubfieldBase\u000a\u000a    def to_python(self, value):\u000a        try:\u000a           return super(CurrencyField, self).to_python(value).quantize(Decimal("0.01"))\u000a        except AttributeError:\u000a           return None\u000a</code></pre>\u000a\u000a<p>[edit]</p>\u000a\u000a<p>added <code>__metaclass__</code>, see <a href="http://stackoverflow.com/questions/2083591/django-why-does-this-custom-model-field-not-behave-as-expected">Django: Why does this custom model field not behave as expected?</a></p>\u000a
p779
sVquestion_id
p780
I2013835
sVlast_activity_date
p781
I1370955001
sVcreation_date
p782
I1262797089
sVscore
p783
I58
sVowner
p784
(dp785
Vuser_id
p786
I238877
sVprofile_image
p787
Vhttps://www.gravatar.com/avatar/b67018e5aacf0cb6466e363f0c5e80c1?s=128&d=identicon&r=PG
p788
sVuser_type
p789
Vregistered
p790
sVreputation
p791
I9824
sVlink
p792
Vhttp://stackoverflow.com/users/238877/will-hardy
p793
sVaccept_rate
p794
I80
sVdisplay_name
p795
VWill Hardy
p796
ssVis_accepted
p797
I01
sVlast_edit_date
p798
I1370955001
sVanswer_id
p799
I2014635
sa(dp800
Vbody
p801
V<p>Mutable default arguments don't generally do what you want. Instead, try this:</p>\u000a\u000a<pre><code>class Node:\u000a     def __init__(self, wordList=None, adjacencyList=None):\u000a        if wordList is None:\u000a            self.wordList = []\u000a        else:\u000a             self.wordList = wordList \u000a        if adjacencyList is None:\u000a            self.adjacencyList = []\u000a        else:\u000a             self.adjacencyList = adjacencyList \u000a</code></pre>\u000a
p802
sVquestion_id
p803
I4841782
sVlast_activity_date
p804
I1369227532
sVcreation_date
p805
I1296374796
sVscore
p806
I71
sVowner
p807
(dp808
Vuser_id
p809
I584347
sVprofile_image
p810
Vhttps://www.gravatar.com/avatar/ba8cb56177fdcd9e3e0053414d3ad539?s=128&d=identicon&r=PG
p811
sVuser_type
p812
Vregistered
p813
sVreputation
p814
I17035
sVlink
p815
Vhttp://stackoverflow.com/users/584347/michael-j-barber
p816
sVaccept_rate
p817
I100
sVdisplay_name
p818
VMichael J. Barber
p819
ssVis_accepted
p820
I01
sVlast_edit_date
p821
I1369227532
sVanswer_id
p822
I4841855
sa(dp823
Vbody
p824
V<p>Just convert it to timestamp</p>\u000a\u000a<pre><code>datetime.datetime.fromtimestamp(ms/1000.0)\u000a</code></pre>\u000a
p825
sVquestion_id
p826
I748491
sVlast_activity_date
p827
I1369146506
sVcreation_date
p828
I1239729171
sVscore
p829
I97
sVowner
p830
(dp831
Vuser_id
p832
I60711
sVprofile_image
p833
Vhttps://www.gravatar.com/avatar/0b4fa970be41e2286c39f5b0167e6d9d?s=128&d=identicon&r=PG
p834
sVuser_type
p835
Vregistered
p836
sVreputation
p837
I80752
sVlink
p838
Vhttp://stackoverflow.com/users/60711/vartec
p839
sVaccept_rate
p840
I82
sVdisplay_name
p841
Vvartec
p842
ssVis_accepted
p843
I01
sVlast_edit_date
p844
I1369146506
sVanswer_id
p845
I748534
sa(dp846
Vbody
p847
V<p>You can use the str.split method.</p>\u000a\u000a<pre><code>&gt;&gt;&gt; my_string = 'A,B,C,D,E'\u000a&gt;&gt;&gt; my_list = my_string.split(",")\u000a&gt;&gt;&gt; print my_list\u000a['A', 'B', 'C', 'D', 'E']\u000a</code></pre>\u000a\u000a<p>If you want to convert it to a tuple, just</p>\u000a\u000a<pre><code>&gt;&gt;&gt; print tuple(my_list)\u000a('A', 'B', 'C', 'D', 'E')\u000a</code></pre>\u000a\u000a<p>If you are looking to append to a list, try this:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; my_list.append('F')\u000a&gt;&gt;&gt; print my_list\u000a['A', 'B', 'C', 'D', 'E', 'F']\u000a</code></pre>\u000a
p848
sVquestion_id
p849
I7844118
sVlast_activity_date
p850
I1366245417
sVcreation_date
p851
I1319160955
sVscore
p852
I99
sVowner
p853
(dp854
Vuser_id
p855
I197663
sVprofile_image
p856
Vhttps://www.gravatar.com/avatar/f29efc3543a4e39250690e09e6021a5a?s=128&d=identicon&r=PG
p857
sVuser_type
p858
Vregistered
p859
sVreputation
p860
I18228
sVlink
p861
Vhttp://stackoverflow.com/users/197663/matt-williamson
p862
sVaccept_rate
p863
I88
sVdisplay_name
p864
VMatt Williamson
p865
ssVis_accepted
p866
I01
sVlast_edit_date
p867
I1366245417
sVanswer_id
p868
I7844128
sa(dp869
Vbody
p870
V<p>I finally found some time to do some experiments in order to understand the difference between them. Here's what I discovered:</p>\u000a\u000a<ul>\u000a<li><code>log</code> only allows positive values, and lets you choose how to handle negative ones (<code>mask</code> or <code>clip</code>).</li>\u000a<li><code>symlog</code> means <em>symmetrical log</em>, and allows positive and negative values.</li>\u000a<li><code>symlog</code> allows to set a range around zero within the plot will be linear instead of logarithmic.</li>\u000a</ul>\u000a\u000a<p>I think everything will get a lot easier to understand with graphics and examples, so let's try them:</p>\u000a\u000a<pre><code>import numpy\u000afrom matplotlib import pyplot\u000a\u000a# Enable interactive mode\u000apyplot.ion()\u000a\u000a# Draw the grid lines\u000apyplot.grid(True)\u000a\u000a# Numbers from -50 to 50, with 0.1 as step\u000axdomain = numpy.arange(-50,50, 0.1)\u000a\u000a# Plots a simple linear function 'f(x) = x'\u000apyplot.plot(xdomain, xdomain)\u000a# Plots 'sin(x)'\u000apyplot.plot(xdomain, numpy.sin(xdomain))\u000a\u000a# 'linear' is the default mode, so this next line is redundant:\u000apyplot.xscale('linear')\u000a</code></pre>\u000a\u000a<p><img src="https://i.stack.imgur.com/UePXP.png" alt="A graph using &#39;linear&#39; scaling"></p>\u000a\u000a<pre><code># How to treat negative values?\u000a# 'mask' will treat negative values as invalid\u000a# 'mask' is the default, so the next two lines are equivalent\u000apyplot.xscale('log')\u000apyplot.xscale('log', nonposx='mask')\u000a</code></pre>\u000a\u000a<p><img src="https://i.stack.imgur.com/igRU3.png" alt="A graph using &#39;log&#39; scaling and nonposx=&#39;mask&#39;"></p>\u000a\u000a<pre><code># 'clip' will map all negative values a very small positive one\u000apyplot.xscale('log', nonposx='clip')\u000a</code></pre>\u000a\u000a<p><img src="https://i.stack.imgur.com/cV2Hv.png" alt="A graph using &#39;log&#39; scaling and nonposx=&#39;clip&#39;"></p>\u000a\u000a<pre><code># 'symlog' scaling, however, handles negative values nicely\u000apyplot.xscale('symlog')\u000a</code></pre>\u000a\u000a<p><img src="https://i.stack.imgur.com/arUnD.png" alt="A graph using &#39;symlog&#39; scaling"></p>\u000a\u000a<pre><code># And you can even set a linear range around zero\u000apyplot.xscale('symlog', linthreshx=20)\u000a</code></pre>\u000a\u000a<p><img src="https://i.stack.imgur.com/jt0W2.png" alt="A graph using &#39;symlog&#39; scaling, but linear within (-20,20)"></p>\u000a\u000a<p>Just for completeness, I've used the following code to save each figure:</p>\u000a\u000a<pre><code># Default dpi is 80\u000apyplot.savefig('matplotlib_xscale_linear.png', dpi=50, bbox_inches='tight')\u000a</code></pre>\u000a\u000a<p>Remember you can change the figure size using:</p>\u000a\u000a<pre><code>fig = pyplot.gcf()\u000afig.set_size_inches([4., 3.])\u000a# Default size: [8., 6.]\u000a</code></pre>\u000a\u000a<p>(If you are unsure about me answering my own question, read <a href="https://meta.stackexchange.com/questions/12513/should-i-not-answer-my-own-questions">this</a>)</p>\u000a
p871
sVquestion_id
p872
I3305865
sVlast_activity_date
p873
I1362370802
sVcreation_date
p874
I1282141771
sVscore
p875
I108
sVowner
p876
(dp877
Vuser_id
p878
I124946
sVprofile_image
p879
Vhttps://www.gravatar.com/avatar/5048ffde7ab92aeeedf45959f6d13c24?s=128&d=identicon&r=PG
p880
sVuser_type
p881
Vregistered
p882
sVreputation
p883
I16699
sVlink
p884
Vhttp://stackoverflow.com/users/124946/denilson-s%c3%a1-maia
p885
sVaccept_rate
p886
I79
sVdisplay_name
p887
VDenilson S&#225; Maia
p888
ssVis_accepted
p889
I01
sVlast_edit_date
p890
I1490005771
sVanswer_id
p891
I3513150
sa(dp892
Vbody
p893
V<p><code>shape</code> is a property of both numpy ndarray's and matrices.</p>\u000a\u000a<pre><code>A.shape\u000a</code></pre>\u000a\u000a<p>will return a tuple (m, n), where m is the number of rows, and n is the number of columns.</p>\u000a\u000a<p>In fact, the numpy <code>matrix</code> object is built on top of the <code>ndarray</code> object, one of numpy's two fundamental objects (along with a universal function object), so it inherits from <code>ndarray</code></p>\u000a
p894
sVquestion_id
p895
I14847457
sVlast_activity_date
p896
I1360737894
sVcreation_date
p897
I1360735644
sVscore
p898
I120
sVowner
p899
(dp900
Vuser_id
p901
I1748679
sVprofile_image
p902
Vhttps://www.gravatar.com/avatar/afebaed9a11b4b56934add3801429c9c?s=128&d=identicon&r=PG
p903
sVuser_type
p904
Vregistered
p905
sVreputation
p906
I3293
sVlink
p907
Vhttp://stackoverflow.com/users/1748679/kyle-heuton
p908
sVaccept_rate
p909
I57
sVdisplay_name
p910
VKyle Heuton
p911
ssVis_accepted
p912
I01
sVlast_edit_date
p913
I1360737894
sVanswer_id
p914
I14847459
sa(dp915
Vbody
p916
V<p>From the <a href="http://docs.python.org/2/glossary.html" rel="noreferrer">Python glossary</a>:</p>\u000a\u000a<blockquote>\u000a  <p>An object is hashable if it has a hash value which never changes during its lifetime (it needs a <code>__hash__()</code> method), and can be compared to other objects (it needs an <code>__eq__()</code> or <code>__cmp__()</code> method). Hashable objects which compare equal must have the same hash value.</p>\u000a  \u000a  <p>Hashability makes an object usable as a dictionary key and a set member, because these data structures use the hash value internally.</p>\u000a  \u000a  <p>All of Python\u2019s immutable built-in objects are hashable, while no mutable containers (such as lists or dictionaries) are. Objects which are instances of user-defined classes are hashable by default; they all compare unequal, and their hash value is their <code>id()</code>.</p>\u000a</blockquote>\u000a
p917
sVquestion_id
p918
I14535730
sVlast_activity_date
p919
I1359193748
sVcreation_date
p920
I1359193748
sVscore
p921
I59
sVowner
p922
(dp923
Vuser_id
p924
I367273
sVprofile_image
p925
Vhttps://www.gravatar.com/avatar/f1ed2b0c87f602ef30229f5c4b04eff6?s=128&d=identicon&r=PG
p926
sVuser_type
p927
Vregistered
p928
sVreputation
p929
I279603
sVlink
p930
Vhttp://stackoverflow.com/users/367273/npe
p931
sVaccept_rate
p932
I96
sVdisplay_name
p933
VNPE
p934
ssVis_accepted
p935
I01
sVanswer_id
p936
I14535739
sa(dp937
Vbody
p938
V<blockquote>\u000a  <p>Which do you recommend, and why?</p>\u000a</blockquote>\u000a\u000a<p>I recommend Redis. Why? Continue reading!!</p>\u000a\u000a<blockquote>\u000a  <p>Which one is the fastest?</p>\u000a</blockquote>\u000a\u000a<p>I can't say whether it's the fastest. But Redis is <a href="http://redis.io/topics/benchmarks" rel="noreferrer">fast</a>. It's fast because\u000ait holds all the data in RAM. Recently, virtual memory feature was added but still all the keys stay in main memory with only rarely used values being swapped to disk.</p>\u000a\u000a<blockquote>\u000a  <p>Which one is the most stable?</p>\u000a</blockquote>\u000a\u000a<p>Again, since I have no direct experience with the other key-value stores I can't compare. However, Redis is being used in production by many web applications like <a href="http://github.com/blog/530-how-we-made-github-fast" rel="noreferrer">GitHub</a> and <a href="http://instagram-engineering.tumblr.com/post/12202313862/storing-hundreds-of-millions-of-simple-key-value-pairs" rel="noreferrer">Instagram</a>, among many others.</p>\u000a\u000a<blockquote>\u000a  <p>Which one is the easiest to set up and install?</p>\u000a</blockquote>\u000a\u000a<p>Redis is fairly easy to setup. Grab the <a href="http://redis.io/download" rel="noreferrer">source</a> and on a Linux box run <code>make install</code>. This yields <code>redis-server</code> binary that you could put it on your path and start it. </p>\u000a\u000a<p><code>redis-server</code> binds to port 6379 by default. Have a look at <code>redis.conf</code> that comes with the source for more configuration and setup options.</p>\u000a\u000a<blockquote>\u000a  <p>Which ones have bindings for Python and/or Ruby?</p>\u000a</blockquote>\u000a\u000a<p>Redis has excellent <a href="http://github.com/ezmobius/redis-rb" rel="noreferrer">Ruby</a> and <a href="http://github.com/andymccurdy/redis-py/" rel="noreferrer">Python</a> support.</p>\u000a\u000a<p>In response to <a href="http://stackoverflow.com/questions/2376846/which-key-value-store-is-the-most-promising-stable#comment2353662_2377117">Xorlev's comment</a> below: Memcached is just a simple key-value store. Redis supports complex <a href="http://redis.io/topics/data-types" rel="noreferrer">data types</a> like lists, sets and sorted sets and at the same time provides a <a href="http://redis.io/commands" rel="noreferrer">simple interface</a> to these data types. </p>\u000a\u000a<p>There is also <code>make 32bit</code> that makes all pointers only 32-bits in size even on 64 bit machines. This saves considerable memory on machines with less than 4GB of RAM.</p>\u000a
p939
sVquestion_id
p940
I2376846
sVlast_activity_date
p941
I1358553177
sVcreation_date
p942
I1267680950
sVscore
p943
I26
sVowner
p944
(dp945
Vuser_id
p946
I6488
sVprofile_image
p947
Vhttps://www.gravatar.com/avatar/a12283c32dbd6c414bd91d079a748b41?s=128&d=identicon&r=PG
p948
sVuser_type
p949
Vregistered
p950
sVreputation
p951
I1744
sVlink
p952
Vhttp://stackoverflow.com/users/6488/ardsrk
p953
sVaccept_rate
p954
I68
sVdisplay_name
p955
Vardsrk
p956
ssVis_accepted
p957
I01
sVlast_edit_date
p958
I1358553177
sVanswer_id
p959
I2377117
sa(dp960
Vbody
p961
V<p>The u- prefix just means that you have a Unicode string.  When you really use the string, it won't appear in your data.  Don't be thrown by the printed output.</p>\u000a\u000a<p>For example, try this:</p>\u000a\u000a<pre><code>print mail_accounts[0]["i"]\u000a</code></pre>\u000a\u000a<p>You won't see a u.</p>\u000a
p962
sVquestion_id
p963
I13940272
sVlast_activity_date
p964
I1355859886
sVcreation_date
p965
I1355859886
sVscore
p966
I72
sVowner
p967
(dp968
Vuser_id
p969
I14343
sVprofile_image
p970
Vhttps://www.gravatar.com/avatar/75e9a11371cbe1566607180863efdf4c?s=128&d=identicon&r=PG
p971
sVuser_type
p972
Vregistered
p973
sVreputation
p974
I193903
sVlink
p975
Vhttp://stackoverflow.com/users/14343/ned-batchelder
p976
sVaccept_rate
p977
I80
sVdisplay_name
p978
VNed Batchelder
p979
ssVis_accepted
p980
I01
sVanswer_id
p981
I13940335
sa(dp982
Vbody
p983
V<p>I have invested a lot of time evaluating the popular Python ORMs for MongoDB. This was an exhaustive exercise, as I really wanted to pick one.</p>\u000a\u000a<p>My conclusion is that an ORM removes the fun out of MongoDB. None feels natural, they impose restrictions similar to the ones which made me move away from relational databases in the first place.</p>\u000a\u000a<p>Again, I really wanted to use an ORM, but now I am convinced that using <code>pymongo</code> directly is the way to go. Now, I follow a pattern which embraces MongoDB, <code>pymongo</code>, and Python. </p>\u000a\u000a<p>A Resource Oriented Architecture leads to very natural representations. For instance, take the following User resource:</p>\u000a\u000a<pre><code>from werkzeug.wrappers import Response\u000afrom werkzeug.exceptions import NotFound\u000a\u000aUsers = pymongo.Connection("localhost", 27017)["mydb"]["users"]\u000a\u000a\u000aclass User(Resource):\u000a\u000a    def GET(self, request, username):\u000a        spec = {\u000a            "_id": username,\u000a            "_meta.active": True\u000a        }\u000a        # this is a simple call to pymongo - really, do\u000a        # we need anything else?\u000a        doc = Users.find_one(spec)\u000a        if not doc:\u000a            return NotFound(username)\u000a        payload, mimetype = representation(doc, request.accept)\u000a        return Response(payload, mimetype=mimetype, status=200)\u000a\u000a    def PUT(self, request, username):\u000a        spec = {\u000a            "_id": username,\u000a            "_meta.active": True\u000a        }\u000a        operation = {\u000a            "$set": request.json,\u000a        }\u000a        # this call to pymongo will return the updated document (implies safe=True)\u000a        doc = Users.update(spec, operation, new=True)\u000a        if not doc:\u000a            return NotFound(username)\u000a        payload, mimetype = representation(doc, request.accept)\u000a        return Response(payload, mimetype=mimetype, status=200)\u000a</code></pre>\u000a\u000a<p>The <code>Resource</code> base class looks like</p>\u000a\u000a<pre><code>class Resource(object):\u000a\u000a    def GET(self, request, **kwargs):\u000a        return NotImplemented()\u000a\u000a    def HEAD(self, request, **kwargs):\u000a        return NotImplemented()\u000a\u000a    def POST(self, request, **kwargs):\u000a        return NotImplemented()\u000a\u000a    def DELETE(self, request, **kwargs):\u000a        return NotImplemented()\u000a\u000a    def PUT(self, request, **kwargs):\u000a        return NotImplemented()\u000a\u000a    def __call__(self, request, **kwargs):\u000a        handler = getattr(self, request.method)\u000a        return handler(request, **kwargs)\u000a</code></pre>\u000a\u000a<p>Notice that I use the <code>WSGI</code> spec directly, and leverage <code>Werkzeug</code> where possible (by the way, I think that <code>Flask</code> adds an unnecessary complication to <code>Werkzeug</code>).</p>\u000a\u000a<p>The function <code>representation</code> takes the request's <code>Accept</code> headers, and produces a suitable representation (for example, <code>application/json</code>, or <code>text/html</code>). It is not difficult to implement. It also adds the <code>Last-Modified</code> header.</p>\u000a\u000a<p>Of course, your input needs to be sanitized, and the code, as presented, will not work (I mean it as an example, but it is not difficult to understand my point).</p>\u000a\u000a<p>Again, I tried everything, but this architecture made my code flexible, simple, and extensible.</p>\u000a
p984
sVquestion_id
p985
I9447629
sVlast_activity_date
p986
I1351456637
sVcreation_date
p987
I1330201679
sVscore
p988
I76
sVowner
p989
(dp990
Vuser_id
p991
I104427
sVprofile_image
p992
Vhttps://www.gravatar.com/avatar/2e852d4a44a1d795a9f207bcd30920bc?s=128&d=identicon&r=PG&f=1
p993
sVuser_type
p994
Vregistered
p995
sVreputation
p996
I20867
sVlink
p997
Vhttp://stackoverflow.com/users/104427/escualo
p998
sVaccept_rate
p999
I71
sVdisplay_name
p1000
VEscualo
p1001
ssVis_accepted
p1002
I01
sVlast_edit_date
p1003
I1351456637
sVanswer_id
p1004
I9447775
sa(dp1005
Vbody
p1006
V<p><code>staticmethod</code> objects apparently have a <code>__func__</code> attribute storing the original raw function (makes sense that they had to). So this will work:</p>\u000a\u000a<pre><code>class Klass(object):\u000a\u000a    @staticmethod  # use as decorator\u000a    def stat_func():\u000a        return 42\u000a\u000a    _ANS = stat_func.__func__()  # call the staticmethod\u000a\u000a    def method(self):\u000a        ret = Klass.stat_func()\u000a        return ret\u000a</code></pre>\u000a\u000a<hr>\u000a\u000a<p>As an aside, though I suspected that a staticmethod object had some sort of attribute storing the original function, I had no idea of the specifics. In the spirit of teaching someone to fish rather than giving them a fish, this is what I did to investigate and find that out (literally a C&amp;P from my Python session):</p>\u000a\u000a<pre><code>&gt;&gt;&gt; class Foo(object):\u000a    @staticmethod\u000a    def foo():\u000a        return 3\u000a    global z\u000a    z = foo\u000a\u000a&gt;&gt;&gt; z\u000a&lt;staticmethod object at 0x0000000002E40558&gt;\u000a&gt;&gt;&gt; Foo.foo\u000a&lt;function foo at 0x0000000002E3CBA8&gt;\u000a&gt;&gt;&gt; dir(z)\u000a['__class__', '__delattr__', '__doc__', '__format__', '__func__', '__get__', '__getattribute__', '__hash__', '__init__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__sizeof__', '__str__', '__subclasshook__']\u000a&gt;&gt;&gt; z.__func__\u000a&lt;function foo at 0x0000000002E3CBA8&gt;\u000a</code></pre>\u000a\u000a<p>Similar sorts of digging in an interactive session (<code>dir</code> is very helpful) can often solve these sorts of question very quickly.</p>\u000a
p1007
sVquestion_id
p1008
I12718187
sVlast_activity_date
p1009
I1349306668
sVcreation_date
p1010
I1349306668
sVscore
p1011
I75
sVowner
p1012
(dp1013
Vuser_id
p1014
I450128
sVprofile_image
p1015
Vhttps://www.gravatar.com/avatar/2f72b3fdc99fe9fd1bbeb2f9da1d2c0a?s=128&d=identicon&r=PG
p1016
sVuser_type
p1017
Vregistered
p1018
sVreputation
p1019
I37733
sVlink
p1020
Vhttp://stackoverflow.com/users/450128/ben
p1021
sVaccept_rate
p1022
I65
sVdisplay_name
p1023
VBen
p1024
ssVis_accepted
p1025
I01
sVanswer_id
p1026
I12718272
sa(dp1027
Vbody
p1028
V<p>The following set of rules are currently used to determine if a given instance can accept a new request:</p>\u000a\u000a<pre><code>if processing more than N concurrent requests (today N=10): false\u000aelif exceeding the soft memory limit: false\u000aelif exceeding the instance class CPU limit: false\u000aelif warming up: false\u000aelse true\u000a</code></pre>\u000a\u000a<p>The following of total CPU/core limits currently apply to each instance classes:</p>\u000a\u000a<pre><code>CLASS 1: 600MHz 1 core\u000aCLASS 2: 1.2GHz 1 core\u000aCLASS 4: 2.4GHz 1 core\u000aCLASS 8: 4.8GHz 2 core\u000a</code></pre>\u000a\u000a<p>So only a <code>B8</code> instance can process up to 2 fully CPU bound requests in parallel.</p>\u000a\u000a<p>Setting <code>threadsafe: true</code> (Python) or <code>&lt;threadsafe&gt;true&lt;/threadsafe&gt;</code> (Java) for instances classes &lt; 8 would not allow more than one CPU bound requests to be processed in parallel on a single instance.</p>\u000a\u000a<p>If you are not fully CPU bound or doing I/O, the Python and Java runtime will spawn new threads for handling new request up to 10 concurrent requests with <code>threadsafe: true</code></p>\u000a\u000a<p>Also note that even though the Go runtime is single threaded, it does support concurrent requests:\u000aIt will spawn 1 goroutine per requests and yield control between goroutines while they are performing I/O.</p>\u000a
p1029
sVquestion_id
p1030
I11525717
sVlast_activity_date
p1031
I1344530700
sVcreation_date
p1032
I1344512821
sVscore
p1033
I35
sVowner
p1034
(dp1035
Vuser_id
p1036
I656408
sVprofile_image
p1037
Vhttps://www.gravatar.com/avatar/71bddd14b9c0fcfa50330450485abbde?s=128&d=identicon&r=PG
p1038
sVuser_type
p1039
Vregistered
p1040
sVreputation
p1041
I8779
sVlink
p1042
Vhttp://stackoverflow.com/users/656408/proppy
p1043
sVaccept_rate
p1044
I90
sVdisplay_name
p1045
Vproppy
p1046
ssVis_accepted
p1047
I01
sVlast_edit_date
p1048
I1344530700
sVanswer_id
p1049
I11882719
sa(dp1050
Vbody
p1051
V<p><a href="http://www.python.org/download/">http://www.python.org/download/</a></p>\u000a\u000a<p><a href="http://diveintopython.net/installing_python/source.html">http://diveintopython.net/installing_python/source.html</a></p>\u000a\u000a<p>Download source and install from source.  </p>\u000a\u000a<p>NOTE: You should check for the latest version of python 2.7.x.  (Originally had <code>wget http://www.python.org/ftp/python/2.7/Python-2.7.tgz</code>), while now the latest version is 2.7.3</p>\u000a\u000a<pre><code>wget http://www.python.org/ftp/python/2.7.3/Python-2.7.3.tgz # Download\u000atar xvfz Python-2.7.3.tgz # unzip\u000acd Python-2.7.3 # go into directory\u000a./configure\u000amake # build\u000asu # or 'sudo su' if there is no root user\u000amake altinstall\u000a</code></pre>\u000a\u000a<p>(EDIT: make install -> make altinstall per Ignacio's comment).</p>\u000a
p1052
sVquestion_id
p1053
I4149361
sVlast_activity_date
p1054
I1343745262
sVcreation_date
p1055
I1289425822
sVscore
p1056
I118
sVowner
p1057
(dp1058
Vuser_id
p1059
I457571
sVprofile_image
p1060
Vhttps://www.gravatar.com/avatar/2318229ef6310b03ab828bff43d2ad66?s=128&d=identicon&r=PG
p1061
sVuser_type
p1062
Vregistered
p1063
sVreputation
p1064
I10404
sVlink
p1065
Vhttp://stackoverflow.com/users/457571/dr-jimbob
p1066
sVaccept_rate
p1067
I100
sVdisplay_name
p1068
Vdr jimbob
p1069
ssVis_accepted
p1070
I01
sVlast_edit_date
p1071
I1343745262
sVanswer_id
p1072
I4149444
sa(dp1073
Vbody
p1074
V<p>You'll need to install numpy, scipy and matplotlib to get pylab. In ubuntu you can install them with this command:</p>\u000a\u000a<pre><code>sudo apt-get install python-numpy python-scipy python-matplotlib\u000a</code></pre>\u000a\u000a<p>If you installed python from source you will need to install these packages through pip. Note that you may have to install other dependencies to do this, as well as install numpy before the other two.</p>\u000a\u000a<p>That said, I would recommend using the version of python in the repositories as I think it is up to date with the current version of python (2.7.3).</p>\u000a
p1075
sVquestion_id
p1076
I10965336
sVlast_activity_date
p1077
I1339285176
sVcreation_date
p1078
I1339284868
sVscore
p1079
I100
sVowner
p1080
(dp1081
Vuser_id
p1082
I1339459
sVprofile_image
p1083
Vhttps://www.gravatar.com/avatar/a740c0f08be3933cc241f8c4251aa458?s=128&d=identicon&r=PG
p1084
sVuser_type
p1085
Vregistered
p1086
sVreputation
p1087
I6886
sVlink
p1088
Vhttp://stackoverflow.com/users/1339459/trevor
p1089
sVdisplay_name
p1090
VTrevor
p1091
ssVis_accepted
p1092
I01
sVlast_edit_date
p1093
I1339285176
sVanswer_id
p1094
I10965351
sa(dp1095
Vbody
p1096
V<p>When you type <code>exit</code> in the command line, it finds the variable with that name and calls <code>__repr__</code> (or <code>__str__</code>) on it. Usually, you'd get a result like:</p>\u000a\u000a<pre><code>&lt;function exit at 0x00B97FB0&gt;\u000a</code></pre>\u000a\u000a<p>But they decided to redefine that function for the <code>exit</code> object to display a helpful message instead. Whether or not that's a stupid behavior or not, is a subjective question, but one possible reason why it doesn't "just exit" is:</p>\u000a\u000a<p>Suppose you're looking at some code in a debugger, for instance, and one of the objects references the <code>exit</code> function. When the debugger tries to call <code>__repr__</code> on that object to display that function to you, the program suddenly stops! That would be really unexpected, and the measures to counter that might complicate things further (for instance, even if you limit that behavior to the command line, what if you try to print some object that have <code>exit</code> as an attribute?)</p>\u000a
p1097
sVquestion_id
p1098
I9730409
sVlast_activity_date
p1099
I1331860244
sVcreation_date
p1100
I1331860244
sVscore
p1101
I20
sVowner
p1102
(dp1103
Vuser_id
p1104
I520779
sVprofile_image
p1105
Vhttps://www.gravatar.com/avatar/414aae1257ee9e58014bd81bf438a662?s=128&d=identicon&r=PG
p1106
sVuser_type
p1107
Vregistered
p1108
sVreputation
p1109
I16937
sVlink
p1110
Vhttp://stackoverflow.com/users/520779/mgibsonbr
p1111
sVaccept_rate
p1112
I92
sVdisplay_name
p1113
Vmgibsonbr
p1114
ssVis_accepted
p1115
I01
sVanswer_id
p1116
I9730507
sa(dp1117
Vbody
p1118
V<p>If you want to change the <code>PYTHONPATH</code> used in a virtualenv, you can add the following line to your virtualenv's <code>bin/activate</code> file:</p>\u000a\u000a<pre><code>export PYTHONPATH="/the/path/you/want"\u000a</code></pre>\u000a\u000a<p>This way, the new <code>PYTHONPATH</code> will be set each time you use this virtualenv.</p>\u000a\u000a<p><strong>EDIT:</strong> <em>(to answer @RamRachum's comment)</em></p>\u000a\u000a<p>To have it restored to its original value on <code>deactivate</code>, you could add</p>\u000a\u000a<pre><code>export OLD_PYTHONPATH="$PYTHONPATH"\u000a</code></pre>\u000a\u000a<p>before the previously mentioned line, and add the following line to your <code>bin/postdeactivate</code> script.</p>\u000a\u000a<pre><code>export PYTHONPATH="$OLD_PYTHONPATH"\u000a</code></pre>\u000a
p1119
sVquestion_id
p1120
I4757178
sVlast_activity_date
p1121
I1327792302
sVcreation_date
p1122
I1295609946
sVscore
p1123
I81
sVowner
p1124
(dp1125
Vuser_id
p1126
I293050
sVprofile_image
p1127
Vhttps://www.gravatar.com/avatar/e82816a51578772c55dae3470c822ff2?s=128&d=identicon&r=PG
p1128
sVuser_type
p1129
Vregistered
p1130
sVreputation
p1131
I9865
sVlink
p1132
Vhttp://stackoverflow.com/users/293050/mattoufoutu
p1133
sVaccept_rate
p1134
I88
sVdisplay_name
p1135
VMatToufoutu
p1136
ssVis_accepted
p1137
I01
sVlast_edit_date
p1138
I1327792302
sVanswer_id
p1139
I4758351
sa(dp1140
Vbody
p1141
V<p>You can easily call python functions from Java code with Jython. That is as long as your python code itself runs under jython, i.e. doesn't use some c-extensions that aren't supported.</p>\u000a\u000a<p>If that works for you, it's certainly the simplest solution you can get. Otherwise you can use <code>org.python.util.PythonInterpreter</code> from the new Java6 interpreter support.</p>\u000a\u000a<p>A simple example from the top of my head - but should work I hope: (no error checking done for brevity)</p>\u000a\u000a<pre><code>PythonInterpreter interpreter = new PythonInterpreter();\u000ainterpreter.exec("import sys\u005cnsys.path.append('pathToModiles if they're not there by default')\u005cnimport yourModule");\u000a// execute a function that takes a string and returns a string\u000aPyObject someFunc = interpreter.get("funcName");\u000aPyObject result = someFunc.__call__(new PyString("Test!"));\u000aString realResult = (String) result.__tojava__(String.class);\u000a</code></pre>\u000a
p1142
sVquestion_id
p1143
I8898765
sVlast_activity_date
p1144
I1326821481
sVcreation_date
p1145
I1326821481
sVscore
p1146
I61
sVowner
p1147
(dp1148
Vuser_id
p1149
I144746
sVprofile_image
p1150
Vhttps://www.gravatar.com/avatar/170e317e1e3d42b520786bcec9dfb409?s=128&d=identicon&r=PG
p1151
sVuser_type
p1152
Vregistered
p1153
sVreputation
p1154
I17687
sVlink
p1155
Vhttp://stackoverflow.com/users/144746/voo
p1156
sVaccept_rate
p1157
I92
sVdisplay_name
p1158
VVoo
p1159
ssVis_accepted
p1160
I01
sVanswer_id
p1161
I8899042
sa(dp1162
Vbody
p1163
V<p>In all cases except the empty tuple the comma is the important thing. Parentheses are only required when required for other syntactic reasons: to distinguish a tuple from a set of function arguments, operator precedence, or to allow line breaks.</p>\u000a\u000a<p>The trailing comma for tuples, lists, or function arguments is good style especially when you have a long initialisation that is split over multiple lines. If you always include a trailing comma then you won't add another line to the end expecting to add another element and instead just creating a valid expression:</p>\u000a\u000a<pre><code>a = [\u000a   "a",\u000a   "b"\u000a   "c"\u000a]\u000a</code></pre>\u000a\u000a<p>Assuming that started as a 2 element list that was later extended it has gone wrong in a perhaps not immediately obvious way. Always include the trailing comma and you avoid that trap.</p>\u000a
p1164
sVquestion_id
p1165
I7992559
sVlast_activity_date
p1166
I1320312627
sVcreation_date
p1167
I1320312627
sVscore
p1168
I43
sVowner
p1169
(dp1170
Vuser_id
p1171
I107660
sVprofile_image
p1172
Vhttps://www.gravatar.com/avatar/0167bade38130f13a5fc468c10388d9d?s=128&d=identicon&r=PG
p1173
sVuser_type
p1174
Vregistered
p1175
sVreputation
p1176
I46101
sVlink
p1177
Vhttp://stackoverflow.com/users/107660/duncan
p1178
sVdisplay_name
p1179
VDuncan
p1180
ssVis_accepted
p1181
I01
sVanswer_id
p1182
I7992643
sa(dp1183
Vbody
p1184
V<p>Looks like <code>google.searchGoogle(param)</code> already returns <code>unicode</code>:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; unicode(u'foo', 'utf-8')\u000a\u000aTraceback (most recent call last):\u000a  File "&lt;pyshell#1&gt;", line 1, in &lt;module&gt;\u000a    unicode(u'foo', 'utf-8')\u000aTypeError: decoding Unicode is not supported\u000a</code></pre>\u000a\u000a<p>So what you want is:</p>\u000a\u000a<pre><code>result = google.searchGoogle(param).encode("utf-8")\u000a</code></pre>\u000a\u000a<p>As a side note, your code expects it to return a <code>utf-8</code> encoded string so what was the point in decoding it (using <code>unicode()</code>) and encoding back (using <code>.encode()</code>) using the same encoding?</p>\u000a
p1185
sVquestion_id
p1186
I7634715
sVlast_activity_date
p1187
I1317643744
sVcreation_date
p1188
I1317643744
sVscore
p1189
I71
sVowner
p1190
(dp1191
Vuser_id
p1192
I236036
sVprofile_image
p1193
Vhttps://www.gravatar.com/avatar/0664e1acf36cacc882bd4993c0bfa7c8?s=128&d=identicon&r=PG
p1194
sVuser_type
p1195
Vregistered
p1196
sVreputation
p1197
I5366
sVlink
p1198
Vhttp://stackoverflow.com/users/236036/yak
p1199
sVdisplay_name
p1200
Vyak
p1201
ssVis_accepted
p1202
I01
sVanswer_id
p1203
I7634778
sa(dp1204
Vbody
p1205
V<p>You can also take a look at <a href="http://www.unixuser.org/~euske/python/pdfminer/index.html" rel="noreferrer">PDFMiner</a>, an other PDF parser in Python.</p>\u000a\u000a<p>The particularity of PDFMiner that can interest you is that you can control how it regroup text parts when doing the extracting. You do this by specifing the space between lines, words, characters, etc. So, maybe by tweeking this you can achieve what you want (that depends of the variability of your documents). PDFMiner can also give you the location of the text in the page, it can extract data by Object ID and other stuff. So dig in PDFMiner and be creative!</p>\u000a\u000a<p>But your problem is really not an easy one to solve because, in a PDF, the text is not continous, but made from a lot of small groups of characters positioned absolutely in the page. The focus of PDF is to keep the layout intact. It's not content oriented but presentation oriented.</p>\u000a
p1206
sVquestion_id
p1207
I1848464
sVlast_activity_date
p1208
I1317608355
sVcreation_date
p1209
I1259982475
sVscore
p1210
I47
sVowner
p1211
(dp1212
Vuser_id
p1213
I146481
sVprofile_image
p1214
Vhttps://www.gravatar.com/avatar/faffc204d966e588cfa4cd8544c18865?s=128&d=identicon&r=PG
p1215
sVuser_type
p1216
Vregistered
p1217
sVreputation
p1218
I8621
sVlink
p1219
Vhttp://stackoverflow.com/users/146481/etienne
p1220
sVaccept_rate
p1221
I79
sVdisplay_name
p1222
VEtienne
p1223
ssVis_accepted
p1224
I01
sVlast_edit_date
p1225
I1317608355
sVanswer_id
p1226
I1851011
sa(dp1227
Vbody
p1228
V<p>The first line of the <code>Rationale</code> section of <a href="http://www.python.org/dev/peps/pep-0338/" rel="noreferrer">PEP 338</a> says:</p>\u000a\u000a<blockquote>\u000a  <p>Python 2.4 adds the command line switch -m to allow modules to be located using the Python module namespace for execution as scripts. The motivating examples were standard library modules such as pdb and profile, and the Python 2.4 implementation is fine for this limited purpose.</p>\u000a</blockquote>\u000a\u000a<p>So you can specify any module in Python's search path this way, not just files in the current directory. You're correct that <code>python mymod1.py mymod2.py args</code> has exactly the same effect. The first line of the <code>Scope of this proposal</code> section states:</p>\u000a\u000a<blockquote>\u000a  <p>In Python 2.4, a module located using -m is executed just as if its filename had been provided on the command line.</p>\u000a</blockquote>\u000a\u000a<p>With <code>-m</code> more is possible, like working with modules which are part of a package, etc. That's what the rest of PEP 338 is about. Read it for more info.</p>\u000a
p1229
sVquestion_id
p1230
I7610001
sVlast_activity_date
p1231
I1317384311
sVcreation_date
p1232
I1317384311
sVscore
p1233
I60
sVowner
p1234
(dp1235
Vuser_id
p1236
I500584
sVprofile_image
p1237
Vhttps://www.gravatar.com/avatar/02cbc0104ac1794c222b2d3e11d325e4?s=128&d=identicon&r=PG
p1238
sVuser_type
p1239
Vregistered
p1240
sVreputation
p1241
I82963
sVlink
p1242
Vhttp://stackoverflow.com/users/500584/agf
p1243
sVdisplay_name
p1244
Vagf
p1245
ssVis_accepted
p1246
I01
sVanswer_id
p1247
I7610082
sa(dp1248
Vbody
p1249
V<p>It's a slicing, and what it does depends on the type of <code>population</code>.  If <code>population</code> is a list, this line will create a copy of the list.  For an object of type <code>tuple</code> or a <code>str</code>, it will do nothing (the line will do the same without <code>[:]</code>), and for a (say) NumPy array, it will create a new view to the same data.</p>\u000a
p1250
sVquestion_id
p1251
I6167238
sVlast_activity_date
p1252
I1306665733
sVcreation_date
p1253
I1306665733
sVscore
p1254
I83
sVowner
p1255
(dp1256
Vuser_id
p1257
I279627
sVprofile_image
p1258
Vhttps://www.gravatar.com/avatar/2dceea858ad8f1577bec6ddaa0485d15?s=128&d=identicon&r=PG
p1259
sVuser_type
p1260
Vregistered
p1261
sVreputation
p1262
I252330
sVlink
p1263
Vhttp://stackoverflow.com/users/279627/sven-marnach
p1264
sVaccept_rate
p1265
I78
sVdisplay_name
p1266
VSven Marnach
p1267
ssVis_accepted
p1268
I01
sVanswer_id
p1269
I6167246
sa(dp1270
Vbody
p1271
V<p>I typically would extract the program to a temporary folder, then from that folder, run the setup.py using the direct path to the virtualenv python instance.  eg if your virtualenv is in /home/username/virtualpy, use this (from your temporary folder)</p>\u000a\u000a<pre><code>/home/username/virtualpy/bin/python setup.py install\u000a</code></pre>\u000a\u000a<p>This should install it to your virtualenv site package folder.</p>\u000a
p1272
sVquestion_id
p1273
I5979513
sVlast_activity_date
p1274
I1305211358
sVcreation_date
p1275
I1305211358
sVscore
p1276
I85
sVowner
p1277
(dp1278
Vuser_id
p1279
I81439
sVprofile_image
p1280
Vhttps://www.gravatar.com/avatar/c976b85e7c95f5383dff8f7d58f5a7f4?s=128&d=identicon&r=PG
p1281
sVuser_type
p1282
Vregistered
p1283
sVreputation
p1284
I1807
sVlink
p1285
Vhttp://stackoverflow.com/users/81439/dwelch
p1286
sVaccept_rate
p1287
I50
sVdisplay_name
p1288
Vdwelch
p1289
ssVis_accepted
p1290
I01
sVanswer_id
p1291
I5979776
sa(dp1292
Vbody
p1293
V<p>As others have suggested, it's unlikely that using 10 different local variables with Boolean values is the best way to write your routine (especially if they really have one-letter names :)</p>\u000a\u000a<p>Depending on what you're doing, it may make sense to use a dictionary instead.  For example, if you want to set up Boolean preset values for a set of one-letter flags, you could do this:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; flags = dict.fromkeys(["a", "b", "c"], True)\u000a&gt;&gt;&gt; flags.update(dict.fromkeys(["d", "e"], False))\u000a&gt;&gt;&gt; print flags\u000a{'a': True, 'c': True, 'b': True, 'e': False, 'd': False}\u000a</code></pre>\u000a\u000a<hr>\u000a\u000a<p>If you prefer, you can also do it with a single assignment statement:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; flags = dict(dict.fromkeys(["a", "b", "c"], True),\u000a...              **dict.fromkeys(["d", "e"], False))\u000a&gt;&gt;&gt; print flags\u000a{'a': True, 'c': True, 'b': True, 'e': False, 'd': False}\u000a</code></pre>\u000a\u000a<p>The second parameter to <code>dict</code> isn't entirely designed for this: it's really meant to allow you to override individual elements of the dictionary using keyword arguments like <code>d=False</code>.  The code above blows up the result of the expression following <code>**</code> into a set of <a href="http://docs.python.org/tutorial/controlflow.html#keyword-arguments" rel="noreferrer">keyword arguments</a> which are passed to the called function.  This is certainly a reliable way to create dictionaries, and people seem to be at least accepting of this idiom, but I suspect that some may consider it Unpythonic.  <code>&lt;/disclaimer&gt;</code></p>\u000a\u000a<hr>\u000a\u000a<p>Yet another approach, which is likely the most intuitive if you will be using this pattern frequently, is to define your data as a list of flag values (<code>True</code>, <code>False</code>) mapped to flag names (single-character strings).  You then transform this data definition into an inverted dictionary which maps flag names to flag values.  This can be done quite succinctly with a nested list comprehension, but here's a very readable implementation:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; def invert_dict(inverted_dict):\u000a...     elements = inverted_dict.iteritems()\u000a...     for flag_value, flag_names in elements:\u000a...         for flag_name in flag_names:\u000a...             yield flag_name, flag_value\u000a... \u000a&gt;&gt;&gt; flags = {True: ["a", "b", "c"], False: ["d", "e"]}\u000a&gt;&gt;&gt; flags = dict(invert_dict(flags))\u000a&gt;&gt;&gt; print flags\u000a{'a': True, 'c': True, 'b': True, 'e': False, 'd': False}\u000a</code></pre>\u000a\u000a<p>The function <code>invert_dict</code> is a <a href="http://docs.python.org/tutorial/classes.html#generators" rel="noreferrer">generator function</a>.  It <em>generates</em>, or <em>yields</em> \u2014 meaning that it <em>repeatedly returns values of</em> \u2014 key-value pairs.  Those key-value pairs are the inverse of the contents of the two elements of the initial <code>flags</code> dictionary.  They are fed into the <code>dict</code> constructor.  In this case the <code>dict</code> constructor works differently from above because it's being fed an <a href="http://docs.python.org/tutorial/classes.html#iterators" rel="noreferrer">iterator</a> rather than a dictionary as its argument.</p>\u000a\u000a<hr>\u000a\u000a<p>Drawing on @Chris Lutz's comment: If you will really be using this for single-character values, you can actually do</p>\u000a\u000a<pre><code>&gt;&gt;&gt; flags = {True: 'abc', False: 'de'}\u000a&gt;&gt;&gt; flags = dict(invert_dict(flags))\u000a&gt;&gt;&gt; print flags\u000a{'a': True, 'c': True, 'b': True, 'e': False, 'd': False}\u000a</code></pre>\u000a\u000a<p>This works because Python strings are <a href="http://docs.python.org/glossary.html#term-iterable" rel="noreferrer"><em>iterable</em></a>, meaning that they can be moved through value by value.  In the case of a string, the values are the individual characters in the string.  So when they are being interpreted as iterables, as in this case where they are being used in a for loop, <code>['a', 'b', 'c']</code> and <code>'abc'</code> are effectively equivalent.  Another example would be when they are being passed to a function that takes an iterable, like <a href="http://docs.python.org/library/functions.html#tuple" rel="noreferrer"><code>tuple</code></a>.</p>\u000a\u000a<p>I personally wouldn't do this because it doesn't read intuitively: when I see a string, I expect it to be used as a single value rather than as a list.  So I look at the first line and think "Okay, so there's a True flag and a False flag."  So although it's a possibility, I don't think it's the way to go.  On the upside, it may help to explain the concepts of iterables and iterators more clearly.</p>\u000a\u000a<hr>\u000a\u000a<p>Defining the function <code>invert_dict</code> such that it actually returns a dictionary is not a bad idea either; I mostly just didn't do that because it doesn't really help to explain how the routine works.</p>\u000a\u000a<hr>\u000a\u000a<p>Apparently Python 2.7 has dictionary comprehensions, which would make for an extremely concise way to implement that function.  This is left as an exercise to the reader, since I don't have Python 2.7 installed :)</p>\u000a\u000a<p>You can also combine some functions from the ever-versatile <a href="http://docs.python.org/library/itertools.html" rel="noreferrer">itertools</a> module.  As they say, <a href="http://en.wikipedia.org/wiki/There&#39;s_more_than_one_way_to_do_it" rel="noreferrer">There's More Than One Way To Do It</a>.  Wait, the Python people don't say that.  Well, it's true anyway in some cases.  I would guess that Guido hath given unto us dictionary comprehensions so that there would be <a href="http://www.python.org/dev/peps/pep-0020/" rel="noreferrer">One Obvious Way</a> to do this.</p>\u000a
p1294
sVquestion_id
p1295
I5495332
sVlast_activity_date
p1296
I1301553489
sVcreation_date
p1297
I1301548106
sVscore
p1298
I30
sVowner
p1299
(dp1300
Vuser_id
p1301
I192812
sVprofile_image
p1302
Vhttps://www.gravatar.com/avatar/2052394c0f78e9710c54ab413d593510?s=128&d=identicon&r=PG
p1303
sVuser_type
p1304
Vregistered
p1305
sVreputation
p1306
I12424
sVlink
p1307
Vhttp://stackoverflow.com/users/192812/intuited
p1308
sVaccept_rate
p1309
I49
sVdisplay_name
p1310
Vintuited
p1311
ssVis_accepted
p1312
I01
sVlast_edit_date
p1313
I1301553489
sVanswer_id
p1314
I5495556
sa(dp1315
Vbody
p1316
V<p>You can do this using the splat operator:</p>\u000a\u000a<pre><code>some_func(*params)\u000a</code></pre>\u000a\u000a<p>This causes the function to receive each list item as a separate parameter. There's a description here: <a href="http://docs.python.org/tutorial/controlflow.html#unpacking-argument-lists" rel="noreferrer">http://docs.python.org/tutorial/controlflow.html#unpacking-argument-lists</a></p>\u000a
p1317
sVquestion_id
p1318
I4979542
sVlast_activity_date
p1319
I1297532897
sVcreation_date
p1320
I1297532897
sVscore
p1321
I85
sVowner
p1322
(dp1323
Vuser_id
p1324
I607861
sVprofile_image
p1325
Vhttps://i.stack.imgur.com/M4sNv.jpg?s=128&g=1
p1326
sVuser_type
p1327
Vregistered
p1328
sVreputation
p1329
I2518
sVlink
p1330
Vhttp://stackoverflow.com/users/607861/neil-vass
p1331
sVdisplay_name
p1332
VNeil Vass
p1333
ssVis_accepted
p1334
I01
sVanswer_id
p1335
I4979569
sa(dp1336
Vbody
p1337
V<p>You can't just add local_settings.py, you have to explicity import it.</p>\u000a\u000a<p>At the <em>very end</em> of your settings.py, add this:</p>\u000a\u000a<pre><code>try:\u000a    from local_settings import *\u000aexcept ImportError:\u000a    pass\u000a</code></pre>\u000a\u000a<p>The try/except block is there so that Python just ignores the case when you haven't actually defined a local_settings file.</p>\u000a
p1338
sVquestion_id
p1339
I4909958
sVlast_activity_date
p1340
I1296943232
sVcreation_date
p1341
I1296943232
sVscore
p1342
I98
sVowner
p1343
(dp1344
Vuser_id
p1345
I104349
sVprofile_image
p1346
Vhttps://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG
p1347
sVuser_type
p1348
Vregistered
p1349
sVreputation
p1350
I356767
sVlink
p1351
Vhttp://stackoverflow.com/users/104349/daniel-roseman
p1352
sVaccept_rate
p1353
I86
sVdisplay_name
p1354
VDaniel Roseman
p1355
ssVis_accepted
p1356
I01
sVanswer_id
p1357
I4909964
sa(dp1358
Vbody
p1359
V<p><a href="http://docs.djangoproject.com/en/dev/topics/forms/#using-a-form-in-a-view" rel="noreferrer">Using a form in a view</a> pretty much explains it.</p>\u000a\u000a<blockquote>\u000a  <p>The standard pattern for processing a form in a view looks like this:</p>\u000a</blockquote>\u000a\u000a<pre><code>def contact(request):\u000a    if request.method == 'POST': # If the form has been submitted...\u000a        form = ContactForm(request.POST) # A form bound to the POST data\u000a        if form.is_valid(): # All validation rules pass\u000a            # Process the data in form.cleaned_data\u000a            # ...\u000a\u000a            print form.cleaned_data['my_form_field_name']\u000a\u000a            return HttpResponseRedirect('/thanks/') # Redirect after POST\u000a    else:\u000a        form = ContactForm() # An unbound form\u000a\u000a    return render_to_response('contact.html', {\u000a        'form': form,\u000a    })\u000a</code></pre>\u000a
p1360
sVquestion_id
p1361
I4706255
sVlast_activity_date
p1362
I1295192663
sVcreation_date
p1363
I1295192663
sVscore
p1364
I75
sVowner
p1365
(dp1366
Vuser_id
p1367
I89391
sVprofile_image
p1368
Vhttps://www.gravatar.com/avatar/bb5230985aa2c9ea7d022d1a16890f16?s=128&d=identicon&r=PG
p1369
sVuser_type
p1370
Vregistered
p1371
sVreputation
p1372
I104500
sVlink
p1373
Vhttp://stackoverflow.com/users/89391/miku
p1374
sVaccept_rate
p1375
I78
sVdisplay_name
p1376
Vmiku
p1377
ssVis_accepted
p1378
I01
sVanswer_id
p1379
I4706278
sa(dp1380
Vbody
p1381
V<p>Python has arbitrary precision integers so there is no true fixed maximum.  You're only limited by available memory.</p>\u000a\u000a<p>In Python 2, there are two types, <code>int</code> and <code>long</code>.  <code>int</code>s use a C type, while <code>long</code>s are arbitrary precision.  You can use <code>sys.maxint</code> to find the maximum <code>int</code>.  But <code>int</code>s are automatically promoted to <code>long</code>, so you usually don't need to worry about it:</p>\u000a\u000a<pre><code>sys.maxint + 1\u000a</code></pre>\u000a\u000a<p>works fine and returns a <code>long</code>.</p>\u000a\u000a<p><code>sys.maxint</code> does not even exist in Python 3, since <code>int</code> and <code>long</code> were unified into a single arbitrary precision <code>int</code> type.</p>\u000a
p1382
sVquestion_id
p1383
I4581842
sVlast_activity_date
p1384
I1294024806
sVcreation_date
p1385
I1294024491
sVscore
p1386
I107
sVowner
p1387
(dp1388
Vuser_id
p1389
I47773
sVprofile_image
p1390
Vhttps://www.gravatar.com/avatar/e72946d7c81ee170b322f6e6abae3442?s=128&d=identicon&r=PG
p1391
sVuser_type
p1392
Vregistered
p1393
sVreputation
p1394
I188293
sVlink
p1395
Vhttp://stackoverflow.com/users/47773/matthew-flaschen
p1396
sVaccept_rate
p1397
I52
sVdisplay_name
p1398
VMatthew Flaschen
p1399
ssVis_accepted
p1400
I01
sVlast_edit_date
p1401
I1294024806
sVanswer_id
p1402
I4581847
sa(dp1403
Vbody
p1404
V<p>If you just want an interactive interpreter, bpython should be fine.  Just use it until you miss some feature you liked about IPython.</p>\u000a\u000a<p>There are lots of features that IPython offers over bpython:</p>\u000a\u000a<ul>\u000a<li><p>Special threading options.  I like <code>-gthread</code> for experimenting with PyGTK and <code>-pylab</code> for matplotlib.</p></li>\u000a<li><p>direct invocation of shell commands.  <code>cd</code> in IPython is quite useful.</p></li>\u000a<li><p>Full readline library support -- I can use the keyboard shortcuts I am used to.</p></li>\u000a<li><p>Module reload facility - You can do a deep reload of a module after you have changed your code.  This is very useful for testing and debugging.</p></li>\u000a<li><p>Run functions in the background in a separate task with <code>%bg</code>.</p></li>\u000a<li><p>A whole parallel programming environment (not really a feature you expect from an interactive Python shell, but IPython offers it).</p></li>\u000a</ul>\u000a\u000a<p>This list could be nearly arbitrarily continued.  And of course there will be lots of features in bpython lacking from IPython, but you did not ask for those.</p>\u000a\u000a<p>So just <em>use the one that works for you</em>!</p>\u000a
p1405
sVquestion_id
p1406
I4232923
sVlast_activity_date
p1407
I1290266411
sVcreation_date
p1408
I1290266411
sVscore
p1409
I53
sVowner
p1410
(dp1411
Vuser_id
p1412
I279627
sVprofile_image
p1413
Vhttps://www.gravatar.com/avatar/2dceea858ad8f1577bec6ddaa0485d15?s=128&d=identicon&r=PG
p1414
sVuser_type
p1415
Vregistered
p1416
sVreputation
p1417
I252330
sVlink
p1418
Vhttp://stackoverflow.com/users/279627/sven-marnach
p1419
sVaccept_rate
p1420
I78
sVdisplay_name
p1421
VSven Marnach
p1422
ssVis_accepted
p1423
I01
sVanswer_id
p1424
I4233430
sa(dp1425
Vbody
p1426
V<p>Do it in 2 steps. First, create a dictionary.</p>\u000a\u000a<pre><code>&gt;&gt;&gt; input = [('11013331', 'KAT'), ('9085267', 'NOT'), ('5238761', 'ETH'), ('5349618', 'ETH'), ('11788544', 'NOT'), ('962142', 'ETH'), ('7795297', 'ETH'), ('7341464', 'ETH'), ('9843236', 'KAT'), ('5594916', 'ETH'), ('1550003', 'ETH')]\u000a&gt;&gt;&gt; from collections import defaultdict\u000a&gt;&gt;&gt; res = defaultdict(list)\u000a&gt;&gt;&gt; for v, k in input: res[k].append(v)\u000a...\u000a</code></pre>\u000a\u000a<p>Then, convert that dictionary into the expected format.</p>\u000a\u000a<pre><code>&gt;&gt;&gt; [{'type':k, 'items':v} for k,v in res.items()]\u000a[{'items': ['9085267', '11788544'], 'type': 'NOT'}, {'items': ['5238761', '5349618', '962142', '7795297', '7341464', '5594916', '1550003'], 'type': 'ETH'}, {'items': ['11013331', '9843236'], 'type': 'KAT'}]\u000a</code></pre>\u000a\u000a<hr>\u000a\u000a<p>It is also possible with itertools.groupby but it requires the input to be sorted first.</p>\u000a\u000a<pre><code>&gt;&gt;&gt; sorted_input = sorted(input, key=itemgetter(1))\u000a&gt;&gt;&gt; groups = groupby(sorted_input, key=itemgetter(1))\u000a&gt;&gt;&gt; [{'type':k, 'items':[x[0] for x in v]} for k, v in groups]\u000a[{'items': ['5238761', '5349618', '962142', '7795297', '7341464', '5594916', '1550003'], 'type': 'ETH'}, {'items': ['11013331', '9843236'], 'type': 'KAT'}, {'items': ['9085267', '11788544'], 'type': 'NOT'}]\u000a</code></pre>\u000a\u000a<hr>\u000a\u000a<p>Note both of these do not respect the original order of the keys. You need an OrderedDict if you need to keep the order.</p>\u000a\u000a<pre><code>&gt;&gt;&gt; from collections import OrderedDict\u000a&gt;&gt;&gt; res = OrderedDict()\u000a&gt;&gt;&gt; for v, k in input:\u000a...   if k in res: res[k].append(v)\u000a...   else: res[k] = [v]\u000a... \u000a&gt;&gt;&gt; [{'type':k, 'items':v} for k,v in res.items()]\u000a[{'items': ['11013331', '9843236'], 'type': 'KAT'}, {'items': ['9085267', '11788544'], 'type': 'NOT'}, {'items': ['5238761', '5349618', '962142', '7795297', '7341464', '5594916', '1550003'], 'type': 'ETH'}]\u000a</code></pre>\u000a
p1427
sVquestion_id
p1428
I3749512
sVlast_activity_date
p1429
I1284970137
sVcreation_date
p1430
I1284969280
sVscore
p1431
I87
sVowner
p1432
(dp1433
Vuser_id
p1434
I224671
sVprofile_image
p1435
Vhttps://www.gravatar.com/avatar/c90de868a7e95d75bdfd6a906dfedac7?s=128&d=identicon&r=PG
p1436
sVuser_type
p1437
Vregistered
p1438
sVreputation
p1439
I346173
sVlink
p1440
Vhttp://stackoverflow.com/users/224671/kennytm
p1441
sVaccept_rate
p1442
I67
sVdisplay_name
p1443
Vkennytm
p1444
ssVis_accepted
p1445
I01
sVlast_edit_date
p1446
I1284970137
sVanswer_id
p1447
I3749537
sa(dp1448
Vbody
p1449
V<p><a href="http://en.wikipedia.org/wiki/Hash_function" rel="noreferrer">Hashing</a> is the process of converting some large amount of data into a much smaller amount (typically a single integer) in a repeatable way so that it can be looked up in a table in constant-time (<code>O(1)</code>), which is important for high-performance algorithms and data structures.</p>\u000a\u000a<p><a href="http://en.wikipedia.org/wiki/Immutable_object" rel="noreferrer">Immutability</a> is the idea that an object will not change in some important way after it has been created, especially in any way that might change the hash value of that object.</p>\u000a\u000a<p>The two ideas are related because objects which are used as hash keys must typically be immutable so their hash value doesn't change.  If it was allowed to change then the location of that object in a data structure such as a hashtable would change and then the whole purpose of hashing for efficiency is defeated.</p>\u000a\u000a<p>To really grasp the idea you should try to implement your own hashtable in a language like C/C++, or read the Java implementation of the <code>HashMap</code> class.</p>\u000a
p1450
sVquestion_id
p1451
I2671376
sVlast_activity_date
p1452
I1271716781
sVcreation_date
p1453
I1271716781
sVscore
p1454
I63
sVowner
p1455
(dp1456
Vuser_id
p1457
I244128
sVprofile_image
p1458
Vhttps://www.gravatar.com/avatar/300502d6109af88a009074c42ff56c73?s=128&d=identicon&r=PG
p1459
sVuser_type
p1460
Vregistered
p1461
sVreputation
p1462
I81488
sVlink
p1463
Vhttp://stackoverflow.com/users/244128/maerics
p1464
sVaccept_rate
p1465
I81
sVdisplay_name
p1466
Vmaerics
p1467
ssVis_accepted
p1468
I01
sVanswer_id
p1469
I2671398
sa(dp1470
Vbody
p1471
V<p>There is none. Don't forget that the value may be found on any number of keys, including 0 or more than 1.</p>\u000a
p1472
sVquestion_id
p1473
I2568673
sVlast_activity_date
p1474
I1270236070
sVcreation_date
p1475
I1270236070
sVscore
p1476
I26
sVowner
p1477
(dp1478
Vuser_id
p1479
I20862
sVprofile_image
p1480
Vhttps://www.gravatar.com/avatar/2343ae368d3241278581ce6c87f62a25?s=128&d=identicon&r=PG
p1481
sVuser_type
p1482
Vregistered
p1483
sVreputation
p1484
I481018
sVlink
p1485
Vhttp://stackoverflow.com/users/20862/ignacio-vazquez-abrams
p1486
sVaccept_rate
p1487
I60
sVdisplay_name
p1488
VIgnacio Vazquez-Abrams
p1489
ssVis_accepted
p1490
I01
sVanswer_id
p1491
I2568694
sa(dp1492
Vbody
p1493
V<p>It's a bitwise <a href="http://en.wikipedia.org/wiki/Exclusive_or" rel="noreferrer">XOR</a> (exclusive OR).</p>\u000a\u000a<p>It results to true if <strong>one</strong> (and only one) of the operands (evaluates to) true.</p>\u000a\u000a<p>To demonstrate:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; 0^0\u000a0\u000a&gt;&gt;&gt; 1^1\u000a0\u000a&gt;&gt;&gt; 1^0\u000a1\u000a&gt;&gt;&gt; 0^1\u000a1\u000a</code></pre>\u000a\u000a<p>To explain one of your own examples:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; 8^3\u000a11\u000a</code></pre>\u000a\u000a<p>Think about it this way:</p>\u000a\u000a<pre>\u000a1000  # 8 (binary)\u000a0011  # 3 (binary)\u000a----  # APPLY XOR ('vertically')\u000a1011  # result = 11 (binary)\u000a</pre>\u000a
p1494
sVquestion_id
p1495
I2451386
sVlast_activity_date
p1496
I1268700012
sVcreation_date
p1497
I1268699039
sVscore
p1498
I85
sVowner
p1499
(dp1500
Vuser_id
p1501
I81179
sVprofile_image
p1502
Vhttps://www.gravatar.com/avatar/d1fce11ffdac447464654ec3a79f568c?s=128&d=identicon&r=PG&f=1
p1503
sVuser_type
p1504
Vregistered
p1505
sVreputation
p1506
I62718
sVlink
p1507
Vhttp://stackoverflow.com/users/81179/christophed
p1508
sVaccept_rate
p1509
I100
sVdisplay_name
p1510
VChristopheD
p1511
ssVis_accepted
p1512
I01
sVlast_edit_date
p1513
I1268700012
sVanswer_id
p1514
I2451393
sa(dp1515
Vbody
p1516
V<p>The vast majority of the <code>__init__.py</code> files I write are empty, because many packages don't have anything to initialize.</p>\u000a\u000a<p>One example in which I may want initialization is when at package-load time I want to read in a bunch of data once and for all (from files, a DB, or the web, say) -- in which case it's <strong>much</strong> nicer to put that reading in a private function in the package's <code>__init__.py</code> rather than have a separate "initialization module" and redundantly import that module from every single real module in the package (uselessly repetitive and error-prone: that's obviously a case in which relying on the language's guarantee that the package's <code>__init__.py</code> <em>is</em> loaded once before any module in the package is obviously much more Pythonic!).</p>\u000a\u000a<p>For other concrete and authoritative expressions of opinion, look at the different approaches taken in the various packages that are part of Python's standard library.</p>\u000a
p1517
sVquestion_id
p1518
I2361124
sVlast_activity_date
p1519
I1267511165
sVcreation_date
p1520
I1267511165
sVscore
p1521
I46
sVowner
p1522
(dp1523
Vuser_id
p1524
I95810
sVprofile_image
p1525
Vhttps://www.gravatar.com/avatar/e8d5fe90f1fe2148bf130cccd4dc311c?s=128&d=identicon&r=PG
p1526
sVuser_type
p1527
Vregistered
p1528
sVreputation
p1529
I516089
sVlink
p1530
Vhttp://stackoverflow.com/users/95810/alex-martelli
p1531
sVaccept_rate
p1532
I80
sVdisplay_name
p1533
VAlex Martelli
p1534
ssVis_accepted
p1535
I01
sVanswer_id
p1536
I2361278
sa(dp1537
Vbody
p1538
V<p>The python <a href="http://docs.python.org/reference/simple_stmts.html#print" rel="noreferrer">print</a> statement does a good job of formatting multidimesion arrays without requiring the <a href="http://php.net/manual/en/function.print-r.php" rel="noreferrer">print_r</a> available in php.</p>\u000a\u000a<p>As the definition for print states that each object is converted to a string, and as simple arrays print a '[' followed by a comma separated list of object values followed by a ']', this will work for any depth and shape of arrays.</p>\u000a\u000a<p>For example</p>\u000a\u000a<pre><code>&gt;&gt;&gt; x = [[1,2,3],[4,5,6]]\u000a&gt;&gt;&gt; print x\u000a[[1, 2, 3], [4, 5, 6]]\u000a</code></pre>\u000a\u000a<p>If you need more advanced formatting than this, <a href="http://stackoverflow.com/questions/2187821/what-is-the-equivalent-of-print-r-in-python/2187834#2187834">AJ</a>s answer suggesting <a href="http://docs.python.org/library/pprint.html" rel="noreferrer">pprint</a> is probably the way to go.</p>\u000a
p1539
sVquestion_id
p1540
I2187821
sVlast_activity_date
p1541
I1265146408
sVcreation_date
p1542
I1265146071
sVscore
p1543
I37
sVowner
p1544
(dp1545
Vuser_id
p1546
I11069
sVprofile_image
p1547
Vhttps://www.gravatar.com/avatar/29b5aebe79218ac4a4484c89e4cbd0b8?s=128&d=identicon&r=PG
p1548
sVuser_type
p1549
Vregistered
p1550
sVreputation
p1551
I11075
sVlink
p1552
Vhttp://stackoverflow.com/users/11069/robert-christie
p1553
sVaccept_rate
p1554
I100
sVdisplay_name
p1555
VRobert Christie
p1556
ssVis_accepted
p1557
I01
sVlast_edit_date
p1558
I1265146408
sVanswer_id
p1559
I2187843
sa(dp1560
Vbody
p1561
V<p>Here's one that could work:</p>\u000a\u000a<pre><code>def chunkIt(seq, num):\u000a  avg = len(seq) / float(num)\u000a  out = []\u000a  last = 0.0\u000a\u000a  while last &lt; len(seq):\u000a    out.append(seq[int(last):int(last + avg)])\u000a    last += avg\u000a\u000a  return out\u000a</code></pre>\u000a\u000a<p>Testing:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; chunkIt(range(10), 3)\u000a[[0, 1, 2], [3, 4, 5], [6, 7, 8, 9]]\u000a&gt;&gt;&gt; chunkIt(range(11), 3)\u000a[[0, 1, 2], [3, 4, 5, 6], [7, 8, 9, 10]]\u000a&gt;&gt;&gt; chunkIt(range(12), 3)\u000a[[0, 1, 2, 3], [4, 5, 6, 7], [8, 9, 10, 11]]\u000a</code></pre>\u000a
p1562
sVquestion_id
p1563
I2130016
sVlast_activity_date
p1564
I1264390051
sVcreation_date
p1565
I1264390051
sVscore
p1566
I33
sVowner
p1567
(dp1568
Vuser_id
p1569
I181765
sVprofile_image
p1570
Vhttps://www.gravatar.com/avatar/4eccfea56e4846550c2202b0ac8555fd?s=128&d=identicon&r=PG
p1571
sVuser_type
p1572
Vregistered
p1573
sVreputation
p1574
I26525
sVlink
p1575
Vhttp://stackoverflow.com/users/181765/max-shawabkeh
p1576
sVdisplay_name
p1577
VMax Shawabkeh
p1578
ssVis_accepted
p1579
I01
sVanswer_id
p1580
I2130035
sa(dp1581
Vbody
p1582
V<p>The simplest way to do this is with a list comprehension:</p>\u000a\u000a<pre><code>[s + mystring for s in mylist]\u000a</code></pre>\u000a\u000a<p>Notice that I avoided using builtin names like <code>list</code> because that shadows or hides the builtin names, which is very much not good.</p>\u000a\u000a<p>Also, if you do not actually need a list, but just need an iterator, a generator expression can be more efficient (although it does not likely matter on short lists):</p>\u000a\u000a<pre><code>(s + mystring for s in mylist)\u000a</code></pre>\u000a\u000a<p>These are very powerful, flexible, and concise.  Every good python programmer should learn to wield them.</p>\u000a
p1583
sVquestion_id
p1584
I2050637
sVlast_activity_date
p1585
I1263315081
sVcreation_date
p1586
I1263315081
sVscore
p1587
I105
sVowner
p1588
(dp1589
Vuser_id
p1590
I64004
sVprofile_image
p1591
Vhttps://www.gravatar.com/avatar/0ea88709c4b9bda3bc66c62237e12812?s=128&d=identicon&r=PG
p1592
sVuser_type
p1593
Vregistered
p1594
sVreputation
p1595
I69085
sVlink
p1596
Vhttp://stackoverflow.com/users/64004/gahooa
p1597
sVaccept_rate
p1598
I62
sVdisplay_name
p1599
Vgahooa
p1600
ssVis_accepted
p1601
I01
sVanswer_id
p1602
I2050649
sa(dp1603
Vbody
p1604
V<p>Exceptions are just a specific example of a more general case of advanced non-local flow control constructs. Other examples are:</p>\u000a\u000a<ul>\u000a<li><em>notifications</em> (a generalization of exceptions, originally from some old Lisp object system, now implemented in e.g. CommonLisp and Ioke), </li>\u000a<li><em>continuations</em> (a more structured form of <code>GOTO</code>, popular in high-level, higher-order languages), </li>\u000a<li><em>coroutines</em> (a generalization of subroutines, popular especially in Lua), </li>\u000a<li><em>generators</em>  la Python (essentially a restricted form of coroutines), </li>\u000a<li><em>fibers</em> (cooperative light-weight threads) and of course the already mentioned </li>\u000a<li><code>GOTO</code>.</li>\u000a</ul>\u000a\u000a<p>(I'm sure there's many others I missed.)</p>\u000a\u000a<p>An interesting property of these constructs is that they are all roughly equivalent in expressive power: if you have <em>one</em>, you can pretty easily build all the others.</p>\u000a\u000a<p>So, how you best implement exceptions depends on what other constructs you have available: </p>\u000a\u000a<ul>\u000a<li>Every CPU has <code>GOTO</code>, therefore you can always fall back to that, if you must.</li>\u000a<li>C has <code>setjmp</code>/<code>longjmp</code> which are basically MacGyver continuations (built out of duct-tape and toothpicks, not quite the real thing, but will at least get you out of the immediate trouble if you don't have something better available). </li>\u000a<li>The JVM and CLI have exceptions of their own, which means that if the exception semantics of your language match Java's/C#'s, you are home free (but if not, then you are screwed). </li>\u000a<li>The Parrot VM as both exceptions and continuations. </li>\u000a<li>Windows has its own framework for exception handling, which language implementors can use to build their own exceptions on top.</li>\u000a</ul>\u000a\u000a<p>A very interesting use case, both of the <em>usage</em> of exceptions <em>and</em> the <em>implementation</em> of exceptions is Microsoft Live Lab's Volta Project. (Now defunct.) The goal of Volta was to provide architectural refactoring for Web applications at the push of a button. So, you could turn your one-tier web application into a two- or three-tier application just by putting some <code>[Browser]</code> or <code>[DB]</code> attributes on your .NET code and the code would then automagically run on the client or in the DB. In order to do that, the .NET code had to be translated to JavaScript source code, obviously.</p>\u000a\u000a<p>Now, you <em>could</em> just write an entire VM in JavaScript and run the bytecode unmodified. (Basically, port the CLR from C++ to JavaScript.) There are actually projects that do this (e.g. the HotRuby VM), but this is both inefficient and not very interoperable with other JavaScript code.</p>\u000a\u000a<p>So, instead, they wrote a compiler which compiles CIL bytecode to JavaScript sourcecode. However, JavaScript lacks certain features that .NET has (generators, threads, also the two exception models aren't 100% compatible), and more importantly it lacks certain features that compiler writers <em>love</em> (either <code>GOTO</code> or continuations) and that could be used to implement the above-mentioned missing features.</p>\u000a\u000a<p>However, JavaScript <em>does</em> have exceptions. So, they used <em>JavaScript Exceptions</em> to implement <em>Volta Continuations</em> and then they used <em>Volta Continuations</em> to implement <em>.NET Exceptions</em>, <em>.NET Generators</em> and even <em>.NET Managed Threads</em>(!!!)</p>\u000a\u000a<p>So, to answer your original question:</p>\u000a\u000a<blockquote>\u000a  <p>How are exceptions implemented under the hood?</p>\u000a</blockquote>\u000a\u000a<p>With Exceptions, ironically! At least in this very specific case, anyway.</p>\u000a\u000a<p>Another great example is some of the exception proposals on the Go mailing list, which implement exceptions using Goroutines (something like a mixture of concurrent coroutines ans CSP processes). Yet another example is Haskell, which uses Monads, lazy evaluation, tail call optimization and higher-order functions to implement exceptions. Some modern CPUs also support basic building blocks for exceptions (for example the Vega-3 CPUs that were specifically designed for the Azul Systems Java Compute Accelerators).</p>\u000a
p1605
sVquestion_id
p1606
I1995734
sVlast_activity_date
p1607
I1262546684
sVcreation_date
p1608
I1262546684
sVscore
p1609
I35
sVowner
p1610
(dp1611
Vuser_id
p1612
I2988
sVprofile_image
p1613
Vhttps://www.gravatar.com/avatar/ed181f8c80df53d2b67a4f4fff088ed4?s=128&d=identicon&r=PG
p1614
sVuser_type
p1615
Vregistered
p1616
sVreputation
p1617
I249702
sVlink
p1618
Vhttp://stackoverflow.com/users/2988/j%c3%b6rg-w-mittag
p1619
sVdisplay_name
p1620
VJ&#246;rg W Mittag
p1621
ssVis_accepted
p1622
I01
sVanswer_id
p1623
I1995979
sa(dp1624
Vbody
p1625
V<pre><code>&gt;&gt;&gt; from datetime import date\u000a&gt;&gt;&gt;\u000a&gt;&gt;&gt; repr(date.today())        # calls date.today().__repr__()\u000a'datetime.date(2009, 1, 16)'\u000a&gt;&gt;&gt; eval(_)                   # _ is the output of the last command\u000adatetime.date(2009, 1, 16)\u000a</code></pre>\u000a\u000a<p>The output is a string that can be parsed by the python interpreter and results in an equal object.</p>\u000a\u000a<p>If that's not possible, it should return a string in the form of <code>&lt;...some useful description...&gt;</code>.</p>\u000a
p1626
sVquestion_id
p1627
I452300
sVlast_activity_date
p1628
I1259131197
sVcreation_date
p1629
I1232145697
sVscore
p1630
I59
sVowner
p1631
(dp1632
Vuser_id
p1633
I24587
sVprofile_image
p1634
Vhttps://www.gravatar.com/avatar/859e513beefbf5b330a8842d9d39b00e?s=128&d=identicon&r=PG&f=1
p1635
sVuser_type
p1636
Vregistered
p1637
sVreputation
p1638
I87361
sVlink
p1639
Vhttp://stackoverflow.com/users/24587/georg-sch%c3%b6lly
p1640
sVaccept_rate
p1641
I84
sVdisplay_name
p1642
VGeorg Sch&#246;lly
p1643
ssVis_accepted
p1644
I01
sVlast_edit_date
p1645
I1259131197
sVanswer_id
p1646
I452310
sa(dp1647
Vcommunity_owned_date
p1648
I1258112585
sVbody
p1649
V<p>Start by learning about the Python C API. It is a large and rich API, and the Python source naturally uses it all over the place.  You won't get very far into the Python source code before you have to understand what is meant by Py_INCREF and so on.</p>\u000a\u000a<p>I gave a presentation at Pycon explaining the API: <a href="http://nedbatchelder.com/text/whirlext.html" rel="noreferrer">A Whirlwind Excursion through Python C Extensions</a> that you might find helpful.  C extensions use the same API as the Python code itself.</p>\u000a
p1650
sVquestion_id
p1651
I1728472
sVlast_activity_date
p1652
I1258112585
sVcreation_date
p1653
I1258112585
sVscore
p1654
I29
sVowner
p1655
(dp1656
Vuser_id
p1657
I14343
sVprofile_image
p1658
Vhttps://www.gravatar.com/avatar/75e9a11371cbe1566607180863efdf4c?s=128&d=identicon&r=PG
p1659
sVuser_type
p1660
Vregistered
p1661
sVreputation
p1662
I193903
sVlink
p1663
Vhttp://stackoverflow.com/users/14343/ned-batchelder
p1664
sVaccept_rate
p1665
I80
sVdisplay_name
p1666
VNed Batchelder
p1667
ssVis_accepted
p1668
I01
sVanswer_id
p1669
I1728733
sa(dp1670
Vbody
p1671
V<p>Yes, you want something based on <code>pkgutil</code> or similar -- this way you can treat all packages alike regardless if they are in eggs or zips or so (where os.listdir won't help).</p>\u000a\u000a<pre><code>import pkgutil\u000a\u000a# this is the package we are inspecting -- for example 'email' from stdlib\u000aimport email\u000a\u000apackage = email\u000afor importer, modname, ispkg in pkgutil.iter_modules(package.__path__):\u000a    print "Found submodule %s (is a package: %s)" % (modname, ispkg)\u000a</code></pre>\u000a\u000a<p>How to import them too? You can just use <code>__import__</code> as normal:</p>\u000a\u000a<pre><code>import pkgutil\u000a\u000a# this is the package we are inspecting -- for example 'email' from stdlib\u000aimport email\u000a\u000apackage = email\u000aprefix = package.__name__ + "."\u000afor importer, modname, ispkg in pkgutil.iter_modules(package.__path__, prefix):\u000a    print "Found submodule %s (is a package: %s)" % (modname, ispkg)\u000a    module = __import__(modname, fromlist="dummy")\u000a    print "Imported", module\u000a</code></pre>\u000a
p1672
sVquestion_id
p1673
I1707709
sVlast_activity_date
p1674
I1257860476
sVcreation_date
p1675
I1257857935
sVscore
p1676
I85
sVowner
p1677
(dp1678
Vuser_id
p1679
I137317
sVprofile_image
p1680
Vhttps://www.gravatar.com/avatar/3c242983ffb7316821b7242bc3e9fdee?s=128&d=identicon&r=PG
p1681
sVuser_type
p1682
Vregistered
p1683
sVreputation
p1684
I25168
sVlink
p1685
Vhttp://stackoverflow.com/users/137317/u0b34a0f6ae
p1686
sVaccept_rate
p1687
I92
sVdisplay_name
p1688
Vu0b34a0f6ae
p1689
ssVis_accepted
p1690
I01
sVlast_edit_date
p1691
I1257860476
sVanswer_id
p1692
I1707786
sa(dp1693
Vbody
p1694
V<p>If you're prone to installing python in various and interesting places on your PATH (as in <code>$PATH</code> in typical Unix shells, <code>%PATH</code> on typical Windows ones), using <code>/usr/bin/env</code> will accomodate your whim (well, in Unix-like environments at least) while going directly to <code>/usr/bin/python</code> won't.  But losing control of what version of Python your scripts run under is no unalloyed bargain... if you look at my code you're more likely to see it start with, e.g., <code>#!/usr/local/bin/python2.5</code> rather than with an open and accepting <code>#!/usr/bin/env python</code> -- assuming the script is important I like to ensure it's run with the specific version I have tested and developed it with, NOT a semi-random one;-).</p>\u000a
p1695
sVquestion_id
p1696
I1352922
sVlast_activity_date
p1697
I1251599811
sVcreation_date
p1698
I1251599811
sVscore
p1699
I62
sVowner
p1700
(dp1701
Vuser_id
p1702
I95810
sVprofile_image
p1703
Vhttps://www.gravatar.com/avatar/e8d5fe90f1fe2148bf130cccd4dc311c?s=128&d=identicon&r=PG
p1704
sVuser_type
p1705
Vregistered
p1706
sVreputation
p1707
I516089
sVlink
p1708
Vhttp://stackoverflow.com/users/95810/alex-martelli
p1709
sVaccept_rate
p1710
I80
sVdisplay_name
p1711
VAlex Martelli
p1712
ssVis_accepted
p1713
I01
sVanswer_id
p1714
I1352938
sa(dp1715
Vbody
p1716
V<p>ElementTree is much easier to use, because it represents an XML tree (basically) as a structure of lists, and attributes are represented as dictionaries.</p>\u000a\u000a<p>ElementTree needs much less memory for XML trees than DOM (and thus is faster), and the parsing overhead via <code>iterparse</code> is comparable to SAX. Additionally, <code>iterparse</code> returns partial structures, and you can keep memory usage constant during parsing by discarding the structures as soon as you process them.</p>\u000a\u000a<p>ElementTree, as in Python 2.5, has only a small feature set compared to full-blown XML libraries, but it's enough for many applications. If you need a validating parser or complete XPath support, lxml is the way to go. For a long time, it used to be quite unstable, but I haven't had any problems with it since 2.1.</p>\u000a\u000a<p>ElementTree deviates from DOM, where nodes have access to their parent and siblings. Handling actual documents rather than data stores is also a bit cumbersome, because text nodes aren't treated as actual nodes. In the XML snippet</p>\u000a\u000a<pre><code>&lt;a&gt;This is &lt;b&gt;a&lt;/b&gt; test&lt;/a&gt;\u000a</code></pre>\u000a\u000a<p>The string <code>test</code> will be the so-called <code>tail</code> of element <code>b</code>.</p>\u000a\u000a<p>In general, I recommend ElementTree as the default for all XML processing with Python, and DOM or SAX as the solutions for specific problems.</p>\u000a
p1717
sVquestion_id
p1718
I192907
sVlast_activity_date
p1719
I1251121555
sVcreation_date
p1720
I1223740961
sVscore
p1721
I55
sVowner
p1722
(dp1723
Vuser_id
p1724
I9567
sVprofile_image
p1725
Vhttps://www.gravatar.com/avatar/5f066058675037dbbbae6665037b5fb5?s=128&d=identicon&r=PG
p1726
sVuser_type
p1727
Vregistered
p1728
sVreputation
p1729
I45342
sVlink
p1730
Vhttp://stackoverflow.com/users/9567/torsten-marek
p1731
sVaccept_rate
p1732
I100
sVdisplay_name
p1733
VTorsten Marek
p1734
ssVis_accepted
p1735
I01
sVlast_edit_date
p1736
I1251121555
sVanswer_id
p1737
I194248
sa(dp1738
Vbody
p1739
V<p>The <code>.encode</code> method gets applied to a Unicode string to make a byte-string; but you're calling it on a byte-string instead... the wrong way 'round!  Look at the <code>codecs</code> module in the standard library and <code>codecs.open</code> in particular for better general solutions for reading UTF-8 encoded text files. However, for the <code>csv</code> module in particular, you need to pass in utf-8 data, and that's what you're already getting, so your code can be much simpler:</p>\u000a\u000a<pre><code>import csv\u000a\u000adef unicode_csv_reader(utf8_data, dialect=csv.excel, **kwargs):\u000a    csv_reader = csv.reader(utf8_data, dialect=dialect, **kwargs)\u000a    for row in csv_reader:\u000a        yield [unicode(cell, 'utf-8') for cell in row]\u000a\u000afilename = 'da.csv'\u000areader = unicode_csv_reader(open(filename))\u000afor field1, field2, field3 in reader:\u000a  print field1, field2, field3 \u000a</code></pre>\u000a\u000a<p>PS: if it turns out that your input data is NOT in utf-8, but e.g. in ISO-8859-1, then you do need a "transcoding" (if you're keen on using utf-8 at the <code>csv</code> module level), of the form <code>line.decode('whateverweirdcodec').encode('utf-8')</code> -- but probably you can just use the name of your existing encoding in the <code>yield</code> line in my code above, instead of <code>'utf-8'</code>, as <code>csv</code> is actually going to be just fine with ISO-8859-* encoded bytestrings.</p>\u000a
p1740
sVquestion_id
p1741
I904041
sVlast_activity_date
p1742
I1243186375
sVcreation_date
p1743
I1243181689
sVscore
p1744
I89
sVowner
p1745
(dp1746
Vuser_id
p1747
I95810
sVprofile_image
p1748
Vhttps://www.gravatar.com/avatar/e8d5fe90f1fe2148bf130cccd4dc311c?s=128&d=identicon&r=PG
p1749
sVuser_type
p1750
Vregistered
p1751
sVreputation
p1752
I516089
sVlink
p1753
Vhttp://stackoverflow.com/users/95810/alex-martelli
p1754
sVaccept_rate
p1755
I80
sVdisplay_name
p1756
VAlex Martelli
p1757
ssVis_accepted
p1758
I01
sVlast_edit_date
p1759
I1243186375
sVanswer_id
p1760
I904085
sa(dp1761
Vbody
p1762
V<p>Well, there's nothing unpythonic about checking type.  Having said that, if you're willing to put a small burden on the caller:</p>\u000a\u000a<pre><code>def func( *files ):\u000a    for f in files:\u000a         doSomethingWithFile( f )\u000a\u000afunc( *['file1','file2','file3'] ) #Is treated like func('file1','file2','file3')\u000afunc( 'file1' )\u000a</code></pre>\u000a\u000a<p>I'd argue this is more pythonic in that "explicit is better than implicit".  Here there is at least a recognition on the part of the caller when the input is already in list form.</p>\u000a
p1763
sVquestion_id
p1764
I836387
sVlast_activity_date
p1765
I1241722709
sVcreation_date
p1766
I1241722709
sVscore
p1767
I35
sVowner
p1768
(dp1769
Vuser_id
p1770
I50272
sVprofile_image
p1771
Vhttps://www.gravatar.com/avatar/9f3cf6b22b9851d130b98ae791d27f8e?s=128&d=identicon&r=PG
p1772
sVuser_type
p1773
Vregistered
p1774
sVreputation
p1775
I6876
sVlink
p1776
Vhttp://stackoverflow.com/users/50272/david-berger
p1777
sVaccept_rate
p1778
I90
sVdisplay_name
p1779
VDavid Berger
p1780
ssVis_accepted
p1781
I01
sVanswer_id
p1782
I836406
sa(dp1783
Vcommunity_owned_date
p1784
I1238536464
sVbody
p1785
V<p>I suggest taking another look at TG2.  I think people have failed to notice some of the strides that have been made since the last version. Aside from the growing WSGI stack of utilities available there are quite a few TG2-specific items to consider.  Here are a couple of highlights:</p>\u000a\u000a<p><a href="http://turbogears.org/2.0/docs/main/Extensions/index.html" rel="noreferrer">TurboGears Administration System</a> - This CRUD interface to your database is fully customizable using a declarative config class.  It is also integrated with Dojo to give you infinitely scrollable tables.  Server side validation is also automated.  The admin interface uses RESTful urls and HTTP verbs which means it would be easy to connect to programatically using industry standards.</p>\u000a\u000a<p><a href="http://turbogears.org/2.0/docs/main/Extensions/Crud/index.html" rel="noreferrer">CrudRestController</a>/<a href="http://turbogears.org/2.0/docs/modules/tgcontroller.html?highlight=restcontroller#tg.controllers.RestController" rel="noreferrer">RestController</a> - TurboGears provides a structured way to handle services in your controller.  Providing you the ability to use standardized HTTP verbs simply by extending our RestController.  Combine <a href="http://www.sprox.org" rel="noreferrer">Sprox</a> with CrudRestController, and you can put crud anywhere in your application with fully-customizable autogenerated forms.\u000aTurboGears now supports mime-types as file extensions in the url, so you can have your controller render .json and .xml with the same interface it uses to render html (returning a dictionary from a controller)</p>\u000a\u000a<p>If you click the links you will see that we have a new set of documentation built with sphinx which is more extensive than the docs of the past.</p>\u000a\u000a<p>With the best <a href="http://pylonshq.com" rel="noreferrer">web server</a>, <a href="http://www.sqlalchemy.org" rel="noreferrer">ORM</a>, and <a href="http://genshi.edgewall.org/" rel="noreferrer">template system</a>(s) (pick your own) under the hood, it's easy to see why TG makes sense for people who want to get going quickly, and still have scalability as their site grows.</p>\u000a\u000a<p>TurboGears is often seen as trying to hit a moving target, but we are consistent about releases, which means you won't have to worry about working out of the trunk to get the latest features you need.  Coming to the future: more TurboGears extensions that will allow your application to grow functionality with the ease of paster commands.</p>\u000a
p1786
sVquestion_id
p1787
I702179
sVlast_activity_date
p1788
I1238536464
sVcreation_date
p1789
I1238536464
sVscore
p1790
I15
sVowner
p1791
(dp1792
Vdisplay_name
p1793
Vpercious
p1794
sVuser_type
p1795
Vdoes_not_exist
p1796
ssVis_accepted
p1797
I01
sVanswer_id
p1798
I703232
sa(dp1799
Vbody
p1800
V<ol>\u000a<li><p>'<code>lib/</code>'s parent directory must be in <code>sys.path</code>. </p></li>\u000a<li><p>Your '<code>lib/__init__.py</code>' might look like this:</p>\u000a\u000a<pre><code>from . import settings # or just 'import settings' on old Python versions\u000aclass Helper(object):\u000a      pass\u000a</code></pre></li>\u000a</ol>\u000a\u000a<p>Then the following example should work:</p>\u000a\u000a<pre><code>from lib.settings import Values\u000afrom lib import Helper\u000a</code></pre>\u000a\u000a<h3>Answer to the edited version of the question:</h3>\u000a\u000a<p><code>__init__.py</code> defines how your package looks from outside. If you need to use <code>Helper</code> in <code>settings.py</code> then define <code>Helper</code> in a different file e.g., '<code>lib/helper.py</code>'.</p>\u000a\u000a<pre>\u000a.\u000a|   `-- import_submodule.py\u000a    `-- lib\u000a    |-- __init__.py\u000a    |-- foo\u000a    |   |-- __init__.py\u000a    |   `-- someobject.py\u000a    |-- helper.py\u000a    `-- settings.py\u000a\u000a2 directories, 6 files\u000a</pre>\u000a\u000a<p>The command:</p>\u000a\u000a<pre><code>$ python import_submodule.py\u000a</code></pre>\u000a\u000a<p>Output:</p>\u000a\u000a<pre><code>settings\u000ahelper\u000aHelper in lib.settings\u000asomeobject\u000aHelper in lib.foo.someobject\u000a\u000a# ./import_submodule.py\u000aimport fnmatch, os\u000afrom lib.settings import Values\u000afrom lib import Helper\u000a\u000aprint\u000afor root, dirs, files in os.walk('.'):\u000a    for f in fnmatch.filter(files, '*.py'):\u000a        print "# %s/%s" % (os.path.basename(root), f)\u000a        print open(os.path.join(root, f)).read()\u000a        print\u000a\u000a\u000a# lib/helper.py\u000aprint 'helper'\u000aclass Helper(object):\u000a    def __init__(self, module_name):\u000a        print "Helper in", module_name\u000a\u000a\u000a# lib/settings.py\u000aprint "settings"\u000aimport helper\u000a\u000aclass Values(object):\u000a    pass\u000a\u000ahelper.Helper(__name__)\u000a\u000a\u000a# lib/__init__.py\u000a#from __future__ import absolute_import\u000aimport settings, foo.someobject, helper\u000a\u000aHelper = helper.Helper\u000a\u000a\u000a# foo/someobject.py\u000aprint "someobject"\u000afrom .. import helper\u000a\u000ahelper.Helper(__name__)\u000a\u000a\u000a# foo/__init__.py\u000aimport someobject\u000a</code></pre>\u000a
p1801
sVquestion_id
p1802
I582723
sVlast_activity_date
p1803
I1235509089
sVcreation_date
p1804
I1235501555
sVscore
p1805
I45
sVowner
p1806
(dp1807
Vuser_id
p1808
I4279
sVprofile_image
p1809
Vhttps://www.gravatar.com/avatar/d92ce60d3a4cbe03598e27c2e8dee69d?s=128&d=identicon&r=PG
p1810
sVuser_type
p1811
Vregistered
p1812
sVreputation
p1813
I203089
sVlink
p1814
Vhttp://stackoverflow.com/users/4279/j-f-sebastian
p1815
sVaccept_rate
p1816
I94
sVdisplay_name
p1817
VJ.F. Sebastian
p1818
ssVis_accepted
p1819
I01
sVlast_edit_date
p1820
I1235509089
sVanswer_id
p1821
I583065
sa(dp1822
Vbody
p1823
V<p>Answers so far have been templating the values into a plain SQL string. That's absolutely fine for integers, but if we wanted to do it for strings we get the escaping issue.</p>\u000a\u000a<p>Here's a variant using a parameterised query that would work for both:</p>\u000a\u000a<pre><code>placeholder= '?' # For SQLite. See DBAPI paramstyle.\u000aplaceholders= ', '.join(placeholder for unused in l)\u000aquery= 'SELECT name FROM students WHERE id IN (%s)' % placeholders\u000acursor.execute(query, l)\u000a</code></pre>\u000a
p1824
sVquestion_id
p1825
I283645
sVlast_activity_date
p1826
I1226493010
sVcreation_date
p1827
I1226493010
sVscore
p1828
I58
sVowner
p1829
(dp1830
Vuser_id
p1831
I18936
sVprofile_image
p1832
Vhttps://www.gravatar.com/avatar/3f6f1bea81a68b2f1cfe3efbb9be94bc?s=128&d=identicon&r=PG
p1833
sVuser_type
p1834
Vregistered
p1835
sVreputation
p1836
I389448
sVlink
p1837
Vhttp://stackoverflow.com/users/18936/bobince
p1838
sVdisplay_name
p1839
Vbobince
p1840
ssVis_accepted
p1841
I01
sVanswer_id
p1842
I283801
sa(dp1843
Vbody
p1844
V<p>The .egg-info directories get only created if --single-version-externally-managed was used to install the egg. "Normally", installing an egg would create a single directory (or zip file), containing both the code and the metadata. </p>\u000a\u000a<p>pkg_resources (which is the library that reads the metadata) has a function <code>require</code> which can be used to request a specific version of the package. For "old-style", regular imports, easy_install hacks a .pth file to get the egg directory onto sys.path. For --single-version-externally-managed, this hacking is not necessary, because there will only be a single version installed (by the system's pacakging infrastructure, e.g. rpm or dpkg). The egg-info is still included, for applications that use <code>require</code> (or any of the other pkg_resources binding mechanisms).</p>\u000a\u000a<p>If you want to install a package by hard-linking, I recommend to use "setup.py develop". This is a command from setuptools which doesn't actually install the egg, but makes it available site-wide. To do so, it creates an egg-link file so that pkg_resources can find it, and it manipulates a .pth file, so that regular import can find it.</p>\u000a
p1845
sVquestion_id
p1846
I256417
sVlast_activity_date
p1847
I1225608026
sVcreation_date
p1848
I1225608026
sVscore
p1849
I52
sVowner
p1850
(dp1851
Vuser_id
p1852
I33006
sVprofile_image
p1853
Vhttps://www.gravatar.com/avatar/3acb8bae5a2b5a28f6fe522a4ea9b873?s=128&d=identicon&r=PG
p1854
sVuser_type
p1855
Vregistered
p1856
sVreputation
p1857
I84348
sVlink
p1858
Vhttp://stackoverflow.com/users/33006/martin-v-l%c3%b6wis
p1859
sVaccept_rate
p1860
I88
sVdisplay_name
p1861
VMartin v. L&#246;wis
p1862
ssVis_accepted
p1863
I01
sVanswer_id
p1864
I256614
sa(dp1865
Vbody
p1866
V<pre><code>import re\u000ap = re.compile("[a-z]")\u000afor m in p.finditer('a1b2c3d4'):\u000a    print m.start(), m.group()\u000a</code></pre>\u000a
p1867
sVquestion_id
p1868
I250271
sVlast_activity_date
p1869
I1225376139
sVcreation_date
p1870
I1225376139
sVscore
p1871
I77
sVowner
p1872
(dp1873
Vuser_id
p1874
I720
sVprofile_image
p1875
Vhttps://www.gravatar.com/avatar/3c57f2a468f2fc945f1e5c47d1afee66?s=128&d=identicon&r=PG
p1876
sVuser_type
p1877
Vregistered
p1878
sVreputation
p1879
I25613
sVlink
p1880
Vhttp://stackoverflow.com/users/720/peter-hoffmann
p1881
sVaccept_rate
p1882
I69
sVdisplay_name
p1883
VPeter Hoffmann
p1884
ssVis_accepted
p1885
I01
sVanswer_id
p1886
I250303
sa(dp1887
Vbody
p1888
V<p>There's no builtin, but you can accomplish this fairly simply with a generator comprehension:</p>\u000a\u000a<pre><code>s= "Name1=Value1;Name2=Value2;Name3=Value3"\u000adict(item.split("=") for item in s.split(";"))\u000a</code></pre>\u000a\u000a<p><strong>[Edit]</strong>  From your update you indicate you may need to handle quoting.  This does complicate things, depending on what the exact format you are looking for is (what quote chars are accepted, what escape chars etc).  You may want to look at the csv module to see if it can cover your format.  Here's an example:  (Note that the API is a little clunky for this example, as CSV is designed to iterate through a sequence of records, hence the .next() calls I'm making to just look at the first line.  Adjust to suit your needs):</p>\u000a\u000a<pre><code>&gt;&gt;&gt; s = "Name1='Value=2';Name2=Value2;Name3=Value3"\u000a\u000a&gt;&gt;&gt; dict(csv.reader([item], delimiter='=', quotechar="'").next() \u000a         for item in csv.reader([s], delimiter=';', quotechar="'").next())\u000a\u000a{'Name2': 'Value2', 'Name3': 'Value3', 'Name1': 'Value1=2'}\u000a</code></pre>\u000a\u000a<p>Depending on the exact structure of your format, you may need to write your own simple parser however.</p>\u000a
p1889
sVquestion_id
p1890
I186857
sVlast_activity_date
p1891
I1223555861
sVcreation_date
p1892
I1223552622
sVscore
p1893
I88
sVowner
p1894
(dp1895
Vuser_id
p1896
I9493
sVprofile_image
p1897
Vhttps://www.gravatar.com/avatar/7895e5fdbabe3fc5e09272bb602257d7?s=128&d=identicon&r=PG
p1898
sVuser_type
p1899
Vregistered
p1900
sVreputation
p1901
I73471
sVlink
p1902
Vhttp://stackoverflow.com/users/9493/brian
p1903
sVdisplay_name
p1904
VBrian
p1905
ssVis_accepted
p1906
I01
sVlast_edit_date
p1907
I1223555861
sVanswer_id
p1908
I186873
sasVquota_max
p1909
I300
sVquota_remaining
p1910
I149
s.