(dp0
Vhas_more
p1
I00
sVitems
p2
(lp3
(dp4
Vbody
p5
V<pre><code>data = [['a', 'b', 'c'], ['aaaaaaaaaa', 'b', 'c'], ['a', 'bbbbbbbbbb', 'c']]\u000a\u000acol_width = max(len(word) for row in data for word in row) + 2  # padding\u000afor row in data:\u000a    print "".join(word.ljust(col_width) for word in row)\u000a\u000aa            b            c            \u000aaaaaaaaaaa   b            c            \u000aa            bbbbbbbbbb   c   \u000a</code></pre>\u000a\u000a<p>What this does is calculate the longest data entry to determine the column width, then use <code>.ljust()</code> to add the necessary padding when printing out each column.</p>\u000a
p6
sVquestion_id
p7
I9989334
sVlast_activity_date
p8
I1492477892
sVcreation_date
p9
I1333440628
sVscore
p10
I60
sVowner
p11
(dp12
Vuser_id
p13
I115845
sVprofile_image
p14
Vhttps://www.gravatar.com/avatar/6263f31d56de4b97575338214071f41d?s=128&d=identicon&r=PG
p15
sVuser_type
p16
Vregistered
p17
sVreputation
p18
I47416
sVlink
p19
Vhttp://stackoverflow.com/users/115845/shawn-chin
p20
sVaccept_rate
p21
I70
sVdisplay_name
p22
VShawn Chin
p23
ssVis_accepted
p24
I01
sVlast_edit_date
p25
I1492477892
sVanswer_id
p26
I9989441
sa(dp27
Vbody
p28
V<p><strong>Solution 1</strong>:</p>\u000a\u000a<p>For some reason, <code>virtualenvwrapper.sh</code> installed in <code>/usr/bin/virtualenvwrapper.sh</code>, instead of under <code>/usr/local/bin</code>.</p>\u000a\u000a<p>The following in my <code>.bash_profile</code> works...</p>\u000a\u000a<pre><code>source "/usr/bin/virtualenvwrapper.sh"\u000aexport WORKON_HOME="/opt/virtual_env/"\u000a</code></pre>\u000a\u000a<p>My install seems to work fine without sourcing <code>virtualenvwrapper_bashrc</code></p>\u000a\u000a<p><strong>Solution 2</strong>:</p>\u000a\u000a<p>Alternatively as mentioned below if you are exceptionally lazy, you could leverage the chance that <code>virtualenvwrapper.sh</code> is already in your shell's <code>PATH</code> and just issue a <code>source `which virtualenvwrapper.sh`\u000a</code></p>\u000a
p29
sVquestion_id
p30
I13855463
sVlast_activity_date
p31
I1491931149
sVcreation_date
p32
I1355385798
sVscore
p33
I46
sVowner
p34
(dp35
Vuser_id
p36
I667301
sVprofile_image
p37
Vhttps://www.gravatar.com/avatar/ce84c3fb1d8cbce03a2f03f0011f52d3?s=128&d=identicon&r=PG
p38
sVuser_type
p39
Vregistered
p40
sVreputation
p41
I25377
sVlink
p42
Vhttp://stackoverflow.com/users/667301/mike-pennington
p43
sVaccept_rate
p44
I98
sVdisplay_name
p45
VMike Pennington
p46
ssVis_accepted
p47
I01
sVlast_edit_date
p48
I1491931149
sVanswer_id
p49
I13855464
sa(dp50
Vbody
p51
V<p>Pandas DataFrame columns are Pandas Series when you pull them out, which you can then call <code>.tolist()</code> on to turn them into a Python list</p>\u000a\u000a<pre><code>from pandas import *\u000a\u000ad = {'one' : Series([1., 2., 3.], index=['a', 'b', 'c']),\u000a    'two' : Series([1., 2., 3., 4.], index=['a', 'b', 'c', 'd'])}\u000a\u000adf = DataFrame(d)\u000a\u000a#print df\u000a\u000aprint "DF", type(df['one']), "\u005cn", df['one']\u000a\u000adfList = df['one'].tolist()\u000a\u000aprint "DF list", dfList, type(dfList)\u000a</code></pre>\u000a\u000a<p><a href="http://stackoverflow.com/questions/14822680/convert-python-dataframe-to-list">This question</a> might be helpful. And the <a href="http://pandas.pydata.org/pandas-docs/stable/dsintro.html" rel="noreferrer">Pandas docs</a> are actually quite good once you get your head around their style. </p>\u000a\u000a<p>So in your case you could:</p>\u000a\u000a<p><code>my_list = df["cluster"].tolist()</code></p>\u000a\u000a<p>and then go from there.</p>\u000a
p52
sVquestion_id
p53
I22341271
sVlast_activity_date
p54
I1489086551
sVcreation_date
p55
I1394594664
sVscore
p56
I81
sVowner
p57
(dp58
Vuser_id
p59
I1835727
sVprofile_image
p60
Vhttps://www.gravatar.com/avatar/414d027674ec2ee1a587a5de2eb71a6d?s=128&d=identicon&r=PG
p61
sVuser_type
p62
Vregistered
p63
sVreputation
p64
I1699
sVlink
p65
Vhttp://stackoverflow.com/users/1835727/ben
p66
sVaccept_rate
p67
I64
sVdisplay_name
p68
VBen
p69
ssVis_accepted
p70
I01
sVlast_edit_date
p71
I1489086551
sVanswer_id
p72
I22341390
sa(dp73
Vbody
p74
V<p>The code was originally published on a blog post "Python Pretty Date function" (<a href="http://evaisse.com/post/93417709/python-pretty-date-function" rel="nofollow noreferrer">http://evaisse.com/post/93417709/python-pretty-date-function</a>)</p>\u000a\u000a<p>It is reproduced here as the blog account has been suspended and the page is no longer available.</p>\u000a\u000a<pre><code>def pretty_date(time=False):\u000a    """\u000a    Get a datetime object or a int() Epoch timestamp and return a\u000a    pretty string like 'an hour ago', 'Yesterday', '3 months ago',\u000a    'just now', etc\u000a    """\u000a    from datetime import datetime\u000a    now = datetime.now()\u000a    if type(time) is int:\u000a        diff = now - datetime.fromtimestamp(time)\u000a    elif isinstance(time,datetime):\u000a        diff = now - time\u000a    elif not time:\u000a        diff = now - now\u000a    second_diff = diff.seconds\u000a    day_diff = diff.days\u000a\u000a    if day_diff &lt; 0:\u000a        return ''\u000a\u000a    if day_diff == 0:\u000a        if second_diff &lt; 10:\u000a            return "just now"\u000a        if second_diff &lt; 60:\u000a            return str(second_diff) + " seconds ago"\u000a        if second_diff &lt; 120:\u000a            return "a minute ago"\u000a        if second_diff &lt; 3600:\u000a            return str(second_diff / 60) + " minutes ago"\u000a        if second_diff &lt; 7200:\u000a            return "an hour ago"\u000a        if second_diff &lt; 86400:\u000a            return str(second_diff / 3600) + " hours ago"\u000a    if day_diff == 1:\u000a        return "Yesterday"\u000a    if day_diff &lt; 7:\u000a        return str(day_diff) + " days ago"\u000a    if day_diff &lt; 31:\u000a        return str(day_diff / 7) + " weeks ago"\u000a    if day_diff &lt; 365:\u000a        return str(day_diff / 30) + " months ago"\u000a    return str(day_diff / 365) + " years ago"\u000a</code></pre>\u000a
p75
sVquestion_id
p76
I1551382
sVlast_activity_date
p77
I1488455514
sVcreation_date
p78
I1255285926
sVscore
p79
I95
sVowner
p80
(dp81
Vuser_id
p82
I168771
sVprofile_image
p83
Vhttps://www.gravatar.com/avatar/1fda112f431349aedce13c53b5ec0ca6?s=128&d=identicon&r=PG
p84
sVuser_type
p85
Vregistered
p86
sVreputation
p87
I11345
sVlink
p88
Vhttp://stackoverflow.com/users/168771/jed-smith
p89
sVaccept_rate
p90
I100
sVdisplay_name
p91
VJed Smith
p92
ssVis_accepted
p93
I01
sVlast_edit_date
p94
I1488455514
sVanswer_id
p95
I1551394
sa(dp96
Vbody
p97
V<p>First of all <code>A.__dict__.__dict__</code> is  different from <code>A.__dict__['__dict__']</code>, and the former doesn't exist. The latter is the <code>__dict__</code> attribute that the instances of the class would have. It's a descriptor object that returns the internal dictionary of attributes for the specific instance. In short, the <code>__dict__</code> attribute of an object can't be stored in object's <code>__dict__</code>, so it's accessed through a descriptor defined in the class.</p>\u000a\u000a<p>To understand this, you'd have to read the <a href="https://docs.python.org/3/howto/descriptor.html#descriptor-protocol" rel="nofollow noreferrer">documentation of the descriptor protocol</a>.</p>\u000a\u000a<p>The short version:</p>\u000a\u000a<ol>\u000a<li>For an instance of class <code>A</code>, access to <code>instance.__dict__</code> is provided by <code>A.__dict__['__dict__']</code> which is the same as <code>vars(A)['__dict__']</code>.</li>\u000a<li>For the class A, access to <code>A.__dict__</code> is provided by <code>type.__dict__['__dict__']</code> (in theory) which is the same as <code>vars(type)['__dict__']</code>.</li>\u000a</ol>\u000a\u000a<hr>\u000a\u000a<p>The long version:</p>\u000a\u000a<p>Both classes and objects provide access to attributes both through the attribute operator (implemented via the class or metaclass's <code>__getattribute__</code>), and the <code>__dict__</code> attribute/protocol which is used by <code>vars(ob)</code>.</p>\u000a\u000a<p>For normal objects, the <code>__dict__</code> object creates a separate <code>dict</code> object, which stores the attributes, and <code>__getattribute__</code> first tries to access it and get the attributes from there (before attempting to look for the attribute in the class by utilizing the descriptor protocol, and before calling <code>__getattr__</code>). The <code>__dict__</code> descriptor on the class implements the access to this dictionary.</p>\u000a\u000a<ul>\u000a<li><code>x.name</code> is equivalent to trying those in order: <code>x.__dict__['name']</code>, <code>type(x).name.__get__(x, type(x))</code>, <code>type(x).name</code></li>\u000a<li><code>x.__dict__</code> does the same but skips the first one for obvious reasons</li>\u000a</ul>\u000a\u000a<p>As it's impossible for the <code>__dict__</code> of <code>instance</code> to be stored in <code>__dict__</code> of the instance, it is accessed through the descriptor protocol directly instead, and is stored in a special field in the instance.</p>\u000a\u000a<p>A similar scenario is true for classes, although their <code>__dict__</code> is a special proxy object that pretends to be a dictionary (but might not be internally), and doesn't allow you to change it or replace it with another one. This proxy allows you, among all else, to access the attributes of a class that are specific to it, and not defined in one of its bases.</p>\u000a\u000a<p>By default, a <code>vars(cls)</code> of an empty class carries three descriptors - <code>__dict__</code> for storing the attributes of the instances, <code>__weakref__</code> which is used internally by <code>weakref</code>, and the docstring of the class. The first two might be gone if you define <code>__slots__</code>. Then you wouldn't have <code>__dict__</code> and <code>__weakref__</code> attributes, but instead you'd have a single class attribute for each slot. The attributes of the instance then wouldn't be stored in a dictionary, and access to them will be provided by the respective descriptors in the class.</p>\u000a\u000a<hr>\u000a\u000a<p>And lastly, the inconsistency that <code>A.__dict__</code> is different from <code>A.__dict__['__dict__']</code> is because the attribute <code>__dict__</code> is, by exception, <em>never</em> looked up in <code>vars(A)</code>, so what is true for it isn't true for practically any other attribute you'd use. For example, <code>A.__weakref__</code> is the same thing as <code>A.__dict__['__weakref__']</code>. If this inconsistency didn't exist, using <code>A.__dict__</code> would not work, and you'd have to always use <code>vars(A)</code> instead.</p>\u000a
p98
sVquestion_id
p99
I4877290
sVlast_activity_date
p100
I1486064097
sVcreation_date
p101
I1296667562
sVscore
p102
I70
sVowner
p103
(dp104
Vuser_id
p105
I512132
sVprofile_image
p106
Vhttps://www.gravatar.com/avatar/c77067a81f6997370c1d290ea126ce1c?s=128&d=identicon&r=PG
p107
sVuser_type
p108
Vregistered
p109
sVreputation
p110
I10467
sVlink
p111
Vhttp://stackoverflow.com/users/512132/rosh-oxymoron
p112
sVdisplay_name
p113
VRosh Oxymoron
p114
ssVis_accepted
p115
I01
sVlast_edit_date
p116
I1486064097
sVanswer_id
p117
I4877655
sa(dp118
Vbody
p119
V<p>Static files are meant for javascript/images etc, but media files are for user-uploaded content.</p>\u000a
p120
sVquestion_id
p121
I5016589
sVlast_activity_date
p122
I1483732177
sVcreation_date
p123
I1297860620
sVscore
p124
I48
sVowner
p125
(dp126
Vuser_id
p127
I358328
sVprofile_image
p128
Vhttps://www.gravatar.com/avatar/d56c3972b607b39dc840acef5fca07d0?s=128&d=identicon&r=PG
p129
sVuser_type
p130
Vregistered
p131
sVreputation
p132
I24497
sVlink
p133
Vhttp://stackoverflow.com/users/358328/uku-loskit
p134
sVaccept_rate
p135
I90
sVdisplay_name
p136
VUku Loskit
p137
ssVis_accepted
p138
I01
sVlast_edit_date
p139
I1483732177
sVanswer_id
p140
I5016626
sa(dp141
Vbody
p142
V<p>There is no one-to-one correlation.  For a really good article please see <a href="https://waymoot.org/home/python_string/" rel="noreferrer">Efficient String Concatenation in Python</a>:</p>\u000a\u000a<blockquote>\u000a  <p>Building long strings in the Python\u000a  progamming language can sometimes\u000a  result in very slow running code. In\u000a  this article I investigate the\u000a  computational performance of various\u000a  string concatenation methods.</p>\u000a</blockquote>\u000a
p143
sVquestion_id
p144
I2414667
sVlast_activity_date
p145
I1472026206
sVcreation_date
p146
I1268197889
sVscore
p147
I45
sVowner
p148
(dp149
Vuser_id
p150
I34211
sVprofile_image
p151
Vhttps://www.gravatar.com/avatar/be8accba01f6dedbd2669a66fd44fedf?s=128&d=identicon&r=PG
p152
sVuser_type
p153
Vregistered
p154
sVreputation
p155
I232317
sVlink
p156
Vhttp://stackoverflow.com/users/34211/andrew-hare
p157
sVaccept_rate
p158
I83
sVdisplay_name
p159
VAndrew Hare
p160
ssVis_accepted
p161
I01
sVlast_edit_date
p162
I1472026206
sVanswer_id
p163
I2414675
sa(dp164
Vbody
p165
V<p>I simply prefer to repeat the <code>property()</code> as well as you will repeat the <code>@classmethod</code> decorator when overriding a class method. </p>\u000a\u000a<p>While this seems very verbose, at least for Python standards, you may notice:</p>\u000a\u000a<p>1) for read only properties, <code>property</code> can be used as a decorator:</p>\u000a\u000a<pre><code>class Foo(object):\u000a    @property\u000a    def age(self):\u000a        return 11\u000a\u000aclass Bar(Foo):\u000a    @property\u000a    def age(self):\u000a        return 44\u000a</code></pre>\u000a\u000a<p>2) in Python 2.6, <a href="http://docs.python.org/library/functions.html#property" rel="noreferrer">properties grew a pair of methods</a> <code>setter</code> and <code>deleter</code> which can be used to apply to general properties the shortcut already available for read-only ones:</p>\u000a\u000a<pre><code>class C(object):\u000a    @property\u000a    def x(self):\u000a        return self._x\u000a\u000a    @x.setter\u000a    def x(self, value):\u000a        self._x = value\u000a</code></pre>\u000a
p166
sVquestion_id
p167
I237432
sVlast_activity_date
p168
I1453527606
sVcreation_date
p169
I1225018215
sVscore
p170
I62
sVowner
p171
(dp172
Vuser_id
p173
I10138
sVprofile_image
p174
Vhttps://www.gravatar.com/avatar/6819c2bab7a21ef6e1a8fcb982cc1459?s=128&d=identicon&r=PG
p175
sVuser_type
p176
Vregistered
p177
sVreputation
p178
I7349
sVlink
p179
Vhttp://stackoverflow.com/users/10138/piro
p180
sVdisplay_name
p181
Vpiro
p182
ssVis_accepted
p183
I01
sVlast_edit_date
p184
I1453527606
sVanswer_id
p185
I237858
sa(dp186
Vbody
p187
V<p>Another answer mentions <a href="http://flask-rauth.readthedocs.org/en/latest/">Flask-Rauth</a>, but doesn't go into detail about how to use it. There are a few Google-specific gotchas, but I have implemented it finally and it works well. I integrate it with Flask-Login so I can decorate my views with useful sugar like <code>@login_required</code>. </p>\u000a\u000a<p>I wanted to be able to support multiple OAuth2 providers, so part of the code is generic and based on Miguel Grinberg's excellent post about supporting OAuth2 with Facebook and Twitter <a href="http://blog.miguelgrinberg.com/post/oauth-authentication-with-flask">here</a>.</p>\u000a\u000a<p>First, add your specific Google authentication information from Google into your app's configuration:</p>\u000a\u000a<pre><code>GOOGLE_LOGIN_CLIENT_ID = "&lt;your-id-ending-with&gt;.apps.googleusercontent.com"\u000aGOOGLE_LOGIN_CLIENT_SECRET = "&lt;your-secret&gt;"\u000a\u000aOAUTH_CREDENTIALS={\u000a        'google': {\u000a            'id': GOOGLE_LOGIN_CLIENT_ID,\u000a            'secret': GOOGLE_LOGIN_CLIENT_SECRET\u000a        }\u000a}\u000a</code></pre>\u000a\u000a<p>And when you create your app (in my case, the module's <code>__init__.py</code>):</p>\u000a\u000a<pre><code>app = Flask(__name__)\u000aapp.config.from_object('config')\u000a</code></pre>\u000a\u000a<p>In your app module, create <strong>auth.py</strong>:</p>\u000a\u000a<pre><code>from flask import url_for, current_app, redirect, request\u000afrom rauth import OAuth2Service\u000a\u000aimport json, urllib2\u000a\u000aclass OAuthSignIn(object):\u000a    providers = None\u000a\u000a    def __init__(self, provider_name):\u000a        self.provider_name = provider_name\u000a        credentials = current_app.config['OAUTH_CREDENTIALS'][provider_name]\u000a        self.consumer_id = credentials['id']\u000a        self.consumer_secret = credentials['secret']\u000a\u000a    def authorize(self):\u000a        pass\u000a\u000a    def callback(self):\u000a        pass\u000a\u000a    def get_callback_url(self):\u000a        return url_for('oauth_callback', provider=self.provider_name,\u000a                        _external=True)\u000a\u000a    @classmethod\u000a    def get_provider(self, provider_name):\u000a        if self.providers is None:\u000a            self.providers={}\u000a            for provider_class in self.__subclasses__():\u000a                provider = provider_class()\u000a                self.providers[provider.provider_name] = provider\u000a        return self.providers[provider_name]\u000a\u000aclass GoogleSignIn(OAuthSignIn):\u000a    def __init__(self):\u000a        super(GoogleSignIn, self).__init__('google')\u000a        googleinfo = urllib2.urlopen('https://accounts.google.com/.well-known/openid-configuration')\u000a        google_params = json.load(googleinfo)\u000a        self.service = OAuth2Service(\u000a                name='google',\u000a                client_id=self.consumer_id,\u000a                client_secret=self.consumer_secret,\u000a                authorize_url=google_params.get('authorization_endpoint'),\u000a                base_url=google_params.get('userinfo_endpoint'),\u000a                access_token_url=google_params.get('token_endpoint')\u000a        )\u000a\u000a    def authorize(self):\u000a        return redirect(self.service.get_authorize_url(\u000a            scope='email',\u000a            response_type='code',\u000a            redirect_uri=self.get_callback_url())\u000a            )\u000a\u000a    def callback(self):\u000a        if 'code' not in request.args:\u000a            return None, None, None\u000a        oauth_session = self.service.get_auth_session(\u000a                data={'code': request.args['code'],\u000a                      'grant_type': 'authorization_code',\u000a                      'redirect_uri': self.get_callback_url()\u000a                     },\u000a                decoder = json.loads\u000a        )\u000a        me = oauth_session.get('').json()\u000a        return (me['name'],\u000a                me['email'])\u000a</code></pre>\u000a\u000a<p>This creates a generic <code>OAuthSignIn</code> class that can be subclassed. The Google subclass pulls its information from Google's published list of information (in JSON format <a href="https://accounts.google.com/.well-known/openid-configuration">here</a>). This is information that is subject to change, so this approach will make sure it is always up-to-date. One limitation of this is that if an Internet connection is not available on your server at the time the Flask application is initialized (the module imported), it will not be instantiated correctly. This should almost never be a problem, but storing last-known values in the configuration database to cover this eventuality is a good idea.</p>\u000a\u000a<p>Finally, the class returns a tuple of <code>name, email</code> in the <code>callback()</code> function. Google actually returns a lot more information, including the Google+ profile if available. Inspect the dictionary returned by <code>oauth_session.get('').json()</code> to see it all.\u000aIf in the <code>authorize()</code> function you expand the scope (for my app, <code>email</code> is sufficient), you can get access to even more information through the Google API.</p>\u000a\u000a<p>Next, write the <strong>views</strong> to tie it all together:</p>\u000a\u000a<pre><code>from flask.ext.login import login_user, logout_user, current_user, login_required\u000a\u000a@app.route('/authorize/&lt;provider&gt;')\u000adef oauth_authorize(provider):\u000a    # Flask-Login function\u000a    if not current_user.is_anonymous():\u000a        return redirect(url_for('index'))\u000a    oauth = OAuthSignIn.get_provider(provider)\u000a    return oauth.authorize()\u000a\u000a@app.route('/callback/&lt;provider&gt;')\u000adef oauth_callback(provider):\u000a    if not current_user.is_anonymous():\u000a        return redirect(url_for('index'))\u000a    oauth = OAuthSignIn.get_provider(provider)\u000a    username, email = oauth.callback()\u000a    if email is None:\u000a        # I need a valid email address for my user identification\u000a        flash('Authentication failed.')\u000a        return redirect(url_for('index'))\u000a    # Look if the user already exists\u000a    user=User.query.filter_by(email=email).first()\u000a    if not user:\u000a        # Create the user. Try and use their name returned by Google,\u000a        # but if it is not set, split the email address at the @.\u000a        nickname = username\u000a        if nickname is None or nickname == "":\u000a            nickname = email.split('@')[0]\u000a\u000a        # We can do more work here to ensure a unique nickname, if you \u000a        # require that.\u000a        user=User(nickname=nickname, email=email)\u000a        db.session.add(user)\u000a        db.session.commit()\u000a    # Log in the user, by default remembering them for their next visit\u000a    # unless they log out.\u000a    login_user(user, remember=True)\u000a    return redirect(url_for('index'))\u000a</code></pre>\u000a\u000a<p>Finally, my <code>/login</code> view and template to make it all happen:</p>\u000a\u000a<pre><code>@app.route('/login', methods=['GET', 'POST'])\u000adef login():\u000a    if g.user is not None and g.user.is_authenticated():\u000a        return redirect(url_for('index'))\u000a    return render_template('login.html',\u000a                           title='Sign In')\u000a</code></pre>\u000a\u000a<p>login.html:</p>\u000a\u000a<pre><code>{% extends "base.html" %}\u000a\u000a{% block content %}\u000a\u000a    &lt;div id="sign-in"&gt;\u000a        &lt;h1&gt;Sign In&lt;/h1&gt;\u000a        &lt;p&gt;\u000a        &lt;a href={{ url_for('oauth_authorize', provider='google') }}&gt;&lt;img src="{{ url_for('static', filename='img/sign-in-with-google.png') }}" /&gt;&lt;/a&gt;\u000a    &lt;/div&gt;\u000a{% endblock %}\u000a</code></pre>\u000a\u000a<p>Make sure the correct callback addresses are registered with Google, and the user should simply have to click on "Sign in with Google" on your login page, and it will register them and log them in.</p>\u000a
p188
sVquestion_id
p189
I9499286
sVlast_activity_date
p190
I1429064218
sVcreation_date
p191
I1429020401
sVscore
p192
I31
sVowner
p193
(dp194
Vuser_id
p195
I1960180
sVprofile_image
p196
Vhttps://i.stack.imgur.com/ScAeW.png?s=128&g=1
p197
sVuser_type
p198
Vregistered
p199
sVreputation
p200
I3055
sVlink
p201
Vhttp://stackoverflow.com/users/1960180/aaron-d
p202
sVaccept_rate
p203
I100
sVdisplay_name
p204
VAaron D
p205
ssVis_accepted
p206
I01
sVlast_edit_date
p207
I1429064218
sVanswer_id
p208
I29629536
sa(dp209
Vbody
p210
V<blockquote>\u000a  <p>Is there a function in the numpy API that finds both max and min with only a single pass through the data?</p>\u000a</blockquote>\u000a\u000a<p>No.  At the time of this writing, there is no such function.  (And yes, if there <em>were</em> such a function, its performance would be <em>significantly</em> better than calling <code>numpy.amin()</code> and <code>numpy.amax()</code> successively on a large array.)</p>\u000a
p211
sVquestion_id
p212
I12200580
sVlast_activity_date
p213
I1428081303
sVcreation_date
p214
I1428081303
sVscore
p215
I12
sVowner
p216
(dp217
Vuser_id
p218
I162094
sVprofile_image
p219
Vhttps://www.gravatar.com/avatar/f9d63598e5173aef56d778b6208e45fb?s=128&d=identicon&r=PG
p220
sVuser_type
p221
Vregistered
p222
sVreputation
p223
I5566
sVlink
p224
Vhttp://stackoverflow.com/users/162094/stuart-berg
p225
sVaccept_rate
p226
I43
sVdisplay_name
p227
VStuart Berg
p228
ssVis_accepted
p229
I01
sVanswer_id
p230
I29436730
sa(dp231
Vbody
p232
V<p>Yes, although it is not the so much the variable name that causes this, not directly.</p>\u000a\u000a<p>When Python exits, all modules are deleted too. The way modules are cleaned up is by setting all globals in a module to <code>None</code> (so those references no longer refer to the original objects). Those globals are keys in a dictionary object, and as dictionaries are ordered arbitrarily, renaming one variable can change the order in which variables are cleared.</p>\u000a\u000a<p>When you renamed <code>v</code> to <code>vb</code>, you altered the order in which variables are cleared, and now <code>Person</code> is cleared last.</p>\u000a\u000a<p>One work-around is to use <code>type(self).num_of_people -= 1</code> in the <code>__del__</code> method instead:</p>\u000a\u000a<pre><code>def __del__(self):\u000a    type(self).num_of_people -= 1\u000a</code></pre>\u000a\u000a<p>because the instance will always have a reference to the class still, or test if <code>Person</code> is not set to <code>None</code>:</p>\u000a\u000a<pre><code>def __del__(self):\u000a    if Person is not None:\u000a        Person.num_of_people -= 1\u000a</code></pre>\u000a\u000a<p>Two notes:</p>\u000a\u000a<ul>\u000a<li><p>CPython 3.4 no longer sets globals to <code>None</code> (in most cases), as per <a href="https://docs.python.org/3/whatsnew/3.4.html#whatsnew-pep-442" rel="nofollow">Safe Object Finalization</a>; see <a href="http://www.python.org/dev/peps/pep-0442/" rel="nofollow">PEP 442</a>.</p></li>\u000a<li><p>CPython 3.3 automatically applies a <a href="https://docs.python.org/3/reference/datamodel.html#object.__hash__" rel="nofollow">randomized hash salt</a> to the <code>str</code> keys used in a <code>globals</code> dictionary; this makes the behaviour you observed even more random, merely re-running your code several times may or may not trigger the error message.</p></li>\u000a</ul>\u000a
p233
sVquestion_id
p234
I22864764
sVlast_activity_date
p235
I1421773033
sVcreation_date
p236
I1396619728
sVscore
p237
I59
sVowner
p238
(dp239
Vuser_id
p240
I100297
sVprofile_image
p241
Vhttps://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG
p242
sVuser_type
p243
Vmoderator
p244
sVreputation
p245
I554897
sVlink
p246
Vhttp://stackoverflow.com/users/100297/martijn-pieters
p247
sVdisplay_name
p248
VMartijn Pieters
p249
ssVis_accepted
p250
I01
sVlast_edit_date
p251
I1421773033
sVanswer_id
p252
I22864840
sa(dp253
Vbody
p254
V<p>With a list literal, the VM creates the list with a set length. When passing a sequence to the <code>list()</code> constructor the elements are added one by one (via <a href="https://hg.python.org/releasing/3.4.2/file/10298f4f42dc/Objects/listobject.c#l781"><code>list.extend()</code></a>) and as such the list is resized when appropriate. Since the <a href="https://hg.python.org/releasing/3.4.2/file/10298f4f42dc/Objects/listobject.c#l25">resize operation</a> overallocates in order to amortize the cost, the final list will usually be larger than the source list.</p>\u000a
p255
sVquestion_id
p256
I27554464
sVlast_activity_date
p257
I1418932510
sVcreation_date
p258
I1418932510
sVscore
p259
I54
sVowner
p260
(dp261
Vuser_id
p262
I20862
sVprofile_image
p263
Vhttps://www.gravatar.com/avatar/2343ae368d3241278581ce6c87f62a25?s=128&d=identicon&r=PG
p264
sVuser_type
p265
Vregistered
p266
sVreputation
p267
I481018
sVlink
p268
Vhttp://stackoverflow.com/users/20862/ignacio-vazquez-abrams
p269
sVaccept_rate
p270
I60
sVdisplay_name
p271
VIgnacio Vazquez-Abrams
p272
ssVis_accepted
p273
I01
sVanswer_id
p274
I27554624
sa(dp275
Vbody
p276
V<p>This isn't about using inplace <code>+=</code> versus <code>+</code> binary add. You didn't tell us the whole story. Your original version concatenated 3 strings, not just two:</p>\u000a\u000a<pre><code>sTable = sTable + '\u005cn' + sRow  # simplified, sRow is a function call\u000a</code></pre>\u000a\u000a<p>Python tries to help out and optimises string concatenation; both when using <code>strobj += otherstrobj</code> and <code>strobj = strobj + otherstringobj</code>, but it cannot apply this optimisation when more than 2 strings are involved.</p>\u000a\u000a<p>Python strings are immutable <strong>normally</strong>, but if there are no other references to the left-hand string object <em>and</em> it is being rebound anyway, then Python cheats and <em>mutates the string</em>. This avoids having to create a new string each time you concatenate, and that can lead to a big speed improvement.</p>\u000a\u000a<p>This is implemented in the bytecode evaluation loop. Both when using <a href="http://hg.python.org/cpython/file/23a60d89dbd4/Python/ceval.c#l1202"><code>BINARY_ADD</code> on two strings</a> and when using <a href="http://hg.python.org/cpython/file/23a60d89dbd4/Python/ceval.c#l1406"><code>INPLACE_ADD</code> on two strings</a>, Python delegates concatenation to a special helper function <a href="http://hg.python.org/cpython/file/23a60d89dbd4/Python/ceval.c#l4507"><code>string_concatenate()</code></a>. To be able to optimize the concatenation by mutating the string, it first needs to make sure that the string has no other references to it; if only the stack and the original variable reference it then this can be done, <strong>and</strong> the <strong>next</strong> operation is going to replace the original variable reference.</p>\u000a\u000a<p>So if there are just 2 references to the string, and the next operator is one of <code>STORE_FAST</code> (set a local variable), <code>STORE_DEREF</code> (set a variable referenced by closed over functions) or <code>STORE_NAME</code> (set a global variable), and the affected variable currently references the same string, then that target variable is cleared to reduce the number of references to just 1, the stack.</p>\u000a\u000a<p>And this is why your original code could not use this optimization fully. The first part of your expression is <code>sTable + '\u005cn'</code> and the <em>next</em> operation is <em>another <code>BINARY_ADD</code></em>:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; import dis\u000a&gt;&gt;&gt; dis.dis(compile(r"sTable = sTable + '\u005cn' + sRow", '&lt;stdin&gt;', 'exec'))\u000a  1           0 LOAD_NAME                0 (sTable)\u000a              3 LOAD_CONST               0 ('\u005cn')\u000a              6 BINARY_ADD          \u000a              7 LOAD_NAME                1 (sRow)\u000a             10 BINARY_ADD          \u000a             11 STORE_NAME               0 (sTable)\u000a             14 LOAD_CONST               1 (None)\u000a             17 RETURN_VALUE        \u000a</code></pre>\u000a\u000a<p>The first <code>BINARY_ADD</code> is followed by a <code>LOAD_NAME</code> to access the <code>sRow</code> variable, not a store operation. This first <code>BINARY_ADD</code> must always result in a new string object, ever larger as <code>sTable</code> grows and it takes more and more time to create this new string object.</p>\u000a\u000a<p>You changed this code to:</p>\u000a\u000a<pre><code>sTable += '\u005cn%s' % sRow\u000a</code></pre>\u000a\u000a<p>which <strong>removed the second concatenation</strong>. Now the bytecode is:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; dis.dis(compile(r"sTable += '\u005cn%s' % sRow", '&lt;stdin&gt;', 'exec'))\u000a  1           0 LOAD_NAME                0 (sTable)\u000a              3 LOAD_CONST               0 ('\u005cn%s')\u000a              6 LOAD_NAME                1 (sRow)\u000a              9 BINARY_MODULO       \u000a             10 INPLACE_ADD         \u000a             11 STORE_NAME               0 (sTable)\u000a             14 LOAD_CONST               1 (None)\u000a             17 RETURN_VALUE        \u000a</code></pre>\u000a\u000a<p>and all we have left is an <code>INPLACE_ADD</code> followed by a store. Now <code>sTable</code> can be altered in-place, not resulting in a ever larger new string object.</p>\u000a\u000a<p>You'd have gotten the same speed difference with:</p>\u000a\u000a<pre><code>sTable = sTable + ('\u005cn%s' % sRow)\u000a</code></pre>\u000a\u000a<p>here.</p>\u000a\u000a<p>A time trial shows the difference:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; import random\u000a&gt;&gt;&gt; from timeit import timeit\u000a&gt;&gt;&gt; testlist = [''.join([chr(random.randint(48, 127)) for _ in range(random.randrange(10, 30))]) for _ in range(1000)]\u000a&gt;&gt;&gt; def str_threevalue_concat(lst):\u000a...     res = ''\u000a...     for elem in lst:\u000a...         res = res + '\u005cn' + elem\u000a... \u000a&gt;&gt;&gt; def str_twovalue_concat(lst):\u000a...     res = ''\u000a...     for elem in lst:\u000a...         res = res + ('\u005cn%s' % elem)\u000a... \u000a&gt;&gt;&gt; timeit('f(l)', 'from __main__ import testlist as l, str_threevalue_concat as f', number=10000)\u000a6.196403980255127\u000a&gt;&gt;&gt; timeit('f(l)', 'from __main__ import testlist as l, str_twovalue_concat as f', number=10000)\u000a2.3599119186401367\u000a</code></pre>\u000a\u000a<p>The moral of this story is that you should not be using string concatenation in the first place. The proper way to build a new string from loads of other strings is to use a list, then use <code>str.join()</code>:</p>\u000a\u000a<pre><code>table_rows = []\u000afor something in something_else:\u000a    table_rows += ['\u005cn', GetRow()]\u000asTable = ''.join(table_rows)\u000a</code></pre>\u000a\u000a<p>This is faster still:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; def str_join_concat(lst):\u000a...     res = ''.join(['\u005cn%s' % elem for elem in lst])\u000a... \u000a&gt;&gt;&gt; timeit('f(l)', 'from __main__ import testlist as l, str_join_concat as f', number=10000)\u000a1.7978830337524414\u000a</code></pre>\u000a\u000a<p>but you cannot beat using just <code>'\u005cn'.join(lst)</code>:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; timeit('f(l)', 'from __main__ import testlist as l, nl_join_concat as f', number=10000)\u000a0.23735499382019043\u000a</code></pre>\u000a
p277
sVquestion_id
p278
I25503703
sVlast_activity_date
p279
I1412675909
sVcreation_date
p280
I1409049458
sVscore
p281
I83
sVowner
p282
(dp283
Vuser_id
p284
I100297
sVprofile_image
p285
Vhttps://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG
p286
sVuser_type
p287
Vmoderator
p288
sVreputation
p289
I554897
sVlink
p290
Vhttp://stackoverflow.com/users/100297/martijn-pieters
p291
sVdisplay_name
p292
VMartijn Pieters
p293
ssVis_accepted
p294
I01
sVlast_edit_date
p295
I1412675909
sVanswer_id
p296
I25503738
sa(dp297
Vbody
p298
V<p>To select the <code>ith</code> row, <a href="http://pandas.pydata.org/pandas-docs/stable/indexing.html#different-choices-for-indexing-loc-iloc-and-ix">use <code>iloc</code></a>:</p>\u000a\u000a<pre><code>In [31]: df_test.iloc[0]\u000aOut[31]: \u000aATime     1.2\u000aX         2.0\u000aY        15.0\u000aZ         2.0\u000aBtime     1.2\u000aC        12.0\u000aD        25.0\u000aE        12.0\u000aName: 0, dtype: float64\u000a</code></pre>\u000a\u000a<p>To select the ith value in the <code>Btime</code> column you could use:</p>\u000a\u000a<pre><code>In [30]: df_test['Btime'].iloc[0]\u000aOut[30]: 1.2\u000a</code></pre>\u000a\u000a<hr>\u000a\u000a<p><strong>Warning</strong>: I had previously suggested <code>df_test.ix[i, 'Btime']</code>. But this is not guaranteed to give you the <code>ith</code> value since <code>ix</code> tries to index by <em>label</em> before trying to index by <em>position</em>. So if the DataFrame has an integer index which is not in sorted order starting at 0, then using <code>ix[i]</code> will return the row <em>labeled</em> <code>i</code> rather than the <code>ith</code> row. For example,</p>\u000a\u000a<pre><code>In [1]: df = pd.DataFrame({'foo':list('ABC')}, index=[0,2,1])\u000a\u000aIn [2]: df\u000aOut[2]: \u000a  foo\u000a0   A\u000a2   B\u000a1   C\u000a\u000aIn [4]: df.ix[1, 'foo']\u000aOut[4]: 'C'\u000a</code></pre>\u000a
p299
sVquestion_id
p300
I25254016
sVlast_activity_date
p301
I1407833193
sVcreation_date
p302
I1407800385
sVscore
p303
I98
sVowner
p304
(dp305
Vuser_id
p306
I190597
sVprofile_image
p307
Vhttps://www.gravatar.com/avatar/aabc98d5c6482ca0e1405ec97710f30a?s=128&d=identicon&r=PG&f=1
p308
sVuser_type
p309
Vregistered
p310
sVreputation
p311
I425294
sVlink
p312
Vhttp://stackoverflow.com/users/190597/unutbu
p313
sVaccept_rate
p314
I88
sVdisplay_name
p315
Vunutbu
p316
ssVis_accepted
p317
I01
sVlast_edit_date
p318
I1407833193
sVanswer_id
p319
I25254087
sa(dp320
Vbody
p321
V<p>The default <code>unittest.main()</code> uses the default test loader to make a TestSuite out of the module in which main is running.</p>\u000a\u000a<p>You don't have to use this default behavior.</p>\u000a\u000a<p>You can, for example, make three <a href="http://docs.python.org/library/unittest.html#unittest.TestSuite" rel="noreferrer">unittest.TestSuite</a> instances.</p>\u000a\u000a<ol>\u000a<li><p>The "fast" subset.</p>\u000a\u000a<pre><code>fast = TestSuite()\u000afast.addTests( TestFastThis )\u000afast.addTests( TestFastThat )\u000a</code></pre></li>\u000a<li><p>The "slow" subset.</p>\u000a\u000a<pre><code>slow = TestSuite()\u000aslow.addTests( TestSlowAnother )\u000aslow.addTests( TestSlowSomeMore )\u000a</code></pre></li>\u000a<li><p>The "whole" set.</p>\u000a\u000a<pre><code>alltests = unittest.TestSuite([fast, slow])\u000a</code></pre></li>\u000a</ol>\u000a\u000a<p>Note that I've adjusted the TestCase names to indicate Fast vs. Slow.  You can subclass\u000aunittest.TestLoader to parse the names of classes and create multiple loaders.</p>\u000a\u000a<p>Then your main program can parse command-line arguments with <a href="http://docs.python.org/library/optparse.html" rel="noreferrer">optparse</a> or <a href="https://docs.python.org/dev/library/argparse.html" rel="noreferrer">argparse</a> (available since 2.7 or 3.2) to pick which suite you want to run, fast, slow or all.</p>\u000a\u000a<p>Or, you can trust that <code>sys.argv[1]</code> is one of three values and use something as simple as this</p>\u000a\u000a<pre><code>if __name__ == "__main__":\u000a    suite = eval(sys.argv[1])  # Be careful with this line!\u000a    unittest.TextTestRunner().run(suite)\u000a</code></pre>\u000a
p322
sVquestion_id
p323
I1068246
sVlast_activity_date
p324
I1407186450
sVcreation_date
p325
I1246443807
sVscore
p326
I41
sVowner
p327
(dp328
Vuser_id
p329
I10661
sVprofile_image
p330
Vhttps://www.gravatar.com/avatar/c2c732bbf13dc96670b210b3c0c1ead5?s=128&d=identicon&r=PG
p331
sVuser_type
p332
Vregistered
p333
sVreputation
p334
I277525
sVlink
p335
Vhttp://stackoverflow.com/users/10661/s-lott
p336
sVaccept_rate
p337
I92
sVdisplay_name
p338
VS.Lott
p339
ssVis_accepted
p340
I01
sVlast_edit_date
p341
I1407186450
sVanswer_id
p342
I1068366
sa(dp343
Vbody
p344
V<p>Try something like this:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; from docutils.core import publish_string\u000a&gt;&gt;&gt; publish_string("*anurag*", writer_name='html')\u000a</code></pre>\u000a\u000a<p><code>publish_string</code> accepts a strings and outputs a string or you can use <a href="http://docutils.sourceforge.net/docs/api/publisher.html#publish-parts-details" rel="noreferrer">publish_parts</a> to get specific parts of html document e.g.</p>\u000a\u000a<pre><code>&gt;&gt;&gt; from docutils.core import publish_parts\u000a&gt;&gt;&gt; print publish_parts("*anurag*", writer_name='html')['html_body']\u000a&lt;p&gt;&lt;em&gt;anurag&lt;/em&gt;&lt;/p&gt;\u000a</code></pre>\u000a
p345
sVquestion_id
p346
I6654519
sVlast_activity_date
p347
I1404694689
sVcreation_date
p348
I1310408185
sVscore
p349
I55
sVowner
p350
(dp351
Vuser_id
p352
I6946
sVprofile_image
p353
Vhttps://www.gravatar.com/avatar/766dcbbf898a4b10cfc1b34f70076f2a?s=128&d=identicon&r=PG
p354
sVuser_type
p355
Vregistered
p356
sVreputation
p357
I46374
sVlink
p358
Vhttp://stackoverflow.com/users/6946/anurag-uniyal
p359
sVaccept_rate
p360
I89
sVdisplay_name
p361
VAnurag Uniyal
p362
ssVis_accepted
p363
I01
sVlast_edit_date
p364
I1404694689
sVanswer_id
p365
I6654576
sa(dp366
Vbody
p367
V<p>Oh, it's much "worse" than that:</p>\u000a\u000a<pre><code>In [2]: numpy.power(10,-1)   \u000aOut[2]: 0\u000a</code></pre>\u000a\u000a<p>But this is a hint to what's going on: <code>10</code> is an integer, and <code>numpy.power</code> doesn't coerce the numbers to floats. But this works:</p>\u000a\u000a<pre><code>In [3]: numpy.power(10.,-1)\u000aOut[3]: 0.10000000000000001\u000a\u000aIn [4]: numpy.power(10.,-100)\u000aOut[4]: 1e-100\u000a</code></pre>\u000a\u000a<p>Note, however, that the power operator, <code>**</code>, <em>does</em> convert to float:</p>\u000a\u000a<pre><code>In [5]: 10**-1\u000aOut[5]: 0.1\u000a</code></pre>\u000a
p368
sVquestion_id
p369
I22956139
sVlast_activity_date
p370
I1397030618
sVcreation_date
p371
I1397030235
sVscore
p372
I69
sVowner
p373
(dp374
Vuser_id
p375
I12266
sVprofile_image
p376
Vhttps://www.gravatar.com/avatar/6a2a454191fa75d4114ed05836a0b924?s=128&d=identicon&r=PG
p377
sVuser_type
p378
Vregistered
p379
sVreputation
p380
I14329
sVlink
p381
Vhttp://stackoverflow.com/users/12266/andrew-jaffe
p382
sVaccept_rate
p383
I43
sVdisplay_name
p384
VAndrew Jaffe
p385
ssVis_accepted
p386
I01
sVlast_edit_date
p387
I1397030618
sVanswer_id
p388
I22956238
sa(dp389
Vbody
p390
V<p>So I have ElementTree 1.2.6 on my box now, and ran the following code against the XML chunk you posted: </p>\u000a\u000a<pre><code>import elementtree.ElementTree as ET\u000a\u000atree = ET.parse("test.xml")\u000adoc = tree.getroot()\u000athingy = doc.find('timeSeries')\u000a\u000aprint thingy.attrib\u000a</code></pre>\u000a\u000a<p>and got the following back:</p>\u000a\u000a<pre><code>{'name': 'NWIS Time Series Instantaneous Values'}\u000a</code></pre>\u000a\u000a<p>It appears to have found the timeSeries element without needing to use numerical indices.</p>\u000a\u000a<p>What would be useful now is knowing what you mean when you say "it doesn't work." Since it works for me given the same input, it is unlikely that ElementTree is broken in some obvious way. Update your question with any error messages, backtraces, or anything you can provide to help us help you.</p>\u000a
p391
sVquestion_id
p392
I1786476
sVlast_activity_date
p393
I1396723129
sVcreation_date
p394
I1259016154
sVscore
p395
I36
sVowner
p396
(dp397
Vuser_id
p398
I50013
sVprofile_image
p399
Vhttps://www.gravatar.com/avatar/77a00c5635247f4cd9f378989808a593?s=128&d=identicon&r=PG
p400
sVuser_type
p401
Vregistered
p402
sVreputation
p403
I3058
sVlink
p404
Vhttp://stackoverflow.com/users/50013/ed-carrel
p405
sVdisplay_name
p406
VEd Carrel
p407
ssVis_accepted
p408
I01
sVlast_edit_date
p409
I1396723129
sVanswer_id
p410
I1786583
sa(dp411
Vbody
p412
V<p>I used to use Nose because it was the default with Pylons.  I didn't like it at all.  It had configuration tendrils in multiple places, virtually everything seemed to be done with an underdocumented plugin which made it all even more indirect and confusing, and because it did unittest tests by default, it regularly broke with Unicode tracebacks, hiding the sources of errors.</p>\u000a\u000a<p>I've been pretty happy with py.test the last couple years.  Being able to just write a test with <code>assert</code> out of the box makes me hate writing tests <em>way</em> less, and hacking whatever I need atop the core has been pretty easy.  Rather than a fixed plugin interface it just has piles of hooks, and pretty understandable source code should you need to dig further.  I even wrote an adapter for running Testify tests under py.test, and had more trouble with Testify than with py.test.</p>\u000a\u000a<p>That said, I hear nose has plugins for classless tests and assert introspection nowadays, so you'll probably do fine with either.  I still feel like I can hit the ground running with py.test, though, and I can understand what's going on when it breaks.</p>\u000a
p413
sVquestion_id
p414
I22856638
sVlast_activity_date
p415
I1396598177
sVcreation_date
p416
I1396598177
sVscore
p417
I51
sVowner
p418
(dp419
Vuser_id
p420
I17875
sVprofile_image
p421
Vhttps://www.gravatar.com/avatar/9589a0b8efc6bb869bedfa51e7d28f16?s=128&d=identicon&r=PG
p422
sVuser_type
p423
Vregistered
p424
sVreputation
p425
I29763
sVlink
p426
Vhttp://stackoverflow.com/users/17875/eevee
p427
sVdisplay_name
p428
VEevee
p429
ssVis_accepted
p430
I01
sVanswer_id
p431
I22856817
sa(dp432
Vbody
p433
V<p>This is actually a pretty challenging problem that you are asking. Computing sentence similarity requires building a grammatical model of the sentence, understanding equivalent structures (e.g. "he walked to the store yesterday" and "yesterday, he walked to the store"), finding similarity not just in the pronouns and verbs but also in the proper nouns, finding statistical co-occurences / relationships in lots of real textual examples, etc.</p>\u000a\u000a<p>The simplest thing you could try -- though I don't know how well this would perform and it would certainly not give you the optimal results -- would be to first remove all "stop" words (words like "the", "an", etc. that don't add much meaning to the sentence) and then run word2vec on the words in both sentences, sum up the vectors in the one sentence, sum up the vectors in the other sentence, and then find the difference between the sums. By summing them up instead of doing a word-wise difference, you'll at least not be subject to word order. That being said, this will fail in lots of ways and isn't a good solution by any means (though good solutions to this problem almost always involve some amount of NLP, machine learning, and other cleverness).</p>\u000a\u000a<p>So, short answer is, no, there's no easy way to do this (at least not to do it well).</p>\u000a
p434
sVquestion_id
p435
I22129943
sVlast_activity_date
p436
I1393777096
sVcreation_date
p437
I1393777096
sVscore
p438
I43
sVowner
p439
(dp440
Vuser_id
p441
I136540
sVprofile_image
p442
Vhttps://www.gravatar.com/avatar/a4d5888f021e337d09be5b3109c11e72?s=128&d=identicon&r=PG
p443
sVuser_type
p444
Vregistered
p445
sVreputation
p446
I66863
sVlink
p447
Vhttp://stackoverflow.com/users/136540/michael-aaron-safyan
p448
sVaccept_rate
p449
I83
sVdisplay_name
p450
VMichael Aaron Safyan
p451
ssVis_accepted
p452
I01
sVanswer_id
p453
I22130100
sa(dp454
Vbody
p455
V<p>I think <code>df.replace()</code> does the job:</p>\u000a\u000a<pre><code>df = pd.DataFrame([\u000a    [-0.532681, 'foo', 0],\u000a    [1.490752, 'bar', 1],\u000a    [-1.387326, 'foo', 2],\u000a    [0.814772, 'baz', ' '],     \u000a    [-0.222552, '   ', 4],\u000a    [-1.176781,  'qux', '  '],         \u000a], columns='A B C'.split(), index=pd.date_range('2000-01-01','2000-01-06'))\u000a\u000aprint df.replace(r'\u005cs+', np.nan, regex=True)\u000a</code></pre>\u000a\u000a<p>Produces:</p>\u000a\u000a<pre><code>                   A    B   C\u000a2000-01-01 -0.532681  foo   0\u000a2000-01-02  1.490752  bar   1\u000a2000-01-03 -1.387326  foo   2\u000a2000-01-04  0.814772  baz NaN\u000a2000-01-05 -0.222552  NaN   4\u000a2000-01-06 -1.176781  qux NaN\u000a</code></pre>\u000a
p456
sVquestion_id
p457
I13445241
sVlast_activity_date
p458
I1393026221
sVcreation_date
p459
I1393008533
sVscore
p460
I54
sVowner
p461
(dp462
Vuser_id
p463
I2336373
sVprofile_image
p464
Vhttps://www.gravatar.com/avatar/9fb2c40dea0d86bec8c132f1aa9e2b12?s=128&d=identicon&r=PG
p465
sVuser_type
p466
Vregistered
p467
sVreputation
p468
I1569
sVlink
p469
Vhttp://stackoverflow.com/users/2336373/patricksurry
p470
sVaccept_rate
p471
I44
sVdisplay_name
p472
Vpatricksurry
p473
ssVis_accepted
p474
I01
sVlast_edit_date
p475
I1393026221
sVanswer_id
p476
I21942746
sa(dp477
Vbody
p478
V<p>Funny you brought this up, I just had the exact same problem. I solved it eventually, but I'm still unsure as to what caused it.</p>\u000a\u000a<p>Try checking your <code>bin/pip</code> and <code>bin/activate</code> scripts. In <code>bin/pip</code>, look at the shebang. Is it correct? If not, correct it. Then on line ~<code>42</code> in your <code>bin/activate</code>, check to see if your virtualenv path is right. It'll look something like this</p>\u000a\u000a<pre><code>VIRTUAL_ENV="/Users/me/path/to/virtual/environment"\u000a</code></pre>\u000a\u000a<p>If it's wrong, correct it, <code>deactivate</code>, then <code>. bin/activate</code>, and if our mutual problem had the same cause, it should work. If it still doesn't, you're on the right track, anyway. I went through the same problem solving routine as you did, <code>which pip</code>ing over and over, following the stack trace, etc.</p>\u000a\u000a<p>Make absolutely sure that</p>\u000a\u000a<pre><code>/Users/kristof/VirtualEnvs/testpy3/bin/pip3\u000a</code></pre>\u000a\u000a<p>is what you want, and not referring to another similarly-named test project (I had that problem, and have no idea how it started. My suspicion is running multiple virtualenvs at the same time).</p>\u000a\u000a<p>If none of this works, a temporary solution may be to, as Joe Holloway said,</p>\u000a\u000a<blockquote>\u000a  <p>Just run the virtualenv's pip with its full path (i.e. don't rely on searching the executable path) and you don't even need to activate the environment. It will do the right thing.</p>\u000a</blockquote>\u000a\u000a<p>Perhaps not ideal, but it ought to work in a pinch.</p>\u000a\u000a<p>Link to my original question:</p>\u000a\u000a<p><a href="http://stackoverflow.com/questions/20942982/virtualenv-pip-trying-to-install-packages-globally">VirtualEnv/Pip trying to install packages globally</a></p>\u000a
p479
sVquestion_id
p480
I20952797
sVlast_activity_date
p481
I1389026797
sVcreation_date
p482
I1389026450
sVscore
p483
I46
sVowner
p484
(dp485
Vuser_id
p486
I2243137
sVprofile_image
p487
Vhttps://i.stack.imgur.com/ZlG8p.jpg?s=128&g=1
p488
sVuser_type
p489
Vregistered
p490
sVreputation
p491
I983
sVlink
p492
Vhttp://stackoverflow.com/users/2243137/chase-ries
p493
sVdisplay_name
p494
VChase Ries
p495
ssVis_accepted
p496
I01
sVlast_edit_date
p497
I1389026797
sVanswer_id
p498
I20954767
sa(dp499
Vbody
p500
V<blockquote>\u000a  <p><a href="http://docs.python.org/library/signal.html" rel="noreferrer">17.4. signal \u2014 Set handlers for asynchronous events</a></p>\u000a  \u000a  <p>Although Python signal handlers are called asynchronously as far as the Python user is concerned, they can only occur between the \u201catomic\u201d instructions of the Python interpreter. This means that signals arriving during long calculations implemented purely in C (such as regular expression matches on large bodies of text) may be delayed for an arbitrary amount of time.</p>\u000a</blockquote>\u000a\u000a<p>That means Python cannot handle signals while the Qt event loop is running. Only when the Python interpreter run (when the QApplication quits, or when a Python function is called from Qt) the signal handler will be called.</p>\u000a\u000a<p>A solution is to use a QTimer to let the interpreter run from time to time.</p>\u000a\u000a<p>Note that, in the code below, if there are no open windows, the application will quit after the message box regardless of the user's choice because QApplication.quitOnLastWindowClosed() == True. This behaviour can be changed.</p>\u000a\u000a<pre><code>import signal\u000aimport sys\u000a\u000afrom PyQt4.QtCore import QTimer\u000afrom PyQt4.QtGui import QApplication, QMessageBox\u000a\u000a# Your code here\u000a\u000adef sigint_handler(*args):\u000a    """Handler for the SIGINT signal."""\u000a    sys.stderr.write('\u005cr')\u000a    if QMessageBox.question(None, '', "Are you sure you want to quit?",\u000a                            QMessageBox.Yes | QMessageBox.No,\u000a                            QMessageBox.No) == QMessageBox.Yes:\u000a        QApplication.quit()\u000a\u000aif __name__ == "__main__":\u000a    signal.signal(signal.SIGINT, sigint_handler)\u000a    app = QApplication(sys.argv)\u000a    timer = QTimer()\u000a    timer.start(500)  # You may change this if you wish.\u000a    timer.timeout.connect(lambda: None)  # Let the interpreter run each 500 ms.\u000a    # Your code here.\u000a    sys.exit(app.exec_())\u000a</code></pre>\u000a\u000a<p>Another possible solution, <a href="http://stackoverflow.com/a/6072360/286655">as pointed by LinearOrbit</a>, is <code>signal.signal(signal.SIGINT, signal.SIG_DFL)</code>, but it doesn't allow custom handlers.</p>\u000a
p501
sVquestion_id
p502
I4938723
sVlast_activity_date
p503
I1388219741
sVcreation_date
p504
I1297203142
sVscore
p505
I33
sVowner
p506
(dp507
Vuser_id
p508
I286655
sVprofile_image
p509
Vhttps://www.gravatar.com/avatar/0c9bf5815875df6482e3fd6c0f237bd6?s=128&d=identicon&r=PG
p510
sVuser_type
p511
Vregistered
p512
sVreputation
p513
I2955
sVlink
p514
Vhttp://stackoverflow.com/users/286655/artur-gaspar
p515
sVdisplay_name
p516
VArtur Gaspar
p517
ssVis_accepted
p518
I01
sVlast_edit_date
p519
I1388219741
sVanswer_id
p520
I4939113
sa(dp521
Vbody
p522
V<p>That is a very strange way to organize things.  If you stored in a dictionary, this is easy:</p>\u000a\u000a<pre><code># This example should work in any version of Python.\u000a# urls_d will contain URL keys, with counts as values, like: {'http://www.google.fr/' : 1 }\u000aurls_d = {}\u000afor url in list_of_urls:\u000a    if not url in urls_d:\u000a        urls_d[url] = 1\u000a    else:\u000a        urls_d[url] += 1\u000a</code></pre>\u000a\u000a<p>This code for updating a dictionary of counts is a common "pattern" in Python.  It is so common that there is a special data structure, <code>defaultdict</code>, created just to make this even easier:</p>\u000a\u000a<pre><code>from collections import defaultdict  # available in Python 2.5 and newer\u000a\u000aurls_d = defaultdict(int)\u000afor url in list_of_urls:\u000a    urls_d[url] += 1\u000a</code></pre>\u000a\u000a<p>If you access the <code>defaultdict</code> using a key, and the key is not already in the <code>defaultdict</code>, the key is automatically added with a default value.  The <code>defaultdict</code> takes the callable you passed in, and calls it to get the default value.  In this case, we passed in class <code>int</code>; when Python calls <code>int()</code> it returns a zero value.  So, the first time you reference a URL, its count is initialized to zero, and then you add one to the count.</p>\u000a\u000a<p>But a dictionary full of counts is also a common pattern, so Python provides a ready-to-use class: <code>containers.Counter</code>  You just create a <code>Counter</code> instance by calling the class, passing in any iterable; it builds a dictionary where the keys are values from the iterable, and the values are counts of how many times the key appeared in the iterable.  The above example then becomes:</p>\u000a\u000a<pre><code>from collections import Counter  # available in Python 2.7 and newer\u000a\u000aurls_d = Counter(list_of_urls)\u000a</code></pre>\u000a\u000a<p>If you really need to do it the way you showed, the easiest and fastest way would be to use any one of these three examples, and then build the one you need.</p>\u000a\u000a<pre><code>from collections import defaultdict  # available in Python 2.5 and newer\u000a\u000aurls_d = defaultdict(int)\u000afor url in list_of_urls:\u000a    urls_d[url] += 1\u000a\u000aurls = [{"url": key, "nbr": value} for key, value in urls_d.items()]\u000a</code></pre>\u000a\u000a<p>If you are using Python 2.7 or newer you can do it in a one-liner:</p>\u000a\u000a<pre><code>from collections import Counter\u000a\u000aurls = [{"url": key, "nbr": value} for key, value in Counter(list_of_urls).items()]\u000a</code></pre>\u000a
p523
sVquestion_id
p524
I1692388
sVlast_activity_date
p525
I1382989587
sVcreation_date
p526
I1257582498
sVscore
p527
I98
sVowner
p528
(dp529
Vuser_id
p530
I166949
sVprofile_image
p531
Vhttps://i.stack.imgur.com/tIFie.png?s=128&g=1
p532
sVuser_type
p533
Vregistered
p534
sVreputation
p535
I43195
sVlink
p536
Vhttp://stackoverflow.com/users/166949/steveha
p537
sVaccept_rate
p538
I90
sVdisplay_name
p539
Vsteveha
p540
ssVis_accepted
p541
I01
sVlast_edit_date
p542
I1382989587
sVanswer_id
p543
I1692428
sa(dp544
Vbody
p545
V<p>Try this:</p>\u000a\u000a<pre><code>a = 1\u000ab = 2\u000aint_div  = a // b\u000a</code></pre>\u000a
p546
sVquestion_id
p547
I19507808
sVlast_activity_date
p548
I1382408005
sVcreation_date
p549
I1382407739
sVscore
p550
I75
sVowner
p551
(dp552
Vuser_id
p553
I2055970
sVprofile_image
p554
Vhttps://i.stack.imgur.com/hJull.jpg?s=128&g=1
p555
sVuser_type
p556
Vregistered
p557
sVreputation
p558
I2385
sVlink
p559
Vhttp://stackoverflow.com/users/2055970/lucas-ribeiro
p560
sVaccept_rate
p561
I17
sVdisplay_name
p562
VLucas Ribeiro
p563
ssVis_accepted
p564
I01
sVlast_edit_date
p565
I1382408005
sVanswer_id
p566
I19507865
sa(dp567
Vbody
p568
V<p>The real reason that borg is different comes down to subclassing.</p>\u000a\u000a<p>If you subclass a borg, the subclass' objects have the same state as their parents classes objects, unless you explicitly override the shared state in that subclass. Each subclass of the singleton pattern has its own state and therefore will produce different objects.</p>\u000a\u000a<p>Also in the singleton pattern the objects are actually the same, not just the state (even though the state is the only thing that really matters).</p>\u000a
p569
sVquestion_id
p570
I1318406
sVlast_activity_date
p571
I1376821383
sVcreation_date
p572
I1251030142
sVscore
p573
I41
sVowner
p574
(dp575
Vuser_id
p576
I20842
sVprofile_image
p577
Vhttps://www.gravatar.com/avatar/864a8a9f22aacdae61e6995460103752?s=128&d=identicon&r=PG
p578
sVuser_type
p579
Vregistered
p580
sVreputation
p581
I9011
sVlink
p582
Vhttp://stackoverflow.com/users/20842/david-raznick
p583
sVdisplay_name
p584
VDavid Raznick
p585
ssVis_accepted
p586
I01
sVlast_edit_date
p587
I1376821383
sVanswer_id
p588
I1318444
sa(dp589
Vbody
p590
V<p>Here's a list of the programs you can install on windows:</p>\u000a\u000a<p><a href="http://www.lfd.uci.edu/~gohlke/pythonlibs/">http://www.lfd.uci.edu/~gohlke/pythonlibs/</a></p>\u000a\u000a<p>And you'll need the following dependencies:\u000aRequires numpy, dateutil, pytz, pyparsing, six</p>\u000a
p591
sVquestion_id
p592
I18280436
sVlast_activity_date
p593
I1376681499
sVcreation_date
p594
I1376681499
sVscore
p595
I66
sVowner
p596
(dp597
Vuser_id
p598
I591183
sVprofile_image
p599
Vhttps://www.gravatar.com/avatar/6ffdb22d234c304eb30eaa729162efe0?s=128&d=identicon&r=PG
p600
sVuser_type
p601
Vregistered
p602
sVreputation
p603
I708
sVlink
p604
Vhttp://stackoverflow.com/users/591183/takrliu
p605
sVdisplay_name
p606
Vtakrliu
p607
ssVis_accepted
p608
I01
sVanswer_id
p609
I18280786
sa(dp610
Vbody
p611
V<p>You can list all files in the current directory using:</p>\u000a\u000a<pre><code>import os\u000afor filename in os.listdir(os.getcwd()):\u000a   # do your stuff\u000a</code></pre>\u000a\u000a<p>Or you can list only some files, depending on the file pattern using the <code>glob</code> module:</p>\u000a\u000a<pre><code>import glob\u000afor filename in glob.glob('*.txt'):\u000a   # do your stuff\u000a</code></pre>\u000a\u000a<p>It doesn't have to be the current directory you can list them in any path you want:</p>\u000a\u000a<pre><code>path = '/some/path/to/file'\u000a\u000afor filename in os.listdir(path):\u000a    # do your stuff\u000a\u000afor filename in glob.glob(os.path.join(path, '*.txt')):\u000a    # do your stuff\u000a</code></pre>\u000a\u000a<p>Or you can even use the pipe as you specified using <code>fileinput</code></p>\u000a\u000a<pre><code>import fileinput\u000afor line in fileinput.input():\u000a    # do your stuff\u000a</code></pre>\u000a\u000a<p>And then use it with piping:</p>\u000a\u000a<pre><code>ls -1 | python parse.py\u000a</code></pre>\u000a
p612
sVquestion_id
p613
I18262293
sVlast_activity_date
p614
I1376608402
sVcreation_date
p615
I1376602718
sVscore
p616
I141
sVowner
p617
(dp618
Vuser_id
p619
I2199958
sVprofile_image
p620
Vhttps://www.gravatar.com/avatar/3a72b60a81fb6e164436524470a1b41d?s=128&d=identicon&r=PG
p621
sVuser_type
p622
Vregistered
p623
sVreputation
p624
I19987
sVlink
p625
Vhttp://stackoverflow.com/users/2199958/viktor-kerkez
p626
sVdisplay_name
p627
VViktor Kerkez
p628
ssVis_accepted
p629
I01
sVlast_edit_date
p630
I1376608402
sVanswer_id
p631
I18262324
sa(dp632
Vbody
p633
V<p>Straight from the python documentation:\u000a<a href="http://docs.python.org/reference/executionmodel.html" rel="noreferrer">http://docs.python.org/reference/executionmodel.html</a></p>\u000a\u000a<blockquote>\u000a  <p>By default, when in the <code>__main__</code> module, <code>__builtins__</code> is the\u000a  built-in module <code>__builtin__</code> (note: no 's'); when in any other\u000a  module, <code>__builtins__</code> is an alias for the dictionary of the\u000a  <code>__builtin__</code> module itself. </p>\u000a  \u000a  <p><code>__builtins__</code> can be set to a user-created dictionary to create a\u000a  weak form of restricted execution.</p>\u000a  \u000a  <p><strong>CPython implementation detail:</strong> Users should not touch <code>__builtins__</code>; it is strictly an implementation detail.  Users\u000a  wanting to override values in the builtins namespace should <code>import</code>\u000a  the <code>__builtin__</code> (no 's') module and modify its attributes\u000a  appropriately. The namespace for a module is automatically created the\u000a  first time a module is imported.</p>\u000a</blockquote>\u000a\u000a<p>Note that in Python3, the module <code>__builtin__</code> has been renamed to <code>builtins</code> to avoid some of this confusion.</p>\u000a
p634
sVquestion_id
p635
I11181519
sVlast_activity_date
p636
I1376466781
sVcreation_date
p637
I1340575821
sVscore
p638
I46
sVowner
p639
(dp640
Vuser_id
p641
I19531
sVprofile_image
p642
Vhttps://www.gravatar.com/avatar/15b21ef43c9e335448280fc051ada9c4?s=128&d=identicon&r=PG
p643
sVuser_type
p644
Vregistered
p645
sVreputation
p646
I2790
sVlink
p647
Vhttp://stackoverflow.com/users/19531/akent
p648
sVdisplay_name
p649
Vakent
p650
ssVis_accepted
p651
I01
sVlast_edit_date
p652
I1376466781
sVanswer_id
p653
I11181607
sa(dp654
Vbody
p655
V<p>You can do this easily with a matplotlib <a href="http://matplotlib.org/mpl_toolkits/axes_grid/users/overview.html#axesdivider" rel="noreferrer">AxisDivider</a>.</p>\u000a\u000a<p>The example from the linked page also works without using subplots:</p>\u000a\u000a<pre><code>import matplotlib.pyplot as plt\u000afrom mpl_toolkits.axes_grid1 import make_axes_locatable\u000aimport numpy as np\u000a\u000aplt.figure()\u000aax = plt.gca()\u000aim = ax.imshow(np.arange(100).reshape((10,10)))\u000a\u000a# create an axes on the right side of ax. The width of cax will be 5%\u000a# of ax and the padding between cax and ax will be fixed at 0.05 inch.\u000adivider = make_axes_locatable(ax)\u000acax = divider.append_axes("right", size="5%", pad=0.05)\u000a\u000aplt.colorbar(im, cax=cax)\u000a</code></pre>\u000a\u000a<p><img src="https://i.stack.imgur.com/k13gf.png" alt="enter image description here"></p>\u000a
p656
sVquestion_id
p657
I18195758
sVlast_activity_date
p658
I1376340004
sVcreation_date
p659
I1376338555
sVscore
p660
I67
sVowner
p661
(dp662
Vuser_id
p663
I1361822
sVprofile_image
p664
Vhttps://www.gravatar.com/avatar/273deb3577b8c3aa4d669528784b3e12?s=128&d=identicon&r=PG
p665
sVuser_type
p666
Vregistered
p667
sVreputation
p668
I8040
sVlink
p669
Vhttp://stackoverflow.com/users/1361822/bogatron
p670
sVaccept_rate
p671
I88
sVdisplay_name
p672
Vbogatron
p673
ssVis_accepted
p674
I01
sVlast_edit_date
p675
I1376340004
sVanswer_id
p676
I18195921
sa(dp677
Vbody
p678
V<p><code>add_mutually_exclusive_group</code> doesn't make an entire group mutually exclusive. It makes options within the group mutually exclusive.</p>\u000a\u000a<p>What you're looking for is <a href="http://docs.python.org/dev/library/argparse.html#sub-commands" rel="noreferrer">subcommands</a>. Instead of prog [ -a xxxx | [-b yyy -c zzz]], you'd have:</p>\u000a\u000a<pre><code>prog \u000a  command 1 \u000a    -a: ...\u000a  command 2\u000a    -b: ...\u000a    -c: ...\u000a</code></pre>\u000a\u000a<p>To invoke with the first set of arguments:</p>\u000a\u000a<pre><code>prog command_1 -a xxxx\u000a</code></pre>\u000a\u000a<p>To invoke with the second set of arguments:</p>\u000a\u000a<pre><code>prog command_2 -b yyyy -c zzzz\u000a</code></pre>\u000a\u000a<p>You can also set the sub command arguments as positional.</p>\u000a\u000a<pre><code>prog command_1 xxxx\u000a</code></pre>\u000a\u000a<p>Kind of like git or svn:</p>\u000a\u000a<pre><code>git commit -am\u000agit merge develop\u000a</code></pre>\u000a\u000a<h2>Working Example</h2>\u000a\u000a<pre><code># create the top-level parser\u000aparser = argparse.ArgumentParser(prog='PROG')\u000aparser.add_argument('--foo', action='store_true', help='help for foo arg.')\u000asubparsers = parser.add_subparsers(help='help for subcommand')\u000a\u000a# create the parser for the "command_1" command\u000aparser_a = subparsers.add_parser('command_1', help='command_1 help')\u000aparser_a.add_argument('a', type=str, help='help for bar, positional')\u000a\u000a# create the parser for the "command_2" command\u000aparser_b = subparsers.add_parser('command_2', help='help for command_2')\u000aparser_b.add_argument('-b', type=str, help='help for b')\u000aparser_b.add_argument('-c', type=str, action='store', default='', help='test')\u000a</code></pre>\u000a\u000a<h2>Test it</h2>\u000a\u000a<pre><code>&gt;&gt;&gt; parser.print_help()\u000ausage: PROG [-h] [--foo] {command_1,command_2} ...\u000a\u000apositional arguments:\u000a  {command_1,command_2}\u000a                        help for subcommand\u000a    command_1           command_1 help\u000a    command_2           help for command_2\u000a\u000aoptional arguments:\u000a  -h, --help            show this help message and exit\u000a  --foo                 help for foo arg.\u000a&gt;&gt;&gt;\u000a\u000a&gt;&gt;&gt; parser.parse_args(['command_1', 'working'])\u000aNamespace(a='working', foo=False)\u000a&gt;&gt;&gt; parser.parse_args(['command_1', 'wellness', '-b x'])\u000ausage: PROG [-h] [--foo] {command_1,command_2} ...\u000aPROG: error: unrecognized arguments: -b x\u000a</code></pre>\u000a\u000a<p>Good luck.</p>\u000a
p679
sVquestion_id
p680
I17909294
sVlast_activity_date
p681
I1375024906
sVcreation_date
p682
I1375023561
sVscore
p683
I53
sVowner
p684
(dp685
Vuser_id
p686
I1116874
sVprofile_image
p687
Vhttps://www.gravatar.com/avatar/225745f709ee9d202b396a9de7efeda4?s=128&d=identicon&r=PG
p688
sVuser_type
p689
Vregistered
p690
sVreputation
p691
I3749
sVlink
p692
Vhttp://stackoverflow.com/users/1116874/jonathan
p693
sVdisplay_name
p694
VJonathan
p695
ssVis_accepted
p696
I01
sVlast_edit_date
p697
I1375024906
sVanswer_id
p698
I17909525
sa(dp699
Vbody
p700
V<p><strong>Please note, I think <a href="http://stackoverflow.com/a/17698359/190597">J.F. Sebastian's method (below)</a> is better.</strong></p>\u000a\u000a<hr>\u000a\u000a<p>Here is an simple example (with no checking for errors): </p>\u000a\u000a<pre><code>import subprocess\u000aproc = subprocess.Popen('ls',\u000a                       shell=True,\u000a                       stdout=subprocess.PIPE,\u000a                       )\u000awhile proc.poll() is None:\u000a    output = proc.stdout.readline()\u000a    print output,\u000a</code></pre>\u000a\u000a<p>If <code>ls</code> ends too fast, then the while loop may end before you've read all the data.</p>\u000a\u000a<p>You can catch the remainder in stdout this way:</p>\u000a\u000a<pre><code>output = proc.communicate()[0]\u000aprint output,\u000a</code></pre>\u000a
p701
sVquestion_id
p702
I2715847
sVlast_activity_date
p703
I1374061225
sVcreation_date
p704
I1272308044
sVscore
p705
I34
sVowner
p706
(dp707
Vuser_id
p708
I190597
sVprofile_image
p709
Vhttps://www.gravatar.com/avatar/aabc98d5c6482ca0e1405ec97710f30a?s=128&d=identicon&r=PG&f=1
p710
sVuser_type
p711
Vregistered
p712
sVreputation
p713
I425294
sVlink
p714
Vhttp://stackoverflow.com/users/190597/unutbu
p715
sVaccept_rate
p716
I88
sVdisplay_name
p717
Vunutbu
p718
ssVis_accepted
p719
I01
sVlast_edit_date
p720
I1374061225
sVanswer_id
p721
I2716032
sa(dp722
Vbody
p723
V<p>Just thinking outside of the box here, how about a custom <code>open()</code> method?</p>\u000a\u000a<pre><code>import sys\u000aimport contextlib\u000a\u000a@contextlib.contextmanager\u000adef smart_open(filename=None):\u000a    if filename and filename != '-':\u000a        fh = open(filename, 'w')\u000a    else:\u000a        fh = sys.stdout\u000a\u000a    try:\u000a        yield fh\u000a    finally:\u000a        if fh is not sys.stdout:\u000a            fh.close()\u000a</code></pre>\u000a\u000a<p>Use it like this:</p>\u000a\u000a<pre><code># writes to some_file\u000awith smart_open('some_file') as fh:\u000a    print &gt;&gt;fh, 'some output'\u000a\u000a# writes to stdout\u000awith smart_open() as fh:\u000a    print &gt;&gt;fh, 'some output'\u000a\u000a# writes to stdout\u000awith smart_open('-') as fh:\u000a    print &gt;&gt;fh, 'some output'\u000a</code></pre>\u000a
p724
sVquestion_id
p725
I17602878
sVlast_activity_date
p726
I1373589728
sVcreation_date
p727
I1373574951
sVscore
p728
I44
sVowner
p729
(dp730
Vuser_id
p731
I54017
sVprofile_image
p732
Vhttps://www.gravatar.com/avatar/a010849a3b3a58bc7c2489f44bf22387?s=128&d=identicon&r=PG
p733
sVuser_type
p734
Vregistered
p735
sVreputation
p736
I46242
sVlink
p737
Vhttp://stackoverflow.com/users/54017/wolph
p738
sVaccept_rate
p739
I100
sVdisplay_name
p740
VWolph
p741
ssVis_accepted
p742
I01
sVlast_edit_date
p743
I1373589728
sVanswer_id
p744
I17603000
sa(dp745
Vbody
p746
V<pre><code>&gt;&gt;&gt; "{0:0&gt;3}".format(1)\u000a'001'\u000a&gt;&gt;&gt; "{0:0&gt;3}".format(10)\u000a'010'\u000a&gt;&gt;&gt; "{0:0&gt;3}".format(100)\u000a'100'\u000a</code></pre>\u000a\u000a<p>Explanation:</p>\u000a\u000a<pre><code>{0 : 0 &gt; 3}\u000a \u2502   \u2502 \u2502 \u2502\u000a \u2502   \u2502 \u2502 \u2514\u2500 Width of 3\u000a \u2502   \u2502 \u2514\u2500 Align Right\u000a \u2502   \u2514\u2500 Fill with '0'\u000a \u2514\u2500 Element index\u000a</code></pre>\u000a
p747
sVquestion_id
p748
I17118071
sVlast_activity_date
p749
I1371249331
sVcreation_date
p750
I1371248780
sVscore
p751
I110
sVowner
p752
(dp753
Vuser_id
p754
I505154
sVprofile_image
p755
Vhttps://www.gravatar.com/avatar/2e8b69989251cfc746626b802f610a2c?s=128&d=identicon&r=PG
p756
sVuser_type
p757
Vregistered
p758
sVreputation
p759
I114239
sVlink
p760
Vhttp://stackoverflow.com/users/505154/andrew-clark
p761
sVaccept_rate
p762
I100
sVdisplay_name
p763
VAndrew Clark
p764
ssVis_accepted
p765
I01
sVlast_edit_date
p766
I1371249331
sVanswer_id
p767
I17118161
sa(dp768
Vbody
p769
V<blockquote>\u000a  <p>The sys.maxint constant was removed, since there is no longer a limit\u000a  to the value of integers. However, sys.maxsize can be used as an\u000a  integer larger than any practical list or string index. It conforms to\u000a  the implementation\u2019s \u201cnatural\u201d integer size and is typically the same\u000a  as sys.maxint in previous releases on the same platform (assuming the\u000a  same build options).</p>\u000a</blockquote>\u000a\u000a<p><a href="http://docs.python.org/3.1/whatsnew/3.0.html#integers" rel="noreferrer">http://docs.python.org/3.1/whatsnew/3.0.html#integers</a></p>\u000a
p770
sVquestion_id
p771
I13795758
sVlast_activity_date
p772
I1368125911
sVcreation_date
p773
I1355119080
sVscore
p774
I63
sVowner
p775
(dp776
Vuser_id
p777
I586880
sVprofile_image
p778
Vhttps://www.gravatar.com/avatar/773332bfee8105f9738c50c0f89c9242?s=128&d=identicon&r=PG
p779
sVuser_type
p780
Vregistered
p781
sVreputation
p782
I9257
sVlink
p783
Vhttp://stackoverflow.com/users/586880/diego-basch
p784
sVdisplay_name
p785
VDiego Basch
p786
ssVis_accepted
p787
I01
sVlast_edit_date
p788
I1368125911
sVanswer_id
p789
I13795777
sa(dp790
Vbody
p791
V<p>Your ServerName/ServerAlias directives are wrong. ServerName should be hostname. You probably should just delete ServerAlias.</p>\u000a\u000a<p>Then just do the obvious and duplicate VirtualHost/Listen directives, just changing the port number and locations of scripts in the file system.</p>\u000a\u000a<p>Finally, do not set DocumentRoot to be where your Django code is as it makes it easier to accidentally expose your source code to download if you stuff up Apache configuration. So, just remove DocumentRoot directive from VirtualHost for Django sites.</p>\u000a\u000a<pre><code>Listen 80\u000a\u000a&lt;VirtualHost *:80&gt;\u000aServerName www.example.com\u000aWSGIScriptAlias / /opt/django/site1/apache/django.wsgi\u000aAlias /media /opt/django/site1/media/statics\u000aAlias /admin_media  /home/myuser/Django-1.1/django/contrib/admin/media\u000a\u000a&lt;Directory opt/django/site1/apache&gt;\u000aOrder allow,deny\u000aAllow from all\u000a&lt;/Directory&gt;\u000a\u000a&lt;Directory /home/myuser/Django-1.1/django/contrib/admin/media&gt;\u000aOrder allow,deny\u000aAllow from all\u000a&lt;/Directory&gt;\u000a&lt;/VirtualHost&gt;\u000a\u000aListen 8080\u000a\u000a&lt;VirtualHost *:8080&gt;\u000aServerName www.example.com\u000aWSGIScriptAlias / /opt/django/site2/apache/django.wsgi\u000aAlias /media /opt/django/site2/media/statics\u000aAlias /admin_media  /home/myuser/Django-1.1/django/contrib/admin/media\u000a\u000a&lt;Directory opt/django/site2/apache&gt;\u000aOrder allow,deny\u000aAllow from all\u000a&lt;/Directory&gt;\u000a\u000a&lt;Directory /home/myuser/Django-1.1/django/contrib/admin/media&gt;\u000aOrder allow,deny\u000aAllow from all\u000a&lt;/Directory&gt;\u000a&lt;/VirtualHost&gt;\u000a\u000aListen 8090\u000a\u000a&lt;VirtualHost *:8090&gt;\u000aServerName www.example.com\u000aWSGIScriptAlias / /opt/django/site3/apache/django.wsgi\u000aAlias /media /opt/django/site3/media/statics\u000aAlias /admin_media  /home/myuser/Django-1.1/django/contrib/admin/media\u000a\u000a&lt;Directory opt/django/site3/apache&gt;\u000aOrder allow,deny\u000aAllow from all\u000a&lt;/Directory&gt;\u000a\u000a&lt;Directory /home/myuser/Django-1.1/django/contrib/admin/media&gt;\u000aOrder allow,deny\u000aAllow from all\u000a&lt;/Directory&gt;\u000a&lt;/VirtualHost&gt;\u000a</code></pre>\u000a\u000a<p>I have also add missing Directory directive for allowing access to static files. You should review paths however.</p>\u000a\u000a<p>Make sure you read:</p>\u000a\u000a<p><a href="http://code.google.com/p/modwsgi/wiki/IntegrationWithDjango" rel="noreferrer">http://code.google.com/p/modwsgi/wiki/IntegrationWithDjango</a>\u000a<a href="http://code.google.com/p/modwsgi/wiki/ConfigurationGuidelines#Hosting_Of_Static_Files" rel="noreferrer">http://code.google.com/p/modwsgi/wiki/ConfigurationGuidelines#Hosting_Of_Static_Files</a></p>\u000a\u000a<p>for further information.</p>\u000a\u000a<hr>\u000a\u000a<p>UPDATE 1</p>\u000a\u000a<p>BTW, since you are using PHP in same Apache, you would be much better off using mod_wsgi daemon mode and push each Django instance out into its own separate process. That allows those processes to be multithreaded, even though main Apache processes are forced to be single threaded because of PHP. End result will be much much less memory being used than if running multiple Django instances in each process under embedded mode with prefork MPM. Your Django code just needs to be thread safe. Configuration in addition to above would be to add WSGIDaemonProcess/WSGIProcessGroup to each Django VirtualHost, where name of daemon process group is different for each VirtualHost.</p>\u000a\u000a<pre><code>&lt;VirtualHost *:80&gt;\u000aWSGIDaemonProcess site1 display-name=%{GROUP}\u000aWSGIProcessGroup site1\u000a... existing stuff\u000a&lt;/VirtualHost&gt;\u000a\u000a&lt;VirtualHost *:8080&gt;\u000aWSGIDaemonProcess site2 display-name=%{GROUP}\u000aWSGIProcessGroup site2\u000a... existing stuff\u000a&lt;/VirtualHost&gt;\u000a\u000a&lt;VirtualHost *:8090&gt;\u000aWSGIDaemonProcess site3 display-name=%{GROUP}\u000aWSGIProcessGroup site3\u000a... existing stuff\u000a&lt;/VirtualHost&gt;\u000a</code></pre>\u000a\u000a<p>This also allows you to more easily restart each Django instance without restart whole of Apache. Read:</p>\u000a\u000a<p><a href="http://code.google.com/p/modwsgi/wiki/QuickConfigurationGuide#Delegation_To_Daemon_Process" rel="noreferrer">http://code.google.com/p/modwsgi/wiki/QuickConfigurationGuide#Delegation_To_Daemon_Process</a>\u000a<a href="http://code.google.com/p/modwsgi/wiki/ReloadingSourceCode" rel="noreferrer">http://code.google.com/p/modwsgi/wiki/ReloadingSourceCode</a></p>\u000a
p792
sVquestion_id
p793
I1553165
sVlast_activity_date
p794
I1360797940
sVcreation_date
p795
I1255342385
sVscore
p796
I94
sVowner
p797
(dp798
Vuser_id
p799
I128141
sVprofile_image
p800
Vhttps://www.gravatar.com/avatar/70dfb4afd84b106d0855184bf0ae4675?s=128&d=identicon&r=PG
p801
sVuser_type
p802
Vregistered
p803
sVreputation
p804
I36276
sVlink
p805
Vhttp://stackoverflow.com/users/128141/graham-dumpleton
p806
sVdisplay_name
p807
VGraham Dumpleton
p808
ssVis_accepted
p809
I01
sVlast_edit_date
p810
I1360797940
sVanswer_id
p811
I1553751
sa(dp812
Vbody
p813
V<p>If you are fine with non-printable symbols in your json, then add <code>ensure_ascii=False</code> to <code>dumps</code> call.</p>\u000a\u000a<pre><code>&gt;&gt;&gt; json.dumps(your_data, ensure_ascii=False)\u000a</code></pre>\u000a\u000a<blockquote>\u000a  <p>If <code>ensure_ascii</code> is false, then the return value will be a\u000a  <code>unicode</code> instance subject to normal Python <code>str</code> to <code>unicode</code>\u000a  coercion rules instead of being escaped to an ASCII <code>str</code>.</p>\u000a</blockquote>\u000a
p814
sVquestion_id
p815
I14661051
sVlast_activity_date
p816
I1359802204
sVcreation_date
p817
I1359802204
sVscore
p818
I85
sVowner
p819
(dp820
Vuser_id
p821
I316445
sVprofile_image
p822
Vhttps://www.gravatar.com/avatar/e4f3693331d0ce4223097b67bd1cd330?s=128&d=identicon&r=PG
p823
sVuser_type
p824
Vregistered
p825
sVreputation
p826
I1501
sVlink
p827
Vhttp://stackoverflow.com/users/316445/kmerenkov
p828
sVdisplay_name
p829
Vkmerenkov
p830
ssVis_accepted
p831
I01
sVanswer_id
p832
I14661102
sa(dp833
Vbody
p834
V<p>When running the development server you get running <code>app.run()</code>, you get a single synchronous process, which means at most 1 requests being processed at a time.</p>\u000a\u000a<p>By sticking Gunicorn in front of it in its default configuration and simply increasing the number of <code>--workers</code>, what you get is essentially a number of processes (managed by Gunicorn) that each behave like the <code>app.run()</code> development server. 4 workers == 4 concurrent requests. This is because Gunicorn uses its included <code>sync</code> worker type by default. </p>\u000a\u000a<p>It is important to note that Gunicorn also includes asynchronous workers, namely <code>eventlet</code> and <code>gevent</code> (and also <code>tornado</code>, but that's best used with the Tornado framework, it seems). By specifying one of these async workers with the <code>--worker-class</code> flag, what you get is Gunicorn managing a number of async processes, <em>each of which</em> managing its own concurrency. These processes don't use threads, but instead coroutines. Basically, within each process, still only 1 thing can be happening at a time (1 thread), but objects can be 'paused' when they are waiting on external processes to finish (think database queries or waiting on network I/O). </p>\u000a\u000a<p>This means, if you're using one of Gunicorn's async workers, each worker can handle many more than a single request at a time. Just how many workers is best depends on the nature of your app, its environment, the hardware it runs on, etc. More details can be found on <a href="http://docs.gunicorn.org/en/latest/design.html" rel="noreferrer">Gunicorn's design</a> page and <a href="http://www.gevent.org/intro.html" rel="noreferrer">notes on how gevent works</a> on its intro page. </p>\u000a
p835
sVquestion_id
p836
I10938360
sVlast_activity_date
p837
I1355819763
sVcreation_date
p838
I1355819763
sVscore
p839
I74
sVowner
p840
(dp841
Vuser_id
p842
I671915
sVprofile_image
p843
Vhttps://www.gravatar.com/avatar/b6125de5e9360837c93bdeafa36877e9?s=128&d=identicon&r=PG
p844
sVuser_type
p845
Vregistered
p846
sVreputation
p847
I3343
sVlink
p848
Vhttp://stackoverflow.com/users/671915/ryan-artecona
p849
sVdisplay_name
p850
VRyan Artecona
p851
ssVis_accepted
p852
I01
sVanswer_id
p853
I13929101
sa(dp854
Vbody
p855
V<p>The issue was solved following the steps below:</p>\u000a\u000a<pre><code>#switch the /usr/bin/python link to point to current python link\u000acd /usr/bin\u000arm -f python\u000aln -s /Library/Frameworks/Python.framework/Versions/Current/bin/python python\u000a</code></pre>\u000a\u000a<p>Re-arrange the export command in order that it is placed before the virtualenv commands in my .bash_profile file:</p>\u000a\u000a<pre><code>PATH=/Library/Frameworks/Python.framework/Versions/2.7/bin:$PATH\u000aexport PATH\u000a\u000a# needed for virtualenvwrapper\u000aexport WORKON_HOME=$HOME/.virtualenvs\u000asource /usr/local/bin/virtualenvwrapper.sh\u000a</code></pre>\u000a\u000a<p>Re-Install setuptools, easy install and PIP. This is obviously needed in order that they work properly with the new python version:</p>\u000a\u000a<pre><code>sudo sh setuptools-0.6c11-py2.7.egg\u000a\u000asudo easy_install-2.7 pip\u000a\u000apip install virtualenv\u000a</code></pre>\u000a
p856
sVquestion_id
p857
I11507186
sVlast_activity_date
p858
I1351637550
sVcreation_date
p859
I1342472807
sVscore
p860
I45
sVowner
p861
(dp862
Vuser_id
p863
I237690
sVprofile_image
p864
Vhttps://www.gravatar.com/avatar/210decb07195ad03bd973891f037e12c?s=128&d=identicon&r=PG
p865
sVuser_type
p866
Vregistered
p867
sVreputation
p868
I6828
sVlink
p869
Vhttp://stackoverflow.com/users/237690/thomas-kremmel
p870
sVaccept_rate
p871
I82
sVdisplay_name
p872
VThomas Kremmel
p873
ssVis_accepted
p874
I01
sVlast_edit_date
p875
I1351637550
sVanswer_id
p876
I11512580
sa(dp877
Vbody
p878
V<p>No. It's not for making websites. Your sample just sounds like you want plain old HTML.</p>\u000a\u000a<p>Django is for creating web applications. That is, software, normally backed by a database, that includes some kind of interactivity, that operates through a browser.  A Framework provides a structure and common methods for making this kind of software.</p>\u000a
p879
sVquestion_id
p880
I12797999
sVlast_activity_date
p881
I1349778477
sVcreation_date
p882
I1349778477
sVscore
p883
I41
sVowner
p884
(dp885
Vuser_id
p886
I148423
sVprofile_image
p887
Vhttps://www.gravatar.com/avatar/6ed1f9b5afd258d0b73ad1eae10ac384?s=128&d=identicon&r=PG
p888
sVuser_type
p889
Vregistered
p890
sVreputation
p891
I25889
sVlink
p892
Vhttp://stackoverflow.com/users/148423/joe
p893
sVaccept_rate
p894
I74
sVdisplay_name
p895
VJoe
p896
ssVis_accepted
p897
I01
sVanswer_id
p898
I12798019
sa(dp899
Vbody
p900
V<p>The main advantages are that it makes multi-line lists easier to edit and that it reduces clutter in diffs.</p>\u000a\u000a<p>Changing:</p>\u000a\u000a<pre><code>s = ['manny',\u000a     'mo',\u000a     'jack',\u000a]\u000a</code></pre>\u000a\u000a<p>to:</p>\u000a\u000a<pre><code>s = ['manny',\u000a     'mo',\u000a     'jack',\u000a     'roger',\u000a]\u000a</code></pre>\u000a\u000a<p>involves only a one-line change in the diff:</p>\u000a\u000a<pre><code>  s = ['manny',\u000a       'mo',\u000a       'jack',\u000a+      'roger',\u000a  ]\u000a</code></pre>\u000a\u000a<p>This beats the more confusing multi-line diff when the trailing comma was omitted:</p>\u000a\u000a<pre><code>  s = ['manny',\u000a       'mo',\u000a-      'jack'\u000a+      'jack',\u000a+      'roger'\u000a  ]\u000a</code></pre>\u000a\u000a<p>The latter diff makes it harder to see that only one line was added and that the other line didn't change content.</p>\u000a
p901
sVquestion_id
p902
I11597901
sVlast_activity_date
p903
I1342934465
sVcreation_date
p904
I1342934153
sVscore
p905
I86
sVowner
p906
(dp907
Vuser_id
p908
I1001643
sVprofile_image
p909
Vhttps://www.gravatar.com/avatar/60cac87fb9e2b5689242622999656cb0?s=128&d=identicon&r=PG
p910
sVuser_type
p911
Vregistered
p912
sVreputation
p913
I94640
sVlink
p914
Vhttp://stackoverflow.com/users/1001643/raymond-hettinger
p915
sVaccept_rate
p916
I75
sVdisplay_name
p917
VRaymond Hettinger
p918
ssVis_accepted
p919
I01
sVlast_edit_date
p920
I1342934465
sVanswer_id
p921
I11597911
sa(dp922
Vbody
p923
V<p>Well, I think I have to answer to this. The problem is that Django caches its models in a singleton (singleton like structure) called AppCache. Basically, to reload Django models you need to first reload and re-import all the model modules stored in the AppCache. Then you need to wipe out the AppCache. Here's the code for it:</p>\u000a\u000a<pre><code>import os\u000afrom django.db.models.loading import AppCache\u000acache = AppCache()\u000a\u000acurdir = os.getcwd()\u000a\u000afor app in cache.get_apps():\u000a    f = app.__file__\u000a    if f.startswith(curdir) and f.endswith('.pyc'):\u000a        os.remove(f)\u000a    __import__(app.__name__)\u000a    reload(app)\u000a\u000afrom django.utils.datastructures import SortedDict\u000acache.app_store = SortedDict()\u000acache.app_models = SortedDict()\u000acache.app_errors = {}\u000acache.handled = {}\u000acache.loaded = False\u000a</code></pre>\u000a\u000a<p>I've put all of this in a separate file called reloadmodels.py in the root directory of my Django site. Using IPython I can reload everything by running:</p>\u000a\u000a<pre><code>%run ~/mysite/reloadmodels.py\u000a</code></pre>\u000a
p924
sVquestion_id
p925
I890924
sVlast_activity_date
p926
I1341617814
sVcreation_date
p927
I1243177167
sVscore
p928
I38
sVowner
p929
(dp930
Vuser_id
p931
I5458
sVprofile_image
p932
Vhttps://i.stack.imgur.com/clEon.png?s=128&g=1
p933
sVuser_type
p934
Vregistered
p935
sVreputation
p936
I1571
sVlink
p937
Vhttp://stackoverflow.com/users/5458/chad-braun-duin
p938
sVaccept_rate
p939
I82
sVdisplay_name
p940
VChad Braun-Duin
p941
ssVis_accepted
p942
I01
sVlast_edit_date
p943
I1341617814
sVanswer_id
p944
I903943
sa(dp945
Vbody
p946
V<p>To determine if a directory entry is a symlink use this:</p>\u000a\u000a<blockquote>\u000a  <p><a href="http://docs.python.org/library/os.path.html?highlight=islink#os.path.islink" rel="noreferrer">os.path.islink(path)</a></p>\u000a  \u000a  <p>Return True if path refers to a directory entry that is a symbolic\u000a  link. Always False if symbolic links are not supported.</p>\u000a</blockquote>\u000a\u000a<p>For instance, given:</p>\u000a\u000a<pre><code>drwxr-xr-x   2 root root  4096 2011-11-10 08:14 bin/\u000adrwxrwxrwx   1 root root    57 2011-07-10 05:11 initrd.img -&gt; boot/initrd.img-2..\u000a\u000a&gt;&gt;&gt; import os.path\u000a&gt;&gt;&gt; os.path.islink('initrd.img')\u000aTrue\u000a&gt;&gt;&gt; os.path.islink('bin')\u000aFalse\u000a</code></pre>\u000a
p947
sVquestion_id
p948
I11068419
sVlast_activity_date
p949
I1339900684
sVcreation_date
p950
I1339898905
sVscore
p951
I83
sVowner
p952
(dp953
Vuser_id
p954
I1209279
sVprofile_image
p955
Vhttps://www.gravatar.com/avatar/516b0a47cdf1739c51ff9dee89f0d459?s=128&d=identicon&r=PG
p956
sVuser_type
p957
Vregistered
p958
sVreputation
p959
I60869
sVlink
p960
Vhttp://stackoverflow.com/users/1209279/levon
p961
sVaccept_rate
p962
I91
sVdisplay_name
p963
VLevon
p964
ssVis_accepted
p965
I01
sVlast_edit_date
p966
I1339900684
sVanswer_id
p967
I11068434
sa(dp968
Vbody
p969
V<p>Given an instance <code>x</code> of <a href="http://docs.python.org/library/datetime.html?highlight=datetime#datetime.date" rel="noreferrer">datetime.date</a>, <code>(x.month-1)//3</code> will give you the quarter (0 for first quarter, 1 for second quarter, etc -- add 1 if you need to count from 1 instead;-).</p>\u000a\u000a<p><strong>Edit</strong>: originally two answers, multiply upvoted and even originally ACCEPTED (both currently deleted), were buggy -- not doing the <code>-1</code> before the division, and dividing by 4 instead of 3.  Since <code>.month</code> goes 1 to 12, it's easy to check for yourself what formula is right:</p>\u000a\u000a<pre class="lang-py prettyprint-override"><code>for m in range(1, 13):\u000a  print m//4 + 1,\u000aprint\u000a</code></pre>\u000a\u000a<p>gives <code>1 1 1 2 2 2 2 3 3 3 3 4</code> -- two four-month quarters and a single-month one (eep).</p>\u000a\u000a<pre class="lang-py prettyprint-override"><code>for m in range(1, 13):\u000a  print (m-1)//3 + 1,\u000aprint\u000a</code></pre>\u000a\u000a<p>gives <code>1 1 1 2 2 2 3 3 3 4 4 4</code> -- now doesn't this look vastly preferable to you?-)</p>\u000a\u000a<p>This proves that the question is well warranted, I think;-). I don't think the datetime module should necessarily have every possible useful calendric function, but I do know I maintain a (well-tested;-) <code>datetools</code> module for the use of my (and others') projects at work, which has many little functions to perform all of these calendric computations -- some are complex, some simple, but there's no reason to do the work over and over (even simple work) or risk bugs in such computations;-).</p>\u000a
p970
sVquestion_id
p971
I1406131
sVlast_activity_date
p972
I1337120388
sVcreation_date
p973
I1252598538
sVscore
p974
I96
sVowner
p975
(dp976
Vuser_id
p977
I95810
sVprofile_image
p978
Vhttps://www.gravatar.com/avatar/e8d5fe90f1fe2148bf130cccd4dc311c?s=128&d=identicon&r=PG
p979
sVuser_type
p980
Vregistered
p981
sVreputation
p982
I516089
sVlink
p983
Vhttp://stackoverflow.com/users/95810/alex-martelli
p984
sVaccept_rate
p985
I80
sVdisplay_name
p986
VAlex Martelli
p987
ssVis_accepted
p988
I01
sVlast_edit_date
p989
I1337120388
sVanswer_id
p990
I1406182
sa(dp991
Vbody
p992
V<p>Python has facilities to generate temporary file names, see <a href="http://docs.python.org/library/tempfile.html" rel="noreferrer">http://docs.python.org/library/tempfile.html</a>. For instance:</p>\u000a\u000a<pre><code>In [4]: import tempfile\u000a</code></pre>\u000a\u000a<p>Each call to <code>tempfile.NamedTemporaryFile()</code> results in a different temp file, and its name can be accessed with the <code>.name</code> attribute, e.g.:</p>\u000a\u000a<pre><code>In [5]: tf = tempfile.NamedTemporaryFile()\u000aIn [6]: tf.name\u000aOut[6]: 'c:\u005c\u005cblabla\u005c\u005clocals~1\u005c\u005ctemp\u005c\u005ctmptecp3i'\u000a\u000aIn [7]: tf = tempfile.NamedTemporaryFile()\u000aIn [8]: tf.name\u000aOut[8]: 'c:\u005c\u005cblabla\u005c\u005clocals~1\u005c\u005ctemp\u005c\u005ctmpr8vvme'\u000a</code></pre>\u000a\u000a<p>Once you have the unique filename it can be used like any regular file. <strong>Note</strong>: By default the file will be <em>deleted</em> when it is\u000aclosed. However, if the <code>delete</code> parameter is False, the file is not\u000aautomatically deleted.</p>\u000a\u000a<p>Full parameter set:</p>\u000a\u000a<pre><code>tempfile.NamedTemporaryFile([mode='w+b'[, bufsize=-1[, suffix=''[, prefix='tmp'[, dir=None[, delete=True]]]]]])\u000a</code></pre>\u000a\u000a<p>it is also possible to specify the prefix for the temporary file (as one of the various parameters that can be supplied during the file creation):</p>\u000a\u000a<pre><code>In [9]: tf = tempfile.NamedTemporaryFile(prefix="zz")\u000aIn [10]: tf.name\u000aOut[10]: 'c:\u005c\u005cblabla\u005c\u005clocals~1\u005c\u005ctemp\u005c\u005czzrc3pzk'\u000a</code></pre>\u000a\u000a<p>Additional examples for working with temporary files can be found <a href="http://www.doughellmann.com/PyMOTW/tempfile/" rel="noreferrer">here</a></p>\u000a
p993
sVquestion_id
p994
I10501247
sVlast_activity_date
p995
I1336601623
sVcreation_date
p996
I1336489458
sVscore
p997
I72
sVowner
p998
(dp999
Vuser_id
p1000
I1209279
sVprofile_image
p1001
Vhttps://www.gravatar.com/avatar/516b0a47cdf1739c51ff9dee89f0d459?s=128&d=identicon&r=PG
p1002
sVuser_type
p1003
Vregistered
p1004
sVreputation
p1005
I60869
sVlink
p1006
Vhttp://stackoverflow.com/users/1209279/levon
p1007
sVaccept_rate
p1008
I91
sVdisplay_name
p1009
VLevon
p1010
ssVis_accepted
p1011
I01
sVlast_edit_date
p1012
I1336601623
sVanswer_id
p1013
I10501262
sa(dp1014
Vbody
p1015
V<p><img src="https://i.stack.imgur.com/wJ4sk.png" alt="solution"></p>\u000a\u000a<p>You just need to go to edit/preferences and specify correct version of python path</p>\u000a
p1016
sVquestion_id
p1017
I10227142
sVlast_activity_date
p1018
I1334835395
sVcreation_date
p1019
I1334835395
sVscore
p1020
I68
sVowner
p1021
(dp1022
Vuser_id
p1023
I298022
sVprofile_image
p1024
Vhttps://www.gravatar.com/avatar/f6a38d68710a7bdff6d0ec8320fe6b79?s=128&d=identicon&r=PG
p1025
sVuser_type
p1026
Vregistered
p1027
sVreputation
p1028
I2094
sVlink
p1029
Vhttp://stackoverflow.com/users/298022/jacknova
p1030
sVaccept_rate
p1031
I64
sVdisplay_name
p1032
VJackNova
p1033
ssVis_accepted
p1034
I01
sVanswer_id
p1035
I10227164
sa(dp1036
Vbody
p1037
V<p>Based on my experience, the <a href="https://github.com/numpy/numpy/blob/master/doc/HOWTO_DOCUMENT.rst.txt" rel="noreferrer">numpy docstring conventions</a> (PEP257 superset) are the most widely-spread <em>followed</em> conventions that are also supported by tools, such as <a href="http://sphinx.pocoo.org/" rel="noreferrer">Sphinx</a>. </p>\u000a\u000a<p>One example:</p>\u000a\u000a<pre><code>Parameters\u000a----------\u000ax : type\u000a   Description of parameter `x`.\u000a</code></pre>\u000a
p1038
sVquestion_id
p1039
I9195455
sVlast_activity_date
p1040
I1333914559
sVcreation_date
p1041
I1333914559
sVscore
p1042
I38
sVowner
p1043
(dp1044
Vuser_id
p1045
I272865
sVprofile_image
p1046
Vhttps://www.gravatar.com/avatar/8ae368318a55e95748b85f82ca83a289?s=128&d=identicon&r=PG
p1047
sVuser_type
p1048
Vregistered
p1049
sVreputation
p1050
I4151
sVlink
p1051
Vhttp://stackoverflow.com/users/272865/halst
p1052
sVaccept_rate
p1053
I59
sVdisplay_name
p1054
VHalst
p1055
ssVis_accepted
p1056
I01
sVanswer_id
p1057
I10065932
sa(dp1058
Vbody
p1059
V<blockquote>\u000a  <p>Your currently selected backend, 'agg' does not support show().</p>\u000a</blockquote>\u000a\u000a<p><code>AGG</code> backend is for writing to file, not for rendering in a window. See the <a href="http://matplotlib.sourceforge.net/faq/usage_faq.html#what-is-a-backend" rel="noreferrer">backend FAQ</a> at the matplotlib web site.</p>\u000a\u000a<blockquote>\u000a  <p>ImportError: No module named _backend_gdk</p>\u000a</blockquote>\u000a\u000a<p>For the second error, maybe your matplotlib distribution is not compiled with GTK support, or you miss the PyGTK package. Try to install it.</p>\u000a\u000a<p>Do you call the <code>show()</code> method inside a terminal or application that has access to a graphical environment?</p>\u000a\u000a<p>Try other GUI backends, in this order:</p>\u000a\u000a<ul>\u000a<li><code>TkAgg</code></li>\u000a<li><code>WX</code></li>\u000a<li><code>QTAgg</code></li>\u000a<li><code>QT4Agg</code></li>\u000a</ul>\u000a
p1060
sVquestion_id
p1061
I4930524
sVlast_activity_date
p1062
I1330469484
sVcreation_date
p1063
I1297152925
sVscore
p1064
I52
sVowner
p1065
(dp1066
Vuser_id
p1067
I193852
sVprofile_image
p1068
Vhttps://www.gravatar.com/avatar/297a5be5689710657f902068c51debdc?s=128&d=identicon&r=PG
p1069
sVuser_type
p1070
Vregistered
p1071
sVreputation
p1072
I7029
sVlink
p1073
Vhttp://stackoverflow.com/users/193852/andrea-spadaccini
p1074
sVaccept_rate
p1075
I100
sVdisplay_name
p1076
VAndrea Spadaccini
p1077
ssVis_accepted
p1078
I01
sVlast_edit_date
p1079
I1330469484
sVanswer_id
p1080
I4930867
sa(dp1081
Vbody
p1082
V<p>Django has a <a href="https://docs.djangoproject.com/en/dev/ref/models/instances/#validating-objects" rel="noreferrer">model validation</a> system in place since version 1.2.</p>\u000a\u000a<p>In comments sebpiq says "Ok, now there is a place to put model validation ... except that it is run only when using a ModelForm! So the question remains, when it is necessary to ensure that validation is respected at the db-level, what should you do? Where to call full_clean?"</p>\u000a\u000a<p>It's not possible via Python-level validation to ensure that validation is respected on the db level. The closest is probably to call <code>full_clean</code> in an overridden <code>save</code> method. This isn't done by default, because it means everybody who calls that save method had now better be prepared to catch and handle <code>ValidationError</code>. </p>\u000a\u000a<p>But even if you do this, someone can still update model instances in bulk using <code>queryset.update()</code>, which will bypass this validation. There is no way Django could implement a reasonably-efficient <code>queryset.update()</code> that could still perform Python-level validation on every updated object.</p>\u000a\u000a<p>The only way to really guarantee db-level integrity is through db-level constraints; any validation you do through the ORM requires the writer of app code to be aware of when validation is enforced (and handle validation failures).</p>\u000a\u000a<p>This is why model validation is by default only enforced in <code>ModelForm</code> - because in a ModelForm there is already an obvious way to handle a <code>ValidationError</code>.</p>\u000a
p1083
sVquestion_id
p1084
I1624782
sVlast_activity_date
p1085
I1329783283
sVcreation_date
p1086
I1256574432
sVscore
p1087
I53
sVowner
p1088
(dp1089
Vuser_id
p1090
I3207
sVprofile_image
p1091
Vhttps://www.gravatar.com/avatar/b1f36e554be0e1ae19f9a74d6ece9107?s=128&d=identicon&r=PG
p1092
sVuser_type
p1093
Vregistered
p1094
sVreputation
p1095
I47592
sVlink
p1096
Vhttp://stackoverflow.com/users/3207/carl-meyer
p1097
sVaccept_rate
p1098
I100
sVdisplay_name
p1099
VCarl Meyer
p1100
ssVis_accepted
p1101
I01
sVlast_edit_date
p1102
I1329783283
sVanswer_id
p1103
I1625760
sa(dp1104
Vbody
p1105
V<p>In fact, your query is right except for the typo: your filter is excluding all records: you should change the <code>&lt;=</code> for <code>&gt;=</code> and vice versa:</p>\u000a\u000a<pre><code>qry = DBSession.query(User).filter(\u000a        and_(User.birthday &lt;= '1988-01-17', User.birthday &gt;= '1985-01-17'))\u000a# or same:\u000aqry = DBSession.query(User).filter(User.birthday &lt;= '1988-01-17').\u005c\u000a        filter(User.birthday &gt;= '1985-01-17')\u000a</code></pre>\u000a\u000a<p>Also you can use <code>between</code>:</p>\u000a\u000a<pre><code>qry = DBSession.query(User).filter(User.birthday.between('1985-01-17', '1988-01-17'))\u000a</code></pre>\u000a
p1106
sVquestion_id
p1107
I8895208
sVlast_activity_date
p1108
I1326819261
sVcreation_date
p1109
I1326819261
sVscore
p1110
I83
sVowner
p1111
(dp1112
Vuser_id
p1113
I99594
sVprofile_image
p1114
Vhttps://www.gravatar.com/avatar/5434869366641f527b3f25a34f6e4665?s=128&d=identicon&r=PG
p1115
sVuser_type
p1116
Vregistered
p1117
sVreputation
p1118
I35486
sVlink
p1119
Vhttp://stackoverflow.com/users/99594/van
p1120
sVaccept_rate
p1121
I100
sVdisplay_name
p1122
Vvan
p1123
ssVis_accepted
p1124
I01
sVanswer_id
p1125
I8898533
sa(dp1126
Vbody
p1127
V<p>It's related to <a href="http://www.python.org/dev/peps/pep-0401/" rel="noreferrer">PEP 0401: BDFL Retirement</a></p>\u000a\u000a<p>Barry refers to Barry Warsaw, a well-known Python developer. The <code>from __future__ import barry_as_FLUFL</code> basically replaces the <code>!=</code> operator with <code>&lt;&gt;</code>.</p>\u000a
p1128
sVquestion_id
p1129
I4007289
sVlast_activity_date
p1130
I1326491435
sVcreation_date
p1131
I1287902553
sVscore
p1132
I50
sVowner
p1133
(dp1134
Vuser_id
p1135
I309412
sVprofile_image
p1136
Vhttps://www.gravatar.com/avatar/e9739ec5574d9977b522d1c80fb8de84?s=128&d=identicon&r=PG
p1137
sVuser_type
p1138
Vregistered
p1139
sVreputation
p1140
I37224
sVlink
p1141
Vhttp://stackoverflow.com/users/309412/lie-ryan
p1142
sVaccept_rate
p1143
I74
sVdisplay_name
p1144
VLie Ryan
p1145
ssVis_accepted
p1146
I01
sVlast_edit_date
p1147
I1326491435
sVanswer_id
p1148
I4007310
sa(dp1149
Vbody
p1150
V<p>Yes, but it <em>also</em> means <a href="http://docs.python.org/reference/datamodel.html#object.__hash__" rel="noreferrer"><code>hash(b) == hash(x)</code></a>, so equality of the items isn't enough to make them the same.</p>\u000a
p1151
sVquestion_id
p1152
I8705378
sVlast_activity_date
p1153
I1325538855
sVcreation_date
p1154
I1325538855
sVscore
p1155
I44
sVowner
p1156
(dp1157
Vuser_id
p1158
I20862
sVprofile_image
p1159
Vhttps://www.gravatar.com/avatar/2343ae368d3241278581ce6c87f62a25?s=128&d=identicon&r=PG
p1160
sVuser_type
p1161
Vregistered
p1162
sVreputation
p1163
I481018
sVlink
p1164
Vhttp://stackoverflow.com/users/20862/ignacio-vazquez-abrams
p1165
sVaccept_rate
p1166
I60
sVdisplay_name
p1167
VIgnacio Vazquez-Abrams
p1168
ssVis_accepted
p1169
I01
sVanswer_id
p1170
I8705406
sa(dp1171
Vbody
p1172
V\u000a\u000a<p>You can use the <code>key</code> parameter to <code>list.sort()</code>:</p>\u000a\u000a<pre class="lang-py prettyprint-override"><code>my_list.sort(key=lambda x: x[1])\u000a</code></pre>\u000a\u000a<p>or, slightly faster,</p>\u000a\u000a<pre class="lang-py prettyprint-override"><code>my_list.sort(key=operator.itemgetter(1))\u000a</code></pre>\u000a\u000a<p>(As with any module, you'll need to <code>import operator</code> to be able to use it.)</p>\u000a
p1173
sVquestion_id
p1174
I8459231
sVlast_activity_date
p1175
I1323546912
sVcreation_date
p1176
I1323545449
sVscore
p1177
I91
sVowner
p1178
(dp1179
Vuser_id
p1180
I279627
sVprofile_image
p1181
Vhttps://www.gravatar.com/avatar/2dceea858ad8f1577bec6ddaa0485d15?s=128&d=identicon&r=PG
p1182
sVuser_type
p1183
Vregistered
p1184
sVreputation
p1185
I252330
sVlink
p1186
Vhttp://stackoverflow.com/users/279627/sven-marnach
p1187
sVaccept_rate
p1188
I78
sVdisplay_name
p1189
VSven Marnach
p1190
ssVis_accepted
p1191
I01
sVlast_edit_date
p1192
I1323546912
sVanswer_id
p1193
I8459243
sa(dp1194
Vbody
p1195
V<p>Consider the following two-dimensional list:</p>\u000a\u000a<pre><code>original = [[1, 2],\u000a            [3, 4]]\u000a</code></pre>\u000a\u000a<p>Lets break it down step by step:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; original[::-1]   # elements of original are reversed\u000a[[3, 4], [1, 2]]\u000a</code></pre>\u000a\u000a<p>This list is passed into <code>zip()</code> using <a href="http://docs.python.org/tutorial/controlflow.html#unpacking-argument-lists" rel="noreferrer">argument unpacking</a>, so the <code>zip</code> call ends up being the equivalent of this:</p>\u000a\u000a<pre><code>zip([3, 4],\u000a    [1, 2])\u000a#    ^  ^----column 2\u000a#    |-------column 1\u000a# returns [(3, 1), (4, 2)], which is a original rotated clockwise\u000a</code></pre>\u000a\u000a<p>Hopefully the comments make it clear what <code>zip</code> does, it will group elements from each input iterable based on index, or in other words it groups the columns.</p>\u000a
p1196
sVquestion_id
p1197
I8421337
sVlast_activity_date
p1198
I1323286980
sVcreation_date
p1199
I1323286980
sVscore
p1200
I37
sVowner
p1201
(dp1202
Vuser_id
p1203
I505154
sVprofile_image
p1204
Vhttps://www.gravatar.com/avatar/2e8b69989251cfc746626b802f610a2c?s=128&d=identicon&r=PG
p1205
sVuser_type
p1206
Vregistered
p1207
sVreputation
p1208
I114239
sVlink
p1209
Vhttp://stackoverflow.com/users/505154/andrew-clark
p1210
sVaccept_rate
p1211
I100
sVdisplay_name
p1212
VAndrew Clark
p1213
ssVis_accepted
p1214
I01
sVanswer_id
p1215
I8421484
sa(dp1216
Vbody
p1217
V<p>This isn't specified in the documentation and isn't in the portable in-Python section of the standard library, so this behaviour may vary between implementations. </p>\u000a\u000a<p>In the source to CPython 2.7 this is implemented in <code>./Python/bltinmodule.c</code> by <code>builtin_max</code><sup>[<a href="http://hg.python.org/cpython/file/8527427914a2/Python/bltinmodule.c#l1441" rel="noreferrer">source</a>]</sup>, which wraps the more general <code>min_max</code> function <sup>[<a href="http://hg.python.org/cpython/file/8527427914a2/Python/bltinmodule.c#l1337" rel="noreferrer">source</a>]</sup>.</p>\u000a\u000a<p><code>min_max</code> will iterate through the values and use <code>PyObject_RichCompareBool</code> <sup>[<a href="http://docs.python.org/release/2.7.2/c-api/object.html#PyObject_RichCompareBool" rel="noreferrer">docs</a>]</sup> to see if they are greater than the current value. If so, the greater value replaces it. Equal values will be skipped over.</p>\u000a\u000a<p>The result is that the first maximum will be chosen in the case of a tie.</p>\u000a
p1218
sVquestion_id
p1219
I6783000
sVlast_activity_date
p1220
I1323056442
sVcreation_date
p1221
I1311284073
sVscore
p1222
I55
sVowner
p1223
(dp1224
Vuser_id
p1225
I1114
sVprofile_image
p1226
Vhttps://i.stack.imgur.com/xMJTK.png?s=128&g=1
p1227
sVuser_type
p1228
Vmoderator
p1229
sVreputation
p1230
I59672
sVlink
p1231
Vhttp://stackoverflow.com/users/1114/jeremy-banks
p1232
sVaccept_rate
p1233
I69
sVdisplay_name
p1234
VJeremy Banks
p1235
ssVis_accepted
p1236
I01
sVlast_edit_date
p1237
I1323056442
sVanswer_id
p1238
I6783101
sa(dp1239
Vbody
p1240
V<p>For Python 2-3 compatibility, just add this to your example:</p>\u000a\u000a<pre><code>Foo.__nonzero__ = Foo.__bool__\u000a</code></pre>\u000a\u000a<p>or expand the original definition of Foo to include:</p>\u000a\u000a<pre><code>__nonzero__ = __bool__\u000a</code></pre>\u000a\u000a<p>You could of course define them in reverse too, where the method name is <code>__nonzero__</code> and you assign it to <code>__bool__</code>, but I think the name <code>__nonzero__</code> is just a legacy of the original C-ishness of Python's interpretation of objects as truthy or falsy based on their equivalence with zero.  Just add the statement above and your code will work with Python 2.x, and will automatically work when you upgrade to Python 3.x (and eventually you an drop the assignment to <code>__nonzero__</code>).</p>\u000a
p1241
sVquestion_id
p1242
I8205558
sVlast_activity_date
p1243
I1321838694
sVcreation_date
p1244
I1321838694
sVscore
p1245
I52
sVowner
p1246
(dp1247
Vuser_id
p1248
I165216
sVprofile_image
p1249
Vhttps://www.gravatar.com/avatar/7da5683418b0e1436cc13f43374773a5?s=128&d=identicon&r=PG
p1250
sVuser_type
p1251
Vregistered
p1252
sVreputation
p1253
I38476
sVlink
p1254
Vhttp://stackoverflow.com/users/165216/paul-mcguire
p1255
sVaccept_rate
p1256
I100
sVdisplay_name
p1257
VPaul McGuire
p1258
ssVis_accepted
p1259
I01
sVanswer_id
p1260
I8206321
sa(dp1261
Vbody
p1262
V<p>Something like this might do the trick:</p>\u000a\u000a<pre><code>import matplotlib.pyplot as plt\u000afrom itertools import cycle\u000alines = ["-","--","-.",":"]\u000alinecycler = cycle(lines)\u000aplt.figure()\u000afor i in range(10):\u000a    x = range(i,i+10)\u000a    plt.plot(range(10),x,next(linecycler))\u000aplt.show()\u000a</code></pre>\u000a\u000a<p>Result:\u000a<img src="https://i.stack.imgur.com/8ENjD.png" alt="enter image description here"></p>\u000a
p1263
sVquestion_id
p1264
I7799156
sVlast_activity_date
p1265
I1318886173
sVcreation_date
p1266
I1318886173
sVscore
p1267
I77
sVowner
p1268
(dp1269
Vuser_id
p1270
I843822
sVprofile_image
p1271
Vhttps://www.gravatar.com/avatar/c085aef13b5541ab483bda55ce28ddaa?s=128&d=identicon&r=PG
p1272
sVuser_type
p1273
Vregistered
p1274
sVreputation
p1275
I19211
sVlink
p1276
Vhttp://stackoverflow.com/users/843822/avaris
p1277
sVdisplay_name
p1278
VAvaris
p1279
ssVis_accepted
p1280
I01
sVanswer_id
p1281
I7799661
sa(dp1282
Vbody
p1283
V<p>Make it a callable:</p>\u000a\u000a<pre><code>if __name__=='__main__':\u000a    from timeit import Timer\u000a    t = Timer(lambda: superMegaIntenseFunction(10))\u000a    print t.timeit(number=1)\u000a</code></pre>\u000a\u000a<p>Should work</p>\u000a
p1284
sVquestion_id
p1285
I7523767
sVlast_activity_date
p1286
I1316746864
sVcreation_date
p1287
I1316746864
sVscore
p1288
I75
sVowner
p1289
(dp1290
Vuser_id
p1291
I334852
sVprofile_image
p1292
Vhttps://www.gravatar.com/avatar/856b8af00d92f7b05036ba4e53e05db4?s=128&d=identicon&r=PG
p1293
sVuser_type
p1294
Vregistered
p1295
sVreputation
p1296
I7124
sVlink
p1297
Vhttp://stackoverflow.com/users/334852/pablo
p1298
sVdisplay_name
p1299
VPablo
p1300
ssVis_accepted
p1301
I01
sVanswer_id
p1302
I7523810
sa(dp1303
Vbody
p1304
V<p>The problem is in this line:</p>\u000a\u000a<pre><code>with pattern.findall(row) as f:\u000a</code></pre>\u000a\u000a<p>You are using the with statement. It requires an object with <code>__enter__</code> and <code>__exit__</code> methods. But <code>pattern.findall</code> returns a <code>list</code>, <code>with</code> tries to store the <code>__exit__</code> method, but it can't find it, and raises an error. Just use</p>\u000a\u000a<pre><code>f = pattern.findall(row)\u000a</code></pre>\u000a\u000a<p>instead.</p>\u000a
p1305
sVquestion_id
p1306
I7447284
sVlast_activity_date
p1307
I1316191267
sVcreation_date
p1308
I1316188411
sVscore
p1309
I91
sVowner
p1310
(dp1311
Vuser_id
p1312
I472416
sVprofile_image
p1313
Vhttps://www.gravatar.com/avatar/aa78d79fb4238d200e26fb87e3de947b?s=128&d=identicon&r=PG
p1314
sVuser_type
p1315
Vregistered
p1316
sVreputation
p1317
I15271
sVlink
p1318
Vhttp://stackoverflow.com/users/472416/utdemir
p1319
sVaccept_rate
p1320
I79
sVdisplay_name
p1321
Vutdemir
p1322
ssVis_accepted
p1323
I01
sVlast_edit_date
p1324
I1316191267
sVanswer_id
p1325
I7447369
sa(dp1326
Vbody
p1327
V<p>this is actually quite tricky - particularly if you want a useful error message when things are inconsistent, while correctly accepting duplicate but consistent entries (something no other answer here does....)</p>\u000a\u000a<p>assuming you don't have huge numbers of entries a recursive function is easiest:</p>\u000a\u000a<pre><code>def merge(a, b, path=None):\u000a    "merges b into a"\u000a    if path is None: path = []\u000a    for key in b:\u000a        if key in a:\u000a            if isinstance(a[key], dict) and isinstance(b[key], dict):\u000a                merge(a[key], b[key], path + [str(key)])\u000a            elif a[key] == b[key]:\u000a                pass # same leaf value\u000a            else:\u000a                raise Exception('Conflict at %s' % '.'.join(path + [str(key)]))\u000a        else:\u000a            a[key] = b[key]\u000a    return a\u000a\u000a# works\u000aprint(merge({1:{"a":"A"},2:{"b":"B"}}, {2:{"c":"C"},3:{"d":"D"}}))\u000a# has conflict\u000amerge({1:{"a":"A"},2:{"b":"B"}}, {1:{"a":"A"},2:{"b":"C"}})\u000a</code></pre>\u000a\u000a<p>note that this mutates <code>a</code> - the contents of <code>b</code> are added to <code>a</code> (which is also returned).  if you want to keep <code>a</code> you could call it like <code>merge(dict(a), b)</code>.</p>\u000a\u000a<p>agf pointed out (below) that you may have more than two dicts, in which case you can use:</p>\u000a\u000a<pre><code>reduce(merge, [dict1, dict2, dict3...])\u000a</code></pre>\u000a\u000a<p>where everything will be added to dict1.</p>\u000a\u000a<p>[note - i edited my initial answer to mutate the first argument; that makes the "reduce" easier to explain]</p>\u000a\u000a<p>ps in python 3, you will also need <code>from functools import reduce</code></p>\u000a
p1328
sVquestion_id
p1329
I7204805
sVlast_activity_date
p1330
I1314369972
sVcreation_date
p1331
I1314364128
sVscore
p1332
I62
sVowner
p1333
(dp1334
Vuser_id
p1335
I181772
sVprofile_image
p1336
Vhttps://www.gravatar.com/avatar/03d9445ceed1c27bc651479a9dc2beae?s=128&d=identicon&r=PG
p1337
sVuser_type
p1338
Vregistered
p1339
sVreputation
p1340
I29981
sVlink
p1341
Vhttp://stackoverflow.com/users/181772/andrew-cooke
p1342
sVaccept_rate
p1343
I96
sVdisplay_name
p1344
Vandrew cooke
p1345
ssVis_accepted
p1346
I01
sVlast_edit_date
p1347
I1314369972
sVanswer_id
p1348
I7205107
sa(dp1349
Vbody
p1350
V<p>There isn't any reason not to use keyword arguments apart from the clarity and readability of the code. The choice of whether to use keywords should be based on whether the keyword adds additional useful information when reading the code or not.</p>\u000a\u000a<p>I follow the following general rule:</p>\u000a\u000a<ol>\u000a<li>If it is hard to infer the function (name) of the argument from the function name \u2013 pass it by keyword (e.g. I wouldn't want to have <code>text.splitlines(True)</code> in my code).</li>\u000a<li>If it is hard to infer the order of the arguments, for example if you have too many arguments, or when you have independent optional arguments \u2013 pass it by keyword (e.g. <code>funkyplot(x, y, None, None, None, None, None, None, 'red')</code> doesn't look particularly nice).</li>\u000a<li>Never pass the first few arguments by keyword if the purpose of the argument is obvious. You see, <code>sin(2*pi)</code> is better than <code>sin(value=2*pi)</code>, the same is true for <code>plot(x, y, z)</code>.</li>\u000a</ol>\u000a\u000a<p>In most cases, stable mandatory arguments would be positional, and optional arguments would be keyword.</p>\u000a\u000a<p>There's also a possible difference in performance, because in every implementation the keyword arguments would be slightly slower, but considering this would be generally a premature optimisation and the results from it wouldn't be significant, I don't think it's crucial for the decision.</p>\u000a\u000a<p><strong>UPDATE: Non-stylistical concerns</strong></p>\u000a\u000a<p>Keyword arguments can do everything that positional arguments can, and if you're defining a new API there are no technical disadvantages apart from possible performance issues. However, you might have little issues if you're combining your code with existing elements.</p>\u000a\u000a<p>Consider the following:</p>\u000a\u000a<ul>\u000a<li>If you make your function take keyword arguments, that becomes part of your interface. \u000aYou can't replace your function with another that has a similar signature but a different keyword for the same argument.</li>\u000a<li>You might want to use a decorator or another utility on your function that assumes that your function takes a positional argument. Unbound methods are an example of such utility because they always pass the first argument as positional after reading it as positional, so <code>cls.method(self=cls_instance)</code> doesn't work even if there is an argument <code>self</code> in the definition.</li>\u000a</ul>\u000a\u000a<p>None of these would be a real issue if you design your API well and document the use of keyword arguments, especially if you're not designing something that should be interchangeable with something that already exists.</p>\u000a
p1351
sVquestion_id
p1352
I7041752
sVlast_activity_date
p1353
I1313166546
sVcreation_date
p1354
I1313161082
sVscore
p1355
I50
sVowner
p1356
(dp1357
Vuser_id
p1358
I512132
sVprofile_image
p1359
Vhttps://www.gravatar.com/avatar/c77067a81f6997370c1d290ea126ce1c?s=128&d=identicon&r=PG
p1360
sVuser_type
p1361
Vregistered
p1362
sVreputation
p1363
I10467
sVlink
p1364
Vhttp://stackoverflow.com/users/512132/rosh-oxymoron
p1365
sVdisplay_name
p1366
VRosh Oxymoron
p1367
ssVis_accepted
p1368
I01
sVlast_edit_date
p1369
I1313166546
sVanswer_id
p1370
I7041991
sa(dp1371
Vcommunity_owned_date
p1372
I1302814672
sVbody
p1373
V<p>Paul's answer is a perfectly fine method of doing this. </p>\u000a\u000a<p>However, if you don't want to make a custom transform, you can just use two subplots to create the same effect.</p>\u000a\u000a<p>Rather than put together an example from scratch, there's <a href="https://github.com/matplotlib/matplotlib/blob/master/examples/pylab_examples/broken_axis.py" rel="noreferrer">an excellent example of this written by Paul Ivanov</a> in the matplotlib examples (It's only in the current git tip, as it was only committed a few months ago. It's not on the webpage yet.).  </p>\u000a\u000a<p>This is just a simple modification of this example to have a discontinuous x-axis instead of the y-axis. (Which is why I'm making this post a CW)</p>\u000a\u000a<p>Basically, you just do something like this:</p>\u000a\u000a<pre><code>import matplotlib.pylab as plt\u000aimport numpy as np\u000a\u000a# If you're not familiar with np.r_, don't worry too much about this. It's just \u000a# a series with points from 0 to 1 spaced at 0.1, and 9 to 10 with the same spacing.\u000ax = np.r_[0:1:0.1, 9:10:0.1]\u000ay = np.sin(x)\u000a\u000afig,(ax,ax2) = plt.subplots(1, 2, sharey=True)\u000a\u000a# plot the same data on both axes\u000aax.plot(x, y, 'bo')\u000aax2.plot(x, y, 'bo')\u000a\u000a# zoom-in / limit the view to different portions of the data\u000aax.set_xlim(0,1) # most of the data\u000aax2.set_xlim(9,10) # outliers only\u000a\u000a# hide the spines between ax and ax2\u000aax.spines['right'].set_visible(False)\u000aax2.spines['left'].set_visible(False)\u000aax.yaxis.tick_left()\u000aax.tick_params(labeltop='off') # don't put tick labels at the top\u000aax2.yaxis.tick_right()\u000a\u000a# Make the spacing between the two axes a bit smaller\u000aplt.subplots_adjust(wspace=0.15)\u000a\u000aplt.show()\u000a</code></pre>\u000a\u000a<p><img src="https://i.stack.imgur.com/usLNf.png" alt="enter image description here"></p>\u000a\u000a<p>To add the broken axis lines <code>//</code> effect, we can do this (again, modified from Paul Ivanov's example):</p>\u000a\u000a<pre><code>import matplotlib.pylab as plt\u000aimport numpy as np\u000a\u000a# If you're not familiar with np.r_, don't worry too much about this. It's just \u000a# a series with points from 0 to 1 spaced at 0.1, and 9 to 10 with the same spacing.\u000ax = np.r_[0:1:0.1, 9:10:0.1]\u000ay = np.sin(x)\u000a\u000afig,(ax,ax2) = plt.subplots(1, 2, sharey=True)\u000a\u000a# plot the same data on both axes\u000aax.plot(x, y, 'bo')\u000aax2.plot(x, y, 'bo')\u000a\u000a# zoom-in / limit the view to different portions of the data\u000aax.set_xlim(0,1) # most of the data\u000aax2.set_xlim(9,10) # outliers only\u000a\u000a# hide the spines between ax and ax2\u000aax.spines['right'].set_visible(False)\u000aax2.spines['left'].set_visible(False)\u000aax.yaxis.tick_left()\u000aax.tick_params(labeltop='off') # don't put tick labels at the top\u000aax2.yaxis.tick_right()\u000a\u000a# Make the spacing between the two axes a bit smaller\u000aplt.subplots_adjust(wspace=0.15)\u000a\u000a# This looks pretty good, and was fairly painless, but you can get that\u000a# cut-out diagonal lines look with just a bit more work. The important\u000a# thing to know here is that in axes coordinates, which are always\u000a# between 0-1, spine endpoints are at these locations (0,0), (0,1),\u000a# (1,0), and (1,1). Thus, we just need to put the diagonals in the\u000a# appropriate corners of each of our axes, and so long as we use the\u000a# right transform and disable clipping.\u000a\u000ad = .015 # how big to make the diagonal lines in axes coordinates\u000a# arguments to pass plot, just so we don't keep repeating them\u000akwargs = dict(transform=ax.transAxes, color='k', clip_on=False)\u000aax.plot((1-d,1+d),(-d,+d), **kwargs) # top-left diagonal\u000aax.plot((1-d,1+d),(1-d,1+d), **kwargs) # bottom-left diagonal\u000a\u000akwargs.update(transform=ax2.transAxes) # switch to the bottom axes\u000aax2.plot((-d,d),(-d,+d), **kwargs) # top-right diagonal\u000aax2.plot((-d,d),(1-d,1+d), **kwargs) # bottom-right diagonal\u000a\u000a# What's cool about this is that now if we vary the distance between\u000a# ax and ax2 via f.subplots_adjust(hspace=...) or plt.subplot_tool(),\u000a# the diagonal lines will move accordingly, and stay right at the tips\u000a# of the spines they are 'breaking'\u000a\u000aplt.show()\u000a</code></pre>\u000a\u000a<p><img src="https://i.stack.imgur.com/kZ1T5.png" alt="enter image description here"></p>\u000a
p1374
sVquestion_id
p1375
I5656798
sVlast_activity_date
p1376
I1302814672
sVcreation_date
p1377
I1302813102
sVscore
p1378
I50
sVowner
p1379
(dp1380
Vuser_id
p1381
I325565
sVprofile_image
p1382
Vhttps://www.gravatar.com/avatar/342bd0a61c7081db529c856d3bcd9545?s=128&d=identicon&r=PG
p1383
sVuser_type
p1384
Vregistered
p1385
sVreputation
p1386
I136691
sVlink
p1387
Vhttp://stackoverflow.com/users/325565/joe-kington
p1388
sVdisplay_name
p1389
VJoe Kington
p1390
ssVis_accepted
p1391
I01
sVlast_edit_date
p1392
I1302814672
sVanswer_id
p1393
I5669301
sa(dp1394
Vbody
p1395
V<pre><code>mylist = ['x', 3, 'b']\u000aprint '[%s]' % ', '.join(map(str, mylist))\u000a</code></pre>\u000a
p1396
sVquestion_id
p1397
I5445970
sVlast_activity_date
p1398
I1301180775
sVcreation_date
p1399
I1301180775
sVscore
p1400
I102
sVowner
p1401
(dp1402
Vuser_id
p1403
I65696
sVprofile_image
p1404
Vhttps://www.gravatar.com/avatar/d8da959b2a586b4a147604e6f534a9fe?s=128&d=identicon&r=PG
p1405
sVuser_type
p1406
Vregistered
p1407
sVreputation
p1408
I91218
sVlink
p1409
Vhttp://stackoverflow.com/users/65696/singlenegationelimination
p1410
sVaccept_rate
p1411
I85
sVdisplay_name
p1412
VSingleNegationElimination
p1413
ssVis_accepted
p1414
I01
sVanswer_id
p1415
I5445983
sa(dp1416
Vbody
p1417
V<p><strong>Option 1: Install as package data</strong></p>\u000a\u000a<p>The main advantage of placing data files inside the root of your Python package\u000ais that it lets you avoid worrying about where the files will live on a user's\u000asystem, which may be Windows, Mac, Linux, some mobile platform, or inside an Egg. You can\u000aalways find the directory <code>data</code> relative to your Python package root, no matter where or how it is installed.</p>\u000a\u000a<p>For example, if I have a project layout like so:</p>\u000a\u000a<pre><code>project/\u000a    foo/\u000a        __init__.py\u000a        data/\u000a            resource1/\u000a                foo.txt\u000a</code></pre>\u000a\u000a<p>You can add a function to <code>__init__.py</code> to locate an absolute path to a data \u000afile:</p>\u000a\u000a<pre><code>import os\u000a\u000a_ROOT = os.path.abspath(os.path.dirname(__file__))\u000adef get_data(path):\u000a    return os.path.join(_ROOT, 'data', path)\u000a\u000aprint get_data('resource1/foo.txt')\u000a</code></pre>\u000a\u000a<p>Outputs:</p>\u000a\u000a<pre><code>/Users/pat/project/foo/data/resource1/foo.txt\u000a</code></pre>\u000a\u000a<p>After the project is installed as an Egg the path to <code>data</code> will change, but the code doesn't need to change:</p>\u000a\u000a<pre><code>/Users/pat/virtenv/foo/lib/python2.6/site-packages/foo-0.0.0-py2.6.egg/foo/data/resource1/foo.txt\u000a</code></pre>\u000a\u000a<hr>\u000a\u000a<p><strong>Option 2: Install to fixed location</strong></p>\u000a\u000a<p>The alternative would be to place your data outside the Python package and then\u000aeither:</p>\u000a\u000a<ol>\u000a<li>Have the location of <code>data</code> passed in via a configuration file, \u000acommand line arguments or </li>\u000a<li>Embed the location into your Python code.</li>\u000a</ol>\u000a\u000a<p>This is far less desirable if you plan to distribute your project.  If you <em>really</em> want to do this, you can install your <code>data</code> wherever you like on the target system by specifying the destination for each group of files by passing in a list of tuples:</p>\u000a\u000a<pre><code>from setuptools import setup\u000asetup(\u000a    ...\u000a    data_files=[\u000a        ('/var/data1', ['data/foo.txt']),\u000a        ('/var/data2', ['data/bar.txt'])\u000a        ]\u000a    )\u000a</code></pre>\u000a\u000a<p><strong>Updated</strong>: Example of a shell function to recursively grep Python files:</p>\u000a\u000a<pre><code>atlas% function grep_py { find . -name '*.py' -exec grep -Hn $* {} \u005c; }\u000aatlas% grep_py ": \u005c["\u000a./setup.py:9:    package_data={'foo': ['data/resource1/foo.txt']}\u000a</code></pre>\u000a
p1418
sVquestion_id
p1419
I4519127
sVlast_activity_date
p1420
I1301069361
sVcreation_date
p1421
I1300988009
sVscore
p1422
I76
sVowner
p1423
(dp1424
Vuser_id
p1425
I538718
sVprofile_image
p1426
Vhttps://www.gravatar.com/avatar/8ddd6dfe0f103ddc3c512f1f266597f9?s=128&d=identicon&r=PG
p1427
sVuser_type
p1428
Vregistered
p1429
sVreputation
p1430
I26212
sVlink
p1431
Vhttp://stackoverflow.com/users/538718/samplebias
p1432
sVdisplay_name
p1433
Vsamplebias
p1434
ssVis_accepted
p1435
I01
sVlast_edit_date
p1436
I1301069361
sVanswer_id
p1437
I5423147
sa(dp1438
Vbody
p1439
V<p>When I run your code I get this error:</p>\u000a\u000a<pre><code>UnboundLocalError: local variable '_total' referenced before assignment\u000a</code></pre>\u000a\u000a<p>This problem is caused by this line:</p>\u000a\u000a<pre><code>_total += PRICE_RANGES[key][0]\u000a</code></pre>\u000a\u000a<p><a href="http://docs.python.org/tutorial/classes.html#python-scopes-and-namespaces" rel="noreferrer">The documentation about Scopes and Namespaces</a>  says this:</p>\u000a\u000a<blockquote>\u000a  <p>A special quirk of Python is that \u2013 if no <code>global</code> statement is in effect \u2013 <strong>assignments to names always go into the innermost scope</strong>. Assignments do not copy data \u2014 they just bind names to objects.</p>\u000a</blockquote>\u000a\u000a<p>So since the line is effectively saying:</p>\u000a\u000a<pre><code>_total = _total + PRICE_RANGES[key][0]\u000a</code></pre>\u000a\u000a<p>it creates <code>_total</code> in the namespace of <code>recurse()</code>.  Since <code>_total</code> is then new and unassigned you can't use it in the addition.</p>\u000a
p1440
sVquestion_id
p1441
I5218895
sVlast_activity_date
p1442
I1299662576
sVcreation_date
p1443
I1299496954
sVscore
p1444
I35
sVowner
p1445
(dp1446
Vuser_id
p1447
I3171
sVprofile_image
p1448
Vhttps://www.gravatar.com/avatar/a780bab849bc39176f044f5effbba7da?s=128&d=identicon&r=PG
p1449
sVuser_type
p1450
Vregistered
p1451
sVreputation
p1452
I133854
sVlink
p1453
Vhttp://stackoverflow.com/users/3171/dave-webb
p1454
sVaccept_rate
p1455
I92
sVdisplay_name
p1456
VDave Webb
p1457
ssVis_accepted
p1458
I01
sVlast_edit_date
p1459
I1299662576
sVanswer_id
p1460
I5219055
sa(dp1461
Vbody
p1462
V<p>I'm showing that a combination of <code>lines.pop(0)</code> <code>l.remove()</code> and <code>del l</code> does the trick.</p>\u000a\u000a<pre><code>from matplotlib import pyplot\u000aimport numpy, weakref\u000aa = numpy.arange(int(1e3))\u000afig = pyplot.Figure()\u000aax  = fig.add_subplot(1, 1, 1)\u000alines = ax.plot(a)\u000a\u000al = lines.pop(0)\u000awl = weakref.ref(l)  # create a weak reference to see if references still exist\u000a#                      to this object\u000aprint wl  # not dead\u000al.remove()\u000aprint wl  # not dead\u000adel l\u000aprint wl  # dead  (remove either of the steps above and this is still live)\u000a</code></pre>\u000a\u000a<p>I checked your large dataset and the release of the memory is confirmed on the system monitor as well.</p>\u000a\u000a<p>Of course the simpler way (when not trouble-shooting) would be to pop it from the list and call <code>remove</code> on the line object without creating a hard reference to it: </p>\u000a\u000a<pre><code>lines.pop(0).remove()\u000a</code></pre>\u000a
p1463
sVquestion_id
p1464
I4981815
sVlast_activity_date
p1465
I1297564314
sVcreation_date
p1466
I1297561632
sVscore
p1467
I36
sVowner
p1468
(dp1469
Vuser_id
p1470
I31676
sVprofile_image
p1471
Vhttps://www.gravatar.com/avatar/1e5e14a22b27a69b3d9fd5c7b05126d8?s=128&d=identicon&r=PG
p1472
sVuser_type
p1473
Vregistered
p1474
sVreputation
p1475
I21920
sVlink
p1476
Vhttp://stackoverflow.com/users/31676/paul
p1477
sVaccept_rate
p1478
I78
sVdisplay_name
p1479
VPaul
p1480
ssVis_accepted
p1481
I01
sVlast_edit_date
p1482
I1297564314
sVanswer_id
p1483
I4981918
sa(dp1484
Vbody
p1485
V<p>What you'll probably want to do is derive <code>unittest.TestCase</code> since that's the class that throws when an assertion fails.  You will have to re-architect your <code>TestCase</code> to not throw (maybe keep a list of failures instead). Re-architecting stuff can cause other issues that you would have to resolve.  For example you may end up needing to derive <code>TestSuite</code> to make changes in support of the changes made to your <code>TestCase</code>.</p>\u000a
p1486
sVquestion_id
p1487
I4732827
sVlast_activity_date
p1488
I1295508153
sVcreation_date
p1489
I1295508153
sVscore
p1490
I5
sVowner
p1491
(dp1492
Vuser_id
p1493
I247357
sVprofile_image
p1494
Vhttps://www.gravatar.com/avatar/57317857d0212cf20edcc4c26199648c?s=128&d=identicon&r=PG
p1495
sVuser_type
p1496
Vregistered
p1497
sVreputation
p1498
I5529
sVlink
p1499
Vhttp://stackoverflow.com/users/247357/dietbuddha
p1500
sVdisplay_name
p1501
Vdietbuddha
p1502
ssVis_accepted
p1503
I01
sVanswer_id
p1504
I4744463
sa(dp1505
Vbody
p1506
V<pre><code>class abstractstatic(staticmethod):\u000a    __slots__ = ()\u000a    def __init__(self, function):\u000a        super(abstractstatic, self).__init__(function)\u000a        function.__isabstractmethod__ = True\u000a    __isabstractmethod__ = True\u000a\u000aclass A(object):\u000a    __metaclass__ = abc.ABCMeta\u000a    @abstractstatic\u000a    def test():\u000a        print 5\u000a</code></pre>\u000a
p1507
sVquestion_id
p1508
I4474395
sVlast_activity_date
p1509
I1292618385
sVcreation_date
p1510
I1292617585
sVscore
p1511
I21
sVowner
p1512
(dp1513
Vuser_id
p1514
I512132
sVprofile_image
p1515
Vhttps://www.gravatar.com/avatar/c77067a81f6997370c1d290ea126ce1c?s=128&d=identicon&r=PG
p1516
sVuser_type
p1517
Vregistered
p1518
sVreputation
p1519
I10467
sVlink
p1520
Vhttp://stackoverflow.com/users/512132/rosh-oxymoron
p1521
sVdisplay_name
p1522
VRosh Oxymoron
p1523
ssVis_accepted
p1524
I01
sVlast_edit_date
p1525
I1292618385
sVanswer_id
p1526
I4474495
sa(dp1527
Vbody
p1528
V<p>First the quick and dirty way, and second the precise way (recognizing daylight's savings or not).</p>\u000a\u000a<pre><code>import time\u000atime.ctime() # 'Mon Oct 18 13:35:29 2010'\u000atime.strftime('%l:%M%p %Z on %b %d, %Y') # ' 1:36PM EDT on Oct 18, 2010'\u000atime.strftime('%l:%M%p %z on %b %d, %Y') # ' 1:36PM EST on Oct 18, 2010'\u000a</code></pre>\u000a
p1529
sVquestion_id
p1530
I3961581
sVlast_activity_date
p1531
I1287424345
sVcreation_date
p1532
I1287423415
sVscore
p1533
I55
sVowner
p1534
(dp1535
Vuser_id
p1536
I457571
sVprofile_image
p1537
Vhttps://www.gravatar.com/avatar/2318229ef6310b03ab828bff43d2ad66?s=128&d=identicon&r=PG
p1538
sVuser_type
p1539
Vregistered
p1540
sVreputation
p1541
I10404
sVlink
p1542
Vhttp://stackoverflow.com/users/457571/dr-jimbob
p1543
sVaccept_rate
p1544
I100
sVdisplay_name
p1545
Vdr jimbob
p1546
ssVis_accepted
p1547
I01
sVlast_edit_date
p1548
I1287424345
sVanswer_id
p1549
I3961739
sa(dp1550
Vbody
p1551
V<pre><code>&gt;&gt;&gt; n = -42\u000a&gt;&gt;&gt; -n       # if you know n is negative\u000a42\u000a&gt;&gt;&gt; abs(n)   # for any n\u000a42\u000a</code></pre>\u000a\u000a<p>Don't forget to check the <a href="http://docs.python.org/library/functions.html#abs" rel="noreferrer">docs</a>.</p>\u000a
p1552
sVquestion_id
p1553
I3854310
sVlast_activity_date
p1554
I1286321312
sVcreation_date
p1555
I1286188008
sVscore
p1556
I105
sVowner
p1557
(dp1558
Vdisplay_name
p1559
VRoger Pate
p1560
sVuser_type
p1561
Vdoes_not_exist
p1562
ssVis_accepted
p1563
I01
sVlast_edit_date
p1564
I1286321312
sVanswer_id
p1565
I3854323
sa(dp1566
Vbody
p1567
V<p>Use the <code>get_backend()</code> function to obtain a string denoting which backend is in use:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; import matplotlib\u000a&gt;&gt;&gt; matplotlib.get_backend()\u000a'TkAgg'\u000a</code></pre>\u000a
p1568
sVquestion_id
p1569
I3580027
sVlast_activity_date
p1570
I1282861576
sVcreation_date
p1571
I1282861576
sVscore
p1572
I59
sVowner
p1573
(dp1574
Vuser_id
p1575
I362809
sVprofile_image
p1576
Vhttps://www.gravatar.com/avatar/164fcaa7b6dfd799ba0d3809f4f628a0?s=128&d=identicon&r=PG
p1577
sVuser_type
p1578
Vregistered
p1579
sVreputation
p1580
I5880
sVlink
p1581
Vhttp://stackoverflow.com/users/362809/andrew
p1582
sVdisplay_name
p1583
VAndrew
p1584
ssVis_accepted
p1585
I01
sVanswer_id
p1586
I3580047
sa(dp1587
Vbody
p1588
V<p>I did an experiment to test this. I changed the <code>MESSAGE_STORAGE</code> setting in one of my projects to <code>'django.contrib.messages.storage.cookie.CookieStorage'</code> and executed a test that I had written to check for messages. It worked. </p>\u000a\u000a<p>The key difference from what you were doing is the way I retrieved messages. See below:</p>\u000a\u000a<pre><code>def test_message_sending(self):\u000a    data = dict(...)\u000a    response = self.client.post(reverse('my_view'), data)\u000a    messages = self.user.get_and_delete_messages()\u000a\u000a    self.assertTrue(messages)\u000a    self.assertEqual('Hey there!', messages[0])\u000a</code></pre>\u000a\u000a<p>This <em>may</em> be worth a try.</p>\u000a
p1589
sVquestion_id
p1590
I2897609
sVlast_activity_date
p1591
I1281697189
sVcreation_date
p1592
I1281697189
sVscore
p1593
I5
sVowner
p1594
(dp1595
Vuser_id
p1596
I140185
sVprofile_image
p1597
Vhttps://www.gravatar.com/avatar/3d8fead2a83893fb2f03eec42ece2de3?s=128&d=identicon&r=PG
p1598
sVuser_type
p1599
Vregistered
p1600
sVreputation
p1601
I38497
sVlink
p1602
Vhttp://stackoverflow.com/users/140185/manoj-govindan
p1603
sVaccept_rate
p1604
I93
sVdisplay_name
p1605
VManoj Govindan
p1606
ssVis_accepted
p1607
I01
sVanswer_id
p1608
I3476169
sa(dp1609
Vbody
p1610
V<p>Here is part of django.core.validators you may find interesting :)</p>\u000a\u000a<pre><code>class EmailValidator(RegexValidator):\u000a\u000a    def __call__(self, value):\u000a        try:\u000a            super(EmailValidator, self).__call__(value)\u000a        except ValidationError, e:\u000a            # Trivial case failed. Try for possible IDN domain-part\u000a            if value and u'@' in value:\u000a                parts = value.split(u'@')\u000a                domain_part = parts[-1]\u000a                try:\u000a                    parts[-1] = parts[-1].encode('idna')\u000a                except UnicodeError:\u000a                    raise e\u000a                super(EmailValidator, self).__call__(u'@'.join(parts))\u000a            else:\u000a                raise\u000a\u000aemail_re = re.compile(\u000a    r"(^[-!#$%&amp;'*+/=?^_`{}|~0-9A-Z]+(\u005c.[-!#$%&amp;'*+/=?^_`{}|~0-9A-Z]+)*"  # dot-atom\u000a    r'|^"([\u005c001-\u005c010\u005c013\u005c014\u005c016-\u005c037!#-\u005c[\u005c]-\u005c177]|\u005c\u005c[\u005c001-011\u005c013\u005c014\u005c016-\u005c177])*"' # quoted-string\u000a    r')@(?:[A-Z0-9](?:[A-Z0-9-]{0,61}[A-Z0-9])?\u005c.)+[A-Z]{2,6}\u005c.?$', re.IGNORECASE)  # domain\u000avalidate_email = EmailValidator(email_re, _(u'Enter a valid e-mail address.'), 'invalid')\u000a</code></pre>\u000a\u000a<p>so if you don't want to use forms and form fields, you can import <code>email_re</code> and use it in your function, or even better - import <code>validate_email</code> and use it, catching possible <code>ValidationError</code>.</p>\u000a\u000a<pre><code>def validateEmail( email ):\u000a    from django.core.validators import validate_email\u000a    from django.core.exceptions import ValidationError\u000a    try:\u000a        validate_email( email )\u000a        return True\u000a    except ValidationError:\u000a        return False\u000a</code></pre>\u000a\u000a<p>And here is <a href="http://www.ex-parrot.com/pdw/Mail-RFC822-Address.html" rel="noreferrer">Mail::RFC822::Address regexp</a> used in PERL, if you really need to be that paranoid.</p>\u000a
p1611
sVquestion_id
p1612
I3217682
sVlast_activity_date
p1613
I1278745327
sVcreation_date
p1614
I1278743564
sVscore
p1615
I125
sVowner
p1616
(dp1617
Vuser_id
p1618
I280995
sVprofile_image
p1619
Vhttps://www.gravatar.com/avatar/e484754c3c8b31034073de83b602f031?s=128&d=identicon&r=PG
p1620
sVuser_type
p1621
Vregistered
p1622
sVreputation
p1623
I4503
sVlink
p1624
Vhttp://stackoverflow.com/users/280995/cji
p1625
sVdisplay_name
p1626
Vcji
p1627
ssVis_accepted
p1628
I01
sVlast_edit_date
p1629
I1278745327
sVanswer_id
p1630
I3218128
sa(dp1631
Vbody
p1632
V<p>In <a href="http://docs.python.org/whatsnew/2.6.html" rel="noreferrer">python 2.6</a> it is portable if the CPU supports it</p>\u000a\u000a<blockquote>\u000a  <p>The float() function will now turn the\u000a  string nan into an IEEE 754 Not A\u000a  Number value, and +inf and -inf into\u000a  positive or negative infinity. This\u000a  works on any platform with IEEE 754\u000a  semantics.</p>\u000a</blockquote>\u000a
p1633
sVquestion_id
p1634
I2919754
sVlast_activity_date
p1635
I1274951488
sVcreation_date
p1636
I1274951488
sVscore
p1637
I46
sVowner
p1638
(dp1639
Vuser_id
p1640
I151019
sVprofile_image
p1641
Vhttps://www.gravatar.com/avatar/ab97924548209ed725801c0a08c40d1e?s=128&d=identicon&r=PG
p1642
sVuser_type
p1643
Vregistered
p1644
sVreputation
p1645
I25649
sVlink
p1646
Vhttp://stackoverflow.com/users/151019/mark
p1647
sVaccept_rate
p1648
I83
sVdisplay_name
p1649
VMark
p1650
ssVis_accepted
p1651
I01
sVanswer_id
p1652
I2919800
sa(dp1653
Vbody
p1654
V<p>Extending bp's answer, I wanted to show you what he meant by immutable types.</p>\u000a\u000a<p>First, this is okay:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; class TestB():\u000a...     def __init__(self, attr=1):\u000a...         self.attr = attr\u000a...     \u000a&gt;&gt;&gt; a = TestB()\u000a&gt;&gt;&gt; b = TestB()\u000a&gt;&gt;&gt; a.attr = 2\u000a&gt;&gt;&gt; a.attr\u000a2\u000a&gt;&gt;&gt; b.attr\u000a1\u000a</code></pre>\u000a\u000a<p>However, this only works for immutable (unchangable) types. If the default value was mutable (meaning it can be replaced), this would happen instead:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; class Test():\u000a...     def __init__(self, attr=[]):\u000a...         self.attr = attr\u000a...     \u000a&gt;&gt;&gt; a = Test()\u000a&gt;&gt;&gt; b = Test()\u000a&gt;&gt;&gt; a.attr.append(1)\u000a&gt;&gt;&gt; a.attr\u000a[1]\u000a&gt;&gt;&gt; b.attr\u000a[1]\u000a&gt;&gt;&gt; \u000a</code></pre>\u000a\u000a<p>Note both a and b have a shared attribute. This is often unwanted.</p>\u000a\u000a<p>This is the Pythonic way of defining default values for instance variables, when the type is mutable:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; class TestC():\u000a...     def __init__(self, attr=None):\u000a...         if attr is None:\u000a...             attr = []\u000a...         self.attr = attr\u000a...     \u000a&gt;&gt;&gt; a = TestC()\u000a&gt;&gt;&gt; b = TestC()\u000a&gt;&gt;&gt; a.attr.append(1)\u000a&gt;&gt;&gt; a.attr\u000a[1]\u000a&gt;&gt;&gt; b.attr\u000a[]\u000a</code></pre>\u000a\u000a<p>The reason my first snippet of code works is because, with immutable types, Python creates a new instance of it whenever you want one. If you needed to add 1 to 1, Python makes a new 2 for you, because the old 1 cannot be changed. The reason is mostly for hashing, I believe.</p>\u000a
p1655
sVquestion_id
p1656
I2681243
sVlast_activity_date
p1657
I1274415765
sVcreation_date
p1658
I1271840545
sVscore
p1659
I71
sVowner
p1660
(dp1661
Vuser_id
p1662
I319952
sVprofile_image
p1663
Vhttps://www.gravatar.com/avatar/5afd92c3c582d88bb88de34717ab931e?s=128&d=identicon&r=PG
p1664
sVuser_type
p1665
Vregistered
p1666
sVreputation
p1667
I6654
sVlink
p1668
Vhttp://stackoverflow.com/users/319952/xavier-ho
p1669
sVaccept_rate
p1670
I89
sVdisplay_name
p1671
VXavier Ho
p1672
ssVis_accepted
p1673
I01
sVlast_edit_date
p1674
I1274415765
sVanswer_id
p1675
I2681507
sa(dp1676
Vbody
p1677
V<p>This is Python3 <code>bytes</code> <a href="http://docs.python.org/py3k/reference/lexical_analysis.html#literals" rel="noreferrer">literal</a>. This prefix is absent in Python 2.5 and older (it is equivalent to a plain string of 2.x, while plain string of 3.x is equivalent to a literal with <code>u</code> prefix in 2.x). In Python 2.6+ it is equivalent to a plain string, <a href="http://docs.python.org/whatsnew/2.6.html#pep-3112-byte-literals" rel="noreferrer">for compatibility with 3.x</a>.</p>\u000a
p1678
sVquestion_id
p1679
I2592764
sVlast_activity_date
p1680
I1270649126
sVcreation_date
p1681
I1270647268
sVscore
p1682
I37
sVowner
p1683
(dp1684
Vuser_id
p1685
I113586
sVprofile_image
p1686
Vhttps://www.gravatar.com/avatar/57c59ffcc95bda165de61b15e9864e65?s=128&d=identicon&r=PG
p1687
sVuser_type
p1688
Vregistered
p1689
sVreputation
p1690
I18186
sVlink
p1691
Vhttp://stackoverflow.com/users/113586/wrar
p1692
sVaccept_rate
p1693
I87
sVdisplay_name
p1694
VwRAR
p1695
ssVis_accepted
p1696
I01
sVlast_edit_date
p1697
I1270649126
sVanswer_id
p1698
I2592818
sa(dp1699
Vbody
p1700
V<p>I suggest you instantiate a <a href="http://docs.python.org/library/queue.html?highlight=queue#Queue.Queue" rel="noreferrer">Queue.Queue</a> before starting the thread, and pass it as one of the thread's args: before the thread finishes, it <code>.put</code>s the result on the queue it received as an argument.  The parent can <code>.get</code> or <code>.get_nowait</code> it at will.</p>\u000a\u000a<p>Queues are generally the best way to arrange thread synchronization and communication in Python: they're intrinsically thread-safe, message-passing vehicles -- the best way to organize multitasking in general!-)</p>\u000a
p1701
sVquestion_id
p1702
I1886090
sVlast_activity_date
p1703
I1260512654
sVcreation_date
p1704
I1260512654
sVscore
p1705
I57
sVowner
p1706
(dp1707
Vuser_id
p1708
I95810
sVprofile_image
p1709
Vhttps://www.gravatar.com/avatar/e8d5fe90f1fe2148bf130cccd4dc311c?s=128&d=identicon&r=PG
p1710
sVuser_type
p1711
Vregistered
p1712
sVreputation
p1713
I516089
sVlink
p1714
Vhttp://stackoverflow.com/users/95810/alex-martelli
p1715
sVaccept_rate
p1716
I80
sVdisplay_name
p1717
VAlex Martelli
p1718
ssVis_accepted
p1719
I01
sVanswer_id
p1720
I1886176
sa(dp1721
Vbody
p1722
V<p>There are 3 things I can think of off the top of my head:</p>\u000a\u000a<ol>\u000a<li>Just used <a href="http://docs.djangoproject.com/en/dev/topics/http/urls/#naming-url-patterns" rel="noreferrer">named urls</a>, it's more robust and maintainable anyway</li>\u000a<li><p>Try using <code>django.core.urlresolvers.reverse</code> at the command line for a (possibly) better error</p>\u000a\u000a<pre><code>&gt;&gt;&gt; from django.core.urlresolvers import reverse\u000a&gt;&gt;&gt; reverse('products.views.filter_by_led')\u000a</code></pre></li>\u000a<li><p>Check to see if you have more than one url that points to that view</p></li>\u000a</ol>\u000a
p1723
sVquestion_id
p1724
I1842389
sVlast_activity_date
p1725
I1259870883
sVcreation_date
p1726
I1259870883
sVscore
p1727
I50
sVowner
p1728
(dp1729
Vuser_id
p1730
I2908
sVprofile_image
p1731
Vhttps://www.gravatar.com/avatar/30e3f436d5fb8e941126a0c2c2868f84?s=128&d=identicon&r=PG
p1732
sVuser_type
p1733
Vregistered
p1734
sVreputation
p1735
I35265
sVlink
p1736
Vhttp://stackoverflow.com/users/2908/jiaaro
p1737
sVaccept_rate
p1738
I97
sVdisplay_name
p1739
VJiaaro
p1740
ssVis_accepted
p1741
I01
sVanswer_id
p1742
I1842548
sa(dp1743
Vbody
p1744
V<p>You should be able to modify <code>os.environ</code>.</p>\u000a\u000a<p>Since <code>os.pathsep</code> is the character to separate different paths, you should use this to append each new path:</p>\u000a\u000a<pre><code>os.environ["PATH"] += os.pathsep + path\u000a</code></pre>\u000a\u000a<p>or, if there are several paths to add in a list:</p>\u000a\u000a<pre><code>os.environ["PATH"] += os.pathsep + os.pathsep.join(pathlist)\u000a</code></pre>\u000a\u000a<p>As you mentioned, <code>os.path.join</code> can also be used for each individual path you have to append in the case you have to construct them from separate parts.</p>\u000a
p1745
sVquestion_id
p1746
I1681208
sVlast_activity_date
p1747
I1257435602
sVcreation_date
p1748
I1257434517
sVscore
p1749
I90
sVowner
p1750
(dp1751
Vuser_id
p1752
I183575
sVprofile_image
p1753
Vhttps://www.gravatar.com/avatar/8f7cf97a5839b2c12ce7f3ccf3dd6c6d?s=128&d=identicon&r=PG
p1754
sVuser_type
p1755
Vregistered
p1756
sVreputation
p1757
I8295
sVlink
p1758
Vhttp://stackoverflow.com/users/183575/redglyph
p1759
sVaccept_rate
p1760
I50
sVdisplay_name
p1761
VRedGlyph
p1762
ssVis_accepted
p1763
I01
sVlast_edit_date
p1764
I1257435602
sVanswer_id
p1765
I1681244
sa(dp1766
Vbody
p1767
V<p>I guess a solution could be only imprecise because of lack of static typing rules.</p>\u000a\u000a<p>I'm not aware of some tool that checks exceptions, but you could come up with your own tool matching your needs (a good chance to play a little with static analysis).</p>\u000a\u000a<p>As a first attempt, you could write a function that builds an AST, finds all <code>Raise</code> nodes, and then tries to figure out common patterns of raising exceptions (e. g. calling a constructor directly)</p>\u000a\u000a<p>Let <code>x</code> be the following program:</p>\u000a\u000a<pre><code>x = '''\u005c\u000aif f(x):\u000a    raise IOError(errno.ENOENT, 'not found')\u000aelse:\u000a    e = g(x)\u000a    raise e\u000a'''\u000a</code></pre>\u000a\u000a<p>Build the AST using the <code>compiler</code> package:</p>\u000a\u000a<pre><code>tree = compiler.parse(x)\u000a</code></pre>\u000a\u000a<p>Then define a <code>Raise</code> visitor class:</p>\u000a\u000a<pre><code>class RaiseVisitor(object):\u000a    def __init__(self):\u000a        self.nodes = []\u000a    def visitRaise(self, n):\u000a        self.nodes.append(n)\u000a</code></pre>\u000a\u000a<p>And walk the AST collecting <code>Raise</code> nodes:</p>\u000a\u000a<pre><code>v = RaiseVisitor()\u000acompiler.walk(tree, v)\u000a\u000a&gt;&gt;&gt; print v.nodes\u000a[\u000a    Raise(\u000a        CallFunc(\u000a            Name('IOError'),\u000a            [Getattr(Name('errno'), 'ENOENT'), Const('not found')],\u000a            None, None),\u000a        None, None),\u000a    Raise(Name('e'), None, None),\u000a]\u000a</code></pre>\u000a\u000a<p>You may continue by resolving symbols using compiler symbol tables, analyzing data dependencies, etc. Or you may just deduce, that <code>CallFunc(Name('IOError'), ...)</code> "should definitely mean raising <code>IOError</code>", which is quite OK for quick practical results :)</p>\u000a
p1768
sVquestion_id
p1769
I1591319
sVlast_activity_date
p1770
I1255990954
sVcreation_date
p1771
I1255990517
sVscore
p1772
I15
sVowner
p1773
(dp1774
Vuser_id
p1775
I187103
sVprofile_image
p1776
Vhttps://www.gravatar.com/avatar/d4b658aaf2bd1b74618d42b2bd2df22e?s=128&d=identicon&r=PG
p1777
sVuser_type
p1778
Vregistered
p1779
sVreputation
p1780
I10299
sVlink
p1781
Vhttp://stackoverflow.com/users/187103/andrey-vlasovskikh
p1782
sVaccept_rate
p1783
I100
sVdisplay_name
p1784
VAndrey Vlasovskikh
p1785
ssVis_accepted
p1786
I01
sVlast_edit_date
p1787
I1255990954
sVanswer_id
p1788
I1591432
sa(dp1789
Vbody
p1790
V<p>There is a <code>post-checkout</code> hook, to be placed in .git/hooks/post-checkout. There's probably a sample there, possibly named .sample or possibly not executable, depending on your git version. Short description: it gets three parameters, the previous HEAD, the new HEAD, and a flag which is 1 if the branch changed and 0 if it was merely a file checkout. See <code>man githooks</code> for more information!  You should be able to write a shell script to do what you need and put it there.</p>\u000a\u000a<p>Edit: I realize you're looking to do this pre-checkout, so that the checkout automatically cleans up directories which become empty. There's no pre-checkout hook, though, so you'll have to use your script to remove the directories too.</p>\u000a\u000a<p>Another note:\u000aAliases are part of gitconfig, which can be local to a repository (in .git/config, not ~/.gitconfig). If you choose to do this with aliases (for git-checkout, not git-branch) you can easily put them only in python-related repositories. Also in this case, I'd make an alias specifically for this purpose (e.g. cc for checkout clean). You can still use checkout (or another aliased form of it) if you don't want to clean up pyc files.</p>\u000a
p1791
sVquestion_id
p1792
I1504724
sVlast_activity_date
p1793
I1254412621
sVcreation_date
p1794
I1254412121
sVscore
p1795
I40
sVowner
p1796
(dp1797
Vuser_id
p1798
I119963
sVprofile_image
p1799
Vhttps://i.stack.imgur.com/tBCc0.jpg?s=128&g=1
p1800
sVuser_type
p1801
Vregistered
p1802
sVreputation
p1803
I255572
sVlink
p1804
Vhttp://stackoverflow.com/users/119963/jefromi
p1805
sVdisplay_name
p1806
VJefromi
p1807
ssVis_accepted
p1808
I01
sVlast_edit_date
p1809
I1254412621
sVanswer_id
p1810
I1504760
sa(dp1811
Vbody
p1812
V<p>The Unicode version of translate requires a mapping from Unicode ordinals (which you can retrieve for a single character with <code>ord</code>) to Unicode ordinals. If you want to delete characters, you map to <code>None</code>.</p>\u000a\u000a<p>I changed your function to build a dict mapping the ordinal of every character to the ordinal of what you want to translate to:</p>\u000a\u000a<pre><code>def translate_non_alphanumerics(to_translate, translate_to=u'_'):\u000a    not_letters_or_digits = u'!"#%\u005c'()*+,-./:;&lt;=&gt;?@[\u005c]^_`{|}~'\u000a    translate_table = dict((ord(char), translate_to) for char in not_letters_or_digits)\u000a    return to_translate.translate(translate_table)\u000a\u000a&gt;&gt;&gt; translate_non_alphanumerics(u'&lt;foo&gt;!')\u000au'_foo__'\u000a</code></pre>\u000a\u000a<p><em>edit:</em> It turns out that the translation mapping must map from the Unicode ordinal (via <code>ord</code>) to either another Unicode ordinal, a Unicode string, or None (to delete). I have thus changed the default value for <code>translate_to</code> to be a Unicode literal. For example:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; translate_non_alphanumerics(u'&lt;foo&gt;!', u'bad')\u000au'badfoobadbad'\u000a</code></pre>\u000a
p1813
sVquestion_id
p1814
I1324067
sVlast_activity_date
p1815
I1251140893
sVcreation_date
p1816
I1251140577
sVscore
p1817
I47
sVowner
p1818
(dp1819
Vuser_id
p1820
I66502
sVprofile_image
p1821
Vhttps://www.gravatar.com/avatar/ab87b4bc5b2d9b8f5e4fa625938bfc9a?s=128&d=identicon&r=PG
p1822
sVuser_type
p1823
Vregistered
p1824
sVreputation
p1825
I5118
sVlink
p1826
Vhttp://stackoverflow.com/users/66502/mike-boers
p1827
sVaccept_rate
p1828
I83
sVdisplay_name
p1829
VMike Boers
p1830
ssVis_accepted
p1831
I01
sVlast_edit_date
p1832
I1251140893
sVanswer_id
p1833
I1324114
sa(dp1834
Vbody
p1835
V<p>It's really a matter of semantics.  What does <code>foo = latestpdf(d)</code> <em>mean</em>?</p>\u000a\u000a<p>Is it perfectly reasonable that there's no latest file?  Then sure, just return None.</p>\u000a\u000a<p>Are you expecting to always find a latest file?  Raise an exception.  And yes, re-raising a more appropriate exception is fine.</p>\u000a\u000a<p>If this is just a general function that's supposed to apply to any directory, I'd do the former and return None.  If the directory is, e.g., meant to be a specific data directory that contains an application's known set of files, I'd raise an exception.</p>\u000a
p1836
sVquestion_id
p1837
I1313812
sVlast_activity_date
p1838
I1250883246
sVcreation_date
p1839
I1250883246
sVscore
p1840
I63
sVowner
p1841
(dp1842
Vuser_id
p1843
I17875
sVprofile_image
p1844
Vhttps://www.gravatar.com/avatar/9589a0b8efc6bb869bedfa51e7d28f16?s=128&d=identicon&r=PG
p1845
sVuser_type
p1846
Vregistered
p1847
sVreputation
p1848
I29763
sVlink
p1849
Vhttp://stackoverflow.com/users/17875/eevee
p1850
sVdisplay_name
p1851
VEevee
p1852
ssVis_accepted
p1853
I01
sVanswer_id
p1854
I1313837
sa(dp1855
Vbody
p1856
V<p>You will want to read about <a href="http://docs.python.org/whatsnew/2.5.html#pep-328-absolute-and-relative-imports" rel="noreferrer">Absolute and Relative Imports</a> which addresses this very problem. Use:</p>\u000a\u000a<pre><code>from __future__ import absolute_import\u000a</code></pre>\u000a\u000a<p>Using that, any unadorned package name will always refer to the top level package. You will then need to use relative imports (<code>from .email import ...</code>) to access your own package.</p>\u000a
p1857
sVquestion_id
p1858
I1224741
sVlast_activity_date
p1859
I1249336527
sVcreation_date
p1860
I1249335527
sVscore
p1861
I71
sVowner
p1862
(dp1863
Vuser_id
p1864
I893
sVprofile_image
p1865
Vhttps://www.gravatar.com/avatar/747ffa5da3538e66840ebc0548b8fd58?s=128&d=identicon&r=PG
p1866
sVuser_type
p1867
Vregistered
p1868
sVreputation
p1869
I552714
sVlink
p1870
Vhttp://stackoverflow.com/users/893/greg-hewgill
p1871
sVaccept_rate
p1872
I85
sVdisplay_name
p1873
VGreg Hewgill
p1874
ssVis_accepted
p1875
I01
sVlast_edit_date
p1876
I1249336527
sVanswer_id
p1877
I1224760
sa(dp1878
Vbody
p1879
V<p>appcfg.py, the tool that uploads data to App Engine has to do exactly this to authenticate itself with the App Engine server. The relevant functionality is abstracted into appengine_rpc.py. In a nutshell, the solution is:</p>\u000a\u000a<ol>\u000a<li>Use the <a href="http://code.google.com/apis/accounts/docs/AuthForInstalledApps.html" rel="noreferrer">Google ClientLogin API</a> to obtain an authentication token. appengine_rpc.py does this in <a href="http://code.google.com/p/googleappengine/source/browse/trunk/python/google/appengine/tools/appengine_rpc.py#180" rel="noreferrer">_GetAuthToken</a></li>\u000a<li>Send the auth token to a special URL on your App Engine app. That page then returns a cookie and a 302 redirect. Ignore the redirect and store the cookie. appcfg.py does this in <a href="http://code.google.com/p/googleappengine/source/browse/trunk/python/google/appengine/tools/appengine_rpc.py#228" rel="noreferrer">_GetAuthCookie</a></li>\u000a<li>Use the returned cookie in all future requests.</li>\u000a</ol>\u000a\u000a<p>You may also want to look at <a href="http://code.google.com/p/googleappengine/source/browse/trunk/python/google/appengine/tools/appengine_rpc.py#253" rel="noreferrer">_Authenticate</a>, to see how appcfg handles the various return codes from ClientLogin, and <a href="http://code.google.com/p/googleappengine/source/browse/trunk/python/google/appengine/tools/appengine_rpc.py#397" rel="noreferrer">_GetOpener</a>, to see how appcfg creates a urllib2 OpenerDirector that doesn't follow HTTP redirects. Or you could, in fact, just use the AbstractRpcServer and HttpRpcServer classes wholesale, since they do pretty much everything you need.</p>\u000a
p1880
sVquestion_id
p1881
I101742
sVlast_activity_date
p1882
I1247563312
sVcreation_date
p1883
I1221836124
sVscore
p1884
I38
sVowner
p1885
(dp1886
Vuser_id
p1887
I12030
sVprofile_image
p1888
Vhttps://www.gravatar.com/avatar/dc69af7dd7151a00843602888638fabb?s=128&d=identicon&r=PG
p1889
sVuser_type
p1890
Vregistered
p1891
sVreputation
p1892
I91039
sVlink
p1893
Vhttp://stackoverflow.com/users/12030/nick-johnson
p1894
sVaccept_rate
p1895
I94
sVdisplay_name
p1896
VNick Johnson
p1897
ssVis_accepted
p1898
I01
sVlast_edit_date
p1899
I1247563312
sVanswer_id
p1900
I102509
sa(dp1901
Vbody
p1902
V<p>In the long run I think you'll appreciate having most of your imports at the top of the file, that way you can tell at a glance how complicated your module is by what it needs to import.</p>\u000a\u000a<p>If I'm adding new code to an existing file I'll usually do the import where it's needed and then if the code stays I'll makes things more permanent by moving the import line up to the top of the file.</p>\u000a\u000a<p>One other point, I prefer to get an ImportError exception before any code is run -- as a sanity check, so that's another reason to import at the top. </p>\u000a\u000a<p>I use pyChecker to check for unused modules.</p>\u000a
p1903
sVquestion_id
p1904
I1024049
sVlast_activity_date
p1905
I1245636300
sVcreation_date
p1906
I1245636300
sVscore
p1907
I37
sVowner
p1908
(dp1909
Vuser_id
p1910
I120971
sVprofile_image
p1911
Vhttps://www.gravatar.com/avatar/20c002afd70a9e9899b0175a5c07d6eb?s=128&d=identicon&r=PG
p1912
sVuser_type
p1913
Vregistered
p1914
sVreputation
p1915
I973
sVlink
p1916
Vhttp://stackoverflow.com/users/120971/peter-ericson
p1917
sVdisplay_name
p1918
VPeter Ericson
p1919
ssVis_accepted
p1920
I01
sVanswer_id
p1921
I1025259
sa(dp1922
Vbody
p1923
V<p>You can use underscore-underscore-file-underscore-underscore (<code>__file__</code>) to get the path to the package, like this:</p>\u000a\u000a<pre><code>import os\u000athis_dir, this_filename = os.path.split(__file__)\u000aDATA_PATH = os.path.join(this_dir, "data", "data.txt")\u000aprint open(DATA_PATH).read()\u000a</code></pre>\u000a
p1924
sVquestion_id
p1925
I779495
sVlast_activity_date
p1926
I1240450522
sVcreation_date
p1927
I1240439824
sVscore
p1928
I21
sVowner
p1929
(dp1930
Vuser_id
p1931
I21886
sVprofile_image
p1932
Vhttps://www.gravatar.com/avatar/38750c50c11e6054c2123073b17b18fc?s=128&d=identicon&r=PG
p1933
sVuser_type
p1934
Vregistered
p1935
sVreputation
p1936
I160529
sVlink
p1937
Vhttp://stackoverflow.com/users/21886/richiehindle
p1938
sVaccept_rate
p1939
I87
sVdisplay_name
p1940
VRichieHindle
p1941
ssVis_accepted
p1942
I01
sVlast_edit_date
p1943
I1240450522
sVanswer_id
p1944
I779552
sa(dp1945
Vbody
p1946
V<p>Yes it is, just use the name of the method, as you have written. Methods/functions are objects in Python, just like anything else, and you can pass them around the way you do variables. In fact, you can think about a method (or function) as a variable whose value is the actual callable code object.</p>\u000a\u000a<p>FYI, there is no <code>call</code> method - I think it's called <code>__call__</code>, but you don't have to invoke it explicitly:</p>\u000a\u000a<pre><code>def method1():\u000a    return 'hello world'\u000a\u000adef method2(methodToRun):\u000a    result = methodToRun()\u000a    return result\u000a\u000amethod2(method1)\u000a</code></pre>\u000a
p1947
sVquestion_id
p1948
I706721
sVlast_activity_date
p1949
I1238609343
sVcreation_date
p1950
I1238609343
sVscore
p1951
I74
sVowner
p1952
(dp1953
Vuser_id
p1954
I56541
sVprofile_image
p1955
Vhttps://i.stack.imgur.com/C6rHm.png?s=128&g=1
p1956
sVuser_type
p1957
Vregistered
p1958
sVreputation
p1959
I76997
sVlink
p1960
Vhttp://stackoverflow.com/users/56541/david-z
p1961
sVaccept_rate
p1962
I81
sVdisplay_name
p1963
VDavid Z
p1964
ssVis_accepted
p1965
I01
sVanswer_id
p1966
I706735
sasVquota_max
p1967
I300
sVquota_remaining
p1968
I142
s.