(dp0
Vhas_more
p1
I00
sVitems
p2
(lp3
(dp4
Vbody
p5
V<p>This code occurs in <code>multiprocessing.dummy</code>, a "fake" version of <code>multiprocessing</code> that implements the functionality with threads. If you look down a few lines, you'll see</p>\u000a\u000a<pre><code>def Manager():\u000a    return sys.modules[__name__]\u000a</code></pre>\u000a\u000a<p><code>multiprocessing.dummy</code> implements <code>Manager</code> as a function that just returns the <code>multiprocessing.dummy</code> module itself, so the <code>multiprocessing.dummy</code> module object has to provide the API of a multiprocessing Manager object. The lines</p>\u000a\u000a<pre><code>dict = dict\u000alist = list\u000a</code></pre>\u000a\u000a<p>are there so you can do</p>\u000a\u000a<pre><code>m = multiprocessing.dummy.Manager()\u000ad = m.dict()\u000a</code></pre>\u000a\u000a<p>as if you had a real <code>multiprocessing.Manager()</code>.</p>\u000a
p6
sVquestion_id
p7
I43853407
sVlast_activity_date
p8
I1494264449
sVcreation_date
p9
I1494263760
sVscore
p10
I45
sVowner
p11
(dp12
Vuser_id
p13
I2357112
sVprofile_image
p14
Vhttps://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG
p15
sVuser_type
p16
Vregistered
p17
sVreputation
p18
I95086
sVlink
p19
Vhttp://stackoverflow.com/users/2357112/user2357112
p20
sVaccept_rate
p21
I33
sVdisplay_name
p22
Vuser2357112
p23
ssVis_accepted
p24
I01
sVlast_edit_date
p25
I1494264449
sVanswer_id
p26
I43853581
sa(dp27
Vbody
p28
V<p>I'm a little late to this, but realised scipy has inbuilt <a href="http://scipy.github.io/devdocs/generated/scipy.signal.istft.html#scipy.signal.istft" rel="nofollow noreferrer">istft</a> function as of 0.19.0</p>\u000a
p29
sVquestion_id
p30
I2459295
sVlast_activity_date
p31
I1494254911
sVcreation_date
p32
I1494254911
sVscore
p33
I1
sVowner
p34
(dp35
Vuser_id
p36
I3506217
sVprofile_image
p37
Vhttps://i.stack.imgur.com/B1laD.jpg?s=128&g=1
p38
sVuser_type
p39
Vregistered
p40
sVreputation
p41
I996
sVlink
p42
Vhttp://stackoverflow.com/users/3506217/miss-palmer
p43
sVdisplay_name
p44
VMiss Palmer
p45
ssVis_accepted
p46
I01
sVanswer_id
p47
I43850698
sa(dp48
Vbody
p49
V<p>Perhaps you are looking for <a href="http://nedbatchelder.com/blog/200712/human_sorting.html" rel="noreferrer">human sorting</a> (also known as <a href="http://www.codinghorror.com/blog/2007/12/sorting-for-humans-natural-sort-order.html" rel="noreferrer">natural sorting</a>):</p>\u000a\u000a<pre><code>import re\u000a\u000adef atoi(text):\u000a    return int(text) if text.isdigit() else text\u000a\u000adef natural_keys(text):\u000a    '''\u000a    alist.sort(key=natural_keys) sorts in human order\u000a    http://nedbatchelder.com/blog/200712/human_sorting.html\u000a    (See Toothy's implementation in the comments)\u000a    '''\u000a    return [ atoi(c) for c in re.split('(\u005cd+)', text) ]\u000a\u000aalist=[\u000a    "something1",\u000a    "something12",\u000a    "something17",\u000a    "something2",\u000a    "something25",\u000a    "something29"]\u000a\u000aalist.sort(key=natural_keys)\u000aprint(alist)\u000a</code></pre>\u000a\u000a<p>yields</p>\u000a\u000a<pre><code>['something1', 'something2', 'something12', 'something17', 'something25', 'something29']\u000a</code></pre>\u000a\u000a<p>PS. I've changed my answer to use Toothy's implementation of natural sorting (posted in the comments <a href="http://nedbatchelder.com/blog/200712/human_sorting.html" rel="noreferrer">here</a>) since it is significantly faster than my original answer.</p>\u000a\u000a<hr>\u000a\u000a<p>If you wish to sort text with floats, then you'll need to change the regex from one that matches ints (i.e. <code>(\u005cd+)</code>) to <a href="http://stackoverflow.com/a/12643073/190597">a regex that matches floats</a>:</p>\u000a\u000a<pre><code>import re\u000a\u000adef atof(text):\u000a    try:\u000a        retval = float(text)\u000a    except ValueError:\u000a        retval = text\u000a    return retval\u000a\u000adef natural_keys(text):\u000a    '''\u000a    alist.sort(key=natural_keys) sorts in human order\u000a    http://nedbatchelder.com/blog/200712/human_sorting.html\u000a    (See Toothy's implementation in the comments)\u000a    float regex comes from http://stackoverflow.com/a/12643073/190597\u000a    '''\u000a    return [ atof(c) for c in re.split(r'[+-]?([0-9]+(?:[.][0-9]*)?|[.][0-9]+)', text) ]\u000a\u000aalist=[\u000a    "something1",\u000a    "something2",\u000a    "something1.0",\u000a    "something1.25",\u000a    "something1.105"]\u000a\u000aalist.sort(key=natural_keys)\u000aprint(alist)\u000a</code></pre>\u000a\u000a<p>yields</p>\u000a\u000a<pre><code>['something1', 'something1.0', 'something1.105', 'something1.25', 'something2']\u000a</code></pre>\u000a
p50
sVquestion_id
p51
I5967500
sVlast_activity_date
p52
I1493751731
sVcreation_date
p53
I1305131080
sVscore
p54
I87
sVowner
p55
(dp56
Vuser_id
p57
I190597
sVprofile_image
p58
Vhttps://www.gravatar.com/avatar/aabc98d5c6482ca0e1405ec97710f30a?s=128&d=identicon&r=PG&f=1
p59
sVuser_type
p60
Vregistered
p61
sVreputation
p62
I425294
sVlink
p63
Vhttp://stackoverflow.com/users/190597/unutbu
p64
sVaccept_rate
p65
I88
sVdisplay_name
p66
Vunutbu
p67
ssVis_accepted
p68
I01
sVlast_edit_date
p69
I1493751731
sVanswer_id
p70
I5967539
sa(dp71
Vbody
p72
V<p>Write a function in a class-decorator style to do the copying for you.  In Python2.5, you can apply it directly after the class is created.  In later versions, you can apply with the <a href="https://docs.python.org/2.7/glossary.html#term-decorator" rel="nofollow noreferrer">@decorator</a> notation.</p>\u000a\u000a<p>Here's a first cut at how to do it:</p>\u000a\u000a<pre><code>import types\u000a\u000adef fix_docs(cls):\u000a    for name, func in vars(cls).items():\u000a        if isinstance(func, types.FunctionType) and not func.__doc__:\u000a            print func, 'needs doc'\u000a            for parent in cls.__bases__:\u000a                parfunc = getattr(parent, name, None)\u000a                if parfunc and getattr(parfunc, '__doc__', None):\u000a                    func.__doc__ = parfunc.__doc__\u000a                    break\u000a    return cls\u000a\u000a\u000aclass Animal(object):\u000a    def walk(self):\u000a        'Walk like a duck'\u000a\u000aclass Dog(Animal):\u000a    def walk(self):\u000a        pass\u000a\u000aDog = fix_docs(Dog)\u000aprint Dog.walk.__doc__\u000a</code></pre>\u000a\u000a<p>In newer Python versions, the last part is even more simple and beautiful:</p>\u000a\u000a<pre><code>@fix_docs\u000aclass Dog(Animal):\u000a    def walk(self):\u000a        pass\u000a</code></pre>\u000a\u000a<p>This is a Pythonic technique that exactly matches the design of existing tools in the standard library.  For example, the <a href="https://docs.python.org/2.7/library/functools.html#functools.total_ordering" rel="nofollow noreferrer"><em>functools.total_ordering</em></a> class decorator add missing rich comparison methods to classes.  And for another example,  the <a href="https://docs.python.org/2.7/library/functools.html#functools.wraps" rel="nofollow noreferrer"><em>functools.wraps</em></a> decorator copies metadata from one function to another.</p>\u000a
p73
sVquestion_id
p74
I8100166
sVlast_activity_date
p75
I1490857122
sVcreation_date
p76
I1321058671
sVscore
p77
I19
sVowner
p78
(dp79
Vuser_id
p80
I1001643
sVprofile_image
p81
Vhttps://www.gravatar.com/avatar/60cac87fb9e2b5689242622999656cb0?s=128&d=identicon&r=PG
p82
sVuser_type
p83
Vregistered
p84
sVreputation
p85
I94640
sVlink
p86
Vhttp://stackoverflow.com/users/1001643/raymond-hettinger
p87
sVaccept_rate
p88
I75
sVdisplay_name
p89
VRaymond Hettinger
p90
ssVis_accepted
p91
I01
sVlast_edit_date
p92
I1490857122
sVanswer_id
p93
I8101598
sa(dp94
Vbody
p95
V<p>You should define you own <a href="http://docs.python.org/2/library/json.html#json.JSONEncoder" rel="nofollow noreferrer"><code>JSONEncoder</code></a> and using it:</p>\u000a\u000a<pre><code>import json\u000afrom bson import ObjectId\u000a\u000aclass JSONEncoder(json.JSONEncoder):\u000a    def default(self, o):\u000a        if isinstance(o, ObjectId):\u000a            return str(o)\u000a        return json.JSONEncoder.default(self, o)\u000a\u000aJSONEncoder().encode(analytics)\u000a</code></pre>\u000a\u000a<p>It's also possible to use it in the following way. </p>\u000a\u000a<pre><code>json.encode(analytics, cls=JSONEncoder)\u000a</code></pre>\u000a
p96
sVquestion_id
p97
I16586180
sVlast_activity_date
p98
I1490373346
sVcreation_date
p99
I1368703854
sVscore
p100
I49
sVowner
p101
(dp102
Vuser_id
p103
I284947
sVprofile_image
p104
Vhttps://www.gravatar.com/avatar/01326d0a524154e0407e4270904e314c?s=128&d=identicon&r=PG
p105
sVuser_type
p106
Vregistered
p107
sVreputation
p108
I11102
sVlink
p109
Vhttp://stackoverflow.com/users/284947/defuz
p110
sVaccept_rate
p111
I88
sVdisplay_name
p112
Vdefuz
p113
ssVis_accepted
p114
I01
sVlast_edit_date
p115
I1490373346
sVanswer_id
p116
I16586277
sa(dp117
Vbody
p118
V<p>You can use a regular expression (using the <a href="https://docs.python.org/2/library/re.html" rel="nofollow noreferrer"><strong><code>re</code></strong></a> module) to accomplish the same thing. The example below matches runs of <code>[^\u005cd.]</code> (any character that's not a decimal digit or a period) and replaces them with the empty string. Note that if the pattern is compiled with the <code>UNICODE</code> flag the resulting string could still include <a href="http://www.fileformat.info/info/unicode/category/Nd/list.htm" rel="nofollow noreferrer">non-ASCII numbers</a>. Also, the result after removing "non-numeric" characters is not necessarily a valid number.</p>\u000a\u000a<pre><code>&gt;&gt;&gt; import re\u000a&gt;&gt;&gt; non_decimal = re.compile(r'[^\u005cd.]+')\u000a&gt;&gt;&gt; non_decimal.sub('', '12.34fe4e')\u000a'12.344'\u000a</code></pre>\u000a
p119
sVquestion_id
p120
I947776
sVlast_activity_date
p121
I1489801118
sVcreation_date
p122
I1244070886
sVscore
p123
I92
sVowner
p124
(dp125
Vuser_id
p126
I64474
sVprofile_image
p127
Vhttps://www.gravatar.com/avatar/2aa57a471ad142a7699829b59d825712?s=128&d=identicon&r=PG
p128
sVuser_type
p129
Vregistered
p130
sVreputation
p131
I20303
sVlink
p132
Vhttp://stackoverflow.com/users/64474/miles
p133
sVdisplay_name
p134
VMiles
p135
ssVis_accepted
p136
I01
sVlast_edit_date
p137
I1489801118
sVanswer_id
p138
I947789
sa(dp139
Vbody
p140
V<p><strong>Short answer</strong>: use <code>not set(a).isdisjoint(b)</code>, it's generally the fastest.</p>\u000a\u000a<p>There are four common ways to test if two lists <code>a</code> and <code>b</code> share any items. The first option is to convert both to sets and check their intersection, as such:</p>\u000a\u000a<pre><code>bool(set(a) &amp; set(b))\u000a</code></pre>\u000a\u000a<p>Because <strong>sets are stored using a hash table in Python, searching them is <code>O(1)</code></strong> (see <a href="https://wiki.python.org/moin/TimeComplexity" rel="noreferrer">here</a> for more information about complexity of operators in Python). Theoretically, this is <code>O(n+m)</code> on average for <code>n</code> and <code>m</code> objects in lists <code>a</code> and <code>b</code>. But 1) it must first create sets out of the lists, which can take a non-negligible amount of time, and 2) it supposes that hashing collisions are sparse among your data.</p>\u000a\u000a<p>The second way to do it is using a generator expression performing iteration on the lists, such as:</p>\u000a\u000a<pre><code>any(i in a for i in b)\u000a</code></pre>\u000a\u000a<p>This allows to search in-place, so no new memory is allocated for intermediary variables. It also bails out on the first find. <strong>But the <code>in</code> operator is always <code>O(n)</code> on lists</strong> (see <a href="https://wiki.python.org/moin/TimeComplexity" rel="noreferrer">here</a>).</p>\u000a\u000a<p>Another proposed option is an hybridto iterate through one of the list, convert the other one in a set and test for membership on this set, like so:</p>\u000a\u000a<pre><code>a = set(a); any(i in a for i in b)\u000a</code></pre>\u000a\u000a<p>A fourth approach is to take advantage of the <code>isdisjoint()</code> method of the (frozen)sets (see <a href="https://docs.python.org/3.5/library/stdtypes.html#set.isdisjoint" rel="noreferrer">here</a>), for example:</p>\u000a\u000a<pre><code>not set(a).isdisjoint(b)\u000a</code></pre>\u000a\u000a<p>If the elements you search are near the beginning of an array (e.g. it is sorted), the generator expression is favored, as the sets intersection method have to allocate new memory for the intermediary variables:</p>\u000a\u000a<pre><code>from timeit import timeit\u000a&gt;&gt;&gt; timeit('bool(set(a) &amp; set(b))', setup="a=list(range(1000));b=list(range(1000))", number=100000)\u000a26.077727576019242\u000a&gt;&gt;&gt; timeit('any(i in a for i in b)', setup="a=list(range(1000));b=list(range(1000))", number=100000)\u000a0.16220548999262974\u000a</code></pre>\u000a\u000a<p>Here's a graph of the execution time for this example in function of list size:</p>\u000a\u000a<p><a href="https://i.stack.imgur.com/GUmOo.png" rel="noreferrer"><img src="https://i.stack.imgur.com/GUmOo.png" alt="Element sharing test execution time when shared at the beginning"></a></p>\u000a\u000a<p>Note that both axes are logarithmic. This represents the best case for the generator expression. As can be seen, the <code>isdisjoint()</code> method is better for very small list sizes, whereas the generator expression is better for larger list sizes.</p>\u000a\u000a<p>On the other hand, as the search begins with the beginning for the hybrid and generator expression, if the shared element are systematically at the end of the array (or both lists does not share any values), the disjoint and set intersection approaches are then way faster than the generator expression and the hybrid approach.</p>\u000a\u000a<pre><code>&gt;&gt;&gt; timeit('any(i in a for i in b)', setup="a=list(range(1000));b=[x+998 for x in range(999,0,-1)]", number=1000))\u000a13.739536046981812\u000a&gt;&gt;&gt; timeit('bool(set(a) &amp; set(b))', setup="a=list(range(1000));b=[x+998 for x in range(999,0,-1)]", number=1000))\u000a0.08102107048034668\u000a</code></pre>\u000a\u000a<p><a href="https://i.stack.imgur.com/sXnuN.png" rel="noreferrer"><img src="https://i.stack.imgur.com/sXnuN.png" alt="Element sharing test execution time when shared at the end"></a></p>\u000a\u000a<p>It is interesting to note that the generator expression is way slower for bigger list sizes. This is only for 1000 repetitions, instead of the 100000 for the previous figure. This setup also approximates well when when no elements are shared, and is the best case for the disjoint and set intersection approaches.</p>\u000a\u000a<p>Here are two analysis using random numbers (instead of rigging the setup to favor one technique or another):</p>\u000a\u000a<p><a href="https://i.stack.imgur.com/csO66.png" rel="noreferrer"><img src="https://i.stack.imgur.com/csO66.png" alt="Element sharing test execution time for randomly generated data with high chance of sharing"></a>\u000a<a href="https://i.stack.imgur.com/02Q7s.png" rel="noreferrer"><img src="https://i.stack.imgur.com/02Q7s.png" alt="Element sharing test execution time for randomly generated data with high chance of sharing"></a></p>\u000a\u000a<p>High chance of sharing: elements are randomly taken from <code>[1, 2*len(a)]</code>. Low chance of sharing: elements are randomly taken from <code>[1, 1000*len(a)]</code>.</p>\u000a\u000a<p>Up to now, this analysis supposed both lists are of the same size. In case of two lists of different sizes, for example <code>a</code> is much smaller, <code>isdisjoint()</code> is always faster:</p>\u000a\u000a<p><a href="https://i.stack.imgur.com/xPXYL.png" rel="noreferrer"><img src="https://i.stack.imgur.com/xPXYL.png" alt="Element sharing test execution time on two differently sized lists when shared at the beginning"></a>\u000a<a href="https://i.stack.imgur.com/qXoqC.png" rel="noreferrer"><img src="https://i.stack.imgur.com/qXoqC.png" alt="Element sharing test execution time on two differently sized lists when shared at the end"></a></p>\u000a\u000a<p>Make sure that the <code>a</code> list is the smaller, otherwise the performance decreases. In this experiment, the <code>a</code> list size was set constant to <code>5</code>.</p>\u000a\u000a<p>In summary:</p>\u000a\u000a<ul>\u000a<li>If the lists are very small (&lt; 10 elements), <code>not set(a).isdisjoint(b)</code> is always the fastest.</li>\u000a<li>If the elements in the lists are sorted or have a regular structure that you can take advantage of, the generator expression <code>any(i in a for i in b)</code> is the fastest on large list sizes;</li>\u000a<li>Test the set intersection with <code>not set(a).isdisjoint(b)</code>, which is always faster than <code>bool(set(a) &amp; set(b))</code>.</li>\u000a<li>The hybrid "iterate through list, test on set" <code>a = set(a); any(i in a for i in b)</code> is generally slower than other methods.</li>\u000a<li>The generator expression and the hybrid are much slower than the two other approaches when it comes to lists without sharing elements.</li>\u000a</ul>\u000a\u000a<p>In most cases, using the <code>isdisjoint()</code> method is the best approach as the generator expression will take much longer to execute, as it is very inefficient when no elements are shared.</p>\u000a
p141
sVquestion_id
p142
I3170055
sVlast_activity_date
p143
I1487170867
sVcreation_date
p144
I1374188765
sVscore
p145
I97
sVowner
p146
(dp147
Vuser_id
p148
I339869
sVprofile_image
p149
Vhttps://www.gravatar.com/avatar/056fd1b12fa8e01b4dfcaa67ad6d9052?s=128&d=identicon&r=PG
p150
sVuser_type
p151
Vregistered
p152
sVreputation
p153
I3244
sVlink
p154
Vhttp://stackoverflow.com/users/339869/soravux
p155
sVdisplay_name
p156
VSoravux
p157
ssVis_accepted
p158
I01
sVlast_edit_date
p159
I1487170867
sVanswer_id
p160
I17735466
sa(dp161
Vbody
p162
V<p>There are a few problems with this. If you use split and join, some white space characters will be ignored. The built-in capitalize and title methods do not ignore white space. </p>\u000a\u000a<pre><code>&gt;&gt;&gt; 'There     is a way'.title()\u000a'There     Is A Way'\u000a</code></pre>\u000a\u000a<p>If a sentence starts with an article, you do not want the first word of a title in lowercase.</p>\u000a\u000a<p>Keeping these in mind:</p>\u000a\u000a<pre><code>import re \u000adef title_except(s, exceptions):\u000a    word_list = re.split(' ', s)       # re.split behaves as expected\u000a    final = [word_list[0].capitalize()]\u000a    for word in word_list[1:]:\u000a        final.append(word if word in exceptions else word.capitalize())\u000a    return " ".join(final)\u000a\u000aarticles = ['a', 'an', 'of', 'the', 'is']\u000aprint title_except('there is a    way', articles)\u000a# There is a    Way\u000aprint title_except('a whim   of an elephant', articles)\u000a# A Whim   of an Elephant\u000a</code></pre>\u000a
p163
sVquestion_id
p164
I3728655
sVlast_activity_date
p165
I1485335519
sVcreation_date
p166
I1284664571
sVscore
p167
I85
sVowner
p168
(dp169
Vuser_id
p170
I438838
sVprofile_image
p171
Vhttps://i.stack.imgur.com/qaPyF.jpg?s=128&g=1
p172
sVuser_type
p173
Vregistered
p174
sVreputation
p175
I6955
sVlink
p176
Vhttp://stackoverflow.com/users/438838/dheerosaur
p177
sVaccept_rate
p178
I100
sVdisplay_name
p179
Vdheerosaur
p180
ssVis_accepted
p181
I01
sVlast_edit_date
p182
I1485335519
sVanswer_id
p183
I3729957
sa(dp184
Vbody
p185
V<p>It presents a prompt to the user (the optional <code>arg</code> of <code>raw_input([arg])</code>), gets input from the user and returns the data input by the user in a string. See the docs for <a href="https://docs.python.org/2/library/functions.html#raw_input" rel="noreferrer"><code>raw_input()</code></a>.</p>\u000a\u000a<p>Example:</p>\u000a\u000a<pre><code>name = raw_input("What is your name? ")\u000aprint "Hello, %s." % name\u000a</code></pre>\u000a\u000a<p>This differs from <a href="https://docs.python.org/2/library/functions.html#input" rel="noreferrer"><code>input()</code></a>  in that the latter tries to interpret the input given by the user; it is usually best to avoid <code>input()</code> and to stick with <code>raw_input()</code> and custom parsing/conversion code.</p>\u000a\u000a<p><em>Note: This is for Python 2.x</em></p>\u000a
p186
sVquestion_id
p187
I5563089
sVlast_activity_date
p188
I1479149431
sVcreation_date
p189
I1302076492
sVscore
p190
I74
sVowner
p191
(dp192
Vuser_id
p193
I193852
sVprofile_image
p194
Vhttps://www.gravatar.com/avatar/297a5be5689710657f902068c51debdc?s=128&d=identicon&r=PG
p195
sVuser_type
p196
Vregistered
p197
sVreputation
p198
I7029
sVlink
p199
Vhttp://stackoverflow.com/users/193852/andrea-spadaccini
p200
sVaccept_rate
p201
I100
sVdisplay_name
p202
VAndrea Spadaccini
p203
ssVis_accepted
p204
I01
sVlast_edit_date
p205
I1479149431
sVanswer_id
p206
I5563119
sa(dp207
Vbody
p208
V<h3>In short:</h3>\u000a\u000a<p>Python internally creates a <code>C</code> list of tuple objects whose first element contains the empty tuple. Every time <code>tuple()</code> or <code>()</code> is used, Python will return the existing object contained in the aforementioned <code>C</code> list and not create a new one.</p>\u000a\u000a<p>Such mechanism does not exist for <code>dict</code> or <code>list</code> objects which are, on the contrary, <em>recreated from scratch every time</em>.</p>\u000a\u000a<p>This is most likely related to the fact that immutable objects (like tuples) cannot be altered and, as such, are guaranteed to not change during execution. This is further solidified when considering that <code>frozenset() is frozenset()</code> returns <code>True</code>; like <code>()</code> an empty <code>frozenset</code> <a href="https://github.com/python/cpython/blob/master/Objects/setobject.c#L1082" rel="noreferrer">is considered an singleton in the implementation of <code>CPython</code></a>. With mutable objects, <em>such guarantees are not in place</em> and, as such, there's no incentive to cache their zero element instances (i.e their contents could change with the identity remaining the same).</p>\u000a\u000a<p><strong>Take note:</strong> <em>This isn't something one should depend on, i.e one shouldn't consider empty tuples to be singletons. No such guarantees are explicitly made in the documentation so one should assume it is implementation dependent.</em> </p>\u000a\u000a<hr>\u000a\u000a<h3>How it is done:</h3>\u000a\u000a<p>In the most common case, the implementation of <code>CPython</code> is compiled with two macros <a href="https://github.com/python/cpython/blob/master/Objects/tupleobject.c#L11" rel="noreferrer"><code>PyTuple_MAXFREELIST</code></a> and <a href="https://github.com/python/cpython/blob/master/Objects/tupleobject.c#L8" rel="noreferrer"><code>PyTuple_MAXSAVESIZE</code></a> set to positive integers. The positive value for these macros results in the creation of an <a href="https://github.com/python/cpython/blob/master/Objects/tupleobject.c#L19" rel="noreferrer">array of <code>tuple</code> objects</a> with size <code>PyTuple_MAXSAVESIZE</code>.</p>\u000a\u000a<p>When <code>PyTuple_New</code> is called with the parameter <code>size == 0</code> it makes sure to <a href="https://github.com/python/cpython/blob/master/Objects/tupleobject.c#L120" rel="noreferrer">add a new empty tuple</a> to the list if it doesn't already exist:</p>\u000a\u000a<pre class="lang-C prettyprint-override"><code>if (size == 0) {\u000a    free_list[0] = op;\u000a    ++numfree[0];\u000a    Py_INCREF(op);          /* extra INCREF so that this is never freed */\u000a}\u000a</code></pre>\u000a\u000a<p>Then, if a new empty tuple is requested, the one that is located in the <a href="https://github.com/python/cpython/blob/master/Objects/tupleobject.c#L84" rel="noreferrer">first position of this list</a> is going to get returned instead of a new instance: </p>\u000a\u000a<pre class="lang-C prettyprint-override"><code>if (size == 0 &amp;&amp; free_list[0]) {\u000a    op = free_list[0];\u000a    Py_INCREF(op);\u000a    /* rest snipped for brevity.. */\u000a</code></pre>\u000a\u000a<p>One additional reason causing an incentive to do this is the fact that function calls construct a tuple to hold the positional arguments that are going to be used. This can be seen in the <a href="https://github.com/python/cpython/blob/master/Python/ceval.c" rel="noreferrer"><code>load_args</code></a> function in <code>ceval.c</code>:</p>\u000a\u000a<pre class="lang-C prettyprint-override"><code>static PyObject *\u000aload_args(PyObject ***pp_stack, int na)\u000a{\u000a    PyObject *args = PyTuple_New(na);\u000a    /* rest snipped for brevity.. */\u000a</code></pre>\u000a\u000a<p>which is called via <a href="https://github.com/python/cpython/blob/master/Objects/setobject.c#L1082" rel="noreferrer"><code>do_call</code></a> in the same file. If the number of arguments <code>na</code> is zero, an empty tuple is going to be returned. </p>\u000a\u000a<p>In essence, this might be an operation that's performed frequently so it makes sense to not reconstruct an empty tuple every single time.</p>\u000a\u000a<hr>\u000a\u000a<h3>Further reading:</h3>\u000a\u000a<p>A couple more answers shed light on <code>CPython</code>'s caching behaviour with immutables:</p>\u000a\u000a<ul>\u000a<li>For integers, another answer that digs in the source can be found <a href="http://stackoverflow.com/a/34964030/4952130">here</a>.</li>\u000a<li>For strings, a handful of answers can be found <a href="http://stackoverflow.com/questions/16756699/is-operator-behaves-differently-when-comparing-strings-with-spaces">here</a>, <a href="http://stackoverflow.com/questions/28329498/why-does-a-space-effect-the-identity-comparison-of-equal-strings">here</a> and <a href="http://stackoverflow.com/questions/24245324/about-the-changing-id-of-a-python-immutable-string">here</a>.</li>\u000a</ul>\u000a
p209
sVquestion_id
p210
I38328857
sVlast_activity_date
p211
I1474816218
sVcreation_date
p212
I1468326348
sVscore
p213
I51
sVowner
p214
(dp215
Vuser_id
p216
I4952130
sVprofile_image
p217
Vhttps://i.stack.imgur.com/zCq9y.jpg?s=128&g=1
p218
sVuser_type
p219
Vregistered
p220
sVreputation
p221
I43353
sVlink
p222
Vhttp://stackoverflow.com/users/4952130/jim-fasarakis-hilliard
p223
sVaccept_rate
p224
I90
sVdisplay_name
p225
VJim Fasarakis Hilliard
p226
ssVis_accepted
p227
I01
sVlast_edit_date
p228
I1474816218
sVanswer_id
p229
I38328858
sa(dp230
Vbody
p231
V<p>Great native python based answers given by other users. But here's the <code>NLTK</code> approach (just in case, the OP gets penalized for reinventing what's already existing in the <code>NLTK</code> library). </p>\u000a\u000a<p>There is an ngram module (<a href="http://www.nltk.org/_modules/nltk/model/ngram.html">http://www.nltk.org/_modules/nltk/model/ngram.html</a>) that people seldom use in NLTK. It's not because it's hard to read ngrams but training a model base on >3grams will result in much data sparsity.</p>\u000a\u000a<pre><code>from nltk import ngrams\u000asentence = 'this is a foo bar sentences and i want to ngramize it'\u000an = 6\u000asixgrams = ngrams(sentence.split(), n)\u000afor grams in sixgrams:\u000a  print grams\u000a</code></pre>\u000a
p232
sVquestion_id
p233
I17531684
sVlast_activity_date
p234
I1473431567
sVcreation_date
p235
I1373371839
sVscore
p236
I84
sVowner
p237
(dp238
Vuser_id
p239
I610569
sVprofile_image
p240
Vhttps://www.gravatar.com/avatar/0e9087f2672b0e4f28d91266acf9ce57?s=128&d=identicon&r=PG
p241
sVuser_type
p242
Vregistered
p243
sVreputation
p244
I25656
sVlink
p245
Vhttp://stackoverflow.com/users/610569/alvas
p246
sVaccept_rate
p247
I92
sVdisplay_name
p248
Valvas
p249
ssVis_accepted
p250
I01
sVlast_edit_date
p251
I1473431567
sVanswer_id
p252
I17547860
sa(dp253
Vbody
p254
V<p>The best way is to start the timer thread once. Inside your timer thread you'd code the following</p>\u000a\u000a<pre><code>class MyThread(Thread):\u000a    def __init__(self, event):\u000a        Thread.__init__(self)\u000a        self.stopped = event\u000a\u000a    def run(self):\u000a        while not self.stopped.wait(0.5):\u000a            print("my thread")\u000a            # call a function\u000a</code></pre>\u000a\u000a<p>In the code that started the timer, you can then <code>set</code> the stopped event to stop the timer.</p>\u000a\u000a<pre><code>stopFlag = Event()\u000athread = MyThread(stopFlag)\u000athread.start()\u000a# this will stop the timer\u000astopFlag.set()\u000a</code></pre>\u000a
p255
sVquestion_id
p256
I12435211
sVlast_activity_date
p257
I1471736840
sVcreation_date
p258
I1347692201
sVscore
p259
I55
sVowner
p260
(dp261
Vuser_id
p262
I1004725
sVprofile_image
p263
Vhttps://www.gravatar.com/avatar/70933c957372222f139e1283208692ae?s=128&d=identicon&r=PG
p264
sVuser_type
p265
Vregistered
p266
sVreputation
p267
I7332
sVlink
p268
Vhttp://stackoverflow.com/users/1004725/hans-then
p269
sVaccept_rate
p270
I86
sVdisplay_name
p271
VHans Then
p272
ssVis_accepted
p273
I01
sVlast_edit_date
p274
I1471736840
sVanswer_id
p275
I12435256
sa(dp276
Vbody
p277
V<p>Your additional threads must be initiated from the same app that is called by the WSGI server.</p>\u000a\u000a<p>The example below creates a background thread that executes every 5 seconds and manipulates data structures that are also available to Flask routed functions.</p>\u000a\u000a<pre><code>import threading\u000aimport atexit\u000afrom flask import Flask\u000a\u000aPOOL_TIME = 5 #Seconds\u000a\u000a# variables that are accessible from anywhere\u000acommonDataStruct = {}\u000a# lock to control access to variable\u000adataLock = threading.Lock()\u000a# thread handler\u000ayourThread = threading.Thread()\u000a\u000adef create_app():\u000a    app = Flask(__name__)\u000a\u000a    def interrupt():\u000a        global yourThread\u000a        yourThread.cancel()\u000a\u000a    def doStuff():\u000a        global commonDataStruct\u000a        global yourThread\u000a        with dataLock:\u000a        # Do your stuff with commonDataStruct Here\u000a\u000a        # Set the next thread to happen\u000a        yourThread = threading.Timer(POOL_TIME, doStuff, ())\u000a        yourThread.start()   \u000a\u000a    def doStuffStart():\u000a        # Do initialisation stuff here\u000a        global yourThread\u000a        # Create your thread\u000a        yourThread = threading.Timer(POOL_TIME, doStuff, ())\u000a        yourThread.start()\u000a\u000a    # Initiate\u000a    doStuffStart()\u000a    # When you kill Flask (SIGTERM), clear the trigger for the next thread\u000a    atexit.register(interrupt)\u000a    return app\u000a\u000aapp = create_app()          \u000a</code></pre>\u000a\u000a<p>Call it from Gunicorn with something like this:</p>\u000a\u000a<pre><code>gunicorn -b 0.0.0.0:5000 --log-config log.conf --pid=app.pid myfile:app\u000a</code></pre>\u000a
p278
sVquestion_id
p279
I14384739
sVlast_activity_date
p280
I1468930413
sVcreation_date
p281
I1396819627
sVscore
p282
I34
sVowner
p283
(dp284
Vuser_id
p285
I3459250
sVprofile_image
p286
Vhttps://www.gravatar.com/avatar/58234012733b93f9d6a696f74ef2031f?s=128&d=identicon&r=PG&f=1
p287
sVuser_type
p288
Vregistered
p289
sVreputation
p290
I464
sVlink
p291
Vhttp://stackoverflow.com/users/3459250/caio
p292
sVdisplay_name
p293
Vcaio
p294
ssVis_accepted
p295
I01
sVlast_edit_date
p296
I1468930413
sVanswer_id
p297
I22900255
sa(dp298
Vbody
p299
V<p>I recommend that you try to use Postgres.app. (<a href="http://postgresapp.com">http://postgresapp.com</a>)\u000aThis way you can easily turn Postgres on and off on your Mac. \u000aOnce you do, add the path to Postgres to your <code>.profile</code> file by appending the following:</p>\u000a\u000a<pre><code>PATH="/Applications/Postgres.app/Contents/Versions/latest/bin:$PATH"\u000a</code></pre>\u000a\u000a<p>Only after you added Postgres to your path you can try to install <code>psycopg2</code> either within a virtual environment (using pip) or into your global site packages.</p>\u000a
p300
sVquestion_id
p301
I21079820
sVlast_activity_date
p302
I1466091349
sVcreation_date
p303
I1389563335
sVscore
p304
I69
sVowner
p305
(dp306
Vuser_id
p307
I900712
sVprofile_image
p308
Vhttps://www.gravatar.com/avatar/892ef90830a2933ef41d0335507680fe?s=128&d=identicon&r=PG
p309
sVuser_type
p310
Vregistered
p311
sVreputation
p312
I1070
sVlink
p313
Vhttp://stackoverflow.com/users/900712/elynch
p314
sVaccept_rate
p315
I40
sVdisplay_name
p316
Velynch
p317
ssVis_accepted
p318
I01
sVlast_edit_date
p319
I1466091349
sVanswer_id
p320
I21080707
sa(dp321
Vbody
p322
V<p>I knew there was an obvious solution:</p>\u000a\u000a<pre><code>dirFoo\u005c\u000a    __init__.py\u000a    test.py\u000a    dirBar\u005c\u000a        Foo.py\u000a        Bar.py\u000a</code></pre>\u000a\u000a<p>Contents of dirFoo/test.py</p>\u000a\u000a<pre><code>from dirBar import *\u000aimport unittest\u000a\u000aif __name__ == "__main__":\u000a\u000a    unittest.main()\u000a</code></pre>\u000a\u000a<p>Run the tests:</p>\u000a\u000a<pre><code>$ python test.py\u000a...........\u000a----------------------------------------------------------------------\u000aRan 11 tests in 2.305s\u000a\u000aOK\u000a</code></pre>\u000a\u000a<p>Sorry for the silly question.</p>\u000a
p323
sVquestion_id
p324
I644821
sVlast_activity_date
p325
I1465935632
sVcreation_date
p326
I1236983398
sVscore
p327
I22
sVowner
p328
(dp329
Vuser_id
p330
I40785
sVprofile_image
p331
Vhttps://www.gravatar.com/avatar/a3737b3ba27d3ec297a43538484a1cbe?s=128&d=identicon&r=PG
p332
sVuser_type
p333
Vregistered
p334
sVreputation
p335
I5291
sVlink
p336
Vhttp://stackoverflow.com/users/40785/pete
p337
sVaccept_rate
p338
I71
sVdisplay_name
p339
VPete
p340
ssVis_accepted
p341
I01
sVlast_edit_date
p342
I1465935632
sVanswer_id
p343
I644844
sa(dp344
Vbody
p345
V<p>Using <code>slice_input_producer</code> provides a solution which is much cleaner. Slice Input Producer allows us to create an Input Queue containing arbitrarily many separable values. This snippet of the question would look like this:</p>\u000a\u000a<pre><code>def read_labeled_image_list(image_list_file):\u000a    """Reads a .txt file containing pathes and labeles\u000a    Args:\u000a       image_list_file: a .txt file with one /path/to/image per line\u000a       label: optionally, if set label will be pasted after each line\u000a    Returns:\u000a       List with all filenames in file image_list_file\u000a    """\u000a    f = open(image_list_file, 'r')\u000a    filenames = []\u000a    labels = []\u000a    for line in f:\u000a        filename, label = line[:-1].split(' ')\u000a        filenames.append(filename)\u000a        labels.append(int(label))\u000a    return filenames, labels\u000a\u000adef read_images_from_disk(input_queue):\u000a    """Consumes a single filename and label as a ' '-delimited string.\u000a    Args:\u000a      filename_and_label_tensor: A scalar string tensor.\u000a    Returns:\u000a      Two tensors: the decoded image, and the string label.\u000a    """\u000a    label = input_queue[1]\u000a    file_contents = tf.read_file(input_queue[0])\u000a    example = tf.image.decode_png(file_contents, channels=3)\u000a    return example, label\u000a\u000a# Reads pfathes of images together with their labels\u000aimage_list, label_list = read_labeled_image_list(filename)\u000a\u000aimages = ops.convert_to_tensor(image_list, dtype=dtypes.string)\u000alabels = ops.convert_to_tensor(label_list, dtype=dtypes.int32)\u000a\u000a# Makes an input queue\u000ainput_queue = tf.train.slice_input_producer([images, labels],\u000a                                            num_epochs=num_epochs,\u000a                                            shuffle=True)\u000a\u000aimage, label = read_images_from_disk(input_queue)\u000a\u000a# Optional Preprocessing or Data Augmentation\u000a# tf.image implements most of the standard image augmentation\u000aimage = preprocess_image(image)\u000alabel = preprocess_label(label)\u000a\u000a# Optional Image and Label Batching\u000aimage_batch, label_batch = tf.train.batch([image, label],\u000a                                          batch_size=batch_size)\u000a</code></pre>\u000a\u000a<p>See also the <a href="https://github.com/TensorVision/TensorVision/blob/master/examples/inputs/generic_input.py">generic_input_producer</a> from the <a href="https://github.com/TensorVision/TensorVision">TensorVision</a> examples for full input-pipeline.</p>\u000a
p346
sVquestion_id
p347
I34340489
sVlast_activity_date
p348
I1463937514
sVcreation_date
p349
I1461964828
sVscore
p350
I38
sVowner
p351
(dp352
Vuser_id
p353
I2594660
sVprofile_image
p354
Vhttps://www.gravatar.com/avatar/c7d187e6e2c5da17bf3d27b6719a22fb?s=128&d=identicon&r=PG
p355
sVuser_type
p356
Vregistered
p357
sVreputation
p358
I1115
sVlink
p359
Vhttp://stackoverflow.com/users/2594660/marvmind
p360
sVaccept_rate
p361
I100
sVdisplay_name
p362
VMarvMind
p363
ssVis_accepted
p364
I01
sVlast_edit_date
p365
I1463937514
sVanswer_id
p366
I36947632
sa(dp367
Vbody
p368
V<p>Works in Python 2.7 and higher including python3:</p>\u000a\u000a<pre><code>result = bytearray.fromhex('deadbeef')\u000a</code></pre>\u000a\u000a<p><strong>Note:</strong> There seems to be a bug with the <code>bytearray.fromhex()</code> function in Python 2.6. The python.org documentation states that the function accepts a string as an argument, but when applied, the following error is thrown: </p>\u000a\u000a<pre><code>&gt;&gt;&gt; bytearray.fromhex('B9 01EF')\u000aTraceback (most recent call last):\u000a  File "&lt;stdin&gt;", line 1, in &lt;module&gt;\u000aTypeError: fromhex() argument 1 must be unicode, not str`\u000a</code></pre>\u000a
p369
sVquestion_id
p370
I443967
sVlast_activity_date
p371
I1460161084
sVcreation_date
p372
I1371526640
sVscore
p373
I23
sVowner
p374
(dp375
Vuser_id
p376
I1558890
sVprofile_image
p377
Vhttps://www.gravatar.com/avatar/5f179798125aed44216c613dca5be942?s=128&d=identicon&r=PG
p378
sVuser_type
p379
Vregistered
p380
sVreputation
p381
I1792
sVlink
p382
Vhttp://stackoverflow.com/users/1558890/jim-garrison
p383
sVaccept_rate
p384
I56
sVdisplay_name
p385
VJim Garrison
p386
ssVis_accepted
p387
I01
sVlast_edit_date
p388
I1460161084
sVanswer_id
p389
I17160152
sa(dp390
Vbody
p391
V<p>How about here!</p>\u000a\u000a<pre><code>{ \u000a    'version': 1,\u000a    'disable_existing_loggers': False,\u000a    'formatters': { \u000a        'standard': { \u000a            'format': '%(asctime)s [%(levelname)s] %(name)s: %(message)s'\u000a        },\u000a    },\u000a    'handlers': { \u000a        'default': { \u000a            'level': 'INFO',\u000a            'formatter': 'standard',\u000a            'class': 'logging.StreamHandler',\u000a        },\u000a    },\u000a    'loggers': { \u000a        '': { \u000a            'handlers': ['default'],\u000a            'level': 'INFO',\u000a            'propagate': True\u000a        },\u000a        'django.request': { \u000a            'handlers': ['default'],\u000a            'level': 'WARN',\u000a            'propagate': False\u000a        },\u000a    } \u000a}\u000a</code></pre>\u000a
p392
sVquestion_id
p393
I7507825
sVlast_activity_date
p394
I1458246065
sVcreation_date
p395
I1316646923
sVscore
p396
I88
sVowner
p397
(dp398
Vuser_id
p399
I524389
sVprofile_image
p400
Vhttps://www.gravatar.com/avatar/e61b2289afe9949e3a4ba903f6428cf4?s=128&d=identicon&r=PG
p401
sVuser_type
p402
Vregistered
p403
sVreputation
p404
I6107
sVlink
p405
Vhttp://stackoverflow.com/users/524389/dave
p406
sVaccept_rate
p407
I100
sVdisplay_name
p408
VDave
p409
ssVis_accepted
p410
I01
sVlast_edit_date
p411
I1458246065
sVanswer_id
p412
I7507842
sa(dp413
Vbody
p414
V<p>There are a few ways that you can use a pre-trained embedding in TensorFlow. Let's say that you have the embedding in a NumPy array called <code>embedding</code>, with <code>vocab_size</code> rows and <code>embedding_dim</code> columns and you want to create a tensor <code>W</code> that can be used in a call to <a href="https://www.tensorflow.org/versions/r0.7/api_docs/python/nn.html#embedding_lookup"><code>tf.nn.embedding_lookup()</code></a>.</p>\u000a\u000a<ol>\u000a<li><p>Simply create <code>W</code> as a <a href="https://www.tensorflow.org/versions/r0.7/api_docs/python/constant_op.html#constant"><code>tf.constant()</code></a> that takes <code>embedding</code> as its value:</p>\u000a\u000a<pre><code>W = tf.constant(embedding, name="W")\u000a</code></pre>\u000a\u000a<p>This is the easiest approach, but it is not memory efficient because the value of a <code>tf.constant()</code> is stored multiple times in memory. Since <code>embedding</code> can be very large, you should only use this approach for toy examples.</p></li>\u000a<li><p>Create <code>W</code> as a <code>tf.Variable</code> and initialize it from the NumPy array via a <a href="https://www.tensorflow.org/versions/r0.7/api_docs/python/io_ops.html#placeholder"><code>tf.placeholder()</code></a>:</p>\u000a\u000a<pre><code>W = tf.Variable(tf.constant(0.0, shape=[vocab_size, embedding_dim]),\u000a                trainable=False, name="W")\u000a\u000aembedding_placeholder = tf.placeholder(tf.float32, [vocab_size, embedding_dim])\u000aembedding_init = W.assign(embedding_placeholder)\u000a\u000a# ...\u000asess = tf.Session()\u000a\u000asess.run(embedding_init, feed_dict={embedding_placeholder: embedding})\u000a</code></pre>\u000a\u000a<p>This avoid storing a copy of <code>embedding</code> in the graph, but it does require enough memory to keep two copies of the matrix in memory at once (one for the NumPy array, and one for the <code>tf.Variable</code>). Note that I've assumed that you want to hold the embedding matrix constant during training, so <code>W</code> is created with <code>trainable=False</code>.</p></li>\u000a<li><p>If the embedding was trained as part of another TensorFlow model, you can use a <a href="https://www.tensorflow.org/versions/r0.7/api_docs/python/state_ops.html#Saver"><code>tf.train.Saver</code></a> to load the value from the other model's checkpoint file. This means that the embedding matrix can bypass Python altogether. Create <code>W</code> as in option 2, then do the following:</p>\u000a\u000a<pre><code>W = tf.Variable(...)\u000a\u000aembedding_saver = tf.train.Saver({"name_of_variable_in_other_model": W})\u000a\u000a# ...\u000asess = tf.Session()\u000aembedding_saver.restore(sess, "checkpoint_filename.ckpt")\u000a</code></pre></li>\u000a</ol>\u000a
p415
sVquestion_id
p416
I35687678
sVlast_activity_date
p417
I1456693152
sVcreation_date
p418
I1456693152
sVscore
p419
I54
sVowner
p420
(dp421
Vuser_id
p422
I3574081
sVprofile_image
p423
Vhttps://i.stack.imgur.com/LIW6C.jpg?s=128&g=1
p424
sVuser_type
p425
Vregistered
p426
sVreputation
p427
I50768
sVlink
p428
Vhttp://stackoverflow.com/users/3574081/mrry
p429
sVdisplay_name
p430
Vmrry
p431
ssVis_accepted
p432
I01
sVanswer_id
p433
I35688187
sa(dp434
Vbody
p435
V<p>What gets returned is the return value of executing this command. What you see in while executing it directly is the output of the command in stdout. That 0 is returned means, there was no error in execution.</p>\u000a\u000a<p>Use popen etc for capturing the output .</p>\u000a\u000a<p>Some thing along this line:</p>\u000a\u000a<pre><code>import subprocess as sub\u000ap = sub.Popen(['your command', 'arg1', 'arg2', ...],stdout=sub.PIPE,stderr=sub.PIPE)\u000aoutput, errors = p.communicate()\u000aprint output\u000a</code></pre>\u000a\u000a<p>or </p>\u000a\u000a<pre><code>import os\u000ap = os.popen('command',"r")\u000awhile 1:\u000a    line = p.readline()\u000a    if not line: break\u000a    print line\u000a</code></pre>\u000a\u000a<p>ON SO : <a href="http://stackoverflow.com/questions/1007855/popen-and-python">Popen and python</a></p>\u000a
p436
sVquestion_id
p437
I3791465
sVlast_activity_date
p438
I1456184003
sVcreation_date
p439
I1285367323
sVscore
p440
I80
sVowner
p441
(dp442
Vuser_id
p443
I432745
sVprofile_image
p444
Vhttps://www.gravatar.com/avatar/61d5932d030d57eb9948756af74a357f?s=128&d=identicon&r=PG
p445
sVuser_type
p446
Vregistered
p447
sVreputation
p448
I44346
sVlink
p449
Vhttp://stackoverflow.com/users/432745/pyfunc
p450
sVdisplay_name
p451
Vpyfunc
p452
ssVis_accepted
p453
I01
sVlast_edit_date
p454
I1456184003
sVanswer_id
p455
I3791476
sa(dp456
Vbody
p457
V<p>In Python 3, <code>dict.keys()</code> and <code>dict.values()</code> return special iterable classes - respectively a <code>collections.abc.KeysView</code> and a <code>collections.abc.ValuesView</code>. The first one inherit it's <code>__eq__</code> method from <code>set</code>, the second uses the default <code>object.__eq__</code> which tests on object identity. </p>\u000a
p458
sVquestion_id
p459
I34312674
sVlast_activity_date
p460
I1450271388
sVcreation_date
p461
I1450271388
sVscore
p462
I34
sVowner
p463
(dp464
Vuser_id
p465
I41316
sVprofile_image
p466
Vhttps://www.gravatar.com/avatar/e2c31ca37c09ab42763f690e0d1355d7?s=128&d=identicon&r=PG
p467
sVuser_type
p468
Vregistered
p469
sVreputation
p470
I27434
sVlink
p471
Vhttp://stackoverflow.com/users/41316/bruno-desthuilliers
p472
sVdisplay_name
p473
Vbruno desthuilliers
p474
ssVis_accepted
p475
I01
sVanswer_id
p476
I34312962
sa(dp477
Vbody
p478
V<p>I'll self-answer. I went through steps and it's straight forward. Pycharms (the IDE I'm use) automatically found the new libraries too. Here are the steps I followed to remove the extra Python libraries on Mavericks that were not native to it and not installed by brew.</p>\u000a\u000a<p><strong>Step 1:</strong>\u000aThe native Python 2.7.x version lives here <code>/System/Library/Frameworks/Python.framework/Versions/2.7</code> (or 2.6, etc), so you can remove any Python that got installed elsewhere.</p>\u000a\u000a<p><code>sudo rm -rf /Library/Frameworks/Python.framework/</code></p>\u000a\u000a<p>Or, according to this <a href="http://java.dzone.com/articles/good-clean-python-install">article</a>, you should brew install both python 2.7 and python 3.x,\u000aand avoid using system python in Mavericks.</p>\u000a\u000a<p><strong>Step 2:</strong>\u000aRemove python in Applications directory (the one where all your apps are). </p>\u000a\u000a<p>cd into folder <code>/Applications</code> and <code>ls | grep Python</code> to see what have. </p>\u000a\u000a<p>Then remove:\u000a<code>sudo rm -rf "Python 3.3"</code></p>\u000a\u000a<p><strong>Step 3:</strong></p>\u000a\u000a<p><code>&gt;&gt;&gt; brew prune</code></p>\u000a\u000a<p>sample output:</p>\u000a\u000a<blockquote>\u000a  <p>Pruned 0 dead formula Pruned 46 symbolic links from /usr/local</p>\u000a</blockquote>\u000a\u000a<p><strong>Step 4:</strong> Run steps recommended by <code>brew doctor</code></p>\u000a\u000a<p><code>sudo brew link python3</code></p>\u000a\u000a<p>Sample output</p>\u000a\u000a<blockquote>\u000a  <p>Linking /usr/local/Cellar/python3/3.4.0... 19 symlinks created</p>\u000a</blockquote>\u000a
p479
sVquestion_id
p480
I22774529
sVlast_activity_date
p481
I1444057553
sVcreation_date
p482
I1396408019
sVscore
p483
I60
sVowner
p484
(dp485
Vuser_id
p486
I2283965
sVprofile_image
p487
Vhttps://i.stack.imgur.com/kX5Ot.jpg?s=128&g=1
p488
sVuser_type
p489
Vregistered
p490
sVreputation
p491
I2712
sVlink
p492
Vhttp://stackoverflow.com/users/2283965/cathy-sasaki
p493
sVaccept_rate
p494
I97
sVdisplay_name
p495
Vcathy.sasaki
p496
ssVis_accepted
p497
I01
sVlast_edit_date
p498
I1444057553
sVanswer_id
p499
I22800774
sa(dp500
Vbody
p501
V<p><strong>Firstly,</strong> you have not measured the speed of <code>len()</code>, you have measured the speed of creating a list/set <em>together with</em> the speed of <code>len()</code>.</p>\u000a\u000a<p>Use the <code>--setup</code> argument of <code>timeit</code>:</p>\u000a\u000a<pre><code>$ python -m timeit --setup "a=[1,2,3,4,5,6,7,8,9,10]" "len(a)"\u000a10000000 loops, best of 3: 0.0369 usec per loop\u000a$ python -m timeit --setup "a={1,2,3,4,5,6,7,8,9,10}" "len(a)"\u000a10000000 loops, best of 3: 0.0372 usec per loop\u000a</code></pre>\u000a\u000a<p>The statements you pass to <code>--setup</code> are run before measuring the speed of <code>len()</code>.</p>\u000a\u000a<p><strong>Secondly,</strong> you should note that <code>len(a)</code> is a pretty quick statement. The process of measuring its speed may be subject to "noise". Consider that <a href="https://hg.python.org/cpython/file/3.5/Lib/timeit.py#l70" rel="noreferrer">the code executed (and measured) by timeit</a> is equivalent to the following:</p>\u000a\u000a<pre><code>for i in itertools.repeat(None, number):\u000a    len(a)\u000a</code></pre>\u000a\u000a<p>Because both <code>len(a)</code> and <code>itertools.repeat(...).__next__()</code> are fast operations and their speeds may be similar, the speed of <code>itertools.repeat(...).__next__()</code> may influence the timings.</p>\u000a\u000a<p>For this reason, you'd better measure <code>len(a); len(a); ...; len(a)</code> (repeated 100 times or so) so that the body of the for loop takes a considerably higher amount of time than the iterator:</p>\u000a\u000a<pre><code>$ python -m timeit --setup "a=[1,2,3,4,5,6,7,8,9,10]" "$(for i in {0..1000}; do echo "len(a)"; done)"\u000a10000 loops, best of 3: 29.2 usec per loop\u000a$ python -m timeit --setup "a={1,2,3,4,5,6,7,8,9,10}" "$(for i in {0..1000}; do echo "len(a)"; done)"\u000a10000 loops, best of 3: 29.3 usec per loop\u000a</code></pre>\u000a\u000a<p>(The results still says that <code>len()</code> has the same performances on lists and sets, but now you are sure that the result is correct.)</p>\u000a\u000a<p><strong>Thirdly,</strong> it's true that "complexity" and "speed" are related, but I believe you are making some confusion. The fact that <code>len()</code> has <em>O(1)</em> complexity for lists and sets does not imply that it must run with the same speed on lists and sets.</p>\u000a\u000a<p>It means that, on average, no matter how long the list <code>a</code> is, <code>len(a)</code> performs the same asymptotic number of steps. And no matter how long the set <code>b</code> is, <code>len(b)</code> performs the same asymptotic number of steps. But the algorithm for computing the size of lists and sets may be different, resulting in different performances (timeit shows that this is not the case, however this may be a possibility).</p>\u000a\u000a<p><strong>Lastly,</strong></p>\u000a\u000a<blockquote>\u000a  <p>If the creation of a set object takes more time compared to creating a list, what would be the underlying reason?</p>\u000a</blockquote>\u000a\u000a<p>A set, as you know, does not allow repeated elements. Sets in CPython are implemented as hash tables (to ensure average <em>O(1)</em> insertion and lookup): constructing and maintaining a hash table is much more complex than adding elements to a list.</p>\u000a\u000a<p>Specifically, when constructing a set, you have to compute hashes, build the hash table, look it up to avoid inserting duplicated events and so on. By contrast, lists in CPython are implemented as a simple array of pointers that is <code>malloc()</code>ed and <code>realloc()</code>ed as required.</p>\u000a
p502
sVquestion_id
p503
I32248882
sVlast_activity_date
p504
I1440683964
sVcreation_date
p505
I1440677537
sVscore
p506
I103
sVowner
p507
(dp508
Vuser_id
p509
I1913824
sVprofile_image
p510
Vhttps://www.gravatar.com/avatar/7793dc1a1117c0583651f716630e2403?s=128&d=identicon&r=PG
p511
sVuser_type
p512
Vregistered
p513
sVreputation
p514
I9198
sVlink
p515
Vhttp://stackoverflow.com/users/1913824/andrea-corbellini
p516
sVdisplay_name
p517
VAndrea Corbellini
p518
ssVis_accepted
p519
I01
sVlast_edit_date
p520
I1440683964
sVanswer_id
p521
I32249059
sa(dp522
Vbody
p523
V<p>You can use <a href="http://sourceforge.net/projects/socksipy/" rel="noreferrer">SocksiPy</a> module. Simply copy the file "socks.py" to your Python's lib/site-packages directory, and you're ready to go. </p>\u000a\u000a<p>You must use <strong>socks</strong> before urllib2. (Try it <code>pip install PySocks</code> )</p>\u000a\u000a<p>For example:</p>\u000a\u000a<pre><code>import socks\u000aimport socket\u000asocks.setdefaultproxy(socks.PROXY_TYPE_SOCKS5, "127.0.0.1", 8080)\u000asocket.socket = socks.socksocket\u000aimport urllib2\u000aprint urllib2.urlopen('http://www.google.com').read()\u000a</code></pre>\u000a\u000a<p>You can also try pycurl lib and tsocks, for more detail, click on <a href="http://panweizeng.com/archives/855" rel="noreferrer">here</a>.</p>\u000a
p524
sVquestion_id
p525
I2317849
sVlast_activity_date
p526
I1436722270
sVcreation_date
p527
I1267153612
sVscore
p528
I60
sVowner
p529
(dp530
Vuser_id
p531
I195015
sVprofile_image
p532
Vhttps://www.gravatar.com/avatar/b8feb83230c117fad309a165e5859658?s=128&d=identicon&r=PG
p533
sVuser_type
p534
Vregistered
p535
sVreputation
p536
I716
sVlink
p537
Vhttp://stackoverflow.com/users/195015/panweizeng
p538
sVdisplay_name
p539
Vpanweizeng
p540
ssVis_accepted
p541
I01
sVlast_edit_date
p542
I1436722270
sVanswer_id
p543
I2339260
sa(dp544
Vbody
p545
V<p>The third argument to PyMongo's <a href="http://api.mongodb.org/python/current/api/pymongo/collection.html#pymongo.collection.Collection.update" rel="noreferrer"><code>update()</code></a> is <code>upsert</code> and must be passed a boolean, not a dictionary. Change your code to:</p>\u000a\u000a<pre><code>self.word_counts[source].update({'date':posttime}, {"$inc" : words}, True)\u000a</code></pre>\u000a\u000a<p>Or pass <code>upsert=True</code> as a keyword argument:</p>\u000a\u000a<pre><code>self.word_counts[source].update({'date':posttime}, {"$inc" : words}, upsert=True)\u000a</code></pre>\u000a\u000a<p>Your mistake was likely caused by reading about <code>update()</code> in the <a href="http://docs.mongodb.org/manual/reference/method/db.collection.update/#db.collection.update" rel="noreferrer">MongoDB docs</a>. The JavaScript version of <code>update</code> takes an object as its third argument containing optional parameters like <code>upsert</code> and <code>multi</code>. But since Python allows passing keyword arguments to a function (unlike JavaScript which only has positional arguments), this is unnecessary and PyMongo takes these options as optional function parameters instead.</p>\u000a
p546
sVquestion_id
p547
I5055797
sVlast_activity_date
p548
I1434058451
sVcreation_date
p549
I1298187547
sVscore
p550
I68
sVowner
p551
(dp552
Vuser_id
p553
I166997
sVprofile_image
p554
Vhttps://www.gravatar.com/avatar/f16748d23e8a588d0e9875af34b684ee?s=128&d=identicon&r=PG
p555
sVuser_type
p556
Vregistered
p557
sVreputation
p558
I6987
sVlink
p559
Vhttp://stackoverflow.com/users/166997/brendan-w-mcadams
p560
sVdisplay_name
p561
VBrendan W. McAdams
p562
ssVis_accepted
p563
I01
sVlast_edit_date
p564
I1434058451
sVanswer_id
p565
I5055852
sa(dp566
Vbody
p567
V<p>A blueprint is a template for generating a "section" of a web application.  Think of it like a mold:</p>\u000a\u000a<p><img src="https://i.stack.imgur.com/kd1XW.jpg" alt="A medallion mold with a gold medallion freshly removed from it"></p>\u000a\u000a<p>You can take the blueprint and apply it to your application in several places. Each time you apply it the blueprint will create a new version of its structure in the plaster of your application.</p>\u000a\u000a<pre><code># An example\u000afrom flask import Blueprint\u000a\u000atree_mold = Blueprint("mold", __name__)\u000a\u000a@tree_mold.route("/leaves")\u000adef leaves():\u000a    return "This tree has leaves"\u000a\u000a@tree_mold.route("/roots")\u000adef roots():\u000a    return "And roots as well"\u000a\u000a@tree_mold.route("/rings")\u000a@tree_mold.route("/rings/&lt;int:year&gt;")\u000adef rings(year=None):\u000a    return "Looking at the rings for {year}".format(year=year)\u000a</code></pre>\u000a\u000a<p>This is a simple mold for working with trees - it says than any application that deals with trees should provide access to its leaves, its roots, and its rings (by year).  By itself, it is a hollow shell - it cannot route, it cannot respond, until it is impressed upon an application:</p>\u000a\u000a<pre><code>from tree_workshop import tree_mold\u000a\u000aapp.register_blueprint(tree_mold, url_prefix="/oak")\u000aapp.register_blueprint(tree_mold, url_prefix="/fir")\u000aapp.register_blueprint(tree_mold, url_prefix="/ash")\u000a</code></pre>\u000a\u000a<p>Once it is created it may "impressed" on the application by using the <code>register_blueprint</code> function - this "impresses" the mold of the blueprint on the application at the locations specified by <code>url_prefix</code>.</p>\u000a
p568
sVquestion_id
p569
I24420857
sVlast_activity_date
p570
I1432054133
sVcreation_date
p571
I1403745081
sVscore
p572
I73
sVowner
p573
(dp574
Vuser_id
p575
I135978
sVprofile_image
p576
Vhttps://www.gravatar.com/avatar/8931e023c82f232d4d02a115710fb8fc?s=128&d=identicon&r=PG
p577
sVuser_type
p578
Vregistered
p579
sVreputation
p580
I90210
sVlink
p581
Vhttp://stackoverflow.com/users/135978/sean-vieira
p582
sVaccept_rate
p583
I100
sVdisplay_name
p584
VSean Vieira
p585
ssVis_accepted
p586
I01
sVlast_edit_date
p587
I1432054133
sVanswer_id
p588
I24420993
sa(dp589
Vbody
p590
V<p>The OP asked for a string with milliseconds (3 decimal places behind seconds). To get milliseconds, use this instead:</p>\u000a\u000a<pre><code>from datetime import datetime\u000a\u000aprint datetime.utcnow().strftime('%Y-%m-%d %H:%M:%S.%f')[:-3]\u000a\u000a&gt;&gt;&gt;&gt; OUTPUT &gt;&gt;&gt;&gt;\u000a2013-08-23 10:18:32.926\u000a</code></pre>\u000a
p591
sVquestion_id
p592
I7588511
sVlast_activity_date
p593
I1431615717
sVcreation_date
p594
I1377271233
sVscore
p595
I114
sVowner
p596
(dp597
Vuser_id
p598
I2069295
sVprofile_image
p599
Vhttps://i.stack.imgur.com/OyHds.png?s=128&g=1
p600
sVuser_type
p601
Vregistered
p602
sVreputation
p603
I4167
sVlink
p604
Vhttp://stackoverflow.com/users/2069295/jeremy-deerangel-org
p605
sVaccept_rate
p606
I100
sVdisplay_name
p607
VJeremy - DeerAngel-org
p608
ssVis_accepted
p609
I01
sVlast_edit_date
p610
I1431615717
sVanswer_id
p611
I18406412
sa(dp612
Vbody
p613
V<p>I had the same problem before!\u000aAnd as I'm doing more and more AJAX heavy applications, I  released a <a href="https://github.com/recamshak/django-debug-panel">Django Application</a> and a <a href="https://chrome.google.com/webstore/detail/django-debug-panel/nbiajhhibgfgkjegbnflpdccejocmbbn">Chrome extension</a> that together solved exactly that problem.</p>\u000a\u000a<p>All the information is in the github repository.</p>\u000a
p614
sVquestion_id
p615
I5124975
sVlast_activity_date
p616
I1429880803
sVcreation_date
p617
I1381989350
sVscore
p618
I30
sVowner
p619
(dp620
Vuser_id
p621
I799147
sVprofile_image
p622
Vhttps://www.gravatar.com/avatar/43c62cb978571f8e10d6a7ea61c93c08?s=128&d=identicon&r=PG
p623
sVuser_type
p624
Vregistered
p625
sVreputation
p626
I672
sVlink
p627
Vhttp://stackoverflow.com/users/799147/recamshak
p628
sVdisplay_name
p629
Vrecamshak
p630
ssVis_accepted
p631
I01
sVlast_edit_date
p632
I1429880803
sVanswer_id
p633
I19419235
sa(dp634
Vbody
p635
V<p>The behaviour is <em>not</em> well documented, and is present in all versions of Python from about 1.5-ish <em>until <a href="https://docs.python.org/3/whatsnew/3.4.html#whatsnew-pep-442">Python 3.4</a></em>:</p>\u000a\u000a<blockquote>\u000a  <p>As part of this change, module globals are no longer forcibly set to <code>None</code> during interpreter shutdown in most cases, instead relying on the normal operation of the cyclic garbage collector.</p>\u000a</blockquote>\u000a\u000a<p>The only documentation for the behaviour is the <a href="http://hg.python.org/cpython/file/241f9aa9fb89/Objects/moduleobject.c#l99"><code>moduleobject.c</code> source code</a>:</p>\u000a\u000a<pre class="lang-c prettyprint-override"><code>/* To make the execution order of destructors for global\u000a   objects a bit more predictable, we first zap all objects\u000a   whose name starts with a single underscore, before we clear\u000a   the entire dictionary.  We zap them by replacing them with\u000a   None, rather than deleting them from the dictionary, to\u000a   avoid rehashing the dictionary (to some extent). */\u000a</code></pre>\u000a\u000a<p>Note that setting the values to <code>None</code> is an optimisation; the alternative would be to delete names from the mapping, which would lead to different errors (<code>NameError</code> exceptions rather than <code>AttributeError</code>s when trying to use globals from a <code>__del__</code> handler).</p>\u000a\u000a<p>As you found out on the mailinglist, the behaviour predates the cyclic garbage collector; it was <a href="http://hg.python.org/cpython/diff/8c01cfee14ba/Objects/moduleobject.c">added in 1998</a>, while the cyclic garbage collector was <a href="http://hg.python.org/cpython/rev/54bffdddc0ef">added in 2000</a>. Since function objects always reference the module <code>__dict__</code> all function objects in a module involve circular references, which is why the <code>__dict__</code> needed clearing before GC came into play.</p>\u000a\u000a<p>It was kept in place even when cyclic GC was added, because there might be objects with <code>__del__</code> methods involved in cycles. These <a href="https://docs.python.org/2/library/gc.html#gc.garbage">aren't otherwise garbage-collectable</a>, and cleaning out the module dictionary would at least remove the module <code>__dict__</code> from such cycles. Not doing that would keep <em>all</em> referenced globals of that module alive.</p>\u000a\u000a<p>The changes made for <a href="http://www.python.org/dev/peps/pep-0442/">PEP 442</a> now make it possible for the garbage collector to clear cyclic references with objects that provide a <code>__del__</code> finalizer, removing the need to clear the module <code>__dict__</code> <em>for most cases</em>. The code is <a href="http://hg.python.org/cpython/file/27cef7476f2b/Objects/moduleobject.c#l299">still there</a> but this is only triggered if the <code>__dict__</code> attribute is still alive even after moving the contents of <code>sys.modules</code> to weak references and starting a GC collection run when the interpreter is shutting down; the module finalizer simply decrements their reference count.</p>\u000a
p636
sVquestion_id
p637
I25649676
sVlast_activity_date
p638
I1421773051
sVcreation_date
p639
I1409763079
sVscore
p640
I58
sVowner
p641
(dp642
Vuser_id
p643
I100297
sVprofile_image
p644
Vhttps://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG
p645
sVuser_type
p646
Vmoderator
p647
sVreputation
p648
I554897
sVlink
p649
Vhttp://stackoverflow.com/users/100297/martijn-pieters
p650
sVdisplay_name
p651
VMartijn Pieters
p652
ssVis_accepted
p653
I01
sVlast_edit_date
p654
I1421773051
sVanswer_id
p655
I25649713
sa(dp656
Vbody
p657
V<p>It is explicitely mentioned on the Python doc page: <a href="http://docs.python.org/library/stdtypes.html#dict.iteritems" rel="noreferrer">http://docs.python.org/library/stdtypes.html#dict.iteritems</a> that <code>Using iteritems() while adding or deleting entries in the dictionary may raise a RuntimeError or fail to iterate over all entries</code>.</p>\u000a\u000a<p>The same holds for <code>iter(d)</code>, <code>d.iterkeys()</code> and <code>d.itervalues()</code>, and I'll go as far as saying that it does for <code>for k, v in d.items():</code> (I can't remember exactly what <code>for</code> does, but I would not be surprised if the implementation called <code>iter(d)</code>).</p>\u000a
p658
sVquestion_id
p659
I6777485
sVlast_activity_date
p660
I1420748173
sVcreation_date
p661
I1311259021
sVscore
p662
I28
sVowner
p663
(dp664
Vuser_id
p665
I22689
sVprofile_image
p666
Vhttps://www.gravatar.com/avatar/449c40e049c01dfcb823756a234439e9?s=128&d=identicon&r=PG
p667
sVuser_type
p668
Vregistered
p669
sVreputation
p670
I1906
sVlink
p671
Vhttp://stackoverflow.com/users/22689/rapha%c3%abl-saint-pierre
p672
sVdisplay_name
p673
VRapha&#235;l Saint-Pierre
p674
ssVis_accepted
p675
I01
sVlast_edit_date
p676
I1420748173
sVanswer_id
p677
I6777832
sa(dp678
Vbody
p679
V<p>If you want to use double quotes in strings but not single quotes, you can just use single quotes as the delimiter instead:</p>\u000a\u000a<pre><code>r'what"ever'\u000a</code></pre>\u000a\u000a<p>If you need both kinds of quotes in your string, use a triple-quoted string:</p>\u000a\u000a<pre><code>r"""what"ev'er"""\u000a</code></pre>\u000a\u000a<p>If you want to include both kinds of triple-quoted strings in your string (an extremely unlikely case), you can't do it, and you'll have to use non-raw strings with escapes.</p>\u000a
p680
sVquestion_id
p681
I4630465
sVlast_activity_date
p682
I1408075417
sVcreation_date
p683
I1294435875
sVscore
p684
I76
sVowner
p685
(dp686
Vuser_id
p687
I9530
sVprofile_image
p688
Vhttps://www.gravatar.com/avatar/924800e76876546c5c575c0175e1f434?s=128&d=identicon&r=PG
p689
sVuser_type
p690
Vregistered
p691
sVreputation
p692
I259251
sVlink
p693
Vhttp://stackoverflow.com/users/9530/adam-rosenfield
p694
sVaccept_rate
p695
I78
sVdisplay_name
p696
VAdam Rosenfield
p697
ssVis_accepted
p698
I01
sVlast_edit_date
p699
I1408075417
sVanswer_id
p700
I4630497
sa(dp701
Vbody
p702
V<p>The method for hiding files that you do not want showing up in the Tree View (which is what most people mean when they ask this question) depends on whether or not you've added the files to your <code>.gitignore</code>. If you have, then all you have to do is:</p>\u000a\u000a<ol>\u000a<li>Open Settings</li>\u000a<li>Scroll down the list on the left to find the <code>Tree View</code> package</li>\u000a<li>Click on it to bring up the package-specific settings</li>\u000a<li>Ensure <code>Hide Vcs Ignored Files</code> is checked</li>\u000a</ol>\u000a\u000a<p>If you want to hide certain files in the Tree View whether you have a Git project open or not:</p>\u000a\u000a<ol>\u000a<li>Open Settings</li>\u000a<li>Add the file mask to the comma-separated list under <code>Ignored Names</code> (add <code>*.pyc</code> in your case)</li>\u000a<li>Scroll down the list on the left to find the <code>Tree View</code> package</li>\u000a<li>Click on it to bring up the package-specific settings</li>\u000a<li>Ensure <code>Hide Ignored Names</code> is checked</li>\u000a</ol>\u000a\u000a<p>Also note that when you add a file mask to the list of Ignored Names that files matching that mask will not show up in other parts of Atom like the <code>fuzzy-finder:find-file</code> (<kbd>Cmd+T</kbd> on OS X and <kbd>Ctrl+T</kbd> on Windows/Linux by default) command.</p>\u000a
p703
sVquestion_id
p704
I24079976
sVlast_activity_date
p705
I1405305699
sVcreation_date
p706
I1405305699
sVscore
p707
I112
sVowner
p708
(dp709
Vuser_id
p710
I1954
sVprofile_image
p711
Vhttps://www.gravatar.com/avatar/50294c772b3985c651cc43374fe4e81d?s=128&d=identicon&r=PG
p712
sVuser_type
p713
Vregistered
p714
sVreputation
p715
I12908
sVlink
p716
Vhttp://stackoverflow.com/users/1954/lee
p717
sVdisplay_name
p718
VLee
p719
ssVis_accepted
p720
I01
sVanswer_id
p721
I24728871
sa(dp722
Vbody
p723
V<p>Write middleware that does this in <code>__init__</code> and afterwards raise <code>django.core.exceptions.MiddlewareNotUsed</code> from the <code>__init__</code>, django will remove it for all requests :). <code>__init__</code> is called at startup by the way, not at the first request, so it won't block your first user.</p>\u000a\u000a<p>There is talk about adding a startup signal, but that won't be available soon (a major problem for example is when this signal should be sent)</p>\u000a\u000a<p>Related Ticket: <a href="https://code.djangoproject.com/ticket/13024" rel="nofollow noreferrer">https://code.djangoproject.com/ticket/13024</a></p>\u000a\u000a<p><strong>Update:</strong> Django 1.7 includes support for this. (<a href="https://docs.djangoproject.com/en/dev/ref/applications/#django.apps.AppConfig.ready" rel="nofollow noreferrer">Documentation</a>, as linked by the ticket)</p>\u000a
p724
sVquestion_id
p725
I2781383
sVlast_activity_date
p726
I1403665786
sVcreation_date
p727
I1273152651
sVscore
p728
I52
sVowner
p729
(dp730
Vuser_id
p731
I243870
sVprofile_image
p732
Vhttps://www.gravatar.com/avatar/57ee4e7c72138b0054966abd882c7c4f?s=128&d=identicon&r=PG
p733
sVuser_type
p734
Vregistered
p735
sVreputation
p736
I13284
sVlink
p737
Vhttp://stackoverflow.com/users/243870/killiands
p738
sVaccept_rate
p739
I100
sVdisplay_name
p740
VKillianDS
p741
ssVis_accepted
p742
I01
sVlast_edit_date
p743
I1403665786
sVanswer_id
p744
I2781488
sa(dp745
Vbody
p746
V<p>Your problem is that you are constructing a <code>dict</code> to give the initial data to the <code>OrderedDict</code> - this <code>dict</code> <em>doesn't</em> store any order, so the order is lost before it gets to the <code>OrderedDict</code>.</p>\u000a\u000a<p>The solution is to build from an ordered data type - the easiest being a <code>list</code> of <code>tuple</code>s:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; from collections import OrderedDict\u000a&gt;&gt;&gt; od = OrderedDict([((0, 0), [2]), ((0, 1), [1, 9]), ((0, 2), [1, 5, 9])])\u000a&gt;&gt;&gt; od\u000aOrderedDict([((0, 0), [2]), ((0, 1), [1, 9]), ((0, 2), [1, 5, 9])])\u000a</code></pre>\u000a\u000a<p>It's worth noting that this is why <code>OrderedDict</code> uses the syntax it does for it's string representation - string representations should try to be valid Python code to reproduce the object where possible, and that's why the output uses a list of tuples instead of a dict.</p>\u000a
p747
sVquestion_id
p748
I15733558
sVlast_activity_date
p749
I1401472298
sVcreation_date
p750
I1364758049
sVscore
p751
I82
sVowner
p752
(dp753
Vuser_id
p754
I722121
sVprofile_image
p755
Vhttps://www.gravatar.com/avatar/c494fd4b406a2c066054ad17d30ae73b?s=128&d=identicon&r=PG
p756
sVuser_type
p757
Vregistered
p758
sVreputation
p759
I51344
sVlink
p760
Vhttp://stackoverflow.com/users/722121/gareth-latty
p761
sVaccept_rate
p762
I100
sVdisplay_name
p763
VGareth Latty
p764
ssVis_accepted
p765
I01
sVlast_edit_date
p766
I1401472298
sVanswer_id
p767
I15733571
sa(dp768
Vbody
p769
V<p>You can use <a href="https://docs.python.org/2/library/operator.html#operator.itemgetter"><code>operator.itemgetter</code></a>:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; from operator import itemgetter\u000a&gt;&gt;&gt; bar = ['a','b','c','x','y','z']\u000a&gt;&gt;&gt; itemgetter(0, 3, 4)(bar)\u000a('a', 'x', 'y')\u000a</code></pre>\u000a\u000a<p>So for your example you would do the following:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; v1, v2, v3 = itemgetter(0, 3, 4)(bar)\u000a</code></pre>\u000a
p770
sVquestion_id
p771
I22756632
sVlast_activity_date
p772
I1396282014
sVcreation_date
p773
I1396253786
sVscore
p774
I86
sVowner
p775
(dp776
Vuser_id
p777
I846892
sVprofile_image
p778
Vhttps://i.stack.imgur.com/E9dZn.png?s=128&g=1
p779
sVuser_type
p780
Vregistered
p781
sVreputation
p782
I142521
sVlink
p783
Vhttp://stackoverflow.com/users/846892/ashwini-chaudhary
p784
sVaccept_rate
p785
I88
sVdisplay_name
p786
VAshwini Chaudhary
p787
ssVis_accepted
p788
I01
sVlast_edit_date
p789
I1396282014
sVanswer_id
p790
I22756643
sa(dp791
Vbody
p792
V<p>The way to "start" the array that you want is:</p>\u000a\u000a<pre><code>arr = np.empty((0,3), int)\u000a</code></pre>\u000a\u000a<p>Which is an empty array but it has the proper dimensionality.</p>\u000a\u000a<pre><code>&gt;&gt;&gt; arr\u000aarray([], shape=(0, 3), dtype=int64)\u000a</code></pre>\u000a\u000a<p>Then be sure to append along axis 0:</p>\u000a\u000a<pre><code>arr = np.append(arr, np.array([[1,2,3]]), axis=0)\u000aarr = np.append(arr, np.array([[4,5,6]]), axis=0)\u000a</code></pre>\u000a\u000a<p>But, @jonrsharpe is right.  In fact, if you're going to be appending in a loop, it would be much faster to append to a list as in your first example, then convert to a numpy array at the end, since you're really not using numpy as intended during the loop:</p>\u000a\u000a<pre><code>In [210]: %%timeit\u000a   .....: l = []\u000a   .....: for i in xrange(1000):\u000a   .....:     l.append([3*i+1,3*i+2,3*i+3])\u000a   .....: l = np.asarray(l)\u000a   .....: \u000a1000 loops, best of 3: 1.18 ms per loop\u000a\u000aIn [211]: %%timeit\u000a   .....: a = np.empty((0,3), int)\u000a   .....: for i in xrange(1000):\u000a   .....:     a = np.append(a, 3*i+np.array([[1,2,3]]), 0)\u000a   .....: \u000a100 loops, best of 3: 18.5 ms per loop\u000a\u000aIn [214]: np.allclose(a, l)\u000aOut[214]: True\u000a</code></pre>\u000a\u000a<p>The numpythonic way to do it depends on your application, but it would be more like:</p>\u000a\u000a<pre><code>In [220]: timeit n = np.arange(1,3001).reshape(1000,3)\u000a100000 loops, best of 3: 5.93 s per loop\u000a\u000aIn [221]: np.allclose(a, n)\u000aOut[221]: True\u000a</code></pre>\u000a
p793
sVquestion_id
p794
I22392497
sVlast_activity_date
p795
I1394758998
sVcreation_date
p796
I1394758998
sVscore
p797
I52
sVowner
p798
(dp799
Vuser_id
p800
I1730674
sVprofile_image
p801
Vhttps://www.gravatar.com/avatar/8744355c48ff471fda6fe94f603e8a0e?s=128&d=identicon&r=PG
p802
sVuser_type
p803
Vregistered
p804
sVreputation
p805
I21024
sVlink
p806
Vhttp://stackoverflow.com/users/1730674/askewchan
p807
sVaccept_rate
p808
I69
sVdisplay_name
p809
Vaskewchan
p810
ssVis_accepted
p811
I01
sVanswer_id
p812
I22394181
sa(dp813
Vbody
p814
V<p>Your code is <em>almost</em> optimal, as far as code repetition and evaluation are concerned. The only thing I can think of to avoid repetition would be:</p>\u000a\u000a<pre><code># be optimistic!\u000aeither_true = True\u000aif x:\u000a    do_something1\u000aelif y:\u000a    do_something2\u000aelse:\u000a    either_true = False\u000a\u000aif either_true:\u000a    do_something3\u000a</code></pre>\u000a\u000a<p>This removes one assignment, although the total number of lines doesn't change.</p>\u000a\u000a<p>The advantage is that this works with <code>n</code> conditions, without adding any other assignment, while your current solution requires an <code>either_true = True</code> for every condition.</p>\u000a\u000a<p>In my opinion they have about the same degree of readability, but the above code will be better with more conditions.</p>\u000a\u000a<p>Also there's no "pythonic" way other then a readable solution that avoids code repetition and is optimal in terms of efficiency, and I don't know of any kind of "better programming" to achieve the same result.</p>\u000a
p815
sVquestion_id
p816
I21756433
sVlast_activity_date
p817
I1392325413
sVcreation_date
p818
I1392322469
sVscore
p819
I31
sVowner
p820
(dp821
Vuser_id
p822
I510937
sVprofile_image
p823
Vhttps://www.gravatar.com/avatar/70b13a9ae1aae1ca1aa6ac8dab4643f2?s=128&d=identicon&r=PG
p824
sVuser_type
p825
Vregistered
p826
sVreputation
p827
I50485
sVlink
p828
Vhttp://stackoverflow.com/users/510937/bakuriu
p829
sVaccept_rate
p830
I82
sVdisplay_name
p831
VBakuriu
p832
ssVis_accepted
p833
I01
sVlast_edit_date
p834
I1392325413
sVanswer_id
p835
I21764553
sa(dp836
Vbody
p837
V<p>Using regular expressions, you can use <a href="http://docs.python.org/3/library/re.html#re.finditer"><code>re.finditer</code></a> to find all (non-overlapping) occurences:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; import re\u000a&gt;&gt;&gt; text = 'Allowed Hello Hollow'\u000a&gt;&gt;&gt; for m in re.finditer('ll', text):\u000a         print('ll found', m.start(), m.end())\u000a\u000all found 1 3\u000all found 10 12\u000all found 16 18\u000a</code></pre>\u000a\u000a<p>Alternatively, if you don't want the overhead of regular expressions, you can also repeatedly use <a href="http://docs.python.org/3/library/stdtypes.html#str.find"><code>str.find</code></a> to get the <em>next</em> index:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; text = 'Allowed Hello Hollow'\u000a&gt;&gt;&gt; index = 0\u000a&gt;&gt;&gt; while index &lt; len(text):\u000a        index = text.find('ll', index)\u000a        if index == -1:\u000a            break\u000a        print('ll found at', index)\u000a        index += 2 # +2 because len('ll') == 2\u000a\u000all found at  1\u000all found at  10\u000all found at  16\u000a</code></pre>\u000a\u000a<p>This also works for lists and other sequences.</p>\u000a
p838
sVquestion_id
p839
I3873361
sVlast_activity_date
p840
I1391439095
sVcreation_date
p841
I1286374546
sVscore
p842
I68
sVowner
p843
(dp844
Vuser_id
p845
I216074
sVprofile_image
p846
Vhttps://www.gravatar.com/avatar/609c93bafd659500f83fde04802a9be5?s=128&d=identicon&r=PG
p847
sVuser_type
p848
Vregistered
p849
sVreputation
p850
I145981
sVlink
p851
Vhttp://stackoverflow.com/users/216074/poke
p852
sVaccept_rate
p853
I91
sVdisplay_name
p854
Vpoke
p855
ssVis_accepted
p856
I01
sVlast_edit_date
p857
I1391439095
sVanswer_id
p858
I3873422
sa(dp859
Vbody
p860
V<p>You should write :</p>\u000a\u000a<pre><code>if (self.a != 0) and (self.b != 0) :\u000a</code></pre>\u000a\u000a<p>"<code>&amp;</code>" is the bit wise operator and does not suit for boolean operations. The equivalent of  "<code>&amp;&amp;</code>" is "and" in Python.</p>\u000a\u000a<p>A shorter way to check what you want is to use the "in" operator :</p>\u000a\u000a<pre><code>if 0 not in (self.a, self.b) :\u000a</code></pre>\u000a\u000a<p>You can check if anything is part of a an iterable with "in", it works for :</p>\u000a\u000a<ul>\u000a<li>Tuples. I.E : <code>"foo" in ("foo", 1, c, etc)</code> will return true</li>\u000a<li>Lists. I.E : <code>"foo" in ["foo", 1, c, etc]</code> will return true</li>\u000a<li>Strings. I.E : <code>"a" in "ago"</code> will return true</li>\u000a<li>Dict. I.E : <code>"foo" in {"foo" : "bar"}</code> will return true</li>\u000a</ul>\u000a\u000a<p><strong>As an answer to the comments :</strong></p>\u000a\u000a<p>Yes, using "in" is slower since you are creating an Tuple object, but really performances are not an issue here, plus readability matters a lot in Python.</p>\u000a\u000a<p>For the triangle check, it's easier to read :</p>\u000a\u000a<pre><code>0 not in (self.a, self.b, self.c)\u000a</code></pre>\u000a\u000a<p>Than </p>\u000a\u000a<pre><code>(self.a != 0) and (self.b != 0) and (self.c != 0) \u000a</code></pre>\u000a\u000a<p>It's easier to refactor too.</p>\u000a\u000a<p>Of course, in this example, it really is not that important, it's very simple snippet. But this style leads to a Pythonic code, which leads to a happier programmer (and losing weight, improving sex life, etc.) on big programs.</p>\u000a
p861
sVquestion_id
p862
I1075652
sVlast_activity_date
p863
I1390855235
sVcreation_date
p864
I1246556071
sVscore
p865
I84
sVowner
p866
(dp867
Vuser_id
p868
I9951
sVprofile_image
p869
Vhttps://www.gravatar.com/avatar/1449ec95d8c114dbca53136cc8194b61?s=128&d=identicon&r=PG&f=1
p870
sVuser_type
p871
Vregistered
p872
sVreputation
p873
I277993
sVlink
p874
Vhttp://stackoverflow.com/users/9951/e-satis
p875
sVaccept_rate
p876
I79
sVdisplay_name
p877
Ve-satis
p878
ssVis_accepted
p879
I01
sVlast_edit_date
p880
I1390855235
sVanswer_id
p881
I1075700
sa(dp882
Vbody
p883
V<p>I had the same problem, and finally found the solution by checking the compilation commands. It's really simple:</p>\u000a\u000a<pre><code>ln -s /usr/local/opt/freetype/include/freetype2 /usr/local/include/freetype\u000a</code></pre>\u000a
p884
sVquestion_id
p885
I20572366
sVlast_activity_date
p886
I1386968856
sVcreation_date
p887
I1386968856
sVscore
p888
I89
sVowner
p889
(dp890
Vuser_id
p891
I659194
sVprofile_image
p892
Vhttps://www.gravatar.com/avatar/ff61b8ca8fafb1ae85a7c6b7110e593f?s=128&d=identicon&r=PG
p893
sVuser_type
p894
Vregistered
p895
sVreputation
p896
I929
sVlink
p897
Vhttp://stackoverflow.com/users/659194/luis-m-rodriguez-r
p898
sVdisplay_name
p899
VLuis M Rodriguez-R
p900
ssVis_accepted
p901
I01
sVanswer_id
p902
I20576003
sa(dp903
Vbody
p904
V<p>The accepted answer is good for dicts, but the title seeks a general equivalent to Ruby's ||= operator.  A common way to do something like ||= in Python is</p>\u000a\u000a<pre><code>x = x or new_value\u000a</code></pre>\u000a
p905
sVquestion_id
p906
I3929433
sVlast_activity_date
p907
I1384376723
sVcreation_date
p908
I1384376723
sVscore
p909
I114
sVowner
p910
(dp911
Vuser_id
p912
I958118
sVprofile_image
p913
Vhttps://www.gravatar.com/avatar/aac37c9f3e640dc3f7a79585e7bdd7bd?s=128&d=identicon&r=PG
p914
sVuser_type
p915
Vregistered
p916
sVreputation
p917
I2206
sVlink
p918
Vhttp://stackoverflow.com/users/958118/velotron
p919
sVdisplay_name
p920
Vvelotron
p921
ssVis_accepted
p922
I01
sVanswer_id
p923
I19964319
sa(dp924
Vbody
p925
V<p>Some what related, if you're running tests off of a directory i.e </p>\u000a\u000a<pre><code>nosetests ... tests/\u000a</code></pre>\u000a\u000a<p>where tests is the name of the folder with my tests, and have separate python test functions in one of the .py modules... Your functions have to start with 'test' for nosetests to recognize that as a test you want to run.    </p>\u000a\u000a<p>for example:</p>\u000a\u000a<pre><code> def test_something():\u000a    ...\u000a</code></pre>\u000a\u000a<p>nosetests will run this function when executed in this directory while</p>\u000a\u000a<pre><code> def somethin_to_test():\u000a    ...\u000a</code></pre>\u000a\u000a<p>would not.</p>\u000a
p926
sVquestion_id
p927
I1457104
sVlast_activity_date
p928
I1379455242
sVcreation_date
p929
I1379454935
sVscore
p930
I5
sVowner
p931
(dp932
Vuser_id
p933
I2205181
sVprofile_image
p934
Vhttps://i.stack.imgur.com/MdM6l.png?s=128&g=1
p935
sVuser_type
p936
Vregistered
p937
sVreputation
p938
I233
sVlink
p939
Vhttp://stackoverflow.com/users/2205181/mitjanitor
p940
sVaccept_rate
p941
I91
sVdisplay_name
p942
VMITjanitor
p943
ssVis_accepted
p944
I01
sVlast_edit_date
p945
I1379455242
sVanswer_id
p946
I18860584
sa(dp947
Vbody
p948
V<p>Classes (by default) are instances of <code>type</code>.\u000aJust as an instance of a class <code>Foo</code> is created by <code>foo = Foo(...)</code>,\u000aan instance of <code>type</code> (i.e. a class) is created by <code>myclass = type(name, bases, clsdict)</code>.</p>\u000a\u000a<p>If you want something special to happen at the moment of class-creation, then you have to modify the thing creating the class -- i.e. <code>type</code>. The way to do that is to define a subclass of <code>type</code> -- i.e. a metaclass. </p>\u000a\u000a<p><em>A metaclass is to its class as a class is to its instance.</em></p>\u000a\u000a<p>In Python2 you would define the metaclass of a class with </p>\u000a\u000a<pre><code>class SuperClass:\u000a    __metaclass__ = Watcher\u000a</code></pre>\u000a\u000a<p>where <code>Watcher</code> is a subclass of <code>type</code>. </p>\u000a\u000a<p>In Python3 the syntax has been changed to</p>\u000a\u000a<pre><code>class SuperClass(metaclass=Watcher)\u000a</code></pre>\u000a\u000a<p>Both are equivalent to</p>\u000a\u000a<pre><code>Superclass = Watcher(name, bases, clsdict)\u000a</code></pre>\u000a\u000a<p>where in this case, <code>name</code> equals the string <code>'Superclass'</code>, and <code>bases</code> is the tuple <code>(object, )</code>. The <code>clsdict</code> is a dictionary of the class attributes defined in the body of the class definition.</p>\u000a\u000a<p>Note the similarity to <code>myclass = type(name, bases, clsdict)</code>.</p>\u000a\u000a<p>So, just as you would use a class's <code>__init__</code> to control events at the moment of a instance's creation, you can control events at the moment of a class's creation with a metaclass's <code>__init__</code>:</p>\u000a\u000a<hr>\u000a\u000a<pre><code>class Watcher(type):\u000a    def __init__(cls, name, bases, clsdict):\u000a        if len(cls.mro()) &gt; 2:\u000a            print("was subclassed by " + name)\u000a        super(Watcher, cls).__init__(name, bases, clsdict)\u000a\u000aclass SuperClass:\u000a    __metaclass__ = Watcher\u000a\u000a\u000aprint("foo")\u000a\u000aclass SubClass0(SuperClass):\u000a  pass\u000a\u000aprint("bar")\u000a\u000aclass SubClass1(SuperClass):\u000a  print("test")\u000a</code></pre>\u000a\u000a<p>prints</p>\u000a\u000a<pre><code>foo\u000awas subclassed by SubClass0\u000abar\u000atest\u000awas subclassed by SubClass1\u000a</code></pre>\u000a
p949
sVquestion_id
p950
I18126552
sVlast_activity_date
p951
I1375970928
sVcreation_date
p952
I1375966677
sVscore
p953
I31
sVowner
p954
(dp955
Vuser_id
p956
I190597
sVprofile_image
p957
Vhttps://www.gravatar.com/avatar/aabc98d5c6482ca0e1405ec97710f30a?s=128&d=identicon&r=PG&f=1
p958
sVuser_type
p959
Vregistered
p960
sVreputation
p961
I425294
sVlink
p962
Vhttp://stackoverflow.com/users/190597/unutbu
p963
sVaccept_rate
p964
I88
sVdisplay_name
p965
Vunutbu
p966
ssVis_accepted
p967
I01
sVlast_edit_date
p968
I1375970928
sVanswer_id
p969
I18126678
sa(dp970
Vbody
p971
V<p>No. The method for appending an entire sequence is <code>list.extend()</code>.</p>\u000a\u000a<pre><code>&gt;&gt;&gt; L = [1, 2]\u000a&gt;&gt;&gt; L.extend((3, 4, 5))\u000a&gt;&gt;&gt; L\u000a[1, 2, 3, 4, 5]\u000a</code></pre>\u000a
p972
sVquestion_id
p973
I16621498
sVlast_activity_date
p974
I1368859416
sVcreation_date
p975
I1368859416
sVscore
p976
I108
sVowner
p977
(dp978
Vuser_id
p979
I20862
sVprofile_image
p980
Vhttps://www.gravatar.com/avatar/2343ae368d3241278581ce6c87f62a25?s=128&d=identicon&r=PG
p981
sVuser_type
p982
Vregistered
p983
sVreputation
p984
I481018
sVlink
p985
Vhttp://stackoverflow.com/users/20862/ignacio-vazquez-abrams
p986
sVaccept_rate
p987
I60
sVdisplay_name
p988
VIgnacio Vazquez-Abrams
p989
ssVis_accepted
p990
I01
sVanswer_id
p991
I16621512
sa(dp992
Vbody
p993
V<p>You can use relative imports only from in a module that was in turn imported as part of a package -- your script or interactive interpreter wasn't, so of course <code>from . import</code> (which means "import from the same package I got imported from") doesn't work. <code>import mypackage</code> will be fine once you ensure the parent directory of <code>mypackage</code> is in <code>sys.path</code> (how you managed to get your current directory <em>away</em> from <code>sys.path</code> I don't know -- do you have something strange in site.py, or...?)</p>\u000a\u000a<p>To get your current directory back into <code>sys.path</code> there is in fact no better way than putting it there;-).</p>\u000a
p994
sVquestion_id
p995
I1112618
sVlast_activity_date
p996
I1367080583
sVcreation_date
p997
I1247275487
sVscore
p998
I22
sVowner
p999
(dp1000
Vuser_id
p1001
I95810
sVprofile_image
p1002
Vhttps://www.gravatar.com/avatar/e8d5fe90f1fe2148bf130cccd4dc311c?s=128&d=identicon&r=PG
p1003
sVuser_type
p1004
Vregistered
p1005
sVreputation
p1006
I516089
sVlink
p1007
Vhttp://stackoverflow.com/users/95810/alex-martelli
p1008
sVaccept_rate
p1009
I80
sVdisplay_name
p1010
VAlex Martelli
p1011
ssVis_accepted
p1012
I01
sVlast_edit_date
p1013
I1367080583
sVanswer_id
p1014
I1112661
sa(dp1015
Vbody
p1016
V<pre><code>In [16]: def shuffle(df, n=1, axis=0):     \u000a    ...:     df = df.copy()\u000a    ...:     for _ in range(n):\u000a    ...:         df.apply(np.random.shuffle, axis=axis)\u000a    ...:     return df\u000a    ...:     \u000a\u000aIn [17]: df = pd.DataFrame({'A':range(10), 'B':range(10)})\u000a\u000aIn [18]: shuffle(df)\u000a\u000aIn [19]: df\u000aOut[19]: \u000a   A  B\u000a0  8  5\u000a1  1  7\u000a2  7  3\u000a3  6  2\u000a4  3  4\u000a5  0  1\u000a6  9  0\u000a7  4  6\u000a8  2  8\u000a9  5  9\u000a</code></pre>\u000a
p1017
sVquestion_id
p1018
I15772009
sVlast_activity_date
p1019
I1364931687
sVcreation_date
p1020
I1364929849
sVscore
p1021
I21
sVowner
p1022
(dp1023
Vuser_id
p1024
I1199589
sVprofile_image
p1025
Vhttps://www.gravatar.com/avatar/d3c6a7f974f5d687a394415a2122c6b6?s=128&d=identicon&r=PG
p1026
sVuser_type
p1027
Vregistered
p1028
sVreputation
p1029
I25958
sVlink
p1030
Vhttp://stackoverflow.com/users/1199589/root
p1031
sVaccept_rate
p1032
I89
sVdisplay_name
p1033
Vroot
p1034
ssVis_accepted
p1035
I01
sVlast_edit_date
p1036
I1364931687
sVanswer_id
p1037
I15772356
sa(dp1038
Vbody
p1039
V<p>I'm not sure how cross-platform this might be, but using signals and alarm might be a good way of looking at this.  With a little work you could make this completely generic as well and usable in any situation.</p>\u000a\u000a<p><a href="http://docs.python.org/library/signal.html" rel="noreferrer">http://docs.python.org/library/signal.html</a></p>\u000a\u000a<p>So your code is going to look something like this.</p>\u000a\u000a<pre><code>import signal\u000a\u000adef signal_handler(signum, frame):\u000a    raise Exception("Timed out!")\u000a\u000asignal.signal(signal.SIGALRM, signal_handler)\u000asignal.alarm(10)   # Ten seconds\u000atry:\u000a    long_function_call()\u000aexcept Exception, msg:\u000a    print "Timed out!"\u000a</code></pre>\u000a
p1040
sVquestion_id
p1041
I366682
sVlast_activity_date
p1042
I1361524306
sVcreation_date
p1043
I1229275670
sVscore
p1044
I32
sVowner
p1045
(dp1046
Vuser_id
p1047
I45570
sVprofile_image
p1048
Vhttps://www.gravatar.com/avatar/bf4bfea620ffe2ed9db5cf66bee06ed3?s=128&d=identicon&r=PG
p1049
sVuser_type
p1050
Vregistered
p1051
sVreputation
p1052
I719
sVlink
p1053
Vhttp://stackoverflow.com/users/45570/rik-the-vik
p1054
sVdisplay_name
p1055
Vrik.the.vik
p1056
ssVis_accepted
p1057
I01
sVlast_edit_date
p1058
I1361524306
sVanswer_id
p1059
I366763
sa(dp1060
Vbody
p1061
V<p><code>os.path.join(path, '')</code> will add the trailing slash if it's not already there.</p>\u000a\u000a<p>You can do <code>os.path.join(path, '', '')</code> or <code>os.path.join(path_with_a_trailing_slash, '')</code> and you will still only get one trailing slash.</p>\u000a
p1062
sVquestion_id
p1063
I2736144
sVlast_activity_date
p1064
I1361475110
sVcreation_date
p1065
I1361475110
sVscore
p1066
I61
sVowner
p1067
(dp1068
Vuser_id
p1069
I182642
sVprofile_image
p1070
Vhttps://www.gravatar.com/avatar/8885025e52e5cf5e0defea975aa8e727?s=128&d=identicon&r=PG
p1071
sVuser_type
p1072
Vregistered
p1073
sVreputation
p1074
I2898
sVlink
p1075
Vhttp://stackoverflow.com/users/182642/steven-t-snyder
p1076
sVaccept_rate
p1077
I59
sVdisplay_name
p1078
VSteven T. Snyder
p1079
ssVis_accepted
p1080
I01
sVanswer_id
p1081
I15010678
sa(dp1082
Vbody
p1083
V<p>Suppose <code>len(list1) &gt;= len(list2)</code>. Then what you appear to want is to take all permutations of length <code>len(list2)</code> from <code>list1</code> and match them with items from list2. In python:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; import itertools\u000a&gt;&gt;&gt; list1=['a','b','c']\u000a&gt;&gt;&gt; list2=[1,2]\u000a&gt;&gt;&gt; [zip(x,list2) for x in itertools.permutations(list1,len(list2))]\u000a[[('a', 1), ('b', 2)], [('a', 1), ('c', 2)], [('b', 1), ('a', 2)], [('b', 1), ('c', 2)], [('c', 1), ('a', 2)], [('c', 1), ('b', 2)]]\u000a</code></pre>\u000a
p1084
sVquestion_id
p1085
I12935194
sVlast_activity_date
p1086
I1350480911
sVcreation_date
p1087
I1350480911
sVscore
p1088
I20
sVowner
p1089
(dp1090
Vuser_id
p1091
I189205
sVprofile_image
p1092
Vhttps://www.gravatar.com/avatar/c60305494593d556e57a3cf8e4a8c163?s=128&d=identicon&r=PG
p1093
sVuser_type
p1094
Vregistered
p1095
sVreputation
p1096
I71001
sVlink
p1097
Vhttp://stackoverflow.com/users/189205/interjay
p1098
sVdisplay_name
p1099
Vinterjay
p1100
ssVis_accepted
p1101
I01
sVanswer_id
p1102
I12935562
sa(dp1103
Vbody
p1104
V<p>Have you tried just running the task from the Django shell? You can use the <code>.apply</code> method of a task to ensure that it is run eagerly and locally.</p>\u000a\u000a<p>Assuming the task is called <code>my_task</code> in Django app <code>myapp</code> in a <code>tasks</code> submodule:</p>\u000a\u000a<pre><code>$ python manage.py shell\u000a&gt;&gt;&gt; from myapp.tasks import my_task\u000a&gt;&gt;&gt; eager_result = my_task.apply()\u000a</code></pre>\u000a\u000a<p>The result instance has the same API as the usual <code>AsyncResult</code> type, except that the result is always evaluated eagerly and locally and the <code>.apply()</code> method will block until the task is run to completion.</p>\u000a
p1105
sVquestion_id
p1106
I12900023
sVlast_activity_date
p1107
I1350319228
sVcreation_date
p1108
I1350319228
sVscore
p1109
I55
sVowner
p1110
(dp1111
Vuser_id
p1112
I129655
sVprofile_image
p1113
Vhttps://www.gravatar.com/avatar/aa81588f4aa842d08c9539f9313df4cc?s=128&d=identicon&r=PG
p1114
sVuser_type
p1115
Vregistered
p1116
sVreputation
p1117
I30202
sVlink
p1118
Vhttp://stackoverflow.com/users/129655/platinum-azure
p1119
sVaccept_rate
p1120
I92
sVdisplay_name
p1121
VPlatinum Azure
p1122
ssVis_accepted
p1123
I01
sVanswer_id
p1124
I12900126
sa(dp1125
Vbody
p1126
V<p>If you don't have a site defined in your database and django wants to reference it, you will need to create one. </p>\u000a\u000a<p>From a <code>python manage.py shell</code> :</p>\u000a\u000a<pre><code>from django.contrib.sites.models import Site\u000anew_site = Site.objects.create(domain='foo.com', name='foo.com')\u000aprint new_site.id\u000a</code></pre>\u000a\u000a<p>Now set that site ID in your settings.py to SITE_ID</p>\u000a
p1127
sVquestion_id
p1128
I11814059
sVlast_activity_date
p1129
I1344145518
sVcreation_date
p1130
I1344145518
sVscore
p1131
I108
sVowner
p1132
(dp1133
Vuser_id
p1134
I496445
sVprofile_image
p1135
Vhttps://www.gravatar.com/avatar/db00d7b4388686c6d280e8f0578c7e39?s=128&d=identicon&r=PG
p1136
sVuser_type
p1137
Vregistered
p1138
sVreputation
p1139
I59249
sVlink
p1140
Vhttp://stackoverflow.com/users/496445/jdi
p1141
sVaccept_rate
p1142
I97
sVdisplay_name
p1143
Vjdi
p1144
ssVis_accepted
p1145
I01
sVanswer_id
p1146
I11814271
sa(dp1147
Vbody
p1148
V<p><code>NaN</code> can't be stored in an integer array. This is a known limitation of pandas at the moment; I have been waiting for progress to be made with NA values in NumPy (similar to NAs in R), but it will be at least 6 months to a year before NumPy gets these features, it seems:</p>\u000a\u000a<p><a href="http://pandas.pydata.org/pandas-docs/stable/gotchas.html#support-for-integer-na" rel="noreferrer">http://pandas.pydata.org/pandas-docs/stable/gotchas.html#support-for-integer-na</a></p>\u000a
p1149
sVquestion_id
p1150
I11548005
sVlast_activity_date
p1151
I1342637007
sVcreation_date
p1152
I1342637007
sVscore
p1153
I43
sVowner
p1154
(dp1155
Vuser_id
p1156
I776560
sVprofile_image
p1157
Vhttps://www.gravatar.com/avatar/2c08a3eed709a9d1a2654cea45aa466f?s=128&d=identicon&r=PG
p1158
sVuser_type
p1159
Vregistered
p1160
sVreputation
p1161
I37562
sVlink
p1162
Vhttp://stackoverflow.com/users/776560/wes-mckinney
p1163
sVdisplay_name
p1164
VWes McKinney
p1165
ssVis_accepted
p1166
I01
sVanswer_id
p1167
I11548224
sa(dp1168
Vbody
p1169
V<p>You can fix this by passing parameters rather than relying on Globals</p>\u000a\u000a<pre><code>def function(Var1, Var2): \u000a    if Var2 == 0 and Var1 &gt; 0:\u000a        print("Result One")\u000a    elif Var2 == 1 and Var1 &gt; 0:\u000a        print("Result Two")\u000a    elif Var1 &lt; 1:\u000a        print("Result Three")\u000a    return Var1 - 1\u000afunction(1, 1)\u000a</code></pre>\u000a
p1170
sVquestion_id
p1171
I10851906
sVlast_activity_date
p1172
I1338560132
sVcreation_date
p1173
I1338560132
sVscore
p1174
I16
sVowner
p1175
(dp1176
Vuser_id
p1177
I462604
sVprofile_image
p1178
Vhttps://www.gravatar.com/avatar/7176c041527db5489a2181a0f87f57d9?s=128&d=identicon&r=PG
p1179
sVuser_type
p1180
Vregistered
p1181
sVreputation
p1182
I18271
sVlink
p1183
Vhttp://stackoverflow.com/users/462604/jakob-bowyer
p1184
sVaccept_rate
p1185
I68
sVdisplay_name
p1186
VJakob Bowyer
p1187
ssVis_accepted
p1188
I01
sVanswer_id
p1189
I10851939
sa(dp1190
Vbody
p1191
V<p>You are halfway there. Try:</p>\u000a\u000a<pre><code>In [4]: a[a &lt; 0] = 0\u000a\u000aIn [5]: a\u000aOut[5]: array([1, 2, 3, 0, 5])\u000a</code></pre>\u000a
p1192
sVquestion_id
p1193
I10335090
sVlast_activity_date
p1194
I1335449205
sVcreation_date
p1195
I1335449205
sVscore
p1196
I75
sVowner
p1197
(dp1198
Vuser_id
p1199
I367273
sVprofile_image
p1200
Vhttps://www.gravatar.com/avatar/f1ed2b0c87f602ef30229f5c4b04eff6?s=128&d=identicon&r=PG
p1201
sVuser_type
p1202
Vregistered
p1203
sVreputation
p1204
I279603
sVlink
p1205
Vhttp://stackoverflow.com/users/367273/npe
p1206
sVaccept_rate
p1207
I96
sVdisplay_name
p1208
VNPE
p1209
ssVis_accepted
p1210
I01
sVanswer_id
p1211
I10335159
sa(dp1212
Vbody
p1213
V<p><strong>There is no "best" way,</strong> because you are never just checking to see if an attribute exists; it is always a part of some larger program.  There are several correct ways and one notable incorrect way.</p>\u000a\u000a<h1>The wrong way</h1>\u000a\u000a<pre><code>if 'property' in a.__dict__:\u000a    a.property\u000a</code></pre>\u000a\u000a<p>Here is a demonstration which shows this technique failing:</p>\u000a\u000a<pre><code>class A(object):\u000a    @property\u000a    def prop(self):\u000a        return 3\u000a\u000aa = A()\u000aprint "'prop' in a.__dict__ =", 'prop' in a.__dict__\u000aprint "hasattr(a, 'prop') =", hasattr(a, 'prop')\u000aprint "a.prop =", a.prop\u000a</code></pre>\u000a\u000a<p>Output:</p>\u000a\u000a<pre>\u000a'prop' in a.__dict__ = False\u000ahasattr(a, 'prop') = True\u000aa.prop = 3\u000a</pre>\u000a\u000a<p>Most of the time, you don't want to mess with <code>__dict__</code>.  It's a special attribute for doing special things, and checking to see if an attribute exists is fairly mundane.</p>\u000a\u000a<h1>The EAFP way</h1>\u000a\u000a<p>A common idiom in Python is "easier to ask for forgiveness than permission", or EAFP for short.  You will see lots of Python code that uses this idiom, and not just for checking attribute existence.</p>\u000a\u000a<pre><code># Cached attribute\u000atry:\u000a    big_object = self.big_object\u000a    # or getattr(self, 'big_object')\u000aexcept AttributeError:\u000a    # Creating the Big Object takes five days\u000a    # and three hundred pounds of over-ripe melons.\u000a    big_object = CreateBigObject()\u000a    self.big_object = big_object\u000abig_object.do_something()\u000a</code></pre>\u000a\u000a<p>Note that this is exactly the same idiom for opening a file that may not exist.</p>\u000a\u000a<pre><code>try:\u000a    f = open('some_file', 'r')\u000aexcept IOError as ex:\u000a    if ex.errno != errno.ENOENT:\u000a        raise\u000a    # it doesn't exist\u000aelse:\u000a    # it does and it's open\u000a</code></pre>\u000a\u000a<p>Also, for converting strings to integers.</p>\u000a\u000a<pre><code>try:\u000a    i = int(s)\u000aexcept ValueError:\u000a    print "Not an integer! Please try again."\u000a    sys.exit(1)\u000a</code></pre>\u000a\u000a<p>Even importing optional modules...</p>\u000a\u000a<pre><code>try:\u000a    import readline\u000aexcept ImportError:\u000a    pass\u000a</code></pre>\u000a\u000a<h1>The LBYL way</h1>\u000a\u000a<p>The <code>hasattr</code> method, of course, works too.  This technique is called "look before you leap", or LBYL for short.</p>\u000a\u000a<pre><code># Cached attribute\u000aif not hasattr(self, 'big_object'):\u000a    big_object = CreateBigObject()\u000a    self.big_object = CreateBigObject()\u000abig_object.do_something()\u000a</code></pre>\u000a\u000a<p>(The <code>hasattr</code> builtin actually behaves strangely in Python versions prior to 3.2 with regard to exceptions -- it will catch exceptions that it shouldn't -- but this is probably irrelevant, since such exceptions are unlikely.  The <code>hasattr</code> technique is also slower than <code>try/except</code>, but you don't call it often enough to care and the difference isn't very big.  Finally, <code>hasattr</code> isn't atomic so it could throw <code>AttributeError</code> if another thread deletes the attribute, but this is a far-fetched scenario and you'll need to be very careful around threads anyway.  I don't consider any of these three differences to be worth worrying about.)</p>\u000a\u000a<p>Using <code>hasattr</code> is much simpler than <code>try/except</code>, as long as all you need to know is whether the attribute exists.  The big issue for me is that the LBYL technique looks "strange", since as a Python programmer I'm more used to reading the EAFP technique.  If you rewrite the above examples so that they use the <code>LBYL</code> style, you get code that is either clumsy, outright incorrect, or too difficult to write.</p>\u000a\u000a<pre><code># Seems rather fragile...\u000aif re.match('^(:?0|-?[1-9][0-9]*)$', s):\u000a    i = int(s)\u000aelse:\u000a    print "Not an integer! Please try again."\u000a    sys.exit(1)\u000a</code></pre>\u000a\u000a<p>And LBYL is sometimes outright incorrect:</p>\u000a\u000a<pre><code>if os.path.isfile('some_file'):\u000a    # At this point, some other program could\u000a    # delete some_file...\u000a    f = open('some_file', 'r')\u000a</code></pre>\u000a\u000a<p>If you want to write a LBYL function for importing optional modules, be my guest... it sounds like the function would be a total monster.</p>\u000a\u000a<h1>The getattr way</h1>\u000a\u000a<p>If you just need a default value, <code>getattr</code> is a shorter version of <code>try/except</code>.</p>\u000a\u000a<pre><code>x = getattr(self, 'x', default_value)\u000a</code></pre>\u000a\u000a<p>If the default value is expensive to construct, then you'll end up with something like this:</p>\u000a\u000a<pre><code>x = getattr(self, 'attr', None)\u000aif x is None:\u000a    x = CreateDefaultValue()\u000a    self.attr = x\u000a</code></pre>\u000a\u000a<p>Or if <code>None</code> is a possible value,</p>\u000a\u000a<pre><code>sentinel = object()\u000a\u000ax = getattr(self, 'attr', sentinel)\u000aif x is sentinel:\u000a    x = CreateDefaultValue()\u000a    self.attr = x\u000a</code></pre>\u000a\u000a<h1>Conclusion</h1>\u000a\u000a<p>Internally, the <code>getattr</code> and <code>hasattr</code> builtins just use <code>try/except</code> technique (except written in C).  So they all behave the same way where it counts, and picking the right one is due to a matter of circumstances and style.</p>\u000a\u000a<p>The <code>try/except</code> EAFP code will always rub some programmers the wrong way, and the <code>hasattr/getattr</code> LBYL code will irk other programmers.  They're both correct, and there's often no truly compelling reason to pick one or the other.  (Yet other programmers are disgusted that you would consider it normal for an attribute to be undefined, and some programmers are horrified that it's even possible to have an undefined attribute in Python.)</p>\u000a
p1214
sVquestion_id
p1215
I9748678
sVlast_activity_date
p1216
I1332008056
sVcreation_date
p1217
I1331975400
sVscore
p1218
I99
sVowner
p1219
(dp1220
Vuser_id
p1221
I82294
sVprofile_image
p1222
Vhttps://www.gravatar.com/avatar/5c5f910416e2b92bb73fa59c56fe695d?s=128&d=identicon&r=PG
p1223
sVuser_type
p1224
Vregistered
p1225
sVreputation
p1226
I124718
sVlink
p1227
Vhttp://stackoverflow.com/users/82294/dietrich-epp
p1228
sVaccept_rate
p1229
I67
sVdisplay_name
p1230
VDietrich Epp
p1231
ssVis_accepted
p1232
I01
sVlast_edit_date
p1233
I1332008056
sVanswer_id
p1234
I9748715
sa(dp1235
Vbody
p1236
V<p>I think best bet is to go thru all pytz timezones and check which one matches local timezone, each pytz timezone object contains info about utcoffset and tzname like CDT, EST, same info about local time can be obtained from <code>time.timezone/altzone</code> and <code>time.tzname</code>, and I think that is enough to correctly match local timezone in pytz database e.g.</p>\u000a\u000a<pre><code>import time\u000aimport pytz\u000aimport datetime\u000a\u000alocal_names = []\u000aif time.daylight:\u000a    local_offset = time.altzone\u000a    localtz = time.tzname[1]\u000aelse:\u000a    local_offset = time.timezone\u000a    localtz = time.tzname[0]\u000a\u000alocal_offset = datetime.timedelta(seconds=-local_offset)\u000a\u000afor name in pytz.all_timezones:\u000a    timezone = pytz.timezone(name)\u000a    if not hasattr(timezone, '_tzinfos'):\u000a        continue#skip, if some timezone doesn't have info\u000a    # go thru tzinfo and see if short name like EDT and offset matches\u000a    for (utcoffset, daylight, tzname), _ in timezone._tzinfos.iteritems():\u000a        if utcoffset == local_offset and tzname == localtz:\u000a            local_names.append(name)\u000a\u000aprint local_names\u000a</code></pre>\u000a\u000a<p>output:</p>\u000a\u000a<blockquote>\u000a  <p>['America/Atikokan', 'America/Bahia_Banderas',\u000a  'America/Bahia_Banderas', 'America/Belize', 'America/Cambridge_Bay',\u000a  'America/Cancun', 'America/Chicago', 'America/Chihuahua',\u000a  'America/Coral_Harbour', 'America/Costa_Rica', 'America/El_Salvador',\u000a  'America/Fort_Wayne', 'America/Guatemala',\u000a  'America/Indiana/Indianapolis', 'America/Indiana/Knox',\u000a  'America/Indiana/Marengo', 'America/Indiana/Marengo',\u000a  'America/Indiana/Petersburg', 'America/Indiana/Tell_City',\u000a  'America/Indiana/Vevay', 'America/Indiana/Vincennes',\u000a  'America/Indiana/Winamac', 'America/Indianapolis', 'America/Iqaluit',\u000a  'America/Kentucky/Louisville', 'America/Kentucky/Louisville',\u000a  'America/Kentucky/Monticello', 'America/Knox_IN',\u000a  'America/Louisville', 'America/Louisville', 'America/Managua',\u000a  'America/Matamoros', 'America/Menominee', 'America/Merida',\u000a  'America/Mexico_City', 'America/Monterrey',\u000a  'America/North_Dakota/Beulah', 'America/North_Dakota/Center',\u000a  'America/North_Dakota/New_Salem', 'America/Ojinaga',\u000a  'America/Pangnirtung', 'America/Rainy_River', 'America/Rankin_Inlet',\u000a  'America/Resolute', 'America/Resolute', 'America/Tegucigalpa',\u000a  'America/Winnipeg', 'CST6CDT', 'Canada/Central', 'Mexico/General',\u000a  'US/Central', 'US/East-Indiana', 'US/Indiana-Starke']</p>\u000a</blockquote>\u000a\u000a<p>In production you can create such a mapping beforehand and save it instead of iterating always.</p>\u000a\u000a<p>Testing script after changing timezone:</p>\u000a\u000a<blockquote>\u000a  <p>$ export TZ='Australia/Sydney'<br>\u000a  $ python get_tz_names.py<br>\u000a  ['Antarctica/Macquarie', 'Australia/ACT', 'Australia/Brisbane',\u000a  'Australia/Canberra', 'Australia/Currie', 'Australia/Hobart',\u000a  'Australia/Lindeman', 'Australia/Melbourne', 'Australia/NSW',\u000a  'Australia/Queensland', 'Australia/Sydney', 'Australia/Tasmania',\u000a  'Australia/Victoria']</p>\u000a</blockquote>\u000a
p1237
sVquestion_id
p1238
I7669938
sVlast_activity_date
p1239
I1327343126
sVcreation_date
p1240
I1322668682
sVscore
p1241
I17
sVowner
p1242
(dp1243
Vuser_id
p1244
I6946
sVprofile_image
p1245
Vhttps://www.gravatar.com/avatar/766dcbbf898a4b10cfc1b34f70076f2a?s=128&d=identicon&r=PG
p1246
sVuser_type
p1247
Vregistered
p1248
sVreputation
p1249
I46374
sVlink
p1250
Vhttp://stackoverflow.com/users/6946/anurag-uniyal
p1251
sVaccept_rate
p1252
I89
sVdisplay_name
p1253
VAnurag Uniyal
p1254
ssVis_accepted
p1255
I01
sVlast_edit_date
p1256
I1327343126
sVanswer_id
p1257
I8328904
sa(dp1258
Vbody
p1259
V<p>url encoding a "raw" unicode doesn't really make sense. What you need to do is <code>.encode("utf8")</code> first so you have a known byte encoding and then <code>.quote()</code> that.</p>\u000a\u000a<p>The output isn't very pretty but it should be a correct uri encoding.</p>\u000a\u000a<pre><code>&gt;&gt;&gt; s = u'1234567890-/:;()$&amp;@".,?!\u005c'[]{}#%^*+=_\u005c|~&lt;&gt;\u005cu20ac\u005cxa3\u005cxa5\u005cu2022.,?!\u005c''\u000a&gt;&gt;&gt; urllib2.quote(s.encode("utf8"))\u000a'1234567890-/%3A%3B%28%29%24%26%40%22.%2C%3F%21%27%5B%5D%7B%7D%23%25%5E%2A%2B%3D_%5C%7C%7E%3C%3E%E2%82%AC%C2%A3%C2%A5%E2%80%A2.%2C%3F%21%27'\u000a</code></pre>\u000a\u000a<p>Remember that you will need to both <code>unquote()</code> and <code>decode()</code> this to print it out properly if you're debugging or whatever.</p>\u000a\u000a<pre><code>&gt;&gt;&gt; print urllib2.unquote(urllib2.quote(s.encode("utf8")))\u000a1234567890-/:;()$&amp;@".,?!'[]{}#%^*+=_\u005c|~&lt;&gt;\u201a\u20ac.,?!'\u000a&gt;&gt;&gt; # oops, nasty  means we've got a utf8 byte stream being treated as an ascii stream\u000a&gt;&gt;&gt; print urllib2.unquote(urllib2.quote(s.encode("utf8"))).decode("utf8")\u000a1234567890-/:;()$&amp;@".,?!'[]{}#%^*+=_\u005c|~&lt;&gt;\u20ac\u2022.,?!'\u000a</code></pre>\u000a\u000a<p>This is, in fact, what the <a href="http://docs.djangoproject.com/en/dev/ref/unicode/#uri-and-iri-handling" rel="noreferrer">django functions</a> mentioned in another answer do.</p>\u000a\u000a<blockquote>\u000a  <p>The functions\u000a  django.utils.http.urlquote() and\u000a  django.utils.http.urlquote_plus() are\u000a  versions of Python\u2019s standard\u000a  urllib.quote() and urllib.quote_plus()\u000a  that work with non-ASCII characters.\u000a  (The data is converted to UTF-8 prior\u000a  to encoding.)</p>\u000a</blockquote>\u000a\u000a<p>Be careful if you are applying any further quotes or encodings not to mangle things. </p>\u000a
p1260
sVquestion_id
p1261
I3563126
sVlast_activity_date
p1262
I1326985831
sVcreation_date
p1263
I1282736893
sVscore
p1264
I69
sVowner
p1265
(dp1266
Vuser_id
p1267
I346573
sVprofile_image
p1268
Vhttps://www.gravatar.com/avatar/4a839932df915d7850d6a2b58dd2d32d?s=128&d=identicon&r=PG
p1269
sVuser_type
p1270
Vregistered
p1271
sVreputation
p1272
I22527
sVlink
p1273
Vhttp://stackoverflow.com/users/346573/pycruft
p1274
sVdisplay_name
p1275
Vpycruft
p1276
ssVis_accepted
p1277
I01
sVlast_edit_date
p1278
I1326985831
sVanswer_id
p1279
I3565460
sa(dp1280
Vbody
p1281
V<p>i think i got 50% of the solution, the cookies are not tested yet, but now i can load Flask application using Tornado, and mixing Tornado + Flask together :)</p>\u000a\u000a<p>first here is <em>flasky.py</em> the file where the flask application is:</p>\u000a\u000a<pre><code>from flask import Flask\u000aapp = Flask(__name__)\u000a\u000a@app.route('/flask')\u000adef hello_world():\u000a  return 'This comes from Flask ^_^'\u000a</code></pre>\u000a\u000a<p>and then the <em>cyclone.py</em> the file which will load the flask application and the tornado server + a simple tornado application, hope there is no module called "cyclone" ^_^</p>\u000a\u000a<pre><code>from tornado.wsgi import WSGIContainer\u000afrom tornado.ioloop import IOLoop\u000afrom tornado.web import FallbackHandler, RequestHandler, Application\u000afrom flasky import app\u000a\u000aclass MainHandler(RequestHandler):\u000a  def get(self):\u000a    self.write("This message comes from Tornado ^_^")\u000a\u000atr = WSGIContainer(app)\u000a\u000aapplication = Application([\u000a(r"/tornado", MainHandler),\u000a(r".*", FallbackHandler, dict(fallback=tr)),\u000a])\u000a\u000aif __name__ == "__main__":\u000a  application.listen(8000)\u000a  IOLoop.instance().start()\u000a</code></pre>\u000a\u000a<p>hope this will help someone that wants to mix them :)</p>\u000a
p1282
sVquestion_id
p1283
I8143141
sVlast_activity_date
p1284
I1322073882
sVcreation_date
p1285
I1322073882
sVscore
p1286
I81
sVowner
p1287
(dp1288
Vuser_id
p1289
I903921
sVprofile_image
p1290
Vhttps://www.gravatar.com/avatar/79fdc83e1f9aff90778d5c83f55d9846?s=128&d=identicon&r=PG
p1291
sVuser_type
p1292
Vregistered
p1293
sVreputation
p1294
I1485
sVlink
p1295
Vhttp://stackoverflow.com/users/903921/abdel
p1296
sVaccept_rate
p1297
I79
sVdisplay_name
p1298
Vabdel
p1299
ssVis_accepted
p1300
I01
sVanswer_id
p1301
I8247457
sa(dp1302
Vbody
p1303
V<p>For POSIX semaphores to work, the users need r/w access to shared memory (<code>/dev/shm</code>).</p>\u000a\u000a<p>Check the permissions to <code>/dev/shm</code>. On my laptop (Ubuntu) it looks like this:</p>\u000a\u000a<pre><code>$ ls -ld /dev/shm\u000adrwxrwxrwt 2 root root          40 2010-01-05 20:34 shm\u000a</code></pre>\u000a\u000a<p>To permanently set the correct permissions (even after a reboot), add the following to your <code>/etc/fstab</code>:</p>\u000a\u000a<pre><code>none /dev/shm tmpfs rw,nosuid,nodev,noexec 0 0\u000a</code></pre>\u000a\u000a<p>Haven't tried this, just copied from a <a href="http://www.linuxquestions.org/questions/linux-newbie-8/permission-denied-error-creating-posix-semaphores-487624/" rel="noreferrer">forum post</a>.</p>\u000a
p1304
sVquestion_id
p1305
I2009278
sVlast_activity_date
p1306
I1320074490
sVcreation_date
p1307
I1262729745
sVscore
p1308
I60
sVowner
p1309
(dp1310
Vuser_id
p1311
I3571
sVprofile_image
p1312
Vhttps://www.gravatar.com/avatar/b1d6ed6863a3b4aab3565f1f9625f156?s=128&d=identicon&r=PG
p1313
sVuser_type
p1314
Vregistered
p1315
sVreputation
p1316
I58092
sVlink
p1317
Vhttp://stackoverflow.com/users/3571/codeape
p1318
sVaccept_rate
p1319
I56
sVdisplay_name
p1320
Vcodeape
p1321
ssVis_accepted
p1322
I01
sVlast_edit_date
p1323
I1320074490
sVanswer_id
p1324
I2009505
sa(dp1325
Vbody
p1326
V<p>What you seem to be looking for is a <a href="http://linux.die.net/man/3/clock_gettime">monotonic timer</a>. A <a href="http://markmail.org/thread/54bb663vi47kjxnu">monotonic time reference</a> does not jump or go backwards. </p>\u000a\u000a<p>There have been several attempts to implement a cross platform monotomic clock for Python based on the OS reference of it. (Windows, POSIX and BSD are quite different) See the discussions and some of the attempts at monotonic time in <a href="http://stackoverflow.com/questions/4687408/retrieve-wall-time-in-python-using-the-standard-library/4687457#4687457">this SO post</a>. </p>\u000a\u000a<p>Mostly, you can just use os.times():</p>\u000a\u000a<blockquote>\u000a  <p>os.times() </p>\u000a  \u000a  <p>Return a 5-tuple of floating point numbers indicating\u000a  accumulated (processor or other) times, in seconds. The items are:\u000a  user time, system time, children\u2019s user time, children\u2019s system time,\u000a  and elapsed real time since a fixed point in the past, in that order.\u000a  See the Unix manual page times(2) or the corresponding Windows\u000a  Platform API documentation. On Windows, only the first two items are\u000a  filled, the others are zero.</p>\u000a  \u000a  <p>Availability: Unix, Windows</p>\u000a</blockquote>\u000a\u000a<p>But that does not fill in the needed elapsed real time (the fifth tuple) on Windows. </p>\u000a\u000a<p>If you need Windows support, consider <code>ctypes</code> and you can call GetTickCount64() directly, as has been done in <a href="http://code.activestate.com/recipes/576786-detect-when-system-is-idle/">this recipe</a>.</p>\u000a
p1327
sVquestion_id
p1328
I7421641
sVlast_activity_date
p1329
I1316044368
sVcreation_date
p1330
I1316044054
sVscore
p1331
I10
sVowner
p1332
(dp1333
Vuser_id
p1334
I455276
sVprofile_image
p1335
Vhttps://i.stack.imgur.com/JtuFL.jpg?s=128&g=1
p1336
sVuser_type
p1337
Vregistered
p1338
sVreputation
p1339
I14091
sVlink
p1340
Vhttp://stackoverflow.com/users/455276/the-wolf
p1341
sVaccept_rate
p1342
I100
sVdisplay_name
p1343
Vthe wolf
p1344
ssVis_accepted
p1345
I01
sVlast_edit_date
p1346
I1316044368
sVanswer_id
p1347
I7424304
sa(dp1348
Vbody
p1349
V<p>Just Put </p>\u000a\u000a<pre><code>blank=True\u000a</code></pre>\u000a\u000a<p>in your model i.e.:</p>\u000a\u000a<pre><code>rushing_attempts = models.CharField(\u000a        max_length = 100,\u000a        verbose_name = "Rushing Attempts",\u000a        blank=True\u000a        )\u000a</code></pre>\u000a
p1350
sVquestion_id
p1351
I7341066
sVlast_activity_date
p1352
I1315434116
sVcreation_date
p1353
I1315434116
sVscore
p1354
I88
sVowner
p1355
(dp1356
Vuser_id
p1357
I121687
sVprofile_image
p1358
Vhttps://www.gravatar.com/avatar/359b919642638c5b67555a1bc89dfd3e?s=128&d=identicon&r=PG
p1359
sVuser_type
p1360
Vregistered
p1361
sVreputation
p1362
I22588
sVlink
p1363
Vhttp://stackoverflow.com/users/121687/fabriziom
p1364
sVaccept_rate
p1365
I71
sVdisplay_name
p1366
VfabrizioM
p1367
ssVis_accepted
p1368
I01
sVanswer_id
p1369
I7341194
sa(dp1370
Vbody
p1371
V<p>Well it seems I found a lot of the reasoning behind the views decision, going by the thread starting with <a href="http://mail.python.org/pipermail/python-3000/2006-August/003224.html" rel="nofollow">http://mail.python.org/pipermail/python-3000/2006-August/003224.html</a> (it's primarily about slicing strings, but at least one e-mail in the thread mentions mutable objects like lists), and also some things from:</p>\u000a\u000a<p><a href="http://mail.python.org/pipermail/python-3000/2007-February/005739.html" rel="nofollow">http://mail.python.org/pipermail/python-3000/2007-February/005739.html</a><br>\u000a<a href="http://mail.python.org/pipermail/python-dev/2008-May/079692.html" rel="nofollow">http://mail.python.org/pipermail/python-dev/2008-May/079692.html</a> and following e-mails in the thread</p>\u000a\u000a<p>Looks like the advantages of switching to this style for base Python would be vastly outweighed by the induced complexity and various undesirable edge cases. Oh well.</p>\u000a\u000a<p>...And as I then started wondering about the possibility of just replacing the current way <code>slice</code> objects are worked with with an iterable form a la <code>itertools.islice</code>, just as <code>zip</code>, <code>map</code>, etc. all return iterables instead of lists in Python 3, I started realizing all the unexpected behavior and possible problems that could come out of that. Looks like this might be a dead end for now.</p>\u000a\u000a<p>On the plus side, numpy's arrays are fairly flexible, so in situations where this sort of thing might be necessary, it wouldn't be too hard to use one-dimensional ndarrays instead of lists. However, it seems ndarrays don't support using slicing to insert additional items within arrays, as happens with Python lists:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; a = [0, 0]\u000a&gt;&gt;&gt; a[:1] = [2, 3]\u000a&gt;&gt;&gt; a\u000a[2, 3, 0]\u000a</code></pre>\u000a\u000a<p>I think the numpy equivalent would instead be something like this:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; a = np.array([0, 0])  # or a = np.zeros([2]), but that's not important here\u000a&gt;&gt;&gt; a = np.hstack(([2, 3], a[1:]))\u000a&gt;&gt;&gt; a\u000aarray([2, 3, 0])\u000a</code></pre>\u000a\u000a<p>A slightly more complicated case:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; a = [1, 2, 3, 4]\u000a&gt;&gt;&gt; a[1:3] = [0, 0, 0]\u000a&gt;&gt;&gt; a\u000a[1, 0, 0, 0, 4]\u000a</code></pre>\u000a\u000a<p>versus</p>\u000a\u000a<pre><code>&gt;&gt;&gt; a = np.array([1, 2, 3, 4])\u000a&gt;&gt;&gt; a = np.hstack((a[:1], [0, 0, 0], a[3:]))\u000a&gt;&gt;&gt; a\u000aarray([1, 0, 0, 0, 4])\u000a</code></pre>\u000a\u000a<p>And, of course, the above numpy examples don't store the result in the original array as happens with the regular Python list expansion.</p>\u000a
p1372
sVquestion_id
p1373
I6902235
sVlast_activity_date
p1374
I1312479998
sVcreation_date
p1375
I1312474340
sVscore
p1376
I2
sVowner
p1377
(dp1378
Vuser_id
p1379
I138772
sVprofile_image
p1380
Vhttps://www.gravatar.com/avatar/32504cb73cc05b26335a43219fff3a79?s=128&d=identicon&r=PG
p1381
sVuser_type
p1382
Vregistered
p1383
sVreputation
p1384
I14735
sVlink
p1385
Vhttp://stackoverflow.com/users/138772/jab
p1386
sVaccept_rate
p1387
I100
sVdisplay_name
p1388
VJAB
p1389
ssVis_accepted
p1390
I01
sVlast_edit_date
p1391
I1312479998
sVanswer_id
p1392
I6944839
sa(dp1393
Vbody
p1394
V<p>Assuming you are talking about a <em>list</em>, you specify the step in the slice (and start index). The syntax is <code>list[start:end:step]</code>. </p>\u000a\u000a<p>You probably know the normal list access to get an item, e.g. <code>l[2]</code> to get the third item. Giving two numbers and a colon in between, you can specify a <em>range</em> that you want to get from the list. The return value is another list. E.g. <code>l[2:5]</code> gives you the third to sixth item. You can also pass an optional third number, which specifies the step size. The default step size is one, which just means <em>take every item</em> (between start and end index).</p>\u000a\u000a<p>Example:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; l = range(10)\u000a&gt;&gt;&gt; l[::2]         # even  - start at the beginning at take every second item\u000a[0, 2, 4, 6, 8]\u000a&gt;&gt;&gt; l[1::2]        # odd - start at second item and take every second item\u000a[1, 3, 5, 7, 9]\u000a</code></pre>\u000a\u000a<p>See <a href="http://docs.python.org/tutorial/introduction.html#lists" rel="noreferrer">lists in the Python tutorial</a>.</p>\u000a\u000a<p>If you want to get every <em><code>n</code>-th</em> element of a list (i.e. excluding the first element), you would have to slice like <code>l[(n-1)::n]</code>. </p>\u000a\u000a<p>Example:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; l = range(20)\u000a&gt;&gt;&gt; l\u000a[0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19]\u000a</code></pre>\u000a\u000a<p>Now, getting every third element would be:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; l[2::3]\u000a[2, 5, 8, 11, 14, 17]\u000a</code></pre>\u000a\u000a<p>If you want to include the first element, you just do <code>l[::n]</code>.</p>\u000a
p1395
sVquestion_id
p1396
I4988002
sVlast_activity_date
p1397
I1311675112
sVcreation_date
p1398
I1297645047
sVscore
p1399
I93
sVowner
p1400
(dp1401
Vuser_id
p1402
I218196
sVprofile_image
p1403
Vhttps://i.stack.imgur.com/4P5DY.jpg?s=128&g=1
p1404
sVuser_type
p1405
Vregistered
p1406
sVreputation
p1407
I434937
sVlink
p1408
Vhttp://stackoverflow.com/users/218196/felix-kling
p1409
sVaccept_rate
p1410
I100
sVdisplay_name
p1411
VFelix Kling
p1412
ssVis_accepted
p1413
I01
sVlast_edit_date
p1414
I1311675112
sVanswer_id
p1415
I4988012
sa(dp1416
Vbody
p1417
V<p>I can't speak for the designer of <code>itertools.permutations</code> (Raymond Hettinger), but it seems to me that there are a couple of points in favour of the design:</p>\u000a\u000a<p>First, if you used a <code>next_permutation</code>-style approach, then you'd be restricted to passing in objects that support a linear ordering. Whereas <code>itertools.permutations</code> provides permutations of <em>any</em> kind of object. Imagine how annoying this would be:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; list(itertools.permutations([1+2j, 1-2j, 2+j, 2-j]))\u000aTraceback (most recent call last):\u000a  File "&lt;stdin&gt;", line 1, in &lt;module&gt;\u000aTypeError: no ordering relation is defined for complex numbers\u000a</code></pre>\u000a\u000a<p>Second, by not testing for equality on objects, <code>itertools.permutations</code> avoids paying the cost of calling the <code>__eq__</code> method in the usual case where it's not necessary.</p>\u000a\u000a<p>Basically, <code>itertools.permutations</code> solves the common case reliably and cheaply. There's certainly an argument to be made that <code>itertools</code> ought to provide a function that avoids duplicate permutations, but such a function should be in addition to <code>itertools.permutations</code>, not instead of it. Why not write such a function and submit a patch?</p>\u000a
p1418
sVquestion_id
p1419
I6534430
sVlast_activity_date
p1420
I1309443645
sVcreation_date
p1421
I1309438066
sVscore
p1422
I26
sVowner
p1423
(dp1424
Vuser_id
p1425
I68063
sVprofile_image
p1426
Vhttps://www.gravatar.com/avatar/093d6dc5c8295d32bcb8e76c7c66455a?s=128&d=identicon&r=PG
p1427
sVuser_type
p1428
Vregistered
p1429
sVreputation
p1430
I45045
sVlink
p1431
Vhttp://stackoverflow.com/users/68063/gareth-rees
p1432
sVdisplay_name
p1433
VGareth Rees
p1434
ssVis_accepted
p1435
I01
sVlast_edit_date
p1436
I1309443645
sVanswer_id
p1437
I6534998
sa(dp1438
Vbody
p1439
V<p>No, there is no language support for creating block scope. The only means to create scope is functions, classes or modules.</p>\u000a
p1440
sVquestion_id
p1441
I6167923
sVlast_activity_date
p1442
I1306675228
sVcreation_date
p1443
I1306675228
sVscore
p1444
I43
sVowner
p1445
(dp1446
Vuser_id
p1447
I127465
sVprofile_image
p1448
Vhttps://www.gravatar.com/avatar/0ca64f67167d37e7041e561104034bb2?s=128&d=identicon&r=PG
p1449
sVuser_type
p1450
Vregistered
p1451
sVreputation
p1452
I10060
sVlink
p1453
Vhttp://stackoverflow.com/users/127465/thomash
p1454
sVaccept_rate
p1455
I94
sVdisplay_name
p1456
VThomasH
p1457
ssVis_accepted
p1458
I01
sVanswer_id
p1459
I6167952
sa(dp1460
Vbody
p1461
V<p>There is no less verbose way.  Always use <code>self.x</code> to access the instance attribute <code>x</code>.  Note that unlike <code>this</code> in C++, <code>self</code> is not a keyword, though.  You <em>could</em> give the first parameter of your method any name you want, but you are strongly advised to stick to the convention of calling it <code>self</code>.</p>\u000a
p1462
sVquestion_id
p1463
I6019627
sVlast_activity_date
p1464
I1305559678
sVcreation_date
p1465
I1305559678
sVscore
p1466
I96
sVowner
p1467
(dp1468
Vuser_id
p1469
I279627
sVprofile_image
p1470
Vhttps://www.gravatar.com/avatar/2dceea858ad8f1577bec6ddaa0485d15?s=128&d=identicon&r=PG
p1471
sVuser_type
p1472
Vregistered
p1473
sVreputation
p1474
I252330
sVlink
p1475
Vhttp://stackoverflow.com/users/279627/sven-marnach
p1476
sVaccept_rate
p1477
I78
sVdisplay_name
p1478
VSven Marnach
p1479
ssVis_accepted
p1480
I01
sVanswer_id
p1481
I6019656
sa(dp1482
Vbody
p1483
V<p>This is in the source for <a href="http://code.google.com/p/django-photologue/" rel="noreferrer">photologue</a> (see <code>models.py</code>, slightly adapted to remove irrelevant stuff):</p>\u000a\u000a<pre><code>def admin_thumbnail(self):\u000a    return u'&lt;img src="%s" /&gt;' % (self.image.url)\u000aadmin_thumbnail.short_description = 'Thumbnail'\u000aadmin_thumbnail.allow_tags = True\u000a</code></pre>\u000a\u000a<p>The <code>list_display</code> bit looks identical too, and I know that works. The only thing that looks suspect to me is your indentation - the two lines beginning  <code>image_img</code> at the end of your <code>models.py</code> code should be level with <code>def image_img(self):</code>, like this:</p>\u000a\u000a<pre><code>def image_img(self):\u000a    if self.image:\u000a        return u'&lt;img src="%s" /&gt;' % self.image.url_125x125\u000a    else:\u000a        return '(Sin imagen)'\u000aimage_img.short_description = 'Thumb'\u000aimage_img.allow_tags = True\u000a</code></pre>\u000a
p1484
sVquestion_id
p1485
I1385094
sVlast_activity_date
p1486
I1299861669
sVcreation_date
p1487
I1252222987
sVscore
p1488
I66
sVowner
p1489
(dp1490
Vuser_id
p1491
I20972
sVprofile_image
p1492
Vhttps://www.gravatar.com/avatar/dcce4266f0c054991bf5dbd29794c743?s=128&d=identicon&r=PG
p1493
sVuser_type
p1494
Vregistered
p1495
sVreputation
p1496
I65520
sVlink
p1497
Vhttp://stackoverflow.com/users/20972/dominic-rodger
p1498
sVaccept_rate
p1499
I86
sVdisplay_name
p1500
VDominic Rodger
p1501
ssVis_accepted
p1502
I01
sVlast_edit_date
p1503
I1299861669
sVanswer_id
p1504
I1385145
sa(dp1505
Vbody
p1506
V<p>It's because <code>savefig</code> overrides the facecolor for the background of the figure.  </p>\u000a\u000a<p>(This is deliberate, actually... The assumption is that you'd probably want to control the background color of the saved figure with the <code>facecolor</code> kwarg to <code>savefig</code>. It's a confusing and inconsistent default, though!)</p>\u000a\u000a<p>The easiest workaround is just to do <code>fig.savefig('whatever.png', facecolor=fig.get_facecolor(), edgecolor='none')</code> (I'm specifying the edgecolor here because the default edgecolor for the actual figure is white, which will give you a white border around the saved figure)</p>\u000a\u000a<p>Hope that helps!</p>\u000a
p1507
sVquestion_id
p1508
I4804005
sVlast_activity_date
p1509
I1296049134
sVcreation_date
p1510
I1296049134
sVscore
p1511
I55
sVowner
p1512
(dp1513
Vuser_id
p1514
I325565
sVprofile_image
p1515
Vhttps://www.gravatar.com/avatar/342bd0a61c7081db529c856d3bcd9545?s=128&d=identicon&r=PG
p1516
sVuser_type
p1517
Vregistered
p1518
sVreputation
p1519
I136691
sVlink
p1520
Vhttp://stackoverflow.com/users/325565/joe-kington
p1521
sVdisplay_name
p1522
VJoe Kington
p1523
ssVis_accepted
p1524
I01
sVanswer_id
p1525
I4805178
sa(dp1526
Vbody
p1527
V<p>Python does not support unloading modules.</p>\u000a\u000a<p>However, unless your program loads an unlimited number of modules over time, that's not the source of your memory leak.  Modules are normally loaded once at start up and that's it.  Your memory leak most likely lies elsewhere.</p>\u000a\u000a<p>In the unlikely case that your program really does load an unlimited number of modules over time, you should probably redesign your program. ;-)</p>\u000a
p1528
sVquestion_id
p1529
I3105801
sVlast_activity_date
p1530
I1277329807
sVcreation_date
p1531
I1277329807
sVscore
p1532
I15
sVowner
p1533
(dp1534
Vuser_id
p1535
I219162
sVprofile_image
p1536
Vhttps://www.gravatar.com/avatar/4c7f016d15f498b5274e153dce3e7974?s=128&d=identicon&r=PG
p1537
sVuser_type
p1538
Vregistered
p1539
sVreputation
p1540
I37272
sVlink
p1541
Vhttp://stackoverflow.com/users/219162/daniel-stutzbach
p1542
sVaccept_rate
p1543
I87
sVdisplay_name
p1544
VDaniel Stutzbach
p1545
ssVis_accepted
p1546
I01
sVanswer_id
p1547
I3105828
sa(dp1548
Vbody
p1549
V<p>What about max()</p>\u000a\u000a<pre><code>foo = [1,2,3]\u000aprint max(foo)\u000a</code></pre>\u000a
p1550
sVquestion_id
p1551
I3090175
sVlast_activity_date
p1552
I1277179185
sVcreation_date
p1553
I1277179185
sVscore
p1554
I68
sVowner
p1555
(dp1556
Vuser_id
p1557
I54777
sVprofile_image
p1558
Vhttps://i.stack.imgur.com/DGl68.jpg?s=128&g=1
p1559
sVuser_type
p1560
Vregistered
p1561
sVreputation
p1562
I3149
sVlink
p1563
Vhttp://stackoverflow.com/users/54777/jubal
p1564
sVaccept_rate
p1565
I100
sVdisplay_name
p1566
VJubal
p1567
ssVis_accepted
p1568
I01
sVanswer_id
p1569
I3090183
sa(dp1570
Vbody
p1571
V<p>These paired functions will find the longest common string in any arbitrary array of strings:</p>\u000a\u000a<pre><code>def long_substr(data):\u000a    substr = ''\u000a    if len(data) &gt; 1 and len(data[0]) &gt; 0:\u000a        for i in range(len(data[0])):\u000a            for j in range(len(data[0])-i+1):\u000a                if j &gt; len(substr) and is_substr(data[0][i:i+j], data):\u000a                    substr = data[0][i:i+j]\u000a    return substr\u000a\u000adef is_substr(find, data):\u000a    if len(data) &lt; 1 and len(find) &lt; 1:\u000a        return False\u000a    for i in range(len(data)):\u000a        if find not in data[i]:\u000a            return False\u000a    return True\u000a\u000a\u000aprint long_substr(['Oh, hello, my friend.',\u000a                   'I prefer Jelly Belly beans.',\u000a                   'When hell freezes over!'])\u000a</code></pre>\u000a\u000a<p>No doubt the algorithm could be improved and I've not had a lot of exposure to Python, so maybe it could be more efficient syntactically as well, but it should do the job.</p>\u000a\u000a<p><strong>EDIT:</strong> in-lined the second is_substr function as demonstrated by J.F. Sebastian. Usage remains the same. Note: no change to algorithm.</p>\u000a\u000a<pre><code>def long_substr(data):\u000a    substr = ''\u000a    if len(data) &gt; 1 and len(data[0]) &gt; 0:\u000a        for i in range(len(data[0])):\u000a            for j in range(len(data[0])-i+1):\u000a                if j &gt; len(substr) and all(data[0][i:i+j] in x for x in data):\u000a                    substr = data[0][i:i+j]\u000a    return substr\u000a</code></pre>\u000a\u000a<p>Hope this helps,</p>\u000a\u000a<p>Jason.</p>\u000a
p1572
sVquestion_id
p1573
I2892931
sVlast_activity_date
p1574
I1274684839
sVcreation_date
p1575
I1274659960
sVscore
p1576
I45
sVowner
p1577
(dp1578
Vuser_id
p1579
I347759
sVprofile_image
p1580
Vhttps://www.gravatar.com/avatar/1155f7efb481bd8fcac0c872221bd098?s=128&d=identicon&r=PG
p1581
sVuser_type
p1582
Vregistered
p1583
sVreputation
p1584
I591
sVlink
p1585
Vhttp://stackoverflow.com/users/347759/jtjacques
p1586
sVdisplay_name
p1587
Vjtjacques
p1588
ssVis_accepted
p1589
I01
sVlast_edit_date
p1590
I1274684839
sVanswer_id
p1591
I2894073
sa(dp1592
Vbody
p1593
V<p>As Mike says, you can't avoid PyMongo - all the other interfaces build on top of it. These other interfaces are arguably unnecessary. ORMs such as that used in Django are useful when dealing with SQL because they mitigate the complexity of creating SQL queries and schemas, and parsing result sets into objects.</p>\u000a\u000a<p>PyMongo however already has that covered - queries go through a convenient and simple API and results coming from MongoDB already are objects (well, dicts in Python - same difference) by definition. If you feel that you really need to decorate your Mongo documents with Python objects, it's easy to add a SON manipulator to PyMongo. The nice thing about this approach is that you can write code directly on PyMongo, and slide in additional functionality later on without having to insert a new API between your code and PyMongo.</p>\u000a\u000a<p>What's left? Schema creation and migration are somewhat useful, but are almost as simply done ad-hoc - chances are if you're considering using MongoDB you want to break out of the traditional SQL-style model anyway. Also, if there were a fully Django-compatible MongoDB ORM you might get some mileage out of it. Anything less than that and you will probably be creating work for yourself.</p>\u000a\u000a<p>You won't regret using PyMongo directly.</p>\u000a\u000a<p>One last option worth watching if you are interested in top efficiency is the asynchronous version of PyMongo, here: <a href="http://github.com/fiorix/mongo-async-python-driver" rel="noreferrer">http://github.com/fiorix/mongo-async-python-driver</a></p>\u000a
p1594
sVquestion_id
p1595
I2740837
sVlast_activity_date
p1596
I1272697364
sVcreation_date
p1597
I1272697364
sVscore
p1598
I55
sVowner
p1599
(dp1600
Vuser_id
p1601
I320624
sVprofile_image
p1602
Vhttps://www.gravatar.com/avatar/1b4bbe227567300d20494e0a66eaf4c3?s=128&d=identicon&r=PG
p1603
sVuser_type
p1604
Vregistered
p1605
sVreputation
p1606
I1091
sVlink
p1607
Vhttp://stackoverflow.com/users/320624/drg
p1608
sVdisplay_name
p1609
Vdrg
p1610
ssVis_accepted
p1611
I01
sVanswer_id
p1612
I2749154
sa(dp1613
Vbody
p1614
V<pre><code>&gt;&gt;&gt; "    xyz     ".rstrip()\u000a'    xyz'\u000a</code></pre>\u000a\u000a<p>more about <code>rstrip</code> in <a href="http://docs.python.org/library/stdtypes.html#str.rstrip" rel="noreferrer">docs</a></p>\u000a
p1615
sVquestion_id
p1616
I2372573
sVlast_activity_date
p1617
I1267630620
sVcreation_date
p1618
I1267630620
sVscore
p1619
I83
sVowner
p1620
(dp1621
Vuser_id
p1622
I12855
sVprofile_image
p1623
Vhttps://www.gravatar.com/avatar/e6488132d206883770017ba97d0f521f?s=128&d=identicon&r=PG
p1624
sVuser_type
p1625
Vregistered
p1626
sVreputation
p1627
I142797
sVlink
p1628
Vhttp://stackoverflow.com/users/12855/silentghost
p1629
sVaccept_rate
p1630
I86
sVdisplay_name
p1631
VSilentGhost
p1632
ssVis_accepted
p1633
I01
sVanswer_id
p1634
I2372578
sa(dp1635
Vbody
p1636
V<p>Yes, the intention of the manual is indeed to guarantee that <code>sorted</code> is stable and indeed that it uses exactly the same algorithm as the <code>sort</code> method. I do realize that the docs aren't 100% clear about this identity; doc patches are always happily accepted!</p>\u000a
p1637
sVquestion_id
p1638
I1915376
sVlast_activity_date
p1639
I1260977768
sVcreation_date
p1640
I1260977768
sVscore
p1641
I60
sVowner
p1642
(dp1643
Vuser_id
p1644
I95810
sVprofile_image
p1645
Vhttps://www.gravatar.com/avatar/e8d5fe90f1fe2148bf130cccd4dc311c?s=128&d=identicon&r=PG
p1646
sVuser_type
p1647
Vregistered
p1648
sVreputation
p1649
I516089
sVlink
p1650
Vhttp://stackoverflow.com/users/95810/alex-martelli
p1651
sVaccept_rate
p1652
I80
sVdisplay_name
p1653
VAlex Martelli
p1654
ssVis_accepted
p1655
I01
sVanswer_id
p1656
I1915418
sa(dp1657
Vbody
p1658
V<p>git calculates hashes like this: </p>\u000a\u000a<pre><code>sha1("blob " + filesize + "\u005c0" + data)\u000a</code></pre>\u000a\u000a<p><a href="http://stackoverflow.com/questions/552659/assigning-git-sha1s-without-git">Reference</a></p>\u000a
p1659
sVquestion_id
p1660
I1869885
sVlast_activity_date
p1661
I1260307072
sVcreation_date
p1662
I1260307072
sVscore
p1663
I50
sVowner
p1664
(dp1665
Vuser_id
p1666
I3153
sVprofile_image
p1667
Vhttps://www.gravatar.com/avatar/47d8644c0ad8d89635fca422dd6d3ab5?s=128&d=identicon&r=PG
p1668
sVuser_type
p1669
Vregistered
p1670
sVreputation
p1671
I213096
sVlink
p1672
Vhttp://stackoverflow.com/users/3153/brian-r-bondy
p1673
sVaccept_rate
p1674
I99
sVdisplay_name
p1675
VBrian R. Bondy
p1676
ssVis_accepted
p1677
I01
sVanswer_id
p1678
I1869911
sa(dp1679
Vbody
p1680
V<p>Yes, you can do this by having a custom <code>Formatter</code> class:</p>\u000a\u000a<pre><code>class MyFormatter(logging.Formatter):\u000a    def format(self, record):\u000a        #compute s according to record.levelno\u000a        #for example, by setting self._fmt\u000a        #according to the levelno, then calling\u000a        #the superclass to do the actual formatting\u000a        return s\u000a</code></pre>\u000a\u000a<p>Then attach a <code>MyFormatter</code> instance to your handlers.</p>\u000a
p1681
sVquestion_id
p1682
I1343227
sVlast_activity_date
p1683
I1251400842
sVcreation_date
p1684
I1251400842
sVscore
p1685
I27
sVowner
p1686
(dp1687
Vuser_id
p1688
I118903
sVprofile_image
p1689
Vhttps://www.gravatar.com/avatar/7094252405dd3dd5f798b132834d39b2?s=128&d=identicon&r=PG
p1690
sVuser_type
p1691
Vregistered
p1692
sVreputation
p1693
I58523
sVlink
p1694
Vhttp://stackoverflow.com/users/118903/vinay-sajip
p1695
sVdisplay_name
p1696
VVinay Sajip
p1697
ssVis_accepted
p1698
I01
sVanswer_id
p1699
I1343273
sa(dp1700
Vbody
p1701
V<p>PyQt if you're developing anything serious, especially as things you learn will translate directly to working with Qt in other languages too if you ever need to, and Qt is probably the best cross-platform interface toolkit available right now.</p>\u000a\u000a<p>There are only two real (potential) disadvantages: PyQt is only available under the GPL (meaning your code also has to be available under a compatible license or under the terms of <a href="http://doc.trolltech.com/4.4/license-gpl-exceptions.html" rel="noreferrer">Nokia's GPL Exception</a> if you release it) or under a commercial license (which costs money). This is in contrast to Qt, which is now available under the LGPL. PyQt is also not included by default with Python installations--you're going to have to package the library yourself. (Ars Technica has a <a href="http://arstechnica.com/open-source/guides/2009/03/how-to-deploying-pyqt-applications-on-windows-and-mac-os-x.ars" rel="noreferrer">good article</a> on doing it for Windows and OS X.)</p>\u000a
p1702
sVquestion_id
p1703
I1094155
sVlast_activity_date
p1704
I1246997623
sVcreation_date
p1705
I1246995439
sVscore
p1706
I41
sVowner
p1707
(dp1708
Vuser_id
p1709
I131461
sVprofile_image
p1710
Vhttps://www.gravatar.com/avatar/ed54b3047fa97ceddf84b1606f021a2a?s=128&d=identicon&r=PG
p1711
sVuser_type
p1712
Vregistered
p1713
sVreputation
p1714
I2171
sVlink
p1715
Vhttp://stackoverflow.com/users/131461/sam-defabbia-kane
p1716
sVdisplay_name
p1717
VSam DeFabbia-Kane
p1718
ssVis_accepted
p1719
I01
sVlast_edit_date
p1720
I1246997623
sVanswer_id
p1721
I1094369
sa(dp1722
Vbody
p1723
V<p>If you have Python 2.4, you can use <a href="http://docs.python.org/library/subprocess.html" rel="noreferrer">the subprocess module</a>:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; import subprocess\u000a&gt;&gt;&gt; s = subprocess.Popen(['cowsay', 'hello'], \u005c\u000a      stderr=subprocess.STDOUT, stdout=subprocess.PIPE).communicate()[0]\u000a&gt;&gt;&gt; print s\u000a _______ \u000a&lt; hello &gt;\u000a ------- \u000a        \u005c   ^__^\u000a         \u005c  (oo)\u005c_______\u000a            (__)\u005c       )\u005c/\u005c\u000a                ||----w |\u000a                ||     ||\u000a</code></pre>\u000a
p1724
sVquestion_id
p1725
I699325
sVlast_activity_date
p1726
I1238453396
sVcreation_date
p1727
I1238453396
sVscore
p1728
I57
sVowner
p1729
(dp1730
Vuser_id
p1731
I84349
sVprofile_image
p1732
Vhttps://www.gravatar.com/avatar/b98a3bcf2c5a7a38b7596da957b05069?s=128&d=identicon&r=PG
p1733
sVuser_type
p1734
Vregistered
p1735
sVreputation
p1736
I3952
sVlink
p1737
Vhttp://stackoverflow.com/users/84349/manuel
p1738
sVaccept_rate
p1739
I72
sVdisplay_name
p1740
VManuel
p1741
ssVis_accepted
p1742
I01
sVanswer_id
p1743
I699365
sa(dp1744
Vbody
p1745
V<p>It seems that the easiest and most compatible way to get around this problem is to use the 'poster' module.</p>\u000a\u000a<pre><code># test_client.py\u000afrom poster.encode import multipart_encode\u000afrom poster.streaminghttp import register_openers\u000aimport urllib2\u000a\u000a# Register the streaming http handlers with urllib2\u000aregister_openers()\u000a\u000a# Start the multipart/form-data encoding of the file "DSC0001.jpg"\u000a# "image1" is the name of the parameter, which is normally set\u000a# via the "name" parameter of the HTML &lt;input&gt; tag.\u000a\u000a# headers contains the necessary Content-Type and Content-Length\u000a# datagen is a generator object that yields the encoded parameters\u000adatagen, headers = multipart_encode({"image1": open("DSC0001.jpg")})\u000a\u000a# Create the Request object\u000arequest = urllib2.Request("http://localhost:5000/upload_image", datagen, headers)\u000a# Actually do the request, and get the response\u000aprint urllib2.urlopen(request).read()\u000a</code></pre>\u000a\u000a<p>This worked perfect and I didn't have to muck with httplib. The module is available here:\u000a<a href="http://atlee.ca/software/poster/index.html" rel="noreferrer">http://atlee.ca/software/poster/index.html</a></p>\u000a
p1746
sVquestion_id
p1747
I680305
sVlast_activity_date
p1748
I1238117485
sVcreation_date
p1749
I1238117485
sVscore
p1750
I56
sVowner
p1751
(dp1752
Vuser_id
p1753
I72556
sVprofile_image
p1754
Vhttps://www.gravatar.com/avatar/d11b06c791f5538ded95ca7aef53329b?s=128&d=identicon&r=PG
p1755
sVuser_type
p1756
Vregistered
p1757
sVreputation
p1758
I1042
sVlink
p1759
Vhttp://stackoverflow.com/users/72556/dan
p1760
sVaccept_rate
p1761
I83
sVdisplay_name
p1762
VDan
p1763
ssVis_accepted
p1764
I01
sVanswer_id
p1765
I688193
sa(dp1766
Vbody
p1767
V<p>Add generic exception handler:</p>\u000a\u000a<pre><code>request = urllib2.Request('http://www.example.com', postBackData, { 'User-Agent' : 'My User Agent' })\u000a\u000atry: \u000a    response = urllib2.urlopen(request)\u000aexcept urllib2.HTTPError, e:\u000a    checksLogger.error('HTTPError = ' + str(e.code))\u000aexcept urllib2.URLError, e:\u000a    checksLogger.error('URLError = ' + str(e.reason))\u000aexcept httplib.HTTPException, e:\u000a    checksLogger.error('HTTPException')\u000aexcept Exception:\u000a    import traceback\u000a    checksLogger.error('generic exception: ' + traceback.format_exc())\u000a</code></pre>\u000a
p1768
sVquestion_id
p1769
I666022
sVlast_activity_date
p1770
I1237554765
sVcreation_date
p1771
I1237554765
sVscore
p1772
I41
sVowner
p1773
(dp1774
Vuser_id
p1775
I60711
sVprofile_image
p1776
Vhttps://www.gravatar.com/avatar/0b4fa970be41e2286c39f5b0167e6d9d?s=128&d=identicon&r=PG
p1777
sVuser_type
p1778
Vregistered
p1779
sVreputation
p1780
I80752
sVlink
p1781
Vhttp://stackoverflow.com/users/60711/vartec
p1782
sVaccept_rate
p1783
I82
sVdisplay_name
p1784
Vvartec
p1785
ssVis_accepted
p1786
I01
sVanswer_id
p1787
I666075
sa(dp1788
Vbody
p1789
V<p>I typically don't use or find a need for class-level loggers, but I keep my modules at a few classes at most. A simple:</p>\u000a\u000a<pre><code>import logging\u000aLOG = logging.getLogger(__name__)\u000a</code></pre>\u000a\u000a<p>At the top of the module and subsequent:</p>\u000a\u000a<pre><code>LOG.info('Spam and eggs are tasty!')\u000a</code></pre>\u000a\u000a<p>from anywhere in the file typically gets me to where I want to be. This avoids the need for <code>self.log</code> all over the place, which tends to bother me from both a put-it-in-every-class perspective and makes me 5 characters closer to 79 character lines that fit.</p>\u000a\u000a<p>You could always use a pseudo-class-decorator:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; import logging\u000a&gt;&gt;&gt; class Foo(object):\u000a...     def __init__(self):\u000a...             self.log.info('Meh')\u000a... \u000a&gt;&gt;&gt; def logged_class(cls):\u000a...     cls.log = logging.getLogger('{0}.{1}'.format(__name__, cls.__name__))\u000a... \u000a&gt;&gt;&gt; logged_class(Foo)\u000a&gt;&gt;&gt; logging.basicConfig(level=logging.DEBUG)\u000a&gt;&gt;&gt; f = Foo()\u000aINFO:__main__.Foo:Meh\u000a</code></pre>\u000a
p1790
sVquestion_id
p1791
I401277
sVlast_activity_date
p1792
I1230708700
sVcreation_date
p1793
I1230708700
sVscore
p1794
I64
sVowner
p1795
(dp1796
Vuser_id
p1797
I3594
sVprofile_image
p1798
Vhttps://www.gravatar.com/avatar/5928057c2aff65b162eb34d5cc3797fa?s=128&d=identicon&r=PG
p1799
sVuser_type
p1800
Vregistered
p1801
sVreputation
p1802
I29354
sVlink
p1803
Vhttp://stackoverflow.com/users/3594/cdleary
p1804
sVaccept_rate
p1805
I95
sVdisplay_name
p1806
Vcdleary
p1807
ssVis_accepted
p1808
I01
sVanswer_id
p1809
I402471
sa(dp1810
Vbody
p1811
V<p>Create an <code>__init__.py</code> file in your projects folder, and it will be treated like a module by Python.</p>\u000a\u000a<p>Classes in your package directory can then be imported using syntax like:</p>\u000a\u000a<pre><code>from package import class\u000aimport package.class\u000a</code></pre>\u000a\u000a<p>Within <code>__init__.py</code>, you may create an <code>__all__</code> array that defines <code>from package import *</code> behavior:</p>\u000a\u000a<pre><code># name1 and name2 will be available in calling module's namespace \u000a# when using "from package import *" syntax\u000a__all__ = ['name1', 'name2'] \u000a</code></pre>\u000a\u000a<p>And here is <a href="http://www.python.org/doc/essays/packages.html" rel="noreferrer">way more information than you even want to know about packages in Python</a></p>\u000a\u000a<p>Generally speaking, a good way to learn about how to organize a lot of code is to pick a popular Python package and see how they did it.  I'd check out <a href="http://www.djangoproject.com/" rel="noreferrer">Django</a> and <a href="http://twistedmatrix.com/trac/" rel="noreferrer">Twisted</a>, for starters.</p>\u000a
p1812
sVquestion_id
p1813
I391879
sVlast_activity_date
p1814
I1230142188
sVcreation_date
p1815
I1230139900
sVscore
p1816
I30
sVowner
p1817
(dp1818
Vuser_id
p1819
I43089
sVprofile_image
p1820
Vhttps://www.gravatar.com/avatar/cbdcba7870660c048cf9d6db74a3ef29?s=128&d=identicon&r=PG
p1821
sVuser_type
p1822
Vregistered
p1823
sVreputation
p1824
I124007
sVlink
p1825
Vhttp://stackoverflow.com/users/43089/triptych
p1826
sVaccept_rate
p1827
I57
sVdisplay_name
p1828
VTriptych
p1829
ssVis_accepted
p1830
I01
sVlast_edit_date
p1831
I1230142188
sVanswer_id
p1832
I391899
sa(dp1833
Vbody
p1834
V<pre><code>def myFunc(working_list=None):\u000a    if working_list is None: \u000a        working_list = []\u000a    working_list.append("a")\u000a    print working_list\u000a</code></pre>\u000a\u000a<p>is how I do it.</p>\u000a
p1835
sVquestion_id
p1836
I366422
sVlast_activity_date
p1837
I1229258888
sVcreation_date
p1838
I1229254050
sVscore
p1839
I72
sVowner
p1840
(dp1841
Vuser_id
p1842
I2827
sVprofile_image
p1843
Vhttps://www.gravatar.com/avatar/25bc77390deb15bc33773d523c33e2cf?s=128&d=identicon&r=PG
p1844
sVuser_type
p1845
Vregistered
p1846
sVreputation
p1847
I4489
sVlink
p1848
Vhttp://stackoverflow.com/users/2827/henryr
p1849
sVaccept_rate
p1850
I80
sVdisplay_name
p1851
VHenryR
p1852
ssVis_accepted
p1853
I01
sVlast_edit_date
p1854
I1229258888
sVanswer_id
p1855
I366430
sa(dp1856
Vbody
p1857
V<p>I think the canonical answer is: "Don't".</p>\u000a\u000a<p>What you should probably do instead is unravel the thing in your <em>view</em> code, so it's just a matter of iterating over (in|de)dents in the template. I think I'd do it by appending indents and dedents to a list while recursing through the tree and then sending that "travelogue" list to the template. (the template would then insert <code>&lt;li&gt;</code> and <code>&lt;/li&gt;</code> from that list, creating the recursive structure with "understanding" it.)</p>\u000a\u000a<p>I'm also pretty sure recursively including template files is really a <em>wrong</em> way to do it...</p>\u000a
p1858
sVquestion_id
p1859
I32044
sVlast_activity_date
p1860
I1219927649
sVcreation_date
p1861
I1219927649
sVscore
p1862
I24
sVowner
p1863
(dp1864
Vuser_id
p1865
I1421
sVprofile_image
p1866
Vhttps://www.gravatar.com/avatar/88f777523e3731cf4e28a0f5b7dfe44e?s=128&d=identicon&r=PG
p1867
sVuser_type
p1868
Vregistered
p1869
sVreputation
p1870
I3608
sVlink
p1871
Vhttp://stackoverflow.com/users/1421/anders-eurenius
p1872
sVdisplay_name
p1873
VAnders Eurenius
p1874
ssVis_accepted
p1875
I01
sVanswer_id
p1876
I32125
sasVquota_max
p1877
I300
sVquota_remaining
p1878
I137
s.