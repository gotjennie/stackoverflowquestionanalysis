(dp0
Vhas_more
p1
I00
sVitems
p2
(lp3
(dp4
Vbody
p5
V<p>In pymongo you can update with:<br>\u000a<code>mycollection.update({'_id':mongo_id}, {"$set": post}, upsert=False)</code><br>\u000aUpsert parameter will insert instead of updating if the post is not found in the database.<br>\u000aDocumentation is available at <a href="http://www.mongodb.org/display/DOCS/Updating" rel="nofollow noreferrer">mongodb site</a>.</p>\u000a\u000a<p><strong>UPDATE</strong> For version > 3 use <em>update_one</em> instead of <em>update</em>:</p>\u000a\u000a<p><code>mycollection.update_one({'_id':mongo_id}, {"$set": post}, upsert=False)</code></p>\u000a
p6
sVquestion_id
p7
I4372797
sVlast_activity_date
p8
I1495203570
sVcreation_date
p9
I1291707159
sVscore
p10
I60
sVowner
p11
(dp12
Vuser_id
p13
I319719
sVprofile_image
p14
Vhttps://www.gravatar.com/avatar/0f0ce960e87365e188c20d6801c18707?s=128&d=identicon&r=PG
p15
sVuser_type
p16
Vregistered
p17
sVreputation
p18
I1779
sVlink
p19
Vhttp://stackoverflow.com/users/319719/allait
p20
sVdisplay_name
p21
Vallait
p22
ssVis_accepted
p23
I01
sVlast_edit_date
p24
I1495203570
sVanswer_id
p25
I4374288
sa(dp26
Vbody
p27
V<p>RHS first and then LHS. And at any side, the evaluation order is left to right.</p>\u000a\u000a<p><code>a[-1] += a.pop()</code> is same as, <code>a[-1] = a[-1] + a.pop()</code></p>\u000a\u000a<pre><code>a = [1,2,3]\u000aa[-1] = a[-1] + a.pop() # a = [1, 6]\u000a</code></pre>\u000a\u000a<p>See how the behavior changes when we change the order of the operations at RHS,</p>\u000a\u000a<pre><code>a = [1,2,3]\u000aa[-1] = a.pop() + a[-1] # a = [1, 5]\u000a</code></pre>\u000a
p28
sVquestion_id
p29
I42761707
sVlast_activity_date
p30
I1489412096
sVcreation_date
p31
I1489402927
sVscore
p32
I38
sVowner
p33
(dp34
Vuser_id
p35
I2231905
sVprofile_image
p36
Vhttps://www.gravatar.com/avatar/0d4a1b6ef81bd93c9dd8896880995b77?s=128&d=identicon&r=PG
p37
sVuser_type
p38
Vregistered
p39
sVreputation
p40
I3311
sVlink
p41
Vhttp://stackoverflow.com/users/2231905/fallen
p42
sVaccept_rate
p43
I44
sVdisplay_name
p44
VFallen
p45
ssVis_accepted
p46
I01
sVlast_edit_date
p47
I1489412096
sVanswer_id
p48
I42762005
sa(dp49
Vbody
p50
V<p>After reading their INSTALLATION file, I was able to solve my problem by setting an environment variable and did a reinstall</p>\u000a\u000a<ul>\u000a<li><p>remove existing <code>pycurl</code> installation </p>\u000a\u000a<p><code>pip uninstall pycurl</code></p></li>\u000a<li><p>export variable with your link-time ssl backend (which is openssl above)</p>\u000a\u000a<p><code>export PYCURL_SSL_LIBRARY=openssl</code></p></li>\u000a<li><p>then, re-install <code>pycurl</code></p>\u000a\u000a<p><code>pip install pycurl</code></p></li>\u000a</ul>\u000a\u000a<p>There could be other solution out there but this works perfectly for me on a <code>virtualenv</code> and <code>pip</code> installation.</p>\u000a
p51
sVquestion_id
p52
I21096436
sVlast_activity_date
p53
I1482932064
sVcreation_date
p54
I1389639673
sVscore
p55
I50
sVowner
p56
(dp57
Vuser_id
p58
I2192691
sVprofile_image
p59
Vhttps://www.gravatar.com/avatar/b288bbe278bf87e1ff81a5616107905d?s=128&d=identicon&r=PG
p60
sVuser_type
p61
Vregistered
p62
sVreputation
p63
I903
sVlink
p64
Vhttp://stackoverflow.com/users/2192691/helloworld2013
p65
sVaccept_rate
p66
I71
sVdisplay_name
p67
Vhelloworld2013
p68
ssVis_accepted
p69
I01
sVlast_edit_date
p70
I1482932064
sVanswer_id
p71
I21099222
sa(dp72
Vbody
p73
V<p>Use <code>dict.get()</code> which will return the value associated with the given key if it exists otherwise <code>None</code>. (Note that <code>''</code> and <code>None</code> are both falsey values.) If <code>s</code> is true then assign it to <code>nObject.TextString</code> otherwise give it a value of <code>"N/A"</code>.</p>\u000a\u000a<pre><code>if nObject.TextString == "overall_weight":\u000a    nObject.TextString = self.var.jobDetails.get("Overall Weight") or "N/A"\u000a</code></pre>\u000a
p74
sVquestion_id
p75
I39903242
sVlast_activity_date
p76
I1475779703
sVcreation_date
p77
I1475779536
sVscore
p78
I65
sVowner
p79
(dp80
Vuser_id
p81
I3155933
sVprofile_image
p82
Vhttps://i.stack.imgur.com/ik7je.jpg?s=128&g=1
p83
sVuser_type
p84
Vregistered
p85
sVreputation
p86
I3989
sVlink
p87
Vhttp://stackoverflow.com/users/3155933/pzp
p88
sVaccept_rate
p89
I67
sVdisplay_name
p90
Vpzp
p91
ssVis_accepted
p92
I01
sVlast_edit_date
p93
I1475779703
sVanswer_id
p94
I39903519
sa(dp95
Vbody
p96
V<p><code>8.833333333339</code> (or <code>8.833333333333334</code>, the result of <code>106.00/12</code>) properly rounded to two decimal places is <code>8.83</code>. Mathematically it sounds like what you want is a <a href="http://en.wikipedia.org/wiki/Floor_and_ceiling_functions" rel="noreferrer">ceiling function</a>. The one in Python's <code>math</code> module is named <a href="http://docs.python.org/library/math.html?highlight=ceil#math.ceil" rel="noreferrer"><code>ceil</code></a>:</p>\u000a\u000a<pre><code>import math\u000a\u000av = 8.8333333333333339\u000aprint(math.ceil(v*100)/100)  # -&gt; 8.84\u000a</code></pre>\u000a\u000a<p>Respectively, the floor and ceiling functions generally map a real number to the largest previous or smallest following integer which has zero decimal places \u2014 so to use them for 2 decimal places the number is first multiplied by 10<sup>2</sup> (or 100) to shift the decimal point and is then divided by it afterwards to compensate.</p>\u000a\u000a<p>If you don't want to use the <code>math</code> module for some reason, you can use this (minimally tested) implementation I just wrote:</p>\u000a\u000a<pre><code>def ceiling(x):\u000a    n = int(x)\u000a    return n if n-1 &lt; x &lt;= n else n+1\u000a</code></pre>\u000a\u000a<h3><em>How this applies to the linked <a href="http://openbookproject.net/pybiblio/practice/wilson/loan.php" rel="noreferrer">loan and payment calculator problem</a></em></h3>\u000a\u000a<p><a href="https://i.stack.imgur.com/5AuhV.png" rel="noreferrer"><img src="https://i.stack.imgur.com/5AuhV.png" alt="screenshot of loan calculator output"></a></p>\u000a\u000a<p>From the sample output it appears that they <strong><em>rounded up</em></strong> the monthly payment, which is what some call the effect of the ceiling function. This means that each month a little more than <sup>1</sup>&frasl;<sub>12</sub> of the total amount is being paid. That made the final payment a little smaller than usual \u2014 leaving a remaining unpaid balance of only <code>8.76</code>.</p>\u000a\u000a<p>It would have been equally valid to use normal rounding producing a monthly payment of <code>8.83</code> and a slightly higher final payment of <code>8.87</code>. However, in the real world people generally don't like to have their payments go up, so rounding up each payment is the common practice \u2014 it also returns the money to the lender more quickly.</p>\u000a
p97
sVquestion_id
p98
I4518641
sVlast_activity_date
p99
I1472056250
sVcreation_date
p100
I1293110033
sVscore
p101
I65
sVowner
p102
(dp103
Vuser_id
p104
I355230
sVprofile_image
p105
Vhttps://i.stack.imgur.com/VjcbL.jpg?s=128&g=1
p106
sVuser_type
p107
Vregistered
p108
sVreputation
p109
I46990
sVlink
p110
Vhttp://stackoverflow.com/users/355230/martineau
p111
sVaccept_rate
p112
I100
sVdisplay_name
p113
Vmartineau
p114
ssVis_accepted
p115
I01
sVlast_edit_date
p116
I1472056250
sVanswer_id
p117
I4519044
sa(dp118
Vbody
p119
V<p>That's the way it was designed - and it makes sense because usually, you would call <code>bytes</code> on an iterable instead of a single integer:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; bytes([3])\u000ab'\u005cx03'\u000a</code></pre>\u000a\u000a<p>The <a href="http://docs.python.org/3.3/library/stdtypes.html#binaryseq">docs state this</a>, as well as the docstring for <code>bytes</code>:</p>\u000a\u000a<pre><code> &gt;&gt;&gt; help(bytes)\u000a ...\u000a bytes(int) -&gt; bytes object of size given by the parameter initialized with null bytes\u000a</code></pre>\u000a
p120
sVquestion_id
p121
I21017698
sVlast_activity_date
p122
I1471446287
sVcreation_date
p123
I1389263858
sVscore
p124
I54
sVowner
p125
(dp126
Vuser_id
p127
I20670
sVprofile_image
p128
Vhttps://www.gravatar.com/avatar/251f2449ffba9fbcc3491db6564ff4a2?s=128&d=identicon&r=PG
p129
sVuser_type
p130
Vregistered
p131
sVreputation
p132
I209304
sVlink
p133
Vhttp://stackoverflow.com/users/20670/tim-pietzcker
p134
sVaccept_rate
p135
I100
sVdisplay_name
p136
VTim Pietzcker
p137
ssVis_accepted
p138
I01
sVlast_edit_date
p139
I1471446287
sVanswer_id
p140
I21017834
sa(dp141
Vbody
p142
V<p>Use PIL's <code>resize</code> method manually:</p>\u000a\u000a<pre><code>image = image.resize((x, y), Image.ANTIALIAS)  # LANCZOS as of Pillow 2.7\u000a</code></pre>\u000a\u000a<p>Followed by the save method</p>\u000a\u000a<pre><code>quality_val = 90\u000aimage.save(filename, 'JPEG', quality=quality_val)\u000a</code></pre>\u000a\u000a<p>Take a look at the source for <a href="http://code.google.com/p/django-photologue/source/browse/trunk/photologue/models.py" rel="noreferrer"><code>models.py</code></a> from Photologue to see how they do it.</p>\u000a
p143
sVquestion_id
p144
I1405602
sVlast_activity_date
p145
I1470345733
sVcreation_date
p146
I1252593699
sVscore
p147
I60
sVowner
p148
(dp149
Vuser_id
p150
I20972
sVprofile_image
p151
Vhttps://www.gravatar.com/avatar/dcce4266f0c054991bf5dbd29794c743?s=128&d=identicon&r=PG
p152
sVuser_type
p153
Vregistered
p154
sVreputation
p155
I65520
sVlink
p156
Vhttp://stackoverflow.com/users/20972/dominic-rodger
p157
sVaccept_rate
p158
I86
sVdisplay_name
p159
VDominic Rodger
p160
ssVis_accepted
p161
I01
sVlast_edit_date
p162
I1470345733
sVanswer_id
p163
I1405701
sa(dp164
Vbody
p165
V<p><a href="http://meta.wikimedia.org/wiki/Bot_policy#Unacceptable_usage" rel="noreferrer">Wikipedias stance is</a>:</p>\u000a\u000a<blockquote>\u000a  <p>Data retrieval: Bots may not be used\u000a  to retrieve bulk content for any use\u000a  not directly related to an approved\u000a  bot task. This includes dynamically\u000a  loading pages from another website,\u000a  which may result in the website being\u000a  blacklisted and permanently denied\u000a  access. If you would like to download\u000a  bulk content or mirror a project,\u000a  please do so by downloading or hosting\u000a  your own copy of our database.</p>\u000a</blockquote>\u000a\u000a<p>That is why Python is blocked. You're supposed to <a href="http://download.wikimedia.org/" rel="noreferrer">download data dumps</a>.</p>\u000a\u000a<p>Anyways, you can read pages like this in Python 2:</p>\u000a\u000a<pre><code>req = urllib2.Request(url, headers={'User-Agent' : "Magic Browser"}) \u000acon = urllib2.urlopen( req )\u000aprint con.read()\u000a</code></pre>\u000a\u000a<p>Or in Python 3:</p>\u000a\u000a<pre><code>import urllib\u000areq = urllib.request.Request(url, headers={'User-Agent' : "Magic Browser"}) \u000acon = urllib.request.urlopen( req )\u000aprint con.read()\u000a</code></pre>\u000a
p166
sVquestion_id
p167
I3336549
sVlast_activity_date
p168
I1469290599
sVcreation_date
p169
I1280160959
sVscore
p170
I90
sVowner
p171
(dp172
Vuser_id
p173
I95612
sVprofile_image
p174
Vhttps://www.gravatar.com/avatar/e2166d0ea599ad4b0c57054b55f0600f?s=128&d=identicon&r=PG
p175
sVuser_type
p176
Vregistered
p177
sVreputation
p178
I63439
sVlink
p179
Vhttp://stackoverflow.com/users/95612/jochen-ritzel
p180
sVaccept_rate
p181
I80
sVdisplay_name
p182
VJochen Ritzel
p183
ssVis_accepted
p184
I01
sVlast_edit_date
p185
I1469290599
sVanswer_id
p186
I3336735
sa(dp187
Vbody
p188
V<p>I guess the main reason for <code>assert</code> not being used more often is that <strong>nobody uses Python's "optimized" mode</strong>.</p>\u000a\u000a<p>Asserts are a great tool to detect programming mistakes, to guard yourself from unexpected situations, but all this error checking comes with a cost.  In compiled languages such as C/C++, this does not really matter, since asserts are only enabled in debug builds, and completely removed from release builds.</p>\u000a\u000a<p>In Python, on the other hand, there is no strict distinction between <em>debug</em> and <em>release</em> mode.  The interpreter features an "optimization flag" (<code>-O</code>), but currently this does not actually optimize the byte code, but only removes asserts.</p>\u000a\u000a<p>Therefore, most Python users just ignore the <code>-O</code> flag and run their scripts in "normal mode", which is <em>kind of</em> the debug mode since asserts are enabled and <code>__debug__</code> is <code>True</code>, but is considered "production ready".</p>\u000a\u000a<p>Maybe it would be wiser to switch the logic, i.e., "optimize" by default and only enable asserts in an explicit debug mode(*), but I guess this would confuse a lot of users and I doubt we will ever see such a change.</p>\u000a\u000a<p>((*) This is for example how the Java VM does it, by featuring a <code>-ea</code> (enable assertions) switch.)</p>\u000a
p189
sVquestion_id
p190
I9097706
sVlast_activity_date
p191
I1462918842
sVcreation_date
p192
I1328287187
sVscore
p193
I42
sVowner
p194
(dp195
Vuser_id
p196
I34855
sVprofile_image
p197
Vhttps://www.gravatar.com/avatar/5a1bd79c7364ca280ec9016ffbe41d65?s=128&d=identicon&r=PG
p198
sVuser_type
p199
Vregistered
p200
sVreputation
p201
I40386
sVlink
p202
Vhttp://stackoverflow.com/users/34855/ferdinand-beyer
p203
sVdisplay_name
p204
VFerdinand Beyer
p205
ssVis_accepted
p206
I01
sVlast_edit_date
p207
I1462918842
sVanswer_id
p208
I9132116
sa(dp209
Vbody
p210
V<p><strong>What is a naïve <code>datetime</code>?</strong></p>\u000a\u000a<p>Default <code>datetime</code> objects are said to be "naïve": they keep time information without the time zone information. Think about naïve <code>datetime</code> as a relative number (ie: <code>+4</code>) without a clear origin (in fact your origin will be common throughout your system boundary). Think about aware <code>datetime</code> as absolute numbers (ie: <code>8</code>) with a common origin for the whole world.</p>\u000a\u000a<p>Without timezone information <strong>you cannot</strong> convert the "naive" datetime towards any non-naive time representation (where does <code>+4</code> targets if we don't know from where to start ?). This is why you can't have a <code>datetime.datetime.toutctimestamp()</code> method. (cf: <a href="http://bugs.python.org/issue1457227" rel="noreferrer">http://bugs.python.org/issue1457227</a>)</p>\u000a\u000a<p>To check if your <code>datetime</code> <code>dt</code> is naïve, check <code>dt.tzinfo</code>, if <code>None</code>, then it's naïve:</p>\u000a\u000a<pre><code>datetime.now()        ## DANGER: returns naïve datetime pointing on local time\u000adatetime(1970, 1, 1)  ## returns naïve datetime pointing on user given time\u000a</code></pre>\u000a\u000a<p><strong>I have naïve datetimes, what can I do ?</strong></p>\u000a\u000a<p>You must make an assumption depending on your particular context:\u000aThe question you must ask yourself is: was your <code>datetime</code> on UTC ? or was it local time ?</p>\u000a\u000a<ul>\u000a<li><p><strong>If you were using UTC</strong> (you are out of trouble):</p>\u000a\u000a<pre><code>import calendar\u000a\u000adef dt2ts(dt):\u000a    """Converts a datetime object to UTC timestamp\u000a\u000a    naive datetime will be considered UTC.\u000a\u000a    """\u000a\u000a    return calendar.timegm(dt.utctimetuple())\u000a</code></pre></li>\u000a<li><p><strong>If you were NOT using UTC</strong>, welcome to hell.</p>\u000a\u000a<p>You have to make your <code>datetime</code> non-naïve prior to using the former\u000afunction, by giving them back their intended timezone.</p>\u000a\u000a<p>You'll need <strong>the name of the timezone</strong> and <strong>the information about\u000aif DST was in effect</strong> when producing the target naïve datetime (the\u000alast info about DST is required for cornercases):</p>\u000a\u000a<pre><code>import pytz     ## pip install pytz\u000a\u000amytz = pytz.timezone('Europe/Amsterdam')             ## Set your timezone\u000a\u000adt = mytz.normalize(mytz.localize(dt, is_dst=True))  ## Set is_dst accordingly\u000a</code></pre>\u000a\u000a<p><strong>Consequences of not providing <code>is_dst</code></strong>:</p>\u000a\u000a<p>Not using <code>is_dst</code> will generate incorrect time (and UTC timestamp)\u000aif target datetime was produced while a backward DST was put in place\u000a(for instance changing DST time by removing one hour).</p>\u000a\u000a<p>Providing incorrect <code>is_dst</code> will of course generate incorrect\u000atime (and UTC timestamp) only on DST overlap or holes. And, when \u000aproviding \u000aalso incorrect time, occuring in "holes" (time that never existed due\u000ato forward shifting DST), <code>is_dst</code> will give an interpretation of \u000ahow to consider this bogus time, and this is the only case where \u000a<code>.normalize(..)</code> will actually do something here, as it'll then \u000atranslate it as an actual valid time (changing the datetime AND the \u000aDST object if required). Note that <code>.normalize()</code> is not required \u000afor having a correct UTC timestamp at the end, but is probably \u000arecommended if you dislike the idea of having bogus times in your \u000avariables, especially if you re-use this variable elsewhere.</p>\u000a\u000a<p>and <strong>AVOID USING THE FOLLOWING</strong>: (cf: <a href="http://stackoverflow.com/q/27531718/4279">Datetime Timezone conversion using pytz</a>)</p>\u000a\u000a<pre><code>dt = dt.replace(tzinfo=timezone('Europe/Amsterdam'))  ## BAD !!\u000a</code></pre>\u000a\u000a<p>Why? because <code>.replace()</code> replaces blindly the <code>tzinfo</code> without \u000ataking into account the target time and will choose a bad DST object. \u000aWhereas <code>.localize()</code> uses the target time and your <code>is_dst</code> hint\u000ato select the right DST object.</p></li>\u000a</ul>\u000a\u000a<p><strong>OLD incorrect answer</strong> (thanks @J.F.Sebastien for bringing this up):</p>\u000a\u000a<p>Hopefully, it is quite easy to guess the timezone (your local origin) when you create your naive <code>datetime</code> object as it is related to the system configuration that you would hopefully NOT change between the naive datetime object creation and the moment when you want to get the UTC timestamp. This trick can be used to give an <strong>imperfect</strong> question.</p>\u000a\u000a<p>By using <code>time.mktime</code> we can create an <code>utc_mktime</code>:</p>\u000a\u000a<pre><code>def utc_mktime(utc_tuple):\u000a    """Returns number of seconds elapsed since epoch\u000a\u000a    Note that no timezone are taken into consideration.\u000a\u000a    utc tuple must be: (year, month, day, hour, minute, second)\u000a\u000a    """\u000a\u000a    if len(utc_tuple) == 6:\u000a        utc_tuple += (0, 0, 0)\u000a    return time.mktime(utc_tuple) - time.mktime((1970, 1, 1, 0, 0, 0, 0, 0, 0))\u000a\u000adef datetime_to_timestamp(dt):\u000a    """Converts a datetime object to UTC timestamp"""\u000a\u000a    return int(utc_mktime(dt.timetuple()))\u000a</code></pre>\u000a\u000a<p>You must make sure that your <code>datetime</code> object is created on the same timezone than the one that has created your <code>datetime</code>.</p>\u000a\u000a<p><em>This last solution is incorrect because it makes the assumption that the UTC offset from now is the same than the UTC offset from EPOCH.</em> Which is not the case for a lot of timezones (in specific moment of the year for the Daylight Saving Time (DST) offsets).</p>\u000a
p211
sVquestion_id
p212
I5067218
sVlast_activity_date
p213
I1456895856
sVcreation_date
p214
I1301574798
sVscore
p215
I35
sVowner
p216
(dp217
Vuser_id
p218
I458681
sVprofile_image
p219
Vhttps://www.gravatar.com/avatar/18413d7669e99e9b4b9f930e4a62c1fe?s=128&d=identicon&r=PG
p220
sVuser_type
p221
Vregistered
p222
sVreputation
p223
I3959
sVlink
p224
Vhttp://stackoverflow.com/users/458681/vaab
p225
sVaccept_rate
p226
I46
sVdisplay_name
p227
Vvaab
p228
ssVis_accepted
p229
I01
sVlast_edit_date
p230
I1456895856
sVanswer_id
p231
I5499906
sa(dp232
Vbody
p233
V<p>I looks to me as if you do not need any DOM capabilities from your program. I would second the use of the (c)ElementTree library. If you use the iterparse function of the cElementTree module, you can work your way through the xml and deal with the events as they occur. </p>\u000a\u000a<p>Note however, Fredriks advice on using cElementTree <a href="http://effbot.org/zone/element-iterparse.htm" rel="noreferrer">iterparse function</a>:</p>\u000a\u000a<blockquote>\u000a  <p>to parse large files, you can get rid of elements as soon as you\u2019ve processed them:</p>\u000a</blockquote>\u000a\u000a<pre><code>for event, elem in iterparse(source):\u000a    if elem.tag == "record":\u000a        ... process record elements ...\u000a        elem.clear()\u000a</code></pre>\u000a\u000a<blockquote>\u000a  <p>The above pattern has one drawback; it does not clear the root element, so you will end up with a single element with lots of empty child elements. If your files are huge, rather than just large, this might be a problem. To work around this, you need to get your hands on the root element. The easiest way to do this is to enable start events, and save a reference to the first element in a variable:</p>\u000a</blockquote>\u000a\u000a<pre><code># get an iterable\u000acontext = iterparse(source, events=("start", "end"))\u000a\u000a# turn it into an iterator\u000acontext = iter(context)\u000a\u000a# get the root element\u000aevent, root = context.next()\u000a\u000afor event, elem in context:\u000a    if event == "end" and elem.tag == "record":\u000a        ... process record elements ...\u000a        root.clear()\u000a</code></pre>\u000a\u000a<p>The <a href="http://codespeak.net/lxml/FAQ.html#why-can-t-i-just-delete-parents-or-clear-the-root-node-in-iterparse" rel="noreferrer">lxml.iterparse()</a> does not allow this.</p>\u000a
p234
sVquestion_id
p235
I324214
sVlast_activity_date
p236
I1450385673
sVcreation_date
p237
I1227902582
sVscore
p238
I43
sVowner
p239
(dp240
Vuser_id
p241
I1448983
sVprofile_image
p242
Vhttps://www.gravatar.com/avatar/c77e00209cd87ff20cfe06a0c5434788?s=128&d=identicon&r=PG
p243
sVuser_type
p244
Vregistered
p245
sVreputation
p246
I4267
sVlink
p247
Vhttp://stackoverflow.com/users/1448983/steen
p248
sVaccept_rate
p249
I100
sVdisplay_name
p250
VSteen
p251
ssVis_accepted
p252
I01
sVlast_edit_date
p253
I1450385673
sVanswer_id
p254
I326541
sa(dp255
Vbody
p256
V<p>I think there is a lot of confusion about which weights are used for what. I am not sure I know precisely what bothers you so I am going to cover different topics, bear with me ;).</p>\u000a\u000a<h2>Class weights</h2>\u000a\u000a<p>The weights from the <code>class_weight</code> parameter are used to <strong>train the classifier</strong>.\u000aThey <strong>are not used in the calculation of any of the metrics you are using</strong>: with different class weights, the numbers will be different simply because the classifier is different.</p>\u000a\u000a<p>Basically in every scikit-learn classifier, the class weights are used to tell your model how important a class is. That means that during the training, the classifier will make extra efforts to classify properly the classes with high weights.<br>\u000aHow they do that is algorithm-specific. If you want details about how it works for SVC and the doc does not make sense to you, feel free to mention it.</p>\u000a\u000a<h2>The metrics</h2>\u000a\u000a<p>Once you have a classifier, you want to know how well it is performing. \u000aHere you can use the metrics you mentioned: <code>accuracy</code>, <code>recall_score</code>, <code>f1_score</code>...</p>\u000a\u000a<p>Usually when the class distribution is unbalanced, accuracy is considered a poor choice as it gives high scores to models which just predict the most frequent class. </p>\u000a\u000a<p>I will not detail all these metrics but note that, with the exception of <code>accuracy</code>, they are naturally applied at the class level: as you can see in this <code>print</code> of a classification report they are defined for each class. They rely on concepts such as <code>true positives</code> or <code>false negative</code> that require defining which class is the <em>positive</em> one.</p>\u000a\u000a<pre><code>             precision    recall  f1-score   support\u000a\u000a          0       0.65      1.00      0.79        17\u000a          1       0.57      0.75      0.65        16\u000a          2       0.33      0.06      0.10        17\u000aavg / total       0.52      0.60      0.51        50\u000a</code></pre>\u000a\u000a<h2>The warning</h2>\u000a\u000a<pre><code>F1 score:/usr/local/lib/python2.7/site-packages/sklearn/metrics/classification.py:676: DeprecationWarning: The \u000adefault `weighted` averaging is deprecated, and from version 0.18, \u000ause of precision, recall or F-score with multiclass or multilabel data  \u000aor pos_label=None will result in an exception. Please set an explicit \u000avalue for `average`, one of (None, 'micro', 'macro', 'weighted', \u000a'samples'). In cross validation use, for instance, \u000ascoring="f1_weighted" instead of scoring="f1".\u000a</code></pre>\u000a\u000a<p>You get this warning because you are using the f1-score, recall and precision without defining how they should be computed!\u000aThe question could be rephrased: from the above classification report, how do you output <strong>one</strong> global number for the f1-score?\u000aYou could:</p>\u000a\u000a<ol>\u000a<li>Take the average of the f1-score for each class: that's the <code>avg / total</code> result above. It's also called <em>macro</em> averaging.</li>\u000a<li>Compute the f1-score using the global count of true positives / false negatives, etc. (you sum the number of true positives / false negatives for each class). Aka <em>micro</em> averaging.</li>\u000a<li>Compute a weighted average of the f1-score. Using <code>'weighted'</code> in scikit-learn will weigh the f1-score by the support of the class: the more elements a class has, the more important the f1-score for this class in the computation.</li>\u000a</ol>\u000a\u000a<p>These are 3 of the options in scikit-learn, the warning is there to say you <strong>have to pick one</strong>. So you have to specify an <code>average</code> argument for the score method.  </p>\u000a\u000a<p>Which one you choose is up to how you want to measure the performance of the classifier: for instance macro-averaging does not take class imbalance into account and the f1-score of class 1 will be just as important as the f1-score of class 5. If you use weighted averaging however you'll get more importance for the class 5.</p>\u000a\u000a<p>The whole argument specification in these metrics is not super-clear in scikit-learn right now, it will get better in version 0.18 according to the docs. They are removing some non-obvious standard behavior and they are issuing warnings so that developers notice it.</p>\u000a\u000a<h2>Computing scores</h2>\u000a\u000a<p>Last thing I want to mention (feel free to skip it if you're aware of it) is that scores are only meaningful if they are computed on data that the classifier <strong>has never seen</strong>. \u000aThis is extremely important as any score you get on data that was used in fitting the classifier is completely irrelevant.</p>\u000a\u000a<p>Here's a way to do it using <code>StratifiedShuffleSplit</code>, which gives you a random splits of your data (after shuffling) that preserve the label distribution.</p>\u000a\u000a<pre><code>from sklearn.datasets import make_classification\u000afrom sklearn.cross_validation import StratifiedShuffleSplit\u000afrom sklearn.metrics import accuracy_score, f1_score, precision_score, recall_score, classification_report, confusion_matrix\u000a\u000a# We use a utility to generate artificial classification data.\u000aX, y = make_classification(n_samples=100, n_informative=10, n_classes=3)\u000asss = StratifiedShuffleSplit(y, n_iter=1, test_size=0.5, random_state=0)\u000afor train_idx, test_idx in sss:\u000a    X_train, X_test, y_train, y_test = X[train_idx], X[test_idx], y[train_idx], y[test_idx]\u000a    svc.fit(X_train, y_train)\u000a    y_pred = svc.predict(X_test)\u000a    print(f1_score(y_test, y_pred, average="macro"))\u000a    print(precision_score(y_test, y_pred, average="macro"))\u000a    print(recall_score(y_test, y_pred, average="macro"))    \u000a</code></pre>\u000a\u000a<p>Hope this helps.</p>\u000a
p257
sVquestion_id
p258
I31421413
sVlast_activity_date
p259
I1437741717
sVcreation_date
p260
I1437608653
sVscore
p261
I54
sVowner
p262
(dp263
Vuser_id
p264
I3914041
sVprofile_image
p265
Vhttps://www.gravatar.com/avatar/e0b88c2ec674ac08403a26fed93c0db4?s=128&d=identicon&r=PG&f=1
p266
sVuser_type
p267
Vregistered
p268
sVreputation
p269
I2093
sVlink
p270
Vhttp://stackoverflow.com/users/3914041/ldirer
p271
sVdisplay_name
p272
Vldirer
p273
ssVis_accepted
p274
I01
sVlast_edit_date
p275
I1437741717
sVanswer_id
p276
I31575870
sa(dp277
Vbody
p278
V<p>This should do it:</p>\u000a\u000a<pre><code>import math\u000a\u000adef sigmoid(x):\u000a  return 1 / (1 + math.exp(-x))\u000a</code></pre>\u000a\u000a<p>And now you can test it by calling:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; sigmoid(0.458)\u000a0.61253961344091512\u000a</code></pre>\u000a\u000a<p><strong>Update</strong>: Note that the above was mainly intended as a straight one-to-one translation of the given expression into Python code. It is <em>not</em> tested or known to be a numerically sound implementation. If you know you need a very robust implementation, I'm sure there are others where people have actually given this problem some thought.</p>\u000a
p279
sVquestion_id
p280
I3985619
sVlast_activity_date
p281
I1430120616
sVcreation_date
p282
I1287650251
sVscore
p283
I66
sVowner
p284
(dp285
Vuser_id
p286
I28169
sVprofile_image
p287
Vhttps://www.gravatar.com/avatar/ec9385dc533f1a6a93769077f852503e?s=128&d=identicon&r=PG
p288
sVuser_type
p289
Vregistered
p290
sVreputation
p291
I275598
sVlink
p292
Vhttp://stackoverflow.com/users/28169/unwind
p293
sVaccept_rate
p294
I88
sVdisplay_name
p295
Vunwind
p296
ssVis_accepted
p297
I01
sVlast_edit_date
p298
I1430120616
sVanswer_id
p299
I3985630
sa(dp300
Vbody
p301
V<pre><code>cursor.execute("INSERT INTO table VALUES (%s, %s, %s)", (var1, var2, var3))\u000a</code></pre>\u000a\u000a<p>Note that the parameters are passed as a tuple.</p>\u000a\u000a<p>The database API does proper escaping and quoting of variables. Be careful not to use the string formatting operator (<code>%</code>), because</p>\u000a\u000a<ol>\u000a<li>it does not do any escaping or quoting.</li>\u000a<li>it is prone to Uncontrolled string format attacks e.g. <a href="http://en.wikipedia.org/wiki/SQL_injection" rel="noreferrer">SQL injection</a>.</li>\u000a</ol>\u000a
p302
sVquestion_id
p303
I902408
sVlast_activity_date
p304
I1426774623
sVcreation_date
p305
I1243110324
sVscore
p306
I43
sVowner
p307
(dp308
Vuser_id
p309
I40005
sVprofile_image
p310
Vhttps://www.gravatar.com/avatar/9430c2f290372174f5c818a318e14ed8?s=128&d=identicon&r=PG
p311
sVuser_type
p312
Vregistered
p313
sVreputation
p314
I69415
sVlink
p315
Vhttp://stackoverflow.com/users/40005/ayman-hourieh
p316
sVdisplay_name
p317
VAyman Hourieh
p318
ssVis_accepted
p319
I01
sVlast_edit_date
p320
I1426774623
sVanswer_id
p321
I902417
sa(dp322
Vbody
p323
V<p>Your existing code just needs a little tweak. <code>i</code> <em>is</em> the key, so you would just need to use it:</p>\u000a\u000a<pre><code>for i in d:\u000a    print i, d[i]\u000a</code></pre>\u000a\u000a<p>You can also get an iterator that contains both keys and values. In Python 2, <code>d.items()</code> returns a list of (key, value) tuples, while <code>d.iteritems()</code> returns an iterator that provides the same:</p>\u000a\u000a<pre><code>for k, v in d.iteritems():\u000a    print k, v\u000a</code></pre>\u000a\u000a<p>In Python 3, <code>d.items()</code> returns the iterator; to get a list, you need to pass the iterator to <code>list()</code> yourself.</p>\u000a\u000a<pre><code>for k, v in d.items():\u000a    print(k, v)\u000a</code></pre>\u000a
p324
sVquestion_id
p325
I26660654
sVlast_activity_date
p326
I1414694034
sVcreation_date
p327
I1414694034
sVscore
p328
I68
sVowner
p329
(dp330
Vuser_id
p331
I1126841
sVprofile_image
p332
Vhttps://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG
p333
sVuser_type
p334
Vregistered
p335
sVreputation
p336
I168713
sVlink
p337
Vhttp://stackoverflow.com/users/1126841/chepner
p338
sVdisplay_name
p339
Vchepner
p340
ssVis_accepted
p341
I01
sVanswer_id
p342
I26660785
sa(dp343
Vbody
p344
V<p>use <code>IPython.display</code> module:</p>\u000a\u000a<pre><code>%matplotlib inline\u000aimport time\u000aimport pylab as pl\u000afrom IPython import display\u000afor i in range(10):\u000a    pl.plot(pl.randn(100))\u000a    display.clear_output(wait=True)\u000a    display.display(pl.gcf())\u000a    time.sleep(1.0)\u000a</code></pre>\u000a
p345
sVquestion_id
p346
I21360361
sVlast_activity_date
p347
I1412275091
sVcreation_date
p348
I1390729866
sVscore
p349
I53
sVowner
p350
(dp351
Vuser_id
p352
I772649
sVprofile_image
p353
Vhttps://www.gravatar.com/avatar/03ad01df45fef92e267641197ad00e36?s=128&d=identicon&r=PG
p354
sVuser_type
p355
Vregistered
p356
sVreputation
p357
I49502
sVlink
p358
Vhttp://stackoverflow.com/users/772649/hyry
p359
sVaccept_rate
p360
I56
sVdisplay_name
p361
VHYRY
p362
ssVis_accepted
p363
I01
sVlast_edit_date
p364
I1412275091
sVanswer_id
p365
I21361994
sa(dp366
Vbody
p367
V<p>Background:</p>\u000a\u000a<p>In Python, there are two builtin functions for turning an object into a string: <a href="https://docs.python.org/2/library/functions.html#str" rel="noreferrer"><code>str</code></a> vs. <a href="https://docs.python.org/2/library/functions.html#func-repr" rel="noreferrer"><code>repr</code></a>. <code>str</code> is supposed to be a friendly, human readable string. <code>repr</code> is supposed to include detailed information about an object's contents (sometimes, they'll return the same thing, such as for integers). By convention, if there's a Python expression that will eval to another object that's ==, <code>repr</code> will return such an expression e.g.</p>\u000a\u000a<pre>\u000a>>> print repr('hi')\u000a'hi'  # notice the quotes here as opposed to...\u000a>>> print str('hi')\u000ahi\u000a</pre>\u000a\u000a<p>If returning an expression doesn't make sense for an object, <code>repr</code> should return a string that's surrounded by &lt; and > symbols e.g. <code>&lt;blah&gt;</code>.</p>\u000a\u000a<p>To answer your original question:</p>\u000a\u000a<p><code>%s</code> &lt;-> <a href="https://docs.python.org/2/library/functions.html#str" rel="noreferrer"><code>str</code></a><br/>\u000a<code>%r</code> &lt;-> <a href="https://docs.python.org/2/library/functions.html#func-repr" rel="noreferrer"><code>repr</code></a></p>\u000a\u000a<p>In addition:</p>\u000a\u000a<p>You can control the way an instance of your own classes convert to strings by implementing <a href="https://docs.python.org/2/reference/datamodel.html#object.__str__" rel="noreferrer"><code>__str__</code></a> and <a href="https://docs.python.org/2/reference/datamodel.html#object.__repr__" rel="noreferrer"><code>__repr__</code></a> methods.</p>\u000a\u000a<pre><code>class Foo:\u000a\u000a  def __init__(self, foo):\u000a    self.foo = foo\u000a\u000a  def __eq__(self, other):\u000a    """Implements ==."""\u000a    return self.foo == other.foo\u000a\u000a  def __repr__(self):\u000a    # if you eval the return value of this function,\u000a    # you'll get another Foo instance that's == to self\u000a    return "Foo(%r)" % self.foo\u000a</code></pre>\u000a
p368
sVquestion_id
p369
I2354329
sVlast_activity_date
p370
I1407950282
sVcreation_date
p371
I1267433287
sVscore
p372
I52
sVowner
p373
(dp374
Vuser_id
p375
I62163
sVprofile_image
p376
Vhttps://www.gravatar.com/avatar/183bedba0e6dce9b4786871bf71edbad?s=128&d=identicon&r=PG
p377
sVuser_type
p378
Vregistered
p379
sVreputation
p380
I9825
sVlink
p381
Vhttp://stackoverflow.com/users/62163/allyourcode
p382
sVaccept_rate
p383
I65
sVdisplay_name
p384
Vallyourcode
p385
ssVis_accepted
p386
I01
sVlast_edit_date
p387
I1407950282
sVanswer_id
p388
I2354652
sa(dp389
Vbody
p390
V<p>You need to install <a href="http://packages.ubuntu.com/trusty/libhdf5-dev"><code>libhdf5-dev</code></a> to get the required header files. Just run</p>\u000a\u000a<pre><code>sudo apt-get install libhdf5-dev\u000a</code></pre>\u000a\u000a<p>and it should install it and its dependencies automatically.</p>\u000a\u000a<p>Don't worry about the NumPy warning, it just means that the package developers are using an old version of the API, but everything will still work.</p>\u000a
p391
sVquestion_id
p392
I24744969
sVlast_activity_date
p393
I1405370010
sVcreation_date
p394
I1405370010
sVscore
p395
I70
sVowner
p396
(dp397
Vuser_id
p398
I1426065
sVprofile_image
p399
Vhttps://www.gravatar.com/avatar/476e67c92121154e7910301e56cdfc4c?s=128&d=identicon&r=PG
p400
sVuser_type
p401
Vregistered
p402
sVreputation
p403
I59982
sVlink
p404
Vhttp://stackoverflow.com/users/1426065/mattdmo
p405
sVaccept_rate
p406
I82
sVdisplay_name
p407
VMattDMo
p408
ssVis_accepted
p409
I01
sVanswer_id
p410
I24745489
sa(dp411
Vbody
p412
V<p>By default, <code>py.test</code> captures the result of standard out so that it can control how it prints it out. If it didn't do this, it would spew out a lot of text without the context of what test printed that text.</p>\u000a\u000a<p>However, if a test fails, it will include a section in the resulting report that shows what was printed to standard out in that particular test.</p>\u000a\u000a<p>For example,</p>\u000a\u000a<pre><code>def test_good():\u000a    for i in range(1000):\u000a        print(i)\u000a\u000adef test_bad():\u000a    print('this should fail!')\u000a    assert False\u000a</code></pre>\u000a\u000a<p>Results in the following output:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; py.test tmp.py\u000a============================= test session starts ==============================\u000aplatform darwin -- Python 2.7.6 -- py-1.4.20 -- pytest-2.5.2\u000aplugins: cache, cov, pep8, xdist\u000acollected 2 items\u000a\u000atmp.py .F\u000a\u000a=================================== FAILURES ===================================\u000a___________________________________ test_bad ___________________________________\u000a\u000a    def test_bad():\u000a        print('this should fail!')\u000a&gt;       assert False\u000aE       assert False\u000a\u000atmp.py:7: AssertionError\u000a------------------------------- Captured stdout --------------------------------\u000athis should fail!\u000a====================== 1 failed, 1 passed in 0.04 seconds ======================\u000a</code></pre>\u000a\u000a<p>Note the <code>Captured stdout</code> section.</p>\u000a\u000a<p>If you would like to see <code>print</code> statements as they are executed, you can pass the <code>-s</code> flag to <code>py.test</code>. However, note that this can sometimes be difficult to parse.</p>\u000a\u000a<pre><code>&gt;&gt;&gt; py.test tmp.py -s\u000a============================= test session starts ==============================\u000aplatform darwin -- Python 2.7.6 -- py-1.4.20 -- pytest-2.5.2\u000aplugins: cache, cov, pep8, xdist\u000acollected 2 items\u000a\u000atmp.py 0\u000a1\u000a2\u000a3\u000a... and so on ...\u000a997\u000a998\u000a999\u000a.this should fail!\u000aF\u000a\u000a=================================== FAILURES ===================================\u000a___________________________________ test_bad ___________________________________\u000a\u000a    def test_bad():\u000a        print('this should fail!')\u000a&gt;       assert False\u000aE       assert False\u000a\u000atmp.py:7: AssertionError\u000a====================== 1 failed, 1 passed in 0.02 seconds ======================\u000a</code></pre>\u000a
p413
sVquestion_id
p414
I24617397
sVlast_activity_date
p415
I1404759313
sVcreation_date
p416
I1404759313
sVscore
p417
I56
sVowner
p418
(dp419
Vuser_id
p420
I1306923
sVprofile_image
p421
Vhttps://www.gravatar.com/avatar/2f367fe214d05649020bd3ef281184f0?s=128&d=identicon&r=PG
p422
sVuser_type
p423
Vregistered
p424
sVreputation
p425
I4760
sVlink
p426
Vhttp://stackoverflow.com/users/1306923/tbekolay
p427
sVdisplay_name
p428
Vtbekolay
p429
ssVis_accepted
p430
I01
sVanswer_id
p431
I24617813
sa(dp432
Vbody
p433
V<p>Your goals are:</p>\u000a\u000a<ol>\u000a<li>Distribute your work to many machines (distributed\u000acomputing/distributed parallel processing) </li>\u000a<li>Distribute the work on a given machine across all CPUs\u000a(multiprocessing/threading)</li>\u000a</ol>\u000a\u000a<p>Celery can do both of these for you fairly easily. The first thing to understand is that each celery worker is <a href="http://docs.celeryproject.org/en/latest/getting-started/next-steps.html#starting-the-worker" rel="noreferrer">configured by default</a> to run as many tasks as there are CPU cores available on a system:</p>\u000a\u000a<blockquote>\u000a  <p>Concurrency is the number of prefork worker process used to process\u000a  your tasks concurrently, when all of these are busy doing work new\u000a  tasks will have to wait for one of the tasks to finish before it can\u000a  be processed.</p>\u000a  \u000a  <p><strong>The default concurrency number is the number of CPU\u2019s on that machine\u000a  (including cores)</strong>, you can specify a custom number using -c option.\u000a  There is no recommended value, as the optimal number depends on a\u000a  number of factors, but if your tasks are mostly I/O-bound then you can\u000a  try to increase it, experimentation has shown that adding more than\u000a  twice the number of CPU\u2019s is rarely effective, and likely to degrade\u000a  performance instead.</p>\u000a</blockquote>\u000a\u000a<p>This means each individual task doesn't need to worry about using multiprocessing/threading to make use of multiple CPUs/cores. Instead, celery will run enough tasks concurrently to use each available CPU.</p>\u000a\u000a<p>With that out of the way, the next step is to create a task that handles processing some subset of your <code>list_of_millions_of_ids</code>. You have a couple of options here - one is to have each task handle a single ID, so you run N tasks, where <code>N == len(list_of_millions_of_ids)</code>. This will guarantee that work is evenly distributed amongst all your tasks, since there will never be a case where one worker finishes early and is just waiting around; if it needs work, it can pull an id off the queue. You can do this (as mentioned by John Doe) using the a celery <code>group</code>.</p>\u000a\u000a<p><strong>tasks.py:</strong></p>\u000a\u000a<pre><code>@app.task\u000adef process_id(item):\u000a    id = item #long complicated equation here\u000a    database.objects(newid=id).save()\u000a</code></pre>\u000a\u000a<p>And to execute the tasks:</p>\u000a\u000a<pre><code>from celery import group\u000afrom tasks import process_id\u000a\u000ajobs = group(process_id.s(item) for item in list_of_millions_of_ids)\u000aresult = jobs.apply_async()\u000a</code></pre>\u000a\u000a<p>Another option is to break the list into smaller pieces, and distribute the pieces to your workers. This approach runs the risk of wasting some cycles, because you may end up with some workers waiting around while others are still doing work. However, the <a href="http://celery.readthedocs.org/en/latest/userguide/canvas.html#chunks" rel="noreferrer">celery documentation notes</a> that this concern is often unfounded:</p>\u000a\u000a<blockquote>\u000a  <p>Some may worry that chunking your tasks results in a degradation of\u000a  parallelism, but this is rarely true for a busy cluster and in\u000a  practice since you are avoiding the overhead of messaging it may\u000a  considerably increase performance.</p>\u000a</blockquote>\u000a\u000a<p>So, you may find that chunking the list and distributing the chunks to each task performs better, because of the reduced messaging overhead. You can probably also lighten the load on the database a bit this way, by calculating each id, storing it in a list, and then adding the whole list into the DB once you're done, rather than doing it one id at a time. The chunking approach would look something like this</p>\u000a\u000a<p><strong>tasks.py:</strong></p>\u000a\u000a<pre><code>@app.task\u000adef process_ids(items):\u000a    for item in items:\u000a        id = item #long complicated equation here\u000a        database.objects(newid=id).save() # Still adding one id at a time, but you don't have to.\u000a</code></pre>\u000a\u000a<p>And to start the tasks:</p>\u000a\u000a<pre><code>from tasks import process_ids\u000a\u000ajobs = process_ids.chunks(list_of_millions_of_ids, 30) # break the list into 30 chunks. Experiment with what number works best here.\u000ajobs.apply_async()\u000a</code></pre>\u000a\u000a<p>You can experiment a bit with what chunking size gives you the best result. You want to find a sweet spot where you're cutting down messaging overhead while also keeping the size small enough that you don't end up with workers finishing their chunk much faster than another worker, and then just waiting around with nothing to do.</p>\u000a
p434
sVquestion_id
p435
I23916413
sVlast_activity_date
p436
I1401810230
sVcreation_date
p437
I1401810230
sVscore
p438
I64
sVowner
p439
(dp440
Vuser_id
p441
I2073595
sVprofile_image
p442
Vhttps://i.stack.imgur.com/ugcXJ.jpg?s=128&g=1
p443
sVuser_type
p444
Vregistered
p445
sVreputation
p446
I44486
sVlink
p447
Vhttp://stackoverflow.com/users/2073595/dano
p448
sVdisplay_name
p449
Vdano
p450
ssVis_accepted
p451
I01
sVanswer_id
p452
I24019415
sa(dp453
Vbody
p454
V<p>If this is something you end up doing frequently, and with different operations, you should probably create a class to handle cases like this, or better use some library like <a href="http://numpy.scipy.org/" rel="noreferrer">Numpy</a>.</p>\u000a\u000a<p>Otherwise, look for <a href="http://docs.python.org/tutorial/datastructures.html#list-comprehensions" rel="noreferrer">list comprehensions</a> used with the <a href="http://docs.python.org/library/functions.html#zip" rel="noreferrer">zip</a> builtin function:</p>\u000a\u000a<pre><code>[a_i - b_i for a_i, b_i in zip(a, b)]\u000a</code></pre>\u000a
p455
sVquestion_id
p456
I534855
sVlast_activity_date
p457
I1401308549
sVcreation_date
p458
I1234310452
sVscore
p459
I86
sVowner
p460
(dp461
Vuser_id
p462
I60531
sVprofile_image
p463
Vhttps://www.gravatar.com/avatar/bd24dab59beada36b501670cd01b8e2c?s=128&d=identicon&r=PG
p464
sVuser_type
p465
Vregistered
p466
sVreputation
p467
I12517
sVlink
p468
Vhttp://stackoverflow.com/users/60531/unclezeiv
p469
sVaccept_rate
p470
I53
sVdisplay_name
p471
VUncleZeiv
p472
ssVis_accepted
p473
I01
sVlast_edit_date
p474
I1401308549
sVanswer_id
p475
I534866
sa(dp476
Vbody
p477
V<p>Use <code>,</code> to separate strings and variables while printing:</p>\u000a\u000a<pre><code>print "If there was a birth every 7 seconds, there would be: ",births,"births"\u000a</code></pre>\u000a\u000a<p><code>,</code> in print statement separtes the items by a single space:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; print "foo","bar","spam"\u000afoo bar spam\u000a</code></pre>\u000a\u000a<p>or better use <a href="http://docs.python.org/2/library/string.html#formatspec">string formatting</a>:</p>\u000a\u000a<pre><code>print "If there was a birth every 7 seconds, there would be: {} births".format(births)\u000a</code></pre>\u000a\u000a<p>String formatting is much more powerful and allows you to do some other things as well, like : padding, fill, alignment,width, set precision etc</p>\u000a\u000a<pre><code>&gt;&gt;&gt; print "{:d} {:03d} {:&gt;20f}".format(1,2,1.1)\u000a1 002             1.100000\u000a  ^^^\u000a  0's padded to 2\u000a</code></pre>\u000a\u000a<p>Demo:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; births = 4\u000a&gt;&gt;&gt; print "If there was a birth every 7 seconds, there would be: ",births,"births"\u000aIf there was a birth every 7 seconds, there would be:  4 births\u000a\u000a#formatting\u000a&gt;&gt;&gt; print "If there was a birth every 7 seconds, there would be: {} births".format(births)\u000aIf there was a birth every 7 seconds, there would be: 4 births\u000a</code></pre>\u000a
p478
sVquestion_id
p479
I17153779
sVlast_activity_date
p480
I1398533689
sVcreation_date
p481
I1371491937
sVscore
p482
I68
sVowner
p483
(dp484
Vuser_id
p485
I846892
sVprofile_image
p486
Vhttps://i.stack.imgur.com/E9dZn.png?s=128&g=1
p487
sVuser_type
p488
Vregistered
p489
sVreputation
p490
I142521
sVlink
p491
Vhttp://stackoverflow.com/users/846892/ashwini-chaudhary
p492
sVaccept_rate
p493
I88
sVdisplay_name
p494
VAshwini Chaudhary
p495
ssVis_accepted
p496
I01
sVlast_edit_date
p497
I1398533689
sVanswer_id
p498
I17153791
sa(dp499
Vbody
p500
V<p>Pseudo-random number generators work by performing some operation on a value. Generally this value is the previous number generated by the generator. However, the first time you use the generator, there is no previous value.</p>\u000a\u000a<p>Seeding a pseudo-random number generator gives it its first "previous" value. Each seed value will correspond to a sequence of generated values for a given random number generator. That is, if you provide the same seed twice, you get the same sequence of numbers twice.</p>\u000a\u000a<p>Generally, you want to seed your random number generator with some value that will change each execution of the program. For instance, the current time is a frequently-used seed. The reason why this doesn't happen automatically is so that if you want, you can provide a specific seed to get a known sequence of numbers.</p>\u000a
p501
sVquestion_id
p502
I22639587
sVlast_activity_date
p503
I1395762777
sVcreation_date
p504
I1395762777
sVscore
p505
I56
sVowner
p506
(dp507
Vuser_id
p508
I407071
sVprofile_image
p509
Vhttps://www.gravatar.com/avatar/7e3b59a5454c27320f956ab3b177a60e?s=128&d=identicon&r=PG
p510
sVuser_type
p511
Vregistered
p512
sVreputation
p513
I4212
sVlink
p514
Vhttp://stackoverflow.com/users/407071/eric-finn
p515
sVaccept_rate
p516
I100
sVdisplay_name
p517
VEric Finn
p518
ssVis_accepted
p519
I01
sVanswer_id
p520
I22639752
sa(dp521
Vbody
p522
V<p>To pass some context data to javascript code, you have to serialize it in a way it will be "understood" by javascript (namely JSON). You also need to mark it as safe using the <code>safe</code> Jinja filter, to prevent your data from being htmlescaped.</p>\u000a\u000a<p>You can achieve this by doing something like that:</p>\u000a\u000a<h3>The view</h3>\u000a\u000a<pre><code>import json\u000a\u000a@app.route('/')\u000adef my_view():\u000a    data = [1, 'foo']\u000a    return render_template('index.html', data=json.dumps(data))\u000a</code></pre>\u000a\u000a<h3>The template</h3>\u000a\u000a<pre><code>&lt;script type="text/javascript"&gt;\u000a    function test_func(data) {\u000a        console.log(data);\u000a    }\u000a    test_func({{ data|safe }})\u000a&lt;/script&gt;\u000a</code></pre>\u000a\u000a<h2>Edit - exact answer</h2>\u000a\u000a<p>So, to achieve exactly what you want (loop over a list of items, and pass them to a javascript function), you'd need to serialize every item in your list separately. Your code would then look like this:</p>\u000a\u000a<h3>The view</h3>\u000a\u000a<pre><code>import json\u000a\u000a@app.route('/')\u000adef my_view():\u000a    data = [1, "foo"]\u000a    return render_template('index.html', data=map(json.dumps, data))\u000a</code></pre>\u000a\u000a<h3>The template</h3>\u000a\u000a<pre><code>{% for item in data %}\u000a    &lt;span onclick=someFunction({{ item|safe }});&gt;{{ item }}&lt;/span&gt;\u000a{% endfor %}\u000a</code></pre>\u000a\u000a<h2>Edit 2</h2>\u000a\u000a<p>In my example, I use <code>Flask</code>, I don't know what framework you're using, but you got the idea, you just have to make it fit the framework you use.</p>\u000a\u000a<h2>Edit 3 (Security warning)</h2>\u000a\u000a<p><strong>NEVER EVER DO THIS WITH USER-SUPPLIED DATA, ONLY DO THIS WITH TRUSTED DATA!</strong></p>\u000a\u000a<p>Otherwise, you would expose your application to XSS vulnerabilities!</p>\u000a
p523
sVquestion_id
p524
I15321431
sVlast_activity_date
p525
I1393403753
sVcreation_date
p526
I1362917484
sVscore
p527
I58
sVowner
p528
(dp529
Vuser_id
p530
I293050
sVprofile_image
p531
Vhttps://www.gravatar.com/avatar/e82816a51578772c55dae3470c822ff2?s=128&d=identicon&r=PG
p532
sVuser_type
p533
Vregistered
p534
sVreputation
p535
I9865
sVlink
p536
Vhttp://stackoverflow.com/users/293050/mattoufoutu
p537
sVaccept_rate
p538
I88
sVdisplay_name
p539
VMatToufoutu
p540
ssVis_accepted
p541
I01
sVlast_edit_date
p542
I1393403753
sVanswer_id
p543
I15322060
sa(dp544
Vbody
p545
V<p>If the values are boolean, the fastest approach is to use the <em><a href="http://docs.python.org/reference/expressions.html#boolean-operations">not</a></em> operator:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; x = True\u000a&gt;&gt;&gt; x = not x        # toggle\u000a&gt;&gt;&gt; x\u000aFalse\u000a&gt;&gt;&gt; x = not x        # toggle\u000a&gt;&gt;&gt; x\u000aTrue\u000a&gt;&gt;&gt; x = not x        # toggle\u000a&gt;&gt;&gt; x\u000aFalse\u000a</code></pre>\u000a\u000a<p>If the values are numerical, then subtraction from the total is a simple and fast way to toggle values:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; A = 5\u000a&gt;&gt;&gt; B = 3\u000a&gt;&gt;&gt; total = A + B\u000a&gt;&gt;&gt; x = A\u000a&gt;&gt;&gt; x = total - x    # toggle\u000a&gt;&gt;&gt; x\u000a3\u000a&gt;&gt;&gt; x = total - x    # toggle\u000a&gt;&gt;&gt; x\u000a5\u000a&gt;&gt;&gt; x = total - x    # toggle\u000a&gt;&gt;&gt; x\u000a3\u000a</code></pre>\u000a\u000a<p>If the values are hashable, you can use a dictionary:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; A = 'xyz'\u000a&gt;&gt;&gt; B = 'pdq'\u000a&gt;&gt;&gt; d = {A:B, B:A}\u000a&gt;&gt;&gt; x = A\u000a&gt;&gt;&gt; x = d[x]         # toggle\u000a&gt;&gt;&gt; x\u000a'pdq'\u000a&gt;&gt;&gt; x = d[x]         # toggle\u000a&gt;&gt;&gt; x\u000a'xyz'\u000a&gt;&gt;&gt; x = d[x]         # toggle\u000a&gt;&gt;&gt; x\u000a'pdq'\u000a</code></pre>\u000a\u000a<p>Lastly, the slowest way is to use a <a href="http://docs.python.org/reference/expressions.html#conditional-expressions">conditional expression</a>:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; A = [1,2,3]\u000a&gt;&gt;&gt; B = [4,5,6]\u000a&gt;&gt;&gt; x = A\u000a&gt;&gt;&gt; x = B if x == A else A\u000a&gt;&gt;&gt; x\u000a[4, 5, 6]\u000a&gt;&gt;&gt; x = B if x == A else A\u000a&gt;&gt;&gt; x\u000a[1, 2, 3]\u000a&gt;&gt;&gt; x = B if x == A else A\u000a&gt;&gt;&gt; x\u000a[4, 5, 6]\u000a</code></pre>\u000a\u000a<p>If you have more than two values, the <a href="http://docs.python.org/2.7/library/itertools.html#itertools.cycle">itertools.cycle()</a> function provides a generic fast way to toggle between successive values:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; import itertools\u000a&gt;&gt;&gt; toggle = itertools.cycle(['red', 'green', 'blue']).next\u000a&gt;&gt;&gt; toggle()\u000a'red'\u000a&gt;&gt;&gt; toggle()\u000a'green'\u000a&gt;&gt;&gt; toggle()\u000a'blue'\u000a&gt;&gt;&gt; toggle()\u000a'red'\u000a&gt;&gt;&gt; toggle()\u000a'green'\u000a&gt;&gt;&gt; toggle()\u000a'blue'\u000a</code></pre>\u000a
p546
sVquestion_id
p547
I8381735
sVlast_activity_date
p548
I1392242038
sVcreation_date
p549
I1323068341
sVscore
p550
I66
sVowner
p551
(dp552
Vuser_id
p553
I1001643
sVprofile_image
p554
Vhttps://www.gravatar.com/avatar/60cac87fb9e2b5689242622999656cb0?s=128&d=identicon&r=PG
p555
sVuser_type
p556
Vregistered
p557
sVreputation
p558
I94640
sVlink
p559
Vhttp://stackoverflow.com/users/1001643/raymond-hettinger
p560
sVaccept_rate
p561
I75
sVdisplay_name
p562
VRaymond Hettinger
p563
ssVis_accepted
p564
I01
sVlast_edit_date
p565
I1392242038
sVanswer_id
p566
I8381955
sa(dp567
Vbody
p568
V<p>There is no direct way to change Python's syntax from within the language. A dictionary comprehension (or plain display) is always going to create a <code>dict</code>, and there's nothing you can do about that. If you're using CPython, it's using special bytecodes that generate a dict directly, which ultimately call the <a href="http://docs.python.org/3/c-api/dict.html" rel="noreferrer"><code>PyDict</code></a> API functions and/or the same underlying functions used by that API. If you're using PyPy, those bytecodes are instead implemented on top of an RPython <code>dict</code> object which in turn is implemented on top of a compiled-and-optimized Python <code>dict</code>. And so on.</p>\u000a\u000a<p>There is an <em>indirect</em> way to do it, but you're not going to like it. If you read the docs on <a href="http://docs.python.org/dev/reference/import.html" rel="noreferrer">the import system</a>, you'll see that it's the importer that searches for cached compiled code or calls the compiler, and the compiler that calls the parser, and so on. In Python 3.3+, almost everything in this chain either is written in pure Python, or has an alternate pure Python implementation, meaning you can fork the code and do your own thing. Which includes parsing source with your own PyParsing code that builds ASTs, or compiling a dict comprehension AST node into your own custom bytecode instead of the default, or post-processing the bytecode, or\u2026</p>\u000a\u000a<p>In many cases, an <a href="http://www.python.org/dev/peps/pep-0302/" rel="noreferrer">import hook</a> is sufficient; if not, you can always write a custom finder and loader.</p>\u000a\u000a<p>If you're not already using Python 3.3 or later, I'd strongly suggest migrating before playing with this stuff. In older versions, it's harder, and less well documented, and you'll ultimately be putting in 10x the effort to learn something that will be obsolete whenever you do migrate.</p>\u000a\u000a<p>Anyway, if this approach sounds interesting to you, you might want to take a look at <a href="https://github.com/lihaoyi/macropy" rel="noreferrer">MacroPy</a>. You could borrow some code from it\u2014and, maybe more importantly, learn how some of these features (that have no good examples in the docs) are used.</p>\u000a\u000a<p>Or, if you're willing to settle for something less cool, you can just use <code>MacroPy</code> to build an "odict comprehension macro" and use that. (Note that MacroPy currently only works in Python 2.7, not 3.x.) You can't quite get <code>o{\u2026}</code>, but you can get, say, <code>od[{\u2026}]</code>, which isn't too bad. Download <a href="http://pastebin.com/MbLPADJW" rel="noreferrer"><code>od.py</code></a>, <a href="http://pastebin.com/F9uJDQ4f" rel="noreferrer"><code>realmain.py</code></a>, and <a href="http://pastebin.com/dDSaL5MA" rel="noreferrer"><code>main.py</code></a>, and run <code>python main.py</code> to see it working. The key is this code, which takes a <code>DictionaryComp</code> AST, converts it to an equivalent <code>GeneratorExpr</code> on key-value <code>Tuple</code>s, and wraps it in a <code>Call</code> to <code>collections.OrderedDict</code>:</p>\u000a\u000a<pre><code>def od(tree, **kw):\u000a    pair = ast.Tuple(elts=[tree.key, tree.value])\u000a    gx = ast.GeneratorExp(elt=pair, generators=tree.generators)\u000a    odict = ast.Attribute(value=ast.Name(id='collections'), \u000a                          attr='OrderedDict')\u000a    call = ast.Call(func=odict, args=[gx], keywords=[])\u000a    return call\u000a</code></pre>\u000a\u000a<hr>\u000a\u000a<p>A different alternative is, of course, to modify the Python interpreter.</p>\u000a\u000a<p>I would suggest dropping the <code>O{\u2026}</code> syntax idea for your first go, and just making normal dict comprehensions compile to odicts. The good news is, you don't really need to change the grammar (which is beyond hairy\u2026), just any one of:</p>\u000a\u000a<ul>\u000a<li>the bytecodes that dictcomps compile to,</li>\u000a<li>the way the interpreter runs those bytecodes, or</li>\u000a<li>the implementation of the <code>PyDict</code> type</li>\u000a</ul>\u000a\u000a<p>The bad news, while all of those are a lot easier than changing the grammar, none of them can be done from an extension module. (Well, you can do the first one by doing basically the same thing you'd do from pure Python\u2026 and you can do any of them by hooking the .so/.dll/.dylib to patch in your own functions, but that's the exact same work as hacking on Python plus the extra work of hooking at runtime.)</p>\u000a\u000a<p>If you want to hack on <a href="http://hg.python.org/cpython/file/" rel="noreferrer">CPython source</a>, the code you want is in <code>Python/compile.c</code>, <code>Python/ceval.c</code>, and <code>Objects/dictobject.c</code>, and the <a href="http://docs.python.org/devguide/" rel="noreferrer">dev guide</a> tells you how to find everything you need. But you might want to consider hacking on <a href="https://bitbucket.org/pypy/pypy/src" rel="noreferrer">PyPy source</a> instead, since it's mostly written in (a subset of) Python rather than C.</p>\u000a\u000a<hr>\u000a\u000a<p>As a side note, your attempt wouldn't have worked even if everything were done at the Python language level. <code>olddict, dict = dict, OrderedDict</code> creates a binding named <code>dict</code> in your module's globals, which <em>shadows</em> the name in builtins, but doesn't replace it. You <em>can</em> replace things in builtins (well, Python doesn't guarantee this, but there are implementation/version-specific things-that-happen-to-work for every implementation/version I've tried\u2026), but what you did isn't the way to do it.</p>\u000a
p569
sVquestion_id
p570
I21103732
sVlast_activity_date
p571
I1389662580
sVcreation_date
p572
I1389658164
sVscore
p573
I20
sVowner
p574
(dp575
Vuser_id
p576
I908494
sVprofile_image
p577
Vhttps://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG
p578
sVuser_type
p579
Vregistered
p580
sVreputation
p581
I178780
sVlink
p582
Vhttp://stackoverflow.com/users/908494/abarnert
p583
sVaccept_rate
p584
I25
sVdisplay_name
p585
Vabarnert
p586
ssVis_accepted
p587
I01
sVlast_edit_date
p588
I1389662580
sVanswer_id
p589
I21103852
sa(dp590
Vbody
p591
V<p>If you want to actually change the window you can do:</p>\u000a\u000a<pre><code>fig = pylab.gcf()\u000afig.canvas.set_window_title('Test')\u000a</code></pre>\u000a
p592
sVquestion_id
p593
I5812960
sVlast_activity_date
p594
I1387262102
sVcreation_date
p595
I1303958369
sVscore
p596
I70
sVowner
p597
(dp598
Vuser_id
p599
I2246
sVprofile_image
p600
Vhttps://i.stack.imgur.com/4bZ01.jpg?s=128&g=1
p601
sVuser_type
p602
Vregistered
p603
sVreputation
p604
I16332
sVlink
p605
Vhttp://stackoverflow.com/users/2246/andrew-walker
p606
sVaccept_rate
p607
I83
sVdisplay_name
p608
VAndrew Walker
p609
ssVis_accepted
p610
I01
sVlast_edit_date
p611
I1387262102
sVanswer_id
p612
I5812982
sa(dp613
Vbody
p614
V<p>Try to use <code>ftp.nlst(dir)</code>.</p>\u000a\u000a<p>However, note that if the folder is empty, it might throw an error:</p>\u000a\u000a<pre><code>files = []\u000a\u000atry:\u000a    files = ftp.nlst()\u000aexcept ftplib.error_perm, resp:\u000a    if str(resp) == "550 No files found":\u000a        print "No files in this directory"\u000a    else:\u000a        raise\u000a\u000afor f in files:\u000a    print f\u000a</code></pre>\u000a
p615
sVquestion_id
p616
I111954
sVlast_activity_date
p617
I1383227578
sVcreation_date
p618
I1222028159
sVscore
p619
I80
sVowner
p620
(dp621
Vuser_id
p622
I17095
sVprofile_image
p623
Vhttps://www.gravatar.com/avatar/e6d232754fc494bbb00e271a0e5ad538?s=128&d=identicon&r=PG
p624
sVuser_type
p625
Vregistered
p626
sVreputation
p627
I3898
sVlink
p628
Vhttp://stackoverflow.com/users/17095/william-keller
p629
sVdisplay_name
p630
VWilliam Keller
p631
ssVis_accepted
p632
I01
sVlast_edit_date
p633
I1383227578
sVanswer_id
p634
I111966
sa(dp635
Vbody
p636
V<p>When you do <code>set()</code> you are creating an empty set.  When you do <code>set().intersection(...)</code> you are intersecting this empty set with other stuff.  The intersection of an empty set with any other collection of sets is empty.</p>\u000a\u000a<p>If you actually have a list of <em>sets</em>, you can get their intersection similar to how you did it.</p>\u000a\u000a<pre><code>&gt;&gt;&gt; x = [{1, 2, 3}, {2, 3, 4}, {3, 4, 5}]\u000a&gt;&gt;&gt; set.intersection(*x)\u000aset([3])\u000a</code></pre>\u000a\u000a<p>You can't do this directly with the way you're doing it, though, because you don't actually have any sets at all in your example with <code>intersection(*...)</code>.  You just have a list of <em>lists</em>.  You should first convert the elements in your list to sets.  So if you have</p>\u000a\u000a<pre><code>x = [[1,2,3], [2,3,4]]\u000a</code></pre>\u000a\u000a<p>you should do</p>\u000a\u000a<pre><code>x = [set(a) for a in x]\u000a</code></pre>\u000a
p637
sVquestion_id
p638
I19580944
sVlast_activity_date
p639
I1382674766
sVcreation_date
p640
I1382674335
sVscore
p641
I67
sVowner
p642
(dp643
Vuser_id
p644
I1427416
sVprofile_image
p645
Vhttps://i.stack.imgur.com/QWHKg.png?s=128&g=1
p646
sVuser_type
p647
Vregistered
p648
sVreputation
p649
I123766
sVlink
p650
Vhttp://stackoverflow.com/users/1427416/brenbarn
p651
sVaccept_rate
p652
I50
sVdisplay_name
p653
VBrenBarn
p654
ssVis_accepted
p655
I01
sVlast_edit_date
p656
I1382674766
sVanswer_id
p657
I19580972
sa(dp658
Vbody
p659
V<p>In Python, strings are immutable, so you can't change their characters in-place.</p>\u000a\u000a<p>You can, however, do the following:</p>\u000a\u000a<pre><code>for i in str:\u000a    srr += i\u000a</code></pre>\u000a\u000a<p>The reasons this works is that it's a shortcut for:</p>\u000a\u000a<pre><code>for i in str:\u000a    srr = srr + i\u000a</code></pre>\u000a\u000a<p>The above <em>creates a new string</em> with each iteration, and stores the reference to that new string in <code>srr</code>.</p>\u000a
p660
sVquestion_id
p661
I10631473
sVlast_activity_date
p662
I1382183308
sVcreation_date
p663
I1337239178
sVscore
p664
I32
sVowner
p665
(dp666
Vuser_id
p667
I367273
sVprofile_image
p668
Vhttps://www.gravatar.com/avatar/f1ed2b0c87f602ef30229f5c4b04eff6?s=128&d=identicon&r=PG
p669
sVuser_type
p670
Vregistered
p671
sVreputation
p672
I279603
sVlink
p673
Vhttp://stackoverflow.com/users/367273/npe
p674
sVaccept_rate
p675
I96
sVdisplay_name
p676
VNPE
p677
ssVis_accepted
p678
I01
sVlast_edit_date
p679
I1382183308
sVanswer_id
p680
I10631478
sa(dp681
Vbody
p682
V<p>Python <a href="http://www.testingreflections.com/node/view/5126" rel="noreferrer">passes references-to-objects by value</a>.</p>\u000a\u000a<blockquote>\u000a  <p>Python passes references-to-objects by\u000a  value (like Java), and everything in\u000a  Python is an object. This sounds\u000a  simple, but then you will notice that\u000a  some data types seem to exhibit\u000a  pass-by-value characteristics, while\u000a  others seem to act like\u000a  pass-by-reference... what's the deal?</p>\u000a  \u000a  <p>It is important to understand mutable\u000a  and immutable objects. Some objects,\u000a  like strings, tuples, and numbers, are\u000a  immutable.  Altering them inside a\u000a  function/method will create a new\u000a  instance and the original instance\u000a  outside the function/method is not\u000a  changed.  Other objects, like lists\u000a  and dictionaries are mutable, which\u000a  means you can change the object\u000a  in-place.  Therefore, altering an\u000a  object inside a function/method will\u000a  also change the original object\u000a  outside.</p>\u000a</blockquote>\u000a
p683
sVquestion_id
p684
I534375
sVlast_activity_date
p685
I1378407734
sVcreation_date
p686
I1234302825
sVscore
p687
I62
sVowner
p688
(dp689
Vuser_id
p690
I38714
sVprofile_image
p691
Vhttps://www.gravatar.com/avatar/92b77abf2d0f60fbc2cba23bc6c759e7?s=128&d=identicon&r=PG
p692
sVuser_type
p693
Vregistered
p694
sVreputation
p695
I2736
sVlink
p696
Vhttp://stackoverflow.com/users/38714/stephen-pape
p697
sVaccept_rate
p698
I100
sVdisplay_name
p699
VStephen Pape
p700
ssVis_accepted
p701
I01
sVlast_edit_date
p702
I1378407734
sVanswer_id
p703
I534383
sa(dp704
Vbody
p705
V<p>There are Python libraries that can recognize files based on their content (usually a header / magic number) and that don't rely on the file name or extension.</p>\u000a\u000a<p>If you're addressing many different file types, you can use <a href="https://github.com/ahupp/python-magic"><code>python-magic</code></a>.  That's just a Python binding for the well-established <code>magic</code> library.  This has a good reputation and (small endorsement) in the limited use I've made of it, it has been solid.</p>\u000a\u000a<p>There are also libraries for more specialized file types.  For example, the Python standard library has the <a href="http://docs.python.org/library/imghdr.html"><code>imghdr</code></a> module that does the same thing just for image file types.</p>\u000a
p706
sVquestion_id
p707
I10937350
sVlast_activity_date
p708
I1378196878
sVcreation_date
p709
I1339094634
sVscore
p710
I43
sVowner
p711
(dp712
Vuser_id
p713
I763269
sVprofile_image
p714
Vhttps://www.gravatar.com/avatar/0c27474bcff67974d6a9fcb43cb7ba4e?s=128&d=identicon&r=PG
p715
sVuser_type
p716
Vregistered
p717
sVreputation
p718
I8066
sVlink
p719
Vhttp://stackoverflow.com/users/763269/chris-johnson
p720
sVaccept_rate
p721
I82
sVdisplay_name
p722
VChris Johnson
p723
ssVis_accepted
p724
I01
sVlast_edit_date
p725
I1378196878
sVanswer_id
p726
I10937927
sa(dp727
Vbody
p728
V<p>The real question should be \u201cwhy not?\u201d \u2026 an unordered dictionary is most probably implemented as a <a href="http://en.wikipedia.org/wiki/Hash_table" rel="noreferrer">hash table</a> (in fact, the Python <a href="http://docs.python.org/3/library/stdtypes.html#typesmapping" rel="noreferrer">documentation</a> states this outright) where the order of elements is well-defined but not immediately obvious. Your observations match the rules of a hash table perfectly: apparent arbitrary, but constant order.</p>\u000a
p729
sVquestion_id
p730
I526125
sVlast_activity_date
p731
I1374192541
sVcreation_date
p732
I1234116402
sVscore
p733
I79
sVowner
p734
(dp735
Vuser_id
p736
I1968
sVprofile_image
p737
Vhttps://www.gravatar.com/avatar/fdd630f72eef3790bfb4ef38d08c7f85?s=128&d=identicon&r=PG
p738
sVuser_type
p739
Vregistered
p740
sVreputation
p741
I341355
sVlink
p742
Vhttp://stackoverflow.com/users/1968/konrad-rudolph
p743
sVaccept_rate
p744
I84
sVdisplay_name
p745
VKonrad Rudolph
p746
ssVis_accepted
p747
I01
sVlast_edit_date
p748
I1374192541
sVanswer_id
p749
I526131
sa(dp750
Vbody
p751
V<pre><code>&gt;&gt;&gt; import pandas as pd\u000a&gt;&gt;&gt; date_stngs = ('2008-12-20','2008-12-21','2008-12-22','2008-12-23')\u000a&gt;&gt;&gt; a = pd.Series([pd.to_datetime(date) for date in date_stngs])\u000a&gt;&gt;&gt; a\u000a0    2008-12-20 00:00:00\u000a1    2008-12-21 00:00:00\u000a2    2008-12-22 00:00:00\u000a3    2008-12-23 00:00:00\u000a</code></pre>\u000a\u000a<p><strong>UPDATE</strong></p>\u000a\u000a<p>Use pandas.to_datetime(pd.Series(..)). It's concise and much faster than above code.</p>\u000a\u000a<pre><code>&gt;&gt;&gt; pd.to_datetime(pd.Series(date_stngs))\u000a0   2008-12-20 00:00:00\u000a1   2008-12-21 00:00:00\u000a2   2008-12-22 00:00:00\u000a3   2008-12-23 00:00:00\u000a</code></pre>\u000a
p752
sVquestion_id
p753
I17690738
sVlast_activity_date
p754
I1374046386
sVcreation_date
p755
I1374033227
sVscore
p756
I40
sVowner
p757
(dp758
Vuser_id
p759
I2225682
sVprofile_image
p760
Vhttps://www.gravatar.com/avatar/4958f4712d94ab82fe55fa471308e4b5?s=128&d=identicon&r=PG
p761
sVuser_type
p762
Vregistered
p763
sVreputation
p764
I195484
sVlink
p765
Vhttp://stackoverflow.com/users/2225682/falsetru
p766
sVdisplay_name
p767
Vfalsetru
p768
ssVis_accepted
p769
I01
sVlast_edit_date
p770
I1374046386
sVanswer_id
p771
I17690795
sa(dp772
Vbody
p773
V<p>So it depends on your system, the following will work for windows:</p>\u000a\u000a<pre><code>import winsound\u000awinsound.Beep(300,2000)\u000a</code></pre>\u000a\u000a<p>where a is the frequency and b is the duration in miliseconds</p>\u000a\u000a<p>this is for linux:</p>\u000a\u000a<pre><code>import os\u000aos.system('play --no-show-progress --null --channels 1 synth %s sine %f' % ( a, b))\u000a</code></pre>\u000a\u000a<p>where a is the duration in seconds and b is the frequency</p>\u000a\u000a<p>and something really cool if you're using a mac in terminal, maybe can do the same in windows, but I only know for sure for mac, this will tell you it's done:</p>\u000a\u000a<pre><code>import os\u000aos.system('say "your program has finished"')\u000a</code></pre>\u000a\u000a<p>note: in order to use the first linux example, you must install <code>sox</code>. Here is the macports way of doing that...run this is your terminal:</p>\u000a\u000a<pre><code>sudo port install sox\u000a</code></pre>\u000a
p774
sVquestion_id
p775
I16573051
sVlast_activity_date
p776
I1368647158
sVcreation_date
p777
I1368645803
sVscore
p778
I62
sVowner
p779
(dp780
Vuser_id
p781
I2127988
sVprofile_image
p782
Vhttps://www.gravatar.com/avatar/93666d9da1b7759ea360d30048332f15?s=128&d=identicon&r=PG
p783
sVuser_type
p784
Vregistered
p785
sVreputation
p786
I5673
sVlink
p787
Vhttp://stackoverflow.com/users/2127988/ryan-saxe
p788
sVaccept_rate
p789
I69
sVdisplay_name
p790
VRyan Saxe
p791
ssVis_accepted
p792
I01
sVlast_edit_date
p793
I1368647158
sVanswer_id
p794
I16573339
sa(dp795
Vbody
p796
V<p>IPython expands variables with <code>$name</code>, bash-style.  This is true for <em>all magics</em>, not just <code>%run</code>.</p>\u000a\u000a<p>So you would do:</p>\u000a\u000a<pre><code>In [1]: filename = "myscript.py"\u000a\u000aIn [2]: %run $filename\u000a['myscript.py']\u000a</code></pre>\u000a\u000a<p>myscript.py contains:</p>\u000a\u000a<pre><code>import sys\u000aprint(sys.argv)\u000a</code></pre>\u000a\u000a<p>Via Python's fancy string formatting, you can even put expressions inside <code>{}</code>:</p>\u000a\u000a<pre><code>In [3]: args = ["arg1", "arg2"]\u000a\u000aIn [4]: %run $filename {args[0]} {args[1][-2:]}\u000a['myscript.py', 'arg1', 'g2']\u000a</code></pre>\u000a
p797
sVquestion_id
p798
I14409167
sVlast_activity_date
p799
I1358570124
sVcreation_date
p800
I1358570124
sVscore
p801
I61
sVowner
p802
(dp803
Vuser_id
p804
I938949
sVprofile_image
p805
Vhttps://www.gravatar.com/avatar/d5b897c37001627c2e3ad3c1e8a7e6fb?s=128&d=identicon&r=PG
p806
sVuser_type
p807
Vregistered
p808
sVreputation
p809
I20107
sVlink
p810
Vhttp://stackoverflow.com/users/938949/minrk
p811
sVdisplay_name
p812
Vminrk
p813
ssVis_accepted
p814
I01
sVanswer_id
p815
I14411126
sa(dp816
Vbody
p817
V<p>Making sleep.sh executable and adding <code>shell=True</code> to the parameter list (as suggested in previous answers) works ok. Depending on the search path, you may also need to add <code>./</code> or some other appropriate path.  (Ie, change <code>"sleep.sh"</code> to <code>"./sleep.sh"</code>.)</p>\u000a\u000a<p>The <code>shell=True</code> parameter is not needed (under a Posix system like Linux) if the first line of the bash script is a path to a shell; for example, <code>#!/bin/bash</code>.</p>\u000a
p818
sVquestion_id
p819
I13745648
sVlast_activity_date
p820
I1354804920
sVcreation_date
p821
I1354804920
sVscore
p822
I37
sVowner
p823
(dp824
Vuser_id
p825
I837847
sVprofile_image
p826
Vhttps://www.gravatar.com/avatar/2c64ab72b42d05880e438ddef64b465b?s=128&d=identicon&r=PG
p827
sVuser_type
p828
Vregistered
p829
sVreputation
p830
I6707
sVlink
p831
Vhttp://stackoverflow.com/users/837847/james-waldby-jwpat7
p832
sVdisplay_name
p833
VJames Waldby - jwpat7
p834
ssVis_accepted
p835
I01
sVanswer_id
p836
I13745968
sa(dp837
Vbody
p838
V<pre><code>&gt;&gt;&gt; x = [1, 1, 1, 1, 1, 1]\u000a&gt;&gt;&gt; all(el==1 for el in x)\u000aTrue\u000a</code></pre>\u000a\u000a<p>This uses the function <a href="http://docs.python.org/dev/library/functions.html#all" rel="noreferrer"><strong><code>all</code></strong></a> with a <a href="http://docs.python.org/dev/tutorial/classes.html#generator-expressions" rel="noreferrer">generator expression</a>.</p>\u000a\u000a<hr>\u000a\u000a<p>If you always have only zeroes and ones in the list (or if you want to just check if the list doesn't have any zeroes), then just use <strong><code>all</code></strong> without any additional tricks:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; x = [1, 0, 1, 1, 1, 0]\u000a&gt;&gt;&gt; all(x)\u000aFalse\u000a</code></pre>\u000a\u000a<hr>\u000a\u000a<p><strong>Benchmark</strong> of some solutions:<br>\u000a<sub>The numbers mean what time <strong>in milliseconds</strong> it took to run the solution once (average of 1000 <code>timeit</code> runs)</sub></p>\u000a\u000a<p>Python 3.2.3</p>\u000a\u000a<pre><code>              all(el==1 for el in x): 0.0003 0.0008 0.7903 0.0804 0.0005 0.0006\u000a                       x==[1]*len(x): 0.0002 0.0003 0.0714 0.0086 0.0045 0.0554\u000a         not([1 for y in x if y!=1]): 0.0003 0.0005 0.4142 0.1117 0.1100 1.1630\u000a                set(x).issubset({1}): 0.0003 0.0005 0.2039 0.0409 0.0476 0.5310\u000ay = set(x); len(y)==1 and y.pop()==1:   WA   0.0006 0.2043 0.0517 0.0409 0.4170\u000a                   max(x)==1==min(x):   RE   0.0006 0.4574 0.0460 0.0917 0.5466\u000a                 tuple(set(x))==(1,):   WA   0.0006 0.2046 0.0410 0.0408 0.4238\u000anot(bool(filter(lambda y: y!=1, x))):   WA     WA     WA   0.0004 0.0004 0.0004\u000a                              all(x): 0.0001 0.0001 0.0839   WA   0.0001   WA  \u000a</code></pre>\u000a\u000a<p>Python 2.7.3</p>\u000a\u000a<pre><code>              all(el==1 for el in x): 0.0003 0.0008 0.7175 0.0751 0.0006 0.0006\u000a                       x==[1]*len(x): 0.0002 0.0003 0.0741 0.0110 0.0094 0.1015\u000a         not([1 for y in x if y!=1]): 0.0001 0.0003 0.3908 0.0948 0.0954 0.9840\u000a                set(x).issubset({1}): 0.0003 0.0005 0.2084 0.0422 0.0420 0.4198\u000ay = set(x); len(y)==1 and y.pop()==1:   WA   0.0006 0.2083 0.0421 0.0418 0.4178\u000a                   max(x)==1==min(x):   RE   0.0006 0.4568 0.0442 0.0866 0.4937\u000a                 tuple(set(x))==(1,):   WA   0.0006 0.2086 0.0424 0.0421 0.4202\u000anot(bool(filter(lambda y: y!=1, x))): 0.0004 0.0011 0.9809 0.1936 0.1925 2.0007\u000a                              all(x): 0.0001 0.0001 0.0811   WA   0.0001   WA  \u000a</code></pre>\u000a\u000a<p>[PyPy 1.9.0] Python 2.7.2</p>\u000a\u000a<pre><code>              all(el==1 for el in x): 0.0013 0.0093 0.4148 0.0508 0.0036 0.0038\u000a                       x==[1]*len(x): 0.0006 0.0009 0.4557 0.0575 0.0177 0.1368\u000a         not([1 for y in x if y!=1]): 0.0009 0.0015 175.10 7.0742 6.4390 714.15 # No, this wasn't run 1000 times. Had to time it separately.\u000a                set(x).issubset({1}): 0.0010 0.0020 0.0657 0.0138 0.0139 0.1303\u000ay = set(x); len(y)==1 and y.pop()==1:   WA   0.0011 0.0651 0.0137 0.0137 0.1296\u000a                   max(x)==1==min(x):   RE   0.0011 0.5892 0.0615 0.1171 0.5994\u000a                 tuple(set(x))==(1,):   WA   0.0014 0.0656 0.0163 0.0142 0.1302\u000anot(bool(filter(lambda y: y!=1, x))): 0.0030 0.0081 0.2171 0.0689 0.0680 0.7599\u000a                              all(x): 0.0011 0.0044 0.0230   WA   0.0013   WA  \u000a</code></pre>\u000a\u000a<p>The following test cases were used: </p>\u000a\u000a<pre class="lang-py prettyprint-override"><code>[] # True\u000a[1]*6 # True\u000a[1]*10000 # True\u000a[1]*1000+[2]*1000 # False\u000a[0]*1000+[1]*1000 # False\u000a[random.randint(1, 2) for _ in range(20000)] # False\u000a</code></pre>\u000a\u000a<p><code>WA</code> means that the solution gave a <em>wrong answer</em>; <code>RE</code> stands for <em>runtime error</em>.</p>\u000a\u000a<hr>\u000a\u000a<p>So my verdict is, <em>Winston Ewert</em>'s <code>x==[1]*len(x)</code> <a href="http://stackoverflow.com/a/13615438">solution</a> is the fastest in most cases. If you rarely have lists of all ones (the data is random, etc.) or you don't want to use additional RAM, my solution works better. If the lists are small, the difference is negligible. </p>\u000a
p839
sVquestion_id
p840
I13613044
sVlast_activity_date
p841
I1354230687
sVcreation_date
p842
I1354131558
sVscore
p843
I79
sVowner
p844
(dp845
Vuser_id
p846
I241039
sVprofile_image
p847
Vhttps://www.gravatar.com/avatar/0fb3b178709c2d4509c94967a7082ac2?s=128&d=identicon&r=PG
p848
sVuser_type
p849
Vregistered
p850
sVreputation
p851
I16134
sVlink
p852
Vhttp://stackoverflow.com/users/241039/oleh-prypin
p853
sVaccept_rate
p854
I100
sVdisplay_name
p855
VOleh Prypin
p856
ssVis_accepted
p857
I01
sVlast_edit_date
p858
I1354230687
sVanswer_id
p859
I13613065
sa(dp860
Vbody
p861
V<p>This takes the last. Not the maximum though:</p>\u000a\u000a<pre><code>In [10]: df.drop_duplicates(cols='A', take_last=True)\u000aOut[10]: \u000a   A   B\u000a1  1  20\u000a3  2  40\u000a4  3  10\u000a</code></pre>\u000a\u000a<p>You can do also something like:</p>\u000a\u000a<pre><code>In [12]: df.groupby('A', group_keys=False).apply(lambda x: x.ix[x.B.idxmax()])\u000aOut[12]: \u000a   A   B\u000aA       \u000a1  1  20\u000a2  2  40\u000a3  3  10\u000a</code></pre>\u000a
p862
sVquestion_id
p863
I12497402
sVlast_activity_date
p864
I1351123802
sVcreation_date
p865
I1351123802
sVscore
p866
I61
sVowner
p867
(dp868
Vuser_id
p869
I776560
sVprofile_image
p870
Vhttps://www.gravatar.com/avatar/2c08a3eed709a9d1a2654cea45aa466f?s=128&d=identicon&r=PG
p871
sVuser_type
p872
Vregistered
p873
sVreputation
p874
I37562
sVlink
p875
Vhttp://stackoverflow.com/users/776560/wes-mckinney
p876
sVdisplay_name
p877
VWes McKinney
p878
ssVis_accepted
p879
I01
sVanswer_id
p880
I13059751
sa(dp881
Vbody
p882
V<p>Ignoring the smooth interpolation between points in your example graph (that would  require doing some manual interpolation, or just have a higher resolution of your data), you can use <code>pylab.fill_between()</code>:</p>\u000a\u000a<pre><code>from matplotlib import pyplot as pl\u000aimport numpy as np\u000a\u000ax = np.linspace(0, 30, 30)\u000ay = np.sin(x/6*np.pi)\u000aerror = np.random.normal(0.1, 0.02, size=y.shape)\u000ay += np.random.normal(0, 0.1, size=y.shape)\u000a\u000apl.plot(x, y, 'k-')\u000apl.fill_between(x, y-error, y+error)\u000apl.show()\u000a</code></pre>\u000a\u000a<p><img src="https://i.stack.imgur.com/105nT.png" alt="enter image description here"></p>\u000a\u000a<p>See also the <a href="http://matplotlib.org/examples/pylab_examples/fill_between_demo.html" rel="noreferrer">matplotlib examples </a>.</p>\u000a
p883
sVquestion_id
p884
I12957582
sVlast_activity_date
p885
I1350575062
sVcreation_date
p886
I1350575062
sVscore
p887
I44
sVowner
p888
(dp889
Vuser_id
p890
I707650
sVprofile_image
p891
Vhttps://www.gravatar.com/avatar/f14a586643a20c8d68010f7a329f5a04?s=128&d=identicon&r=PG
p892
sVuser_type
p893
Vregistered
p894
sVreputation
p895
I12934
sVlink
p896
Vhttp://stackoverflow.com/users/707650/evert
p897
sVaccept_rate
p898
I88
sVdisplay_name
p899
VEvert
p900
ssVis_accepted
p901
I01
sVanswer_id
p902
I12958534
sa(dp903
Vbody
p904
V<h2>Python &lt;3.3</h2>\u000a\u000a<p>You mean something like this?</p>\u000a\u000a<pre><code>class Record(object):\u000a    __slots__= "attribute1", "attribute2", "attribute3",\u000a\u000a    def items(self):\u000a        "dict style items"\u000a        return [\u000a            (field_name, getattr(self, field_name))\u000a            for field_name in self.__slots__]\u000a\u000a    def __iter__(self):\u000a        "iterate over fields tuple/list style"\u000a        for field_name in self.__slots__:\u000a            yield getattr(self, field_name)\u000a\u000a    def __getitem__(self, index):\u000a        "tuple/list style getitem"\u000a        return getattr(self, self.__slots__[index])\u000a\u000a&gt;&gt;&gt; r= Record()\u000a&gt;&gt;&gt; r.attribute1= "hello"\u000a&gt;&gt;&gt; r.attribute2= "there"\u000a&gt;&gt;&gt; r.attribute3= 3.14\u000a\u000a&gt;&gt;&gt; print r.items()\u000a[('attribute1', 'hello'), ('attribute2', 'there'), ('attribute3', 3.1400000000000001)]\u000a&gt;&gt;&gt; print tuple(r)\u000a('hello', 'there', 3.1400000000000001)\u000a</code></pre>\u000a\u000a<p>Note that the methods provided are just a sample of possible methods.</p>\u000a\u000a<h2>Python \u22653.3 update</h2>\u000a\u000a<p>You can use <a href="http://docs.python.org/py3k/library/types.html#types.SimpleNamespace" rel="noreferrer"><code>types.SimpleNamespace</code></a>:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; import types\u000a&gt;&gt;&gt; r= types.SimpleNamespace()\u000a&gt;&gt;&gt; r.attribute1= "hello"\u000a&gt;&gt;&gt; r.attribute2= "there"\u000a&gt;&gt;&gt; r.attribute3= 3.14\u000a</code></pre>\u000a\u000a<p><code>dir(r)</code> would provide you with the attribute names (filtering out all <code>.startswith("__")</code>, of course).</p>\u000a
p905
sVquestion_id
p906
I5227839
sVlast_activity_date
p907
I1350286742
sVcreation_date
p908
I1301515714
sVscore
p909
I36
sVowner
p910
(dp911
Vuser_id
p912
I6899
sVprofile_image
p913
Vhttps://www.gravatar.com/avatar/132aeb33251a1eddee3efc87633c0af1?s=128&d=identicon&r=PG
p914
sVuser_type
p915
Vregistered
p916
sVreputation
p917
I51023
sVlink
p918
Vhttp://stackoverflow.com/users/6899/tzot
p919
sVaccept_rate
p920
I83
sVdisplay_name
p921
Vtzot
p922
ssVis_accepted
p923
I01
sVlast_edit_date
p924
I1350286742
sVanswer_id
p925
I5491708
sa(dp926
Vbody
p927
V<p>You need to add a reference to <code>Microsoft.CSharp.dll</code>.  This provides the required types for using <code>dynamic</code> in C#.</p>\u000a\u000a<p>Also, you will likely need to upgrade to IronPython 2.7[.3] or later, as there are some incompatibilities with old releases and the newer .NET frameworks.</p>\u000a
p928
sVquestion_id
p929
I12678365
sVlast_activity_date
p930
I1349115274
sVcreation_date
p931
I1349114088
sVscore
p932
I109
sVowner
p933
(dp934
Vuser_id
p935
I65358
sVprofile_image
p936
Vhttps://www.gravatar.com/avatar/87b3a4c585e6fd2ad5308e15e12bdc36?s=128&d=identicon&r=PG
p937
sVuser_type
p938
Vregistered
p939
sVreputation
p940
I417991
sVlink
p941
Vhttp://stackoverflow.com/users/65358/reed-copsey
p942
sVaccept_rate
p943
I78
sVdisplay_name
p944
VReed Copsey
p945
ssVis_accepted
p946
I01
sVlast_edit_date
p947
I1349115274
sVanswer_id
p948
I12678409
sa(dp949
Vbody
p950
V<p>In Python 3, use <code>next(uptofive)</code> instead of <code>uptofive.next()</code>.</p>\u000a\u000a<p>The built-in <code>next()</code> function also works in Python 2.6 or greater.</p>\u000a
p951
sVquestion_id
p952
I12274606
sVlast_activity_date
p953
I1346820515
sVcreation_date
p954
I1346820515
sVscore
p955
I58
sVowner
p956
(dp957
Vuser_id
p958
I893
sVprofile_image
p959
Vhttps://www.gravatar.com/avatar/747ffa5da3538e66840ebc0548b8fd58?s=128&d=identicon&r=PG
p960
sVuser_type
p961
Vregistered
p962
sVreputation
p963
I552714
sVlink
p964
Vhttp://stackoverflow.com/users/893/greg-hewgill
p965
sVaccept_rate
p966
I85
sVdisplay_name
p967
VGreg Hewgill
p968
ssVis_accepted
p969
I01
sVanswer_id
p970
I12274637
sa(dp971
Vbody
p972
V<p>The error you are receiving is due to how you define <code>jet</code>. You are creating the base class <code>Colormap</code> with the name 'jet', but this is very different from getting the default definition of the 'jet' colormap. This base class should never be created directly, and only the subclasses should be instantiated. </p>\u000a\u000a<p>What you've found with your example is a buggy behavior in Matplotlib. There should be a clearer error message generated when this code is run. </p>\u000a\u000a<p>This is an updated version of your example: </p>\u000a\u000a<pre><code>import matplotlib.pyplot as plt\u000aimport matplotlib.colors as colors\u000aimport matplotlib.cm as cmx\u000aimport numpy as np\u000a\u000a# define some random data that emulates your indeded code:\u000aNCURVES = 10\u000anp.random.seed(101)\u000acurves = [np.random.random(20) for i in range(NCURVES)]\u000avalues = range(NCURVES)\u000a\u000afig = plt.figure()\u000aax = fig.add_subplot(111)\u000a# replace the next line \u000a#jet = colors.Colormap('jet')\u000a# with\u000ajet = cm = plt.get_cmap('jet') \u000acNorm  = colors.Normalize(vmin=0, vmax=values[-1])\u000ascalarMap = cmx.ScalarMappable(norm=cNorm, cmap=jet)\u000aprint scalarMap.get_clim()\u000a\u000alines = []\u000afor idx in range(len(curves)):\u000a    line = curves[idx]\u000a    colorVal = scalarMap.to_rgba(values[idx])\u000a    colorText = (\u000a        'color: (%4.2f,%4.2f,%4.2f)'%(colorVal[0],colorVal[1],colorVal[2])\u000a        )\u000a    retLine, = ax.plot(line,\u000a                       color=colorVal,\u000a                       label=colorText)\u000a    lines.append(retLine)\u000a#added this to get the legend to work\u000ahandles,labels = ax.get_legend_handles_labels()\u000aax.legend(handles, labels, loc='upper right')\u000aax.grid()\u000aplt.show()\u000a</code></pre>\u000a\u000a<p>Resulting in:</p>\u000a\u000a<p><img src="https://i.stack.imgur.com/JvjS9.png" alt="enter image description here"></p>\u000a\u000a<p>Using a <code>ScalarMappable</code> is an improvement over the approach presented in my related answer:\u000a<a href="http://stackoverflow.com/questions/8389636/creating-over-20-unique-legends-using-matplotlib/8391452#8391452">creating over 20 unique legend colors using matplotlib</a></p>\u000a
p973
sVquestion_id
p974
I8931268
sVlast_activity_date
p975
I1345725097
sVcreation_date
p976
I1326998050
sVscore
p977
I57
sVowner
p978
(dp979
Vuser_id
p980
I717357
sVprofile_image
p981
Vhttps://www.gravatar.com/avatar/43bb5036a976173d74210931a0f444a5?s=128&d=identicon&r=PG
p982
sVuser_type
p983
Vregistered
p984
sVreputation
p985
I13605
sVlink
p986
Vhttp://stackoverflow.com/users/717357/yann
p987
sVaccept_rate
p988
I83
sVdisplay_name
p989
VYann
p990
ssVis_accepted
p991
I01
sVlast_edit_date
p992
I1345725097
sVanswer_id
p993
I8931396
sa(dp994
Vbody
p995
V<p>The <code>Site</code> object for your Django project is missing. Each Django project has a <code>Site</code> object which contains the site's name and domain. It is usually automatically created when creating a Django project (in particular, when the <code>syncdb</code> command runs) but in your case it seems that didn't happen.</p>\u000a\u000a<p>To fix it:</p>\u000a\u000a<p>Open the Django shell for your site (<code>python manage.py shell</code>).</p>\u000a\u000a<p>Type the following:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; from django.contrib.sites.models import Site\u000a&gt;&gt;&gt; Site.objects.create(name='example.com', domain='example.com')\u000a</code></pre>\u000a\u000a<p>If you want to change these values later, go to your admin panel (<code>/admin/</code>) and edit the site object in the section <code>Sites</code>.</p>\u000a
p996
sVquestion_id
p997
I11476210
sVlast_activity_date
p998
I1342205991
sVcreation_date
p999
I1342205159
sVscore
p1000
I81
sVowner
p1001
(dp1002
Vuser_id
p1003
I1267329
sVprofile_image
p1004
Vhttps://www.gravatar.com/avatar/f943c14b945cadc0ee0afa6ef70d2103?s=128&d=identicon&r=PG
p1005
sVuser_type
p1006
Vregistered
p1007
sVreputation
p1008
I59061
sVlink
p1009
Vhttp://stackoverflow.com/users/1267329/simeon-visser
p1010
sVdisplay_name
p1011
VSimeon Visser
p1012
ssVis_accepted
p1013
I01
sVlast_edit_date
p1014
I1342205991
sVanswer_id
p1015
I11476472
sa(dp1016
Vbody
p1017
V<p>Okay, first things first.</p>\u000a\u000a<p><strong>There is no such thing as "variable declaration" or "variable initialization" in Python.</strong></p>\u000a\u000a<p>There is simply what we call "assignment", but should probably just call "naming".</p>\u000a\u000a<p>Assignment means "this name on the left-hand side now refers to the result of evaluating the right-hand side, regardless of what it referred to before (if anything)".</p>\u000a\u000a<pre><code>foo = 'bar' # the name 'foo' is now a name for the string 'bar'\u000afoo = 2 * 3 # the name 'foo' stops being a name for the string 'bar',\u000a# and starts being a name for the integer 6, resulting from the multiplication\u000a</code></pre>\u000a\u000a<p>As such, Python's names (a better term than "variables", arguably) don't have associated types; the values do. You can re-apply the same name to anything regardless of its type, but the thing still has behaviour that's dependent upon its type. The name is simply a way to refer to the value (object). This answers your second question: You <strong>don't</strong> create variables to hold a custom type. You don't create variables to hold any particular type. You don't "create" variables at all. You give names to objects.</p>\u000a\u000a<p>Second point: Python follows a very simple rule when it comes to classes, that is actually much more consistent than what languages like Java, C++ and C# do: <strong>everything declared inside the <code>class</code> block is part of the class</strong>. So, functions (<code>def</code>) written here are methods, i.e. part of the class object (not stored on a per-instance basis), just like in Java, C++ and C#; but other names here are <strong>also</strong> part of the class. Again, the names are just names, and they don't have associated types, and <strong>functions are objects too</strong> in Python. Thus:</p>\u000a\u000a<pre><code>class Example:\u000a    data = 42\u000a    def method(self): pass\u000a</code></pre>\u000a\u000a<p><strong>Classes are objects too</strong>, in Python.</p>\u000a\u000a<p>So now we have created an <strong>object</strong> named <code>Example</code>, which represents the class of all things that are <code>Example</code>s. This object has two user-supplied <strong>attributes</strong> (In C++, "members"; in C#, "fields or properties or methods"; in Java, "fields or methods"). One of them is named <code>data</code>, and it stores the integer value <code>42</code>. The other is named <code>method</code>, and it stores a function object. (There are several more attributes that Python adds automatically.)</p>\u000a\u000a<p>These attributes still aren't really part of the object, though. Fundamentally, an object is just a bundle of more names (the attribute names), until you get down to things that can't be divided up any more. Thus, values can be shared between different instances of a class, or even between objects of different classes, if you deliberately set that up.</p>\u000a\u000a<p>Let's create an instance:</p>\u000a\u000a<pre><code>x = Example()\u000a</code></pre>\u000a\u000a<p>Now we have a separate object named <code>x</code>, which is an instance of <code>Example</code>. The <code>data</code> and <code>method</code> are not actually part of the object, but we can still look them up via <code>x</code> because of some magic that Python does behind the scenes. When we look up <code>method</code>, in particular, we will instead get a "bound method" (when we call it, <code>x</code> gets passed automatically as the <code>self</code> parameter, which cannot happen if we look up <code>Example.method</code> directly).</p>\u000a\u000a<p>What happens when we try to use <code>x.data</code>?</p>\u000a\u000a<p>When we examine it, it's looked up in the object first. If it's not found in the object, Python looks in the class.</p>\u000a\u000a<p>However, when we <em>assign to</em> <code>x.data</code>, Python will create an attribute on the object. It will <strong>not</strong> replace the class' attribute.</p>\u000a\u000a<p>This allows us to do <strong>object</strong> initialization. Python will automatically call the class' <code>__init__</code> method on new instances when they are created, if present. In this method, we can simply assign to attributes to set initial values for that attribute on each object:</p>\u000a\u000a<pre><code>class Example:\u000a    name = "Ignored"\u000a    def __init__(self, name):\u000a        self.name = name\u000a    # rest as before\u000a</code></pre>\u000a\u000a<p>Now we must specify a <code>name</code> when we create an <code>Example</code>, and each instance has its own <code>name</code>. Python will ignore the class attribute <code>Example.name</code> whenever we look up the <code>.name</code> of an instance, because the instance's attribute will be found first.</p>\u000a\u000a<p>One last caveat: <strong>modification (mutation) and assignment are different things!</strong></p>\u000a\u000a<p>In Python, strings are immutable. They cannot be modified. When you do:</p>\u000a\u000a<pre><code>a = 'hi '\u000ab = a\u000aa += 'mom'\u000a</code></pre>\u000a\u000a<p>You <strong>do not change</strong> the original 'hi ' string. That is impossible in Python. Instead, you create a <strong>new</strong> string <code>'hi mom'</code>, and cause <code>a</code> to stop being a name for <code>'hi '</code>, and start being a name for <code>'hi mom'</code> instead. We made <code>b</code> a name for <code>'hi '</code> as well, and after re-applying the <code>a</code> name, <code>b</code> is still a name for <code>'hi '</code>, because <code>'hi '</code> still exists and has not been changed.</p>\u000a\u000a<p>But lists can be changed:</p>\u000a\u000a<pre><code>a = [1, 2, 3]\u000ab = a\u000aa += [4]\u000a</code></pre>\u000a\u000a<p>Now <code>b</code> is [1, 2, 3, 4] as well, because we made <code>b</code> a name for the same thing that <code>a</code> named, and then we changed that thing. We did not create a new list for <code>a</code> to name, because Python simply treats <code>+=</code> differently for lists.</p>\u000a\u000a<p>This matters for objects because if you had a list as a class attribute, and used an instance to modify the list, then the change would be "seen" in all other instances. This is because (a) the data is actually part of the class object, and not any instance object; (b) because you were modifying the list and not doing a simple assignment, you did not create a new instance attribute hiding the class attribute.</p>\u000a
p1018
sVquestion_id
p1019
I11007627
sVlast_activity_date
p1020
I1339562600
sVcreation_date
p1021
I1339562600
sVscore
p1022
I119
sVowner
p1023
(dp1024
Vuser_id
p1025
I523612
sVprofile_image
p1026
Vhttps://www.gravatar.com/avatar/4ae512dd708a619496d36b1f681f95e0?s=128&d=identicon&r=PG
p1027
sVuser_type
p1028
Vregistered
p1029
sVreputation
p1030
I32029
sVlink
p1031
Vhttp://stackoverflow.com/users/523612/karl-knechtel
p1032
sVaccept_rate
p1033
I100
sVdisplay_name
p1034
VKarl Knechtel
p1035
ssVis_accepted
p1036
I01
sVanswer_id
p1037
I11008311
sa(dp1038
Vbody
p1039
V<p>In the <code>time</code> module, there are two timing functions: <code>time</code> and <code>clock</code>. <code>time</code> gives you "wall" time, if this is what you care about.</p>\u000a\u000a<p>However, the python <a href="http://docs.python.org/lib/module-time.html" rel="noreferrer">docs</a> say that <code>clock</code> should be used for benchmarking. Note that <code>clock</code> behaves different in separate systems:</p>\u000a\u000a<ul>\u000a<li>on MS Windows, it uses the Win32 function QueryPerformanceCounter(), with "resolution typically better than a microsecond". It has no special meaning, it's just a number (it starts counting the first time you call <code>clock</code> in your process).</li>\u000a</ul>\u000a\u000a<pre>\u000a    # ms windows\u000a    t0= time.clock()\u000a    do_something()\u000a    t= time.clock() - t0 # t is wall seconds elapsed (floating point)\u000a</pre>\u000a\u000a<ul>\u000a<li>on *nix, <code>clock</code> reports CPU time. Now, this is different, and most probably the value you want, since your program hardly ever is the only process requesting CPU time (even if you have no other processes, the kernel uses CPU time now and then). So, this number, which typically is smaller¹ than the wall time (i.e. time.time() - t0), is more meaningful when benchmarking code:</li>\u000a</ul>\u000a\u000a<pre>\u000a    # linux\u000a    t0= time.clock()\u000a    do_something()\u000a    t= time.clock() - t0 # t is CPU seconds elapsed (floating point)\u000a</pre>\u000a\u000a<p>Apart from all that, the <a href="http://docs.python.org/lib/module-timeit.html" rel="noreferrer">timeit</a> module has the <code>Timer</code> class that is supposed to use what's best for benchmarking from the available functionality.</p>\u000a\u000a<p>¹ unless threading gets in the way\u2026</p>\u000a\u000a<p>² Python \u22653.3: there are <a href="http://www.python.org/dev/peps/pep-0418/#id18" rel="noreferrer"><code>time.perf_counter()</code> and <code>time.process_time()</code></a>. <code>perf_counter</code> is being used by the <code>timeit</code> module.</p>\u000a
p1040
sVquestion_id
p1041
I156330
sVlast_activity_date
p1042
I1335902016
sVcreation_date
p1043
I1222865351
sVscore
p1044
I32
sVowner
p1045
(dp1046
Vuser_id
p1047
I6899
sVprofile_image
p1048
Vhttps://www.gravatar.com/avatar/132aeb33251a1eddee3efc87633c0af1?s=128&d=identicon&r=PG
p1049
sVuser_type
p1050
Vregistered
p1051
sVreputation
p1052
I51023
sVlink
p1053
Vhttp://stackoverflow.com/users/6899/tzot
p1054
sVaccept_rate
p1055
I83
sVdisplay_name
p1056
Vtzot
p1057
ssVis_accepted
p1058
I01
sVlast_edit_date
p1059
I1335902016
sVanswer_id
p1060
I157423
sa(dp1061
Vbody
p1062
V<p>In short, don't use <code>read</code>. Replace <code>read</code> with a function like this:</p>\u000a\u000a<pre><code>import Numeric\u000a\u000afastRead :: String -&gt; Int\u000afastRead s = case readDec s of [(n, "")] -&gt; n\u000a</code></pre>\u000a\u000a<p>I get a pretty fair speedup:</p>\u000a\u000a<pre><code>~/programming% time ./test.slow\u000a./test.slow  9.82s user 0.06s system 99% cpu 9.901 total\u000a~/programming% time ./test.fast\u000a./test.fast  6.99s user 0.05s system 99% cpu 7.064 total\u000a~/programming% time ./test.bytestring\u000a./test.bytestring  4.94s user 0.06s system 99% cpu 5.026 total\u000a</code></pre>\u000a\u000a<p>Just for fun, the above results include a version that uses <code>ByteString</code> (and hence fails the "ready for the 21st century" test by totally ignoring the problem of file encodings) for ULTIMATE BARE-METAL SPEED. It also has a few other differences; for example, it ships out to the standard library's sort function. The full code is below.</p>\u000a\u000a<pre><code>import qualified Data.ByteString as BS\u000aimport Data.Attoparsec.ByteString.Char8\u000aimport Control.Applicative\u000aimport Data.List\u000a\u000aparser = many (decimal &lt;* char '\u005cn')\u000a\u000areallyParse p bs = case parse p bs of\u000a    Partial f -&gt; f BS.empty\u000a    v -&gt; v\u000a\u000amain = do\u000a    numbers &lt;- BS.readFile "data"\u000a    case reallyParse parser numbers of\u000a        Done t r | BS.null t -&gt; writeFile "sorted" . unlines . map show . sort $ r\u000a</code></pre>\u000a
p1063
sVquestion_id
p1064
I10357663
sVlast_activity_date
p1065
I1335564642
sVcreation_date
p1066
I1335562657
sVscore
p1067
I37
sVowner
p1068
(dp1069
Vuser_id
p1070
I791604
sVprofile_image
p1071
Vhttps://www.gravatar.com/avatar/ce991df7a056248d5e4f6fc3659ba733?s=128&d=identicon&r=PG
p1072
sVuser_type
p1073
Vregistered
p1074
sVreputation
p1075
I74625
sVlink
p1076
Vhttp://stackoverflow.com/users/791604/daniel-wagner
p1077
sVaccept_rate
p1078
I95
sVdisplay_name
p1079
VDaniel Wagner
p1080
ssVis_accepted
p1081
I01
sVlast_edit_date
p1082
I1335564642
sVanswer_id
p1083
I10358198
sa(dp1084
Vbody
p1085
V<p>Try this:</p>\u000a\u000a<pre><code>[dict(t) for t in set([tuple(d.items()) for d in l])]\u000a</code></pre>\u000a\u000a<p>The strategy is to convert the list of dictionaries to a list of tuples where the tuples contain the items of the dictionary. Since the tuples can be hashed, you can remove duplicates using <code>set</code> and, after that, re-create the dictionaries from tuples with <code>dict</code>.</p>\u000a\u000a<p>where:</p>\u000a\u000a<ul>\u000a<li><code>l</code> is the original list</li>\u000a<li><code>d</code> is one of the dictionaries in the list</li>\u000a<li><code>t</code> is one of the tuples created from a dictionary</li>\u000a</ul>\u000a\u000a<p>Edit: If you want to preserve ordering, the one-liner above won't work since <code>set</code> won't do that. However, with a few lines of code, you can also do that:</p>\u000a\u000a<pre><code>l = [{'a': 123, 'b': 1234},\u000a        {'a': 3222, 'b': 1234},\u000a        {'a': 123, 'b': 1234}]\u000a\u000aseen = set()\u000anew_l = []\u000afor d in l:\u000a    t = tuple(d.items())\u000a    if t not in seen:\u000a        seen.add(t)\u000a        new_l.append(d)\u000a\u000aprint new_l\u000a</code></pre>\u000a\u000a<p>Example output:</p>\u000a\u000a<pre><code>[{'a': 123, 'b': 1234}, {'a': 3222, 'b': 1234}]\u000a</code></pre>\u000a\u000a<p>Note: As pointed out by @alexis it might happen that two dictionaries with the same keys and values, don't result in the same tuple. That could happen if they go through a different adding/removing keys history. If that's the case for your problem, then consider sorting <code>d.items()</code> as he suggests.</p>\u000a
p1086
sVquestion_id
p1087
I9427163
sVlast_activity_date
p1088
I1330099133
sVcreation_date
p1089
I1330069891
sVscore
p1090
I80
sVowner
p1091
(dp1092
Vuser_id
p1093
I183066
sVprofile_image
p1094
Vhttps://www.gravatar.com/avatar/d6137a572e32e1b15ffb22d593857681?s=128&d=identicon&r=PG
p1095
sVuser_type
p1096
Vregistered
p1097
sVreputation
p1098
I25406
sVlink
p1099
Vhttp://stackoverflow.com/users/183066/jcollado
p1100
sVdisplay_name
p1101
Vjcollado
p1102
ssVis_accepted
p1103
I01
sVlast_edit_date
p1104
I1330099133
sVanswer_id
p1105
I9427216
sa(dp1106
Vbody
p1107
V<p>It would be more helpful if you posed a more complete working (or in this case non-working) example.</p>\u000a\u000a<p>I tried the following:</p>\u000a\u000a<pre><code>import numpy as np\u000aimport matplotlib.pyplot as plt\u000a\u000ax = np.random.randn(1000)\u000a\u000afig = plt.figure()\u000aax = fig.add_subplot(111)\u000an, bins, rectangles = ax.hist(x, 50, normed=True)\u000afig.canvas.draw()\u000aplt.show()\u000a</code></pre>\u000a\u000a<p>This will indeed produce a bar-chart histogram with a y-axis that goes from <code>[0,1]</code>.</p>\u000a\u000a<p>Further, as per the <code>hist</code> documentation (i.e. <code>ax.hist?</code> from <code>ipython</code>), I think the sum is fine too:</p>\u000a\u000a<pre><code>*normed*:\u000aIf *True*, the first element of the return tuple will\u000abe the counts normalized to form a probability density, i.e.,\u000a``n/(len(x)*dbin)``.  In a probability density, the integral of\u000athe histogram should be 1; you can verify that with a\u000atrapezoidal integration of the probability density function::\u000a\u000a    pdf, bins, patches = ax.hist(...)\u000a    print np.sum(pdf * np.diff(bins))\u000a</code></pre>\u000a\u000a<p>Giving this a try after the commands above:</p>\u000a\u000a<pre><code>np.sum(n * np.diff(bins))\u000a</code></pre>\u000a\u000a<p>I get a return value of <code>1.0</code> as expected.  Remember that <code>normed=True</code> doesn't mean that the sum of the value at each bar will be unity, but rather than the integral over the bars is unity.  In my case <code>np.sum(n)</code> returned approx <code>7.2767</code>.</p>\u000a
p1108
sVquestion_id
p1109
I3866520
sVlast_activity_date
p1110
I1327134407
sVcreation_date
p1111
I1286304329
sVscore
p1112
I29
sVowner
p1113
(dp1114
Vuser_id
p1115
I429795
sVprofile_image
p1116
Vhttps://www.gravatar.com/avatar/0b3ec57f2a2d762170a7bf91dd044655?s=128&d=identicon&r=PG
p1117
sVuser_type
p1118
Vregistered
p1119
sVreputation
p1120
I1436
sVlink
p1121
Vhttp://stackoverflow.com/users/429795/dtlussier
p1122
sVaccept_rate
p1123
I100
sVdisplay_name
p1124
Vdtlussier
p1125
ssVis_accepted
p1126
I01
sVlast_edit_date
p1127
I1327134407
sVanswer_id
p1128
I3866730
sa(dp1129
Vbody
p1130
V<p>Create your virtualenv environment within a path without spaces. This is why it is happening:</p>\u000a\u000a<p>When you create an environment, it sets up a <code>bin</code> directory. In that <code>bin</code> directory are all the executables relating to the environment. Some are scripts. As you may know, hashbangs are used to tell the system what interpreter to use to run the script. You may see this at the top of scripts often:</p>\u000a\u000a<pre><code>#!/usr/bin/env python\u000a</code></pre>\u000a\u000a<p>If the script is at <code>/tmp/test.py</code>, that tells the system to run this command to execute the script:</p>\u000a\u000a<pre><code>/usr/bin/env python /tmp/test.py\u000a</code></pre>\u000a\u000a<p>In your case, virtualenv is creating scripts like this:</p>\u000a\u000a<pre><code>#!/tmp/oh no/bin/python\u000a</code></pre>\u000a\u000a<p>When the system tries to execute that, it will try to execute the command <code>/tmp/oh</code> with the arguments <code>no/bin/python</code> and <code>/tmp/test.py</code>. <code>/tmp/oh</code> does not exist, so it fails.</p>\u000a
p1131
sVquestion_id
p1132
I7911003
sVlast_activity_date
p1133
I1319681943
sVcreation_date
p1134
I1319681943
sVscore
p1135
I85
sVowner
p1136
(dp1137
Vuser_id
p1138
I200291
sVprofile_image
p1139
Vhttps://www.gravatar.com/avatar/399cacf55045372a29f1f844d12ee777?s=128&d=identicon&r=PG
p1140
sVuser_type
p1141
Vregistered
p1142
sVreputation
p1143
I89021
sVlink
p1144
Vhttp://stackoverflow.com/users/200291/icktoofay
p1145
sVaccept_rate
p1146
I88
sVdisplay_name
p1147
Vicktoofay
p1148
ssVis_accepted
p1149
I01
sVanswer_id
p1150
I7911058
sa(dp1151
Vbody
p1152
V<p>I believe you are looking for the <a href="https://docs.djangoproject.com/en/dev/ref/templates/builtins/#templatetag"><code>templatetag</code></a> template tag.</p>\u000a\u000a<p>As the linked-to doc states,</p>\u000a\u000a<blockquote>\u000a  <p>Since the template system has no concept of "escaping", to display one of the bits used in template tags, you must use the <code>{% templatetag %}</code> tag.</p>\u000a</blockquote>\u000a\u000a<p>For example:</p>\u000a\u000a<pre><code>&lt;p&gt;"{% templatetag openvariable %} some text {% templatetag closevariable %}"&lt;/p&gt;\u000a</code></pre>\u000a\u000a<p>will appear as so:</p>\u000a\u000a<pre><code>&lt;p&gt;"{{ some text }}"&lt;/p&gt;\u000a</code></pre>\u000a
p1153
sVquestion_id
p1154
I7772001
sVlast_activity_date
p1155
I1318618242
sVcreation_date
p1156
I1318618242
sVscore
p1157
I44
sVowner
p1158
(dp1159
Vuser_id
p1160
I286340
sVprofile_image
p1161
Vhttps://www.gravatar.com/avatar/bd79db38b077342f501463815b8b9813?s=128&d=identicon&r=PG
p1162
sVuser_type
p1163
Vregistered
p1164
sVreputation
p1165
I8283
sVlink
p1166
Vhttp://stackoverflow.com/users/286340/nate
p1167
sVaccept_rate
p1168
I100
sVdisplay_name
p1169
VNate
p1170
ssVis_accepted
p1171
I01
sVanswer_id
p1172
I7772192
sa(dp1173
Vbody
p1174
V<p>Since you're decorating a method, and <code>self</code> is a method argument, your decorator has access to <code>self</code> at runtime.  Obviously not at parsetime, because there are no objects yet, just a class.</p>\u000a\u000a<p>So you change your decorator to:</p>\u000a\u000a<pre><code>def decorator(func):\u000a    def _decorator(self, *args, **kwargs):\u000a        # access a from TestSample\u000a        print 'self is %s' % self\u000a        func(self, *args, **kwargs)\u000a    return _decorator\u000a</code></pre>\u000a
p1175
sVquestion_id
p1176
I7590682
sVlast_activity_date
p1177
I1317251257
sVcreation_date
p1178
I1317251257
sVscore
p1179
I69
sVowner
p1180
(dp1181
Vuser_id
p1182
I524389
sVprofile_image
p1183
Vhttps://www.gravatar.com/avatar/e61b2289afe9949e3a4ba903f6428cf4?s=128&d=identicon&r=PG
p1184
sVuser_type
p1185
Vregistered
p1186
sVreputation
p1187
I6107
sVlink
p1188
Vhttp://stackoverflow.com/users/524389/dave
p1189
sVaccept_rate
p1190
I100
sVdisplay_name
p1191
VDave
p1192
ssVis_accepted
p1193
I01
sVanswer_id
p1194
I7590709
sa(dp1195
Vbody
p1196
V<p>Archie1986's answer was good but has become outdated with socketio updates (more specifically, its protocol : <a href="https://github.com/LearnBoost/socket.io-spec" rel="noreferrer">https://github.com/LearnBoost/socket.io-spec</a>)... as far as i can tell, you need to perform the handshake manually before you can ask for a transport (e.g., websockets) connection... note that the code below is incomplete and insecure... for one, it ignores the list of supported transports returned in the handshake response and always tries to get a websocket... also it assumes that the handshake always succeeds... nevertheless, it's a good place to start</p>\u000a\u000a<pre><code>import websocket, httplib\u000a\u000a...\u000a\u000a'''\u000a    connect to the socketio server\u000a\u000a    1. perform the HTTP handshake\u000a    2. open a websocket connection '''\u000adef connect(self) :\u000a    conn  = httplib.HTTPConnection('localhost:8124')\u000a    conn.request('POST','/socket.io/1/')\u000a    resp  = conn.getresponse() \u000a    hskey = resp.read().split(':')[0]\u000a\u000a    self._ws = websocket.WebSocket(\u000a                    'ws://localhost:8124/socket.io/1/websocket/'+hskey,\u000a                    onopen   = self._onopen,\u000a                    onmessage = self._onmessage)\u000a\u000a....\u000a</code></pre>\u000a\u000a<p>you might also want to read up on python-websockets: <a href="https://github.com/mtah/python-websocket" rel="noreferrer">https://github.com/mtah/python-websocket</a></p>\u000a
p1197
sVquestion_id
p1198
I4762086
sVlast_activity_date
p1199
I1317242050
sVcreation_date
p1200
I1317226665
sVscore
p1201
I36
sVowner
p1202
(dp1203
Vuser_id
p1204
I869914
sVprofile_image
p1205
Vhttps://www.gravatar.com/avatar/dc3329dc1fa6d806df3f76ac30bebff9?s=128&d=identicon&r=PG
p1206
sVuser_type
p1207
Vregistered
p1208
sVreputation
p1209
I800
sVlink
p1210
Vhttp://stackoverflow.com/users/869914/rmanna
p1211
sVaccept_rate
p1212
I50
sVdisplay_name
p1213
Vrmanna
p1214
ssVis_accepted
p1215
I01
sVlast_edit_date
p1216
I1317242050
sVanswer_id
p1217
I7586302
sa(dp1218
Vbody
p1219
V<p>After I move/copy pywintypes26.dll and pythoncom26.dll to c:\u005cPython26\u005cLib\u005csite-packages\u005cwin32 -> Solve the problem!</p>\u000a
p1220
sVquestion_id
p1221
I7238403
sVlast_activity_date
p1222
I1314939362
sVcreation_date
p1223
I1314939362
sVscore
p1224
I50
sVowner
p1225
(dp1226
Vuser_id
p1227
I695799
sVprofile_image
p1228
Vhttps://i.stack.imgur.com/UoGI2.jpg?s=128&g=1
p1229
sVuser_type
p1230
Vregistered
p1231
sVreputation
p1232
I1951
sVlink
p1233
Vhttp://stackoverflow.com/users/695799/vin-x
p1234
sVaccept_rate
p1235
I50
sVdisplay_name
p1236
VVin.X
p1237
ssVis_accepted
p1238
I01
sVanswer_id
p1239
I7279374
sa(dp1240
Vbody
p1241
V<p>You almost had it right. The simplest way is</p>\u000a\u000a<pre><code>mylist[0][0]   # get the first character from the first item in the list\u000a</code></pre>\u000a\u000a<p>but</p>\u000a\u000a<pre><code>mylist[0][:1]  # get up to the first character in the first item in the list\u000a</code></pre>\u000a\u000a<p>would also work. </p>\u000a\u000a<p>You want to <strong>end</strong> after the first character (character zero), not <strong>start</strong> after the first character (character zero), which is what the code in your question means.</p>\u000a
p1242
sVquestion_id
p1243
I7108080
sVlast_activity_date
p1244
I1313673916
sVcreation_date
p1245
I1313673916
sVscore
p1246
I62
sVowner
p1247
(dp1248
Vuser_id
p1249
I500584
sVprofile_image
p1250
Vhttps://www.gravatar.com/avatar/02cbc0104ac1794c222b2d3e11d325e4?s=128&d=identicon&r=PG
p1251
sVuser_type
p1252
Vregistered
p1253
sVreputation
p1254
I82963
sVlink
p1255
Vhttp://stackoverflow.com/users/500584/agf
p1256
sVdisplay_name
p1257
Vagf
p1258
ssVis_accepted
p1259
I01
sVanswer_id
p1260
I7108131
sa(dp1261
Vbody
p1262
V<p>I got an answer from the celery-users mailing list (From Ask Solem to be specific).  Add these two lines to the config (celeryconfig/settings):</p>\u000a\u000a<pre><code>from kombu import serialization\u000aserialization.registry._decoders.pop("application/x-python-serialize")\u000a</code></pre>\u000a
p1263
sVquestion_id
p1264
I6628016
sVlast_activity_date
p1265
I1310574466
sVcreation_date
p1266
I1310574466
sVscore
p1267
I10
sVowner
p1268
(dp1269
Vuser_id
p1270
I303056
sVprofile_image
p1271
Vhttps://www.gravatar.com/avatar/8d8b39a5fdfbc5ca99384f89a9561b68?s=128&d=identicon&r=PG
p1272
sVuser_type
p1273
Vregistered
p1274
sVreputation
p1275
I21403
sVlink
p1276
Vhttp://stackoverflow.com/users/303056/leopd
p1277
sVaccept_rate
p1278
I86
sVdisplay_name
p1279
VLeopd
p1280
ssVis_accepted
p1281
I01
sVanswer_id
p1282
I6682247
sa(dp1283
Vbody
p1284
V<p>Yes, the context manager will be available outside the with statement and that is not implementation or version dependent. with statements <em>do not</em> create a new execution scope.</p>\u000a
p1285
sVquestion_id
p1286
I6432355
sVlast_activity_date
p1287
I1308698601
sVcreation_date
p1288
I1308698601
sVscore
p1289
I73
sVowner
p1290
(dp1291
Vuser_id
p1292
I5341
sVprofile_image
p1293
Vhttps://www.gravatar.com/avatar/65389a0139a1dfc8a07f6357f0793a62?s=128&d=identicon&r=PG
p1294
sVuser_type
p1295
Vregistered
p1296
sVreputation
p1297
I5575
sVlink
p1298
Vhttp://stackoverflow.com/users/5341/fuzzyman
p1299
sVaccept_rate
p1300
I100
sVdisplay_name
p1301
Vfuzzyman
p1302
ssVis_accepted
p1303
I01
sVanswer_id
p1304
I6433152
sa(dp1305
Vbody
p1306
V<p>In Python 3, <code>thread</code> has been renamed to <code>_thread</code>. It is infrastructure code that is used to implement <code>threading</code>, and normal Python code shouldn't be going anywhere near it.</p>\u000a\u000a<p><code>_thread</code> exposes a fairly raw view of the underlying OS level processes. This is almost never what you want, hence the rename in Py3k to indicate that it is really just an implementation detail.</p>\u000a\u000a<p><code>threading</code> adds some additional automatic accounting, as well as several convenience utilities, all of which makes it the preferred option for standard Python code.</p>\u000a
p1307
sVquestion_id
p1308
I5568555
sVlast_activity_date
p1309
I1302165024
sVcreation_date
p1310
I1302165024
sVscore
p1311
I53
sVowner
p1312
(dp1313
Vuser_id
p1314
I597742
sVprofile_image
p1315
Vhttps://www.gravatar.com/avatar/f3ba3ecffd20251d73749afbfa636786?s=128&d=identicon&r=PG
p1316
sVuser_type
p1317
Vregistered
p1318
sVreputation
p1319
I20632
sVlink
p1320
Vhttp://stackoverflow.com/users/597742/ncoghlan
p1321
sVaccept_rate
p1322
I100
sVdisplay_name
p1323
Vncoghlan
p1324
ssVis_accepted
p1325
I01
sVanswer_id
p1326
I5578141
sa(dp1327
Vbody
p1328
V<p>Python's <code>string</code> library has <code>isdigit()</code> method:</p>\u000a\u000a<pre><code>string[0].isdigit()\u000a</code></pre>\u000a
p1329
sVquestion_id
p1330
I5577501
sVlast_activity_date
p1331
I1302161823
sVcreation_date
p1332
I1302161823
sVscore
p1333
I81
sVowner
p1334
(dp1335
Vuser_id
p1336
I157176
sVprofile_image
p1337
Vhttps://www.gravatar.com/avatar/e72ba9209373ae37e13ab75054aa0ee5?s=128&d=identicon&r=PG
p1338
sVuser_type
p1339
Vregistered
p1340
sVreputation
p1341
I18239
sVlink
p1342
Vhttp://stackoverflow.com/users/157176/plaes
p1343
sVdisplay_name
p1344
Vplaes
p1345
ssVis_accepted
p1346
I01
sVanswer_id
p1347
I5577536
sa(dp1348
Vbody
p1349
V<p>As of version 2.6, Jinja2's built-in sort filter allows you to specify an attribute to sort by:</p>\u000a\u000a<pre><code>{% for movie in movie_list|sort(attribute='rating') %}\u000a</code></pre>\u000a\u000a<p>See <a href="http://jinja.pocoo.org/docs/templates/#sort" rel="noreferrer">http://jinja.pocoo.org/docs/templates/#sort</a></p>\u000a
p1350
sVquestion_id
p1351
I1959386
sVlast_activity_date
p1352
I1301507747
sVcreation_date
p1353
I1301507747
sVscore
p1354
I83
sVowner
p1355
(dp1356
Vuser_id
p1357
I48423
sVprofile_image
p1358
Vhttps://www.gravatar.com/avatar/6357d3d9714bf8fd52077ce8442fecab?s=128&d=identicon&r=PG
p1359
sVuser_type
p1360
Vregistered
p1361
sVreputation
p1362
I3589
sVlink
p1363
Vhttp://stackoverflow.com/users/48423/steve-s
p1364
sVdisplay_name
p1365
VSteve S
p1366
ssVis_accepted
p1367
I01
sVanswer_id
p1368
I5490174
sa(dp1369
Vbody
p1370
V<p>In the end, the difference between <code>try, except</code> and testing <code>len(sys.argv)</code> isn't all that significant. They're both a bit hackish compared to <a href="http://docs.python.org/library/argparse.html#module-argparse" rel="noreferrer"><code>argparse</code></a>.</p>\u000a\u000a<hr>\u000a\u000a<p>This occurs to me, though -- what do people think of this, as a sort of low-budget argparse?</p>\u000a\u000a<pre><code>arg_names = ['command', 'x', 'y', 'operation', 'option']\u000aargs = dict(zip(arg_names, sys.argv))\u000a</code></pre>\u000a\u000a<p>You could even use it to generate a namedtuple with values that default to <code>None</code>!</p>\u000a\u000a<pre><code>Arg_list = collections.namedtuple('Arg_list', arg_names)\u000aargs = Arg_list(*(args.get(arg, None) for arg in arg_names))\u000a</code></pre>\u000a\u000a<p>And all in just four lines.</p>\u000a
p1371
sVquestion_id
p1372
I5423381
sVlast_activity_date
p1373
I1300999305
sVcreation_date
p1374
I1300990624
sVscore
p1375
I26
sVowner
p1376
(dp1377
Vuser_id
p1378
I577088
sVprofile_image
p1379
Vhttps://i.stack.imgur.com/5UZyo.jpg?s=128&g=1
p1380
sVuser_type
p1381
Vregistered
p1382
sVreputation
p1383
I67900
sVlink
p1384
Vhttp://stackoverflow.com/users/577088/senderle
p1385
sVdisplay_name
p1386
Vsenderle
p1387
ssVis_accepted
p1388
I01
sVlast_edit_date
p1389
I1300999305
sVanswer_id
p1390
I5423609
sa(dp1391
Vbody
p1392
V<p>You can access the lists</p>\u000a\u000a<pre><code>matplotlib.rcsetup.interactive_bk\u000amatplotlib.rcsetup.non_interactive_bk\u000amatplotlib.rcsetup.all_backends\u000a</code></pre>\u000a\u000a<p>the third being the concatenation of the former two.  If I read the source code correctly, those lists are hard-coded though, and don't tell you what backends are actually usable.  There is also</p>\u000a\u000a<pre><code>matplotlib.rcsetup.validate_backend(name)\u000a</code></pre>\u000a\u000a<p>but this also only checks against the hard-coded list.</p>\u000a
p1393
sVquestion_id
p1394
I5091993
sVlast_activity_date
p1395
I1298471578
sVcreation_date
p1396
I1298471578
sVscore
p1397
I25
sVowner
p1398
(dp1399
Vuser_id
p1400
I279627
sVprofile_image
p1401
Vhttps://www.gravatar.com/avatar/2dceea858ad8f1577bec6ddaa0485d15?s=128&d=identicon&r=PG
p1402
sVuser_type
p1403
Vregistered
p1404
sVreputation
p1405
I252330
sVlink
p1406
Vhttp://stackoverflow.com/users/279627/sven-marnach
p1407
sVaccept_rate
p1408
I78
sVdisplay_name
p1409
VSven Marnach
p1410
ssVis_accepted
p1411
I01
sVanswer_id
p1412
I5092255
sa(dp1413
Vbody
p1414
V<p>Looks like the Python compiler optimizes out the temporary tuple with this construct:</p>\u000a\u000a<h3>code:</h3>\u000a\u000a<pre><code>import dis\u000a\u000adef swap1():\u000a  a=5\u000a  b=4\u000a  a, b = b, a\u000a\u000adef swap2():\u000a  a=5\u000a  b=4\u000a  c = a\u000a  a = b\u000a  b = c\u000a\u000aprint 'swap1():'\u000adis.dis(swap1)\u000aprint 'swap2():'\u000adis.dis(swap2)\u000a</code></pre>\u000a\u000a<h3>output:</h3>\u000a\u000a<pre><code>swap1():\u000a  6           0 LOAD_CONST               1 (5)\u000a              3 STORE_FAST               0 (a)\u000a\u000a  7           6 LOAD_CONST               2 (4)\u000a              9 STORE_FAST               1 (b)\u000a\u000a  8          12 LOAD_FAST                1 (b)\u000a             15 LOAD_FAST                0 (a)\u000a             18 ROT_TWO             \u000a             19 STORE_FAST               0 (a)\u000a             22 STORE_FAST               1 (b)\u000a             25 LOAD_CONST               0 (None)\u000a             28 RETURN_VALUE        \u000aswap2():\u000a 11           0 LOAD_CONST               1 (5)\u000a              3 STORE_FAST               0 (a)\u000a\u000a 12           6 LOAD_CONST               2 (4)\u000a              9 STORE_FAST               1 (b)\u000a\u000a 13          12 LOAD_FAST                0 (a)\u000a             15 STORE_FAST               2 (c)\u000a\u000a 14          18 LOAD_FAST                1 (b)\u000a             21 STORE_FAST               0 (a)\u000a\u000a 15          24 LOAD_FAST                2 (c)\u000a             27 STORE_FAST               1 (b)\u000a             30 LOAD_CONST               0 (None)\u000a             33 RETURN_VALUE        \u000a</code></pre>\u000a\u000a<p>Two loads, a <a href="http://docs.python.org/library/dis.html#opcode-ROT_TWO"><code>ROT_TWO</code></a>, and two saves, versus three loads and three saves. You are unlikely to find a faster mechanism.</p>\u000a
p1415
sVquestion_id
p1416
I4554130
sVlast_activity_date
p1417
I1293626930
sVcreation_date
p1418
I1293626930
sVscore
p1419
I118
sVowner
p1420
(dp1421
Vuser_id
p1422
I20862
sVprofile_image
p1423
Vhttps://www.gravatar.com/avatar/2343ae368d3241278581ce6c87f62a25?s=128&d=identicon&r=PG
p1424
sVuser_type
p1425
Vregistered
p1426
sVreputation
p1427
I481018
sVlink
p1428
Vhttp://stackoverflow.com/users/20862/ignacio-vazquez-abrams
p1429
sVaccept_rate
p1430
I60
sVdisplay_name
p1431
VIgnacio Vazquez-Abrams
p1432
ssVis_accepted
p1433
I01
sVanswer_id
p1434
I4554221
sa(dp1435
Vbody
p1436
V<p><a href="http://docs.python.org/reference/datamodel.html#object.__repr__" rel="noreferrer"><code>__repr__</code></a> </p>\u000a\u000a<blockquote>\u000a  <p>Called by the <code>repr()</code> built-in function and by string conversions (reverse quotes) to compute the "official" string representation of an object. If at all possible, this should look like a valid Python expression that could be used to recreate an object with the same value (given an appropriate environment).</p>\u000a</blockquote>\u000a\u000a<p><a href="http://docs.python.org/reference/datamodel.html#object.__str__" rel="noreferrer"><code>__str__</code></a></p>\u000a\u000a<blockquote>\u000a  <p>Called by the <code>str()</code> built-in function and by the print statement to compute the "informal" string representation of an object. </p>\u000a</blockquote>\u000a\u000a<p>Use <code>__str__</code> if you have a class, and you'll want an informative/informal output, whenever you use this object as part of string. E.g. you can define <code>__str__</code> methods for Django models, which then gets rendered in the Django administration interface. Instead of something like <code>&lt;Model object&gt;</code> you'll get like first and last name of a person, the name and date of an event, etc.</p>\u000a\u000a<hr>\u000a\u000a<p><code>__repr__</code> and <code>__str__</code> are similar, in fact sometimes equal (Example from <code>BaseSet</code> class in <code>sets.py</code> from the standard library):</p>\u000a\u000a<pre><code>def __repr__(self):\u000a    """Return string representation of a set.\u000a\u000a    This looks like 'Set([&lt;list of elements&gt;])'.\u000a    """\u000a    return self._repr()\u000a\u000a# __str__ is the same as __repr__\u000a__str__ = __repr__\u000a</code></pre>\u000a
p1437
sVquestion_id
p1438
I3691101
sVlast_activity_date
p1439
I1284211267
sVcreation_date
p1440
I1284210857
sVscore
p1441
I49
sVowner
p1442
(dp1443
Vuser_id
p1444
I89391
sVprofile_image
p1445
Vhttps://www.gravatar.com/avatar/bb5230985aa2c9ea7d022d1a16890f16?s=128&d=identicon&r=PG
p1446
sVuser_type
p1447
Vregistered
p1448
sVreputation
p1449
I104500
sVlink
p1450
Vhttp://stackoverflow.com/users/89391/miku
p1451
sVaccept_rate
p1452
I78
sVdisplay_name
p1453
Vmiku
p1454
ssVis_accepted
p1455
I01
sVlast_edit_date
p1456
I1284211267
sVanswer_id
p1457
I3691117
sa(dp1458
Vbody
p1459
V<p>Here's one way to do it by slicing:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; list1 = ['f', 'o', 'o']\u000a&gt;&gt;&gt; list2 = ['hello', 'world']\u000a&gt;&gt;&gt; result = [None]*(len(list1)+len(list2))\u000a&gt;&gt;&gt; result[::2] = list1\u000a&gt;&gt;&gt; result[1::2] = list2\u000a&gt;&gt;&gt; result\u000a['f', 'hello', 'o', 'world', 'o']\u000a</code></pre>\u000a
p1460
sVquestion_id
p1461
I3678869
sVlast_activity_date
p1462
I1284052853
sVcreation_date
p1463
I1284052853
sVscore
p1464
I47
sVowner
p1465
(dp1466
Vuser_id
p1467
I107660
sVprofile_image
p1468
Vhttps://www.gravatar.com/avatar/0167bade38130f13a5fc468c10388d9d?s=128&d=identicon&r=PG
p1469
sVuser_type
p1470
Vregistered
p1471
sVreputation
p1472
I46101
sVlink
p1473
Vhttp://stackoverflow.com/users/107660/duncan
p1474
sVdisplay_name
p1475
VDuncan
p1476
ssVis_accepted
p1477
I01
sVanswer_id
p1478
I3678938
sa(dp1479
Vbody
p1480
V<pre><code>print my_string[0:100]\u000a</code></pre>\u000a
p1481
sVquestion_id
p1482
I3486384
sVlast_activity_date
p1483
I1281851758
sVcreation_date
p1484
I1281851758
sVscore
p1485
I72
sVowner
p1486
(dp1487
Vuser_id
p1488
I200291
sVprofile_image
p1489
Vhttps://www.gravatar.com/avatar/399cacf55045372a29f1f844d12ee777?s=128&d=identicon&r=PG
p1490
sVuser_type
p1491
Vregistered
p1492
sVreputation
p1493
I89021
sVlink
p1494
Vhttp://stackoverflow.com/users/200291/icktoofay
p1495
sVaccept_rate
p1496
I88
sVdisplay_name
p1497
Vicktoofay
p1498
ssVis_accepted
p1499
I01
sVanswer_id
p1500
I3486387
sa(dp1501
Vbody
p1502
V<p>Are you trying to represent it with only one digit:</p>\u000a\u000a<pre><code>print "%.1f" % number\u000a</code></pre>\u000a\u000a<p>or actually round off the other decimal places?</p>\u000a\u000a<pre><code>round(number,1)\u000a</code></pre>\u000a\u000a<p>or even round strictly down?</p>\u000a\u000a<pre><code>math.floor(number*10)/10\u000a</code></pre>\u000a
p1503
sVquestion_id
p1504
I3400965
sVlast_activity_date
p1505
I1280872080
sVcreation_date
p1506
I1280871725
sVscore
p1507
I74
sVowner
p1508
(dp1509
Vuser_id
p1510
I369113
sVprofile_image
p1511
Vhttps://www.gravatar.com/avatar/fa9afaa27a88e6240ea25dba3a7b43ae?s=128&d=identicon&r=PG
p1512
sVuser_type
p1513
Vregistered
p1514
sVreputation
p1515
I3802
sVlink
p1516
Vhttp://stackoverflow.com/users/369113/relet
p1517
sVaccept_rate
p1518
I100
sVdisplay_name
p1519
Vrelet
p1520
ssVis_accepted
p1521
I01
sVlast_edit_date
p1522
I1280872080
sVanswer_id
p1523
I3400970
sa(dp1524
Vbody
p1525
V<p>Under the "Easier to Ask Forgiveness than Permission" principle:</p>\u000a\u000a<pre><code>try:\u000a    os.rename('/etc/foo', '/etc/bar')\u000aexcept IOError as e:\u000a    if (e[0] == errno.EPERM):\u000a       print &gt;&gt; sys.stderr, "You need root permissions to do this, laterz!"\u000a       sys.exit(1)\u000a</code></pre>\u000a\u000a<p>If you are concerned about the non-portability of <code>os.geteuid()</code> you probably shouldn't be mucking with <code>/etc</code> anyway.</p>\u000a
p1526
sVquestion_id
p1527
I2806897
sVlast_activity_date
p1528
I1273531267
sVcreation_date
p1529
I1273531267
sVscore
p1530
I24
sVowner
p1531
(dp1532
Vuser_id
p1533
I282912
sVprofile_image
p1534
Vhttps://i.stack.imgur.com/bmLJq.png?s=128&g=1
p1535
sVuser_type
p1536
Vregistered
p1537
sVreputation
p1538
I33353
sVlink
p1539
Vhttp://stackoverflow.com/users/282912/msw
p1540
sVaccept_rate
p1541
I100
sVdisplay_name
p1542
Vmsw
p1543
ssVis_accepted
p1544
I01
sVanswer_id
p1545
I2806932
sa(dp1546
Vbody
p1547
V<p>You are storing your values into a python <a href="http://docs.python.org/tutorial/datastructures.html#dictionaries" rel="noreferrer" title="dict">dict</a> which has no inherent notion of ordering at all, it's just a key => value map.  So your items lose all ordering when you place them into the "values" variable.  </p>\u000a\u000a<p>In fact the only way to get a deterministic ordering would be to use "sort_keys=True", which I assume places them in alphanumeric ordering.  Why is the order so important?</p>\u000a
p1548
sVquestion_id
p1549
I2774361
sVlast_activity_date
p1550
I1273072007
sVcreation_date
p1551
I1273072007
sVscore
p1552
I37
sVowner
p1553
(dp1554
Vuser_id
p1555
I138948
sVprofile_image
p1556
Vhttps://www.gravatar.com/avatar/3d94d4abc6802f57dc456171d9f85d51?s=128&d=identicon&r=PG
p1557
sVuser_type
p1558
Vregistered
p1559
sVreputation
p1560
I2093
sVlink
p1561
Vhttp://stackoverflow.com/users/138948/joseph-lisee
p1562
sVdisplay_name
p1563
VJoseph Lisee
p1564
ssVis_accepted
p1565
I01
sVanswer_id
p1566
I2774404
sa(dp1567
Vbody
p1568
V<p>The Python generator API is one way: You can't push back elements you've read. But you can create a new iterator using the <a href="http://docs.python.org/library/itertools.html" rel="noreferrer">itertools module</a> and prepend the element:</p>\u000a\u000a<pre><code>import itertools\u000a\u000agen = iter([1,2,3])\u000apeek = gen.next()\u000aprint list(itertools.chain([peek], gen))\u000a</code></pre>\u000a
p1569
sVquestion_id
p1570
I2425270
sVlast_activity_date
p1571
I1268315169
sVcreation_date
p1572
I1268315169
sVscore
p1573
I37
sVowner
p1574
(dp1575
Vuser_id
p1576
I34088
sVprofile_image
p1577
Vhttps://www.gravatar.com/avatar/8a4d6f03a8879432d8563aefbf48e787?s=128&d=identicon&r=PG
p1578
sVuser_type
p1579
Vregistered
p1580
sVreputation
p1581
I215588
sVlink
p1582
Vhttp://stackoverflow.com/users/34088/aaron-digulla
p1583
sVaccept_rate
p1584
I76
sVdisplay_name
p1585
VAaron Digulla
p1586
ssVis_accepted
p1587
I01
sVanswer_id
p1588
I2425347
sa(dp1589
Vbody
p1590
V<p>You're right that <a href="http://docs.python.org/library/os.html?highlight=os.access#os.access" rel="noreferrer">os.access</a>, like the underlying <a href="http://linux.die.net/man/2/access" rel="noreferrer">access</a> syscall, checks for a specific user (real rather than effective IDs, to help out with suid situations).</p>\u000a\u000a<p><a href="http://docs.python.org/library/os.html?highlight=os.access#os.stat" rel="noreferrer">os.stat</a> is the right way to get more general info about a file, including permissions per user, group, and others.  The <code>st_mode</code> attribute of the object that <code>os.stat</code> returns has the permission bits for the file.</p>\u000a\u000a<p>To help interpret those bits, you may want to use the <a href="http://docs.python.org/library/stat.html?highlight=stat#module-stat" rel="noreferrer">stat</a> module.  Specifically, you'll want the bitmasks defined <a href="http://docs.python.org/library/stat.html?highlight=stat#stat.S_IRWXU" rel="noreferrer">here</a>, and you'll use the <code>&amp;</code> operator (bit-and) to use them to mask out the relevant bits in that <code>st_mode</code> attribute -- for example, if you just need a True/False check on whether a certain file is group-readable, one approach is:</p>\u000a\u000a<pre><code>import os\u000aimport stat\u000a\u000adef isgroupreadable(filepath):\u000a  st = os.stat(filepath)\u000a  return bool(st.st_mode &amp; stat.S_IRGRP)\u000a</code></pre>\u000a\u000a<p>Take care: the <code>os.stat</code> call can be somewhat costly, so make sure to extract all info you care about with a single call, rather than keep repeating calls for each bit of interest;-).</p>\u000a
p1591
sVquestion_id
p1592
I1861836
sVlast_activity_date
p1593
I1260210691
sVcreation_date
p1594
I1260210691
sVscore
p1595
I71
sVowner
p1596
(dp1597
Vuser_id
p1598
I95810
sVprofile_image
p1599
Vhttps://www.gravatar.com/avatar/e8d5fe90f1fe2148bf130cccd4dc311c?s=128&d=identicon&r=PG
p1600
sVuser_type
p1601
Vregistered
p1602
sVreputation
p1603
I516089
sVlink
p1604
Vhttp://stackoverflow.com/users/95810/alex-martelli
p1605
sVaccept_rate
p1606
I80
sVdisplay_name
p1607
VAlex Martelli
p1608
ssVis_accepted
p1609
I01
sVanswer_id
p1610
I1861970
sa(dp1611
Vbody
p1612
V<blockquote>\u000a  <p>One is performance: knowing that a\u000a  string is immutable makes it easy to\u000a  lay it out at construction time \u2014\u000a  fixed and unchanging storage\u000a  requirements. This is also one of the\u000a  reasons for the distinction between\u000a  tuples and lists. This also allows the\u000a  implementation to safely reuse string\u000a  objects. For example, the CPython\u000a  implemenation uses pre-allocated\u000a  objects for single-character strings,\u000a  and usually returns the original\u000a  string for string operations that\u000a  doesn\u2019t change the content.</p>\u000a  \u000a  <p>The other is that strings in Python\u000a  are considered as "elemental" as\u000a  numbers. No amount of activity will\u000a  change the value 8 to anything else,\u000a  and in Python, no amount of activity\u000a  will change the string \u201ceight\u201d to\u000a  anything else.</p>\u000a</blockquote>\u000a\u000a<p><a href="http://effbot.org/pyfaq/why-are-python-strings-immutable.htm" rel="noreferrer">http://effbot.org/pyfaq/why-are-python-strings-immutable.htm</a></p>\u000a
p1613
sVquestion_id
p1614
I1538663
sVlast_activity_date
p1615
I1255017089
sVcreation_date
p1616
I1255017089
sVscore
p1617
I28
sVowner
p1618
(dp1619
Vuser_id
p1620
I16522
sVprofile_image
p1621
Vhttps://i.stack.imgur.com/w683i.jpg?s=128&g=1
p1622
sVuser_type
p1623
Vregistered
p1624
sVreputation
p1625
I4158
sVlink
p1626
Vhttp://stackoverflow.com/users/16522/nasir
p1627
sVaccept_rate
p1628
I96
sVdisplay_name
p1629
VNasir
p1630
ssVis_accepted
p1631
I01
sVanswer_id
p1632
I1538685
sa(dp1633
Vbody
p1634
V<p>If MySQLdb's now distributed in a way that requires <code>setuptools</code>, your choices are either to download the latter (e.g. from <a href="http://pypi.python.org/pypi/setuptools" rel="noreferrer">here</a>) or refactor MySQLdb's setup.py to bypass <code>setuptools</code> (maybe just importing <code>setup</code> and <code>Extension</code> from plain <code>distutils</code> instead might work, but you may also need to edit some of the <code>setup_*.py</code> files in the same directory).</p>\u000a\u000a<p>Depending on how your site's Python installation is configured, installing extensions for your own individual use without requiring sysadm rights may be hard, but it's never truly impossible if you have shell access. You'll need to tweak your Python's sys.path to start with a directory of your own that's your personal equivalent of the system-wide site pacages directory, e.g. by setting <code>PYTHONPATH</code> persistently in your own environment, and then manually place in said personal directory what normal installs would normally place in site-packages (and/or subdirectories thereof).</p>\u000a
p1635
sVquestion_id
p1636
I1449130
sVlast_activity_date
p1637
I1253384895
sVcreation_date
p1638
I1253384895
sVscore
p1639
I16
sVowner
p1640
(dp1641
Vuser_id
p1642
I95810
sVprofile_image
p1643
Vhttps://www.gravatar.com/avatar/e8d5fe90f1fe2148bf130cccd4dc311c?s=128&d=identicon&r=PG
p1644
sVuser_type
p1645
Vregistered
p1646
sVreputation
p1647
I516089
sVlink
p1648
Vhttp://stackoverflow.com/users/95810/alex-martelli
p1649
sVaccept_rate
p1650
I80
sVdisplay_name
p1651
VAlex Martelli
p1652
ssVis_accepted
p1653
I01
sVanswer_id
p1654
I1449170
sa(dp1655
Vbody
p1656
V<p>C++ is notoriously hard to parse. Most people who try to do this properly end up taking apart a compiler. In fact this is (in part) why LLVM started: Apple needed a way they could parse C++ for use in XCode that matched the way the compiler parsed it. </p>\u000a\u000a<p>That's why there are projects like <a href="http://www.gccxml.org/HTML/Index.html" rel="noreferrer">GCC_XML</a> which you could combine with a python xml library.</p>\u000a\u000a<p>Some non-compiler projects that seem to do a pretty good job at parsing C++ are:</p>\u000a\u000a<ul>\u000a<li>Eclipse CDT</li>\u000a<li>OpenGrok</li>\u000a<li>Doxygen</li>\u000a</ul>\u000a
p1657
sVquestion_id
p1658
I1444961
sVlast_activity_date
p1659
I1253312142
sVcreation_date
p1660
I1253285243
sVscore
p1661
I28
sVowner
p1662
(dp1663
Vuser_id
p1664
I131414
sVprofile_image
p1665
Vhttps://www.gravatar.com/avatar/45fd329b5f827be87edcc98eb1a2301a?s=128&d=identicon&r=PG
p1666
sVuser_type
p1667
Vregistered
p1668
sVreputation
p1669
I3977
sVlink
p1670
Vhttp://stackoverflow.com/users/131414/stef
p1671
sVdisplay_name
p1672
VStef
p1673
ssVis_accepted
p1674
I01
sVlast_edit_date
p1675
I1253312142
sVanswer_id
p1676
I1445024
sa(dp1677
Vbody
p1678
V<p>I would take the sources of an existing Debian package, and replace the actual package in it with your package. To find a list of packages that depend on python-support, do</p>\u000a\u000a<pre><code> apt-cache rdepends python-support\u000a</code></pre>\u000a\u000a<p>Pick a package that is <code>Architecture: all</code>, so that it is a pure-Python package. Going through this list, I found that e.g. python-flup might be a good starting point.\u000aTo get the source of one such package, do</p>\u000a\u000a<pre><code>apt-get source &lt;package&gt;\u000a</code></pre>\u000a\u000a<p>To build it, do</p>\u000a\u000a<pre><code>cd &lt;packagesrc&gt;\u000adpkg-buildpackage -rfakeroot\u000a</code></pre>\u000a\u000a<p>When editing it, expect that you only need the files in the <code>debian</code> folder; replace all references to flup with your own package name.</p>\u000a\u000a<p>Once you get started, it should take you a day to complete.</p>\u000a
p1679
sVquestion_id
p1680
I1382569
sVlast_activity_date
p1681
I1252130443
sVcreation_date
p1682
I1252130443
sVscore
p1683
I17
sVowner
p1684
(dp1685
Vuser_id
p1686
I33006
sVprofile_image
p1687
Vhttps://www.gravatar.com/avatar/3acb8bae5a2b5a28f6fe522a4ea9b873?s=128&d=identicon&r=PG
p1688
sVuser_type
p1689
Vregistered
p1690
sVreputation
p1691
I84348
sVlink
p1692
Vhttp://stackoverflow.com/users/33006/martin-v-l%c3%b6wis
p1693
sVaccept_rate
p1694
I88
sVdisplay_name
p1695
VMartin v. L&#246;wis
p1696
ssVis_accepted
p1697
I01
sVanswer_id
p1698
I1382593
sa(dp1699
Vbody
p1700
V<p>The regex I use when I want to be precise is <code>"\u005cr\u005cn?|\u005cn"</code>.</p>\u000a\u000a<p>When I'm not concerned about consistency or empty lines, I use <code>"[\u005cr\u005cn]+"</code>, I imagine it makes my programs somewhere in the order of 0.2% faster.</p>\u000a
p1701
sVquestion_id
p1702
I1331815
sVlast_activity_date
p1703
I1251248520
sVcreation_date
p1704
I1251248520
sVscore
p1705
I69
sVowner
p1706
(dp1707
Vuser_id
p1708
I28835
sVprofile_image
p1709
Vhttps://www.gravatar.com/avatar/34a7a029578b79cf4afa596ad4e3e72b?s=128&d=identicon&r=PG
p1710
sVuser_type
p1711
Vregistered
p1712
sVreputation
p1713
I45642
sVlink
p1714
Vhttp://stackoverflow.com/users/28835/too-much-php
p1715
sVaccept_rate
p1716
I59
sVdisplay_name
p1717
Vtoo much php
p1718
ssVis_accepted
p1719
I01
sVanswer_id
p1720
I1331840
sa(dp1721
Vbody
p1722
V<p><a href="http://www.python.org/dev/peps/pep-0008/" rel="noreferrer">PEP 8</a> authoritatively states:</p>\u000a\u000a<blockquote>\u000a  <p>Imports are always put at the top of\u000a  the file, just after any module\u000a        comments and docstrings, and before module globals and constants.</p>\u000a</blockquote>\u000a\u000a<p>PEP 8 should be the basis of any "in-house" style guide, since it summarizes what the core Python team has found to be the most effective style, overall (and with individual dissent of course, as on any other language, but consensus and the BDFL agree on PEP 8).</p>\u000a
p1723
sVquestion_id
p1724
I1188640
sVlast_activity_date
p1725
I1248706745
sVcreation_date
p1726
I1248706745
sVscore
p1727
I43
sVowner
p1728
(dp1729
Vuser_id
p1730
I95810
sVprofile_image
p1731
Vhttps://www.gravatar.com/avatar/e8d5fe90f1fe2148bf130cccd4dc311c?s=128&d=identicon&r=PG
p1732
sVuser_type
p1733
Vregistered
p1734
sVreputation
p1735
I516089
sVlink
p1736
Vhttp://stackoverflow.com/users/95810/alex-martelli
p1737
sVaccept_rate
p1738
I80
sVdisplay_name
p1739
VAlex Martelli
p1740
ssVis_accepted
p1741
I01
sVanswer_id
p1742
I1188672
sa(dp1743
Vbody
p1744
V<p>It's in fact almost the same in Python.. :-)</p>\u000a\u000a<pre><code>import datetime\u000ayear = datetime.date.today().year\u000a</code></pre>\u000a\u000a<p>Of course, date doesn't have a time associated, so if you care about that too, you can do the same with a complete datetime object:</p>\u000a\u000a<pre><code>import datetime\u000ayear = datetime.datetime.today().year\u000a</code></pre>\u000a\u000a<p>(Obviously no different, but you can store datetime.datetime.today() in a variable before you grab the year, of course).</p>\u000a\u000a<p>One key thing to note is that the time components can differ between 32-bit and 64-bit pythons in some python versions (2.5.x tree I think).  So you will find things like hour/min/sec on some 64-bit platforms, while you get hour/minute/second on 32-bit.</p>\u000a
p1745
sVquestion_id
p1746
I1133147
sVlast_activity_date
p1747
I1247683471
sVcreation_date
p1748
I1247683471
sVscore
p1749
I53
sVowner
p1750
(dp1751
Vuser_id
p1752
I1502059
sVprofile_image
p1753
Vhttps://www.gravatar.com/avatar/8e1914b1b81a8160378c298a540b5e00?s=128&d=identicon&r=PG
p1754
sVuser_type
p1755
Vregistered
p1756
sVreputation
p1757
I17499
sVlink
p1758
Vhttp://stackoverflow.com/users/1502059/nick-bastin
p1759
sVaccept_rate
p1760
I86
sVdisplay_name
p1761
VNick Bastin
p1762
ssVis_accepted
p1763
I01
sVanswer_id
p1764
I1133190
sa(dp1765
Vbody
p1766
V<p>This kind of thing?</p>\u000a\u000a<pre><code>&gt;&gt;&gt; ord('a')\u000a97\u000a&gt;&gt;&gt; hex(ord('a'))\u000a'0x61'\u000a&gt;&gt;&gt; bin(ord('a'))\u000a'0b1100001'\u000a</code></pre>\u000a
p1767
sVquestion_id
p1768
I1054116
sVlast_activity_date
p1769
I1246158174
sVcreation_date
p1770
I1246158174
sVscore
p1771
I46
sVowner
p1772
(dp1773
Vuser_id
p1774
I19531
sVprofile_image
p1775
Vhttps://www.gravatar.com/avatar/15b21ef43c9e335448280fc051ada9c4?s=128&d=identicon&r=PG
p1776
sVuser_type
p1777
Vregistered
p1778
sVreputation
p1779
I2790
sVlink
p1780
Vhttp://stackoverflow.com/users/19531/akent
p1781
sVdisplay_name
p1782
Vakent
p1783
ssVis_accepted
p1784
I01
sVanswer_id
p1785
I1054130
sa(dp1786
Vbody
p1787
V<p>Are you able to run <code>myenv/bin/python /usr/bin/nosetests</code>? That should run Nose using the virtual environment's library set.</p>\u000a
p1788
sVquestion_id
p1789
I864956
sVlast_activity_date
p1790
I1242325974
sVcreation_date
p1791
I1242325974
sVscore
p1792
I39
sVowner
p1793
(dp1794
Vuser_id
p1795
I3560
sVprofile_image
p1796
Vhttps://www.gravatar.com/avatar/4acd21acc7b1f605466f2f48189a7177?s=128&d=identicon&r=PG
p1797
sVuser_type
p1798
Vregistered
p1799
sVreputation
p1800
I133151
sVlink
p1801
Vhttp://stackoverflow.com/users/3560/john-millikin
p1802
sVaccept_rate
p1803
I83
sVdisplay_name
p1804
VJohn Millikin
p1805
ssVis_accepted
p1806
I01
sVanswer_id
p1807
I864967
sa(dp1808
Vbody
p1809
V<pre><code>import __main__\u000aprint __main__.__file__\u000a</code></pre>\u000a
p1810
sVquestion_id
p1811
I606561
sVlast_activity_date
p1812
I1236096262
sVcreation_date
p1813
I1236096262
sVscore
p1814
I52
sVowner
p1815
(dp1816
Vuser_id
p1817
I19687
sVprofile_image
p1818
Vhttps://www.gravatar.com/avatar/1fe2208d54af9ce3d73949de1b8b9640?s=128&d=identicon&r=PG
p1819
sVuser_type
p1820
Vregistered
p1821
sVreputation
p1822
I5364
sVlink
p1823
Vhttp://stackoverflow.com/users/19687/ironfroggy
p1824
sVaccept_rate
p1825
I33
sVdisplay_name
p1826
Vironfroggy
p1827
ssVis_accepted
p1828
I01
sVanswer_id
p1829
I606998
sa(dp1830
Vbody
p1831
V<p>If it's really dictionary like arbitrary data you're looking for you can probably use a two-level setup with one model that's a container and another model that's key-value pairs. You'd create an instance of the container, create each of the key-value instances, and associate the set of key-value instances with the container instance. Something like:</p>\u000a\u000a<pre><code>class Dicty(models.Model):\u000a    name      = models.CharField(max_length=50)\u000a\u000aclass KeyVal(models.Model):\u000a    container = models.ForeignKey(Dicty, db_index=True)\u000a    key       = models.CharField(max_length=240, db_index=True)\u000a    value     = models.CharField(max_length=240, db_index=True)\u000a</code></pre>\u000a\u000a<p>It's not pretty, but it'll let you access/search the innards of the dictionary using the DB whereas a pickle/serialize solution will not.</p>\u000a
p1832
sVquestion_id
p1833
I402217
sVlast_activity_date
p1834
I1230711568
sVcreation_date
p1835
I1230711568
sVscore
p1836
I28
sVowner
p1837
(dp1838
Vuser_id
p1839
I13055
sVprofile_image
p1840
Vhttps://www.gravatar.com/avatar/ab82fd8b5ffe4d09c2bb5f9c14d34b09?s=128&d=identicon&r=PG
p1841
sVuser_type
p1842
Vregistered
p1843
sVreputation
p1844
I30447
sVlink
p1845
Vhttp://stackoverflow.com/users/13055/parand
p1846
sVaccept_rate
p1847
I68
sVdisplay_name
p1848
VParand
p1849
ssVis_accepted
p1850
I01
sVanswer_id
p1851
I402526
sa(dp1852
Vbody
p1853
V<p>%uXXXX is a <a href="http://en.wikipedia.org/wiki/Percent-encoding#Non-standard_implementations" rel="noreferrer">non-standard encoding scheme</a> that has been rejected by the w3c, despite the fact that an implementation continues to live on in JavaScript land.</p>\u000a\u000a<p>The more common technique seems to be to UTF-8 encode the string and then % escape the resulting bytes using %XX. This scheme is supported by urllib.unquote:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; urllib2.unquote("%0a")\u000a'\u005cn'\u000a</code></pre>\u000a\u000a<p>Unfortunately, if you really <strong>need</strong> to support %uXXXX, you will probably have to roll your own decoder. Otherwise, it is likely to be far more preferable to simply UTF-8 encode your unicode and then % escape the resulting bytes.</p>\u000a\u000a<p>A more complete example:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; u"Tan\u0131m"\u000au'Tan\u005cu0131m'\u000a&gt;&gt;&gt; url = urllib.quote(u"Tan\u0131m".encode('utf8'))\u000a&gt;&gt;&gt; urllib.unquote(url).decode('utf8')\u000au'Tan\u005cu0131m'\u000a</code></pre>\u000a
p1854
sVquestion_id
p1855
I300445
sVlast_activity_date
p1856
I1227050564
sVcreation_date
p1857
I1227050564
sVscore
p1858
I62
sVowner
p1859
(dp1860
Vuser_id
p1861
I2603
sVprofile_image
p1862
Vhttps://i.stack.imgur.com/NIuNK.jpg?s=128&g=1
p1863
sVuser_type
p1864
Vregistered
p1865
sVreputation
p1866
I58767
sVlink
p1867
Vhttp://stackoverflow.com/users/2603/aaron-maenpaa
p1868
sVaccept_rate
p1869
I75
sVdisplay_name
p1870
VAaron Maenpaa
p1871
ssVis_accepted
p1872
I01
sVanswer_id
p1873
I300533
sa(dp1874
Vbody
p1875
V<p>If you want a shallow copy (elements aren't copied) use:</p>\u000a\u000a<pre><code>lst2=lst1[:]\u000a</code></pre>\u000a\u000a<p>If you want to make a deep copy then use the copy module:</p>\u000a\u000a<pre><code>import copy\u000alst2=copy.deepcopy(lst1)\u000a</code></pre>\u000a
p1876
sVquestion_id
p1877
I184643
sVlast_activity_date
p1878
I1223496890
sVcreation_date
p1879
I1223496890
sVscore
p1880
I77
sVowner
p1881
(dp1882
Vuser_id
p1883
I9940
sVprofile_image
p1884
Vhttps://www.gravatar.com/avatar/5e3705020a9aa98ef44c24a204b47841?s=128&d=identicon&r=PG
p1885
sVuser_type
p1886
Vregistered
p1887
sVreputation
p1888
I11957
sVlink
p1889
Vhttp://stackoverflow.com/users/9940/mark-roddy
p1890
sVaccept_rate
p1891
I78
sVdisplay_name
p1892
VMark Roddy
p1893
ssVis_accepted
p1894
I01
sVanswer_id
p1895
I184660
sasVquota_max
p1896
I300
sVquota_remaining
p1897
I131
s.