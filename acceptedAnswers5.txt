(dp0
Vhas_more
p1
I00
sVitems
p2
(lp3
(dp4
Vbody
p5
V<p><code>re.match</code> is anchored at the beginning of the string. That has nothing to do with newlines, so it is not the same as using <code>^</code> in the pattern.</p>\u000a\u000a<p>As the <a href="http://docs.python.org/2/library/re.html#re.match" rel="nofollow noreferrer">re.match documentation</a> says:</p>\u000a\u000a<blockquote>\u000a  <p>If zero or more characters at the\u000a  <strong>beginning of string</strong> match the regular expression pattern, return a\u000a  corresponding <code>MatchObject</code> instance.\u000a  Return <code>None</code> if the string does not\u000a  match the pattern; note that this is\u000a  different from a zero-length match.</p>\u000a  \u000a  <p>Note: If you want to locate a match\u000a  anywhere in string, use <code>search()</code>\u000a  instead.</p>\u000a</blockquote>\u000a\u000a<p><code>re.search</code> searches the entire string, as <a href="http://docs.python.org/2/library/re.html#re.search" rel="nofollow noreferrer">the documentation says</a>:</p>\u000a\u000a<blockquote>\u000a  <p><strong>Scan through string</strong> looking for a\u000a  location where the regular expression\u000a  pattern produces a match, and return a\u000a  corresponding <code>MatchObject</code> instance.\u000a  Return <code>None</code> if no position in the\u000a  string matches the pattern; note that\u000a  this is different from finding a\u000a  zero-length match at some point in the\u000a  string.</p>\u000a</blockquote>\u000a\u000a<p>So if you need to match at the beginning of the string, or to match the entire string use <code>match</code>. It is faster. Otherwise use <code>search</code>.</p>\u000a\u000a<p>The documentation has a <a href="http://docs.python.org/2/library/re.html#search-vs-match" rel="nofollow noreferrer">specific section for <code>match</code> vs. <code>search</code></a> that also covers multiline strings:</p>\u000a\u000a<blockquote>\u000a  <p>Python offers two different primitive\u000a  operations based on regular\u000a  expressions: <code>match</code> checks for a match\u000a  <strong>only at the beginning</strong> of the string,\u000a  while <code>search</code> checks for a match\u000a  <strong>anywhere</strong> in the string (this is what\u000a  Perl does by default).</p>\u000a  \u000a  <p>Note that <code>match</code> may differ from <code>search</code>\u000a  even when using a regular expression\u000a  beginning with <code>'^'</code>: <code>'^'</code> matches only\u000a  at the start of the string, or in\u000a  <code>MULTILINE</code> mode also immediately\u000a  following a newline. The \u201c<code>match</code>\u201d\u000a  operation succeeds <em>only if the pattern\u000a  matches at the <strong>start</strong> of the string</em>\u000a  regardless of mode, or at the starting\u000a  position given by the optional <code>pos</code>\u000a  argument regardless of whether a\u000a  newline precedes it.</p>\u000a</blockquote>\u000a\u000a<p>Now, enough talk. Time to see some example code:</p>\u000a\u000a<pre><code># example code:\u000astring_with_newlines = """something\u000asomeotherthing"""\u000a\u000aimport re\u000a\u000aprint re.match('some', string_with_newlines) # matches\u000aprint re.match('someother', \u000a               string_with_newlines) # won't match\u000aprint re.match('^someother', string_with_newlines, \u000a               re.MULTILINE) # also won't match\u000aprint re.search('someother', \u000a                string_with_newlines) # finds something\u000aprint re.search('^someother', string_with_newlines, \u000a                re.MULTILINE) # also finds something\u000a\u000am = re.compile('thing$', re.MULTILINE)\u000a\u000aprint m.match(string_with_newlines) # no match\u000aprint m.match(string_with_newlines, pos=4) # matches\u000aprint m.search(string_with_newlines, \u000a               re.MULTILINE) # also matches\u000a</code></pre>\u000a
p6
sVquestion_id
p7
I180986
sVlast_activity_date
p8
I1494952234
sVcreation_date
p9
I1223427192
sVscore
p10
I253
sVowner
p11
(dp12
Vuser_id
p13
I17160
sVprofile_image
p14
Vhttps://www.gravatar.com/avatar/81cb50f5fe868629a680c16a56781f01?s=128&d=identicon&r=PG
p15
sVuser_type
p16
Vregistered
p17
sVreputation
p18
I118019
sVlink
p19
Vhttp://stackoverflow.com/users/17160/nosklo
p20
sVaccept_rate
p21
I78
sVdisplay_name
p22
Vnosklo
p23
ssVis_accepted
p24
I01
sVlast_edit_date
p25
I1494952234
sVanswer_id
p26
I180993
sa(dp27
Vbody
p28
V<p>You misunderstand how boolean expressions work; they don't work like an English sentence and guess that you are talking about the same comparison for all names here. You are looking for:</p>\u000a\u000a<pre><code>if x == 1 or y == 1 or z == 1:\u000a</code></pre>\u000a\u000a<p><code>x</code> and <code>y</code> are otherwise evaluated on their own (<code>False</code> if <code>0</code>, <code>True</code> otherwise).</p>\u000a\u000a<p>You can shorten that to:</p>\u000a\u000a<pre><code>if 1 in (x, y, z):\u000a</code></pre>\u000a\u000a<p>or better still:</p>\u000a\u000a<pre><code>if 1 in {x, y, z}:\u000a</code></pre>\u000a\u000a<p>using a <code>set</code> to take advantage of the constant-cost membership test (<code>in</code> takes a fixed amount of time whatever the left-hand operand is).</p>\u000a\u000a<p>When you use <code>or</code>, python sees each side of the operator as <em>separate</em> expressions. The expression <code>x or y == 1</code> is treated as first a boolean test for <code>x</code>, then if that is False, the expression <code>y == 1</code> is tested.</p>\u000a\u000a<p>This is due to <a href="http://docs.python.org/2/reference/expressions.html#operator-precedence" rel="nofollow noreferrer">operator precedence</a>. The <code>or</code> operator has a lower precedence than the <code>==</code> test, so the latter is evaluated <em>first</em>.</p>\u000a\u000a<p>However, even if this were <em>not</em> the case, and the expression <code>x or y or z == 1</code> was actually interpreted as <code>(x or y or z) == 1</code> instead, this would still not do what you expect it to do. </p>\u000a\u000a<p><code>x or y or z</code> would evaluate to the first argument that is 'truthy', e.g. not <code>False</code>, numeric 0 or empty (see <a href="http://docs.python.org/2/reference/expressions.html#boolean-operations" rel="nofollow noreferrer">boolean expressions</a> for details on what Python considers false in a boolean context).</p>\u000a\u000a<p>So for the values <code>x = 2; y = 1; z = 0</code>, <code>x or y or z</code> would resolve to <code>2</code>, because that is the first true-like value in the arguments. Then <code>2 == 1</code> would be <code>False</code>, even though <code>y == 1</code> would be <code>True</code>.</p>\u000a\u000a<p>The same would apply to the inverse; testing multiple values against a single variable; <code>x == 1 or 2 or 3</code> would fail for the same reasons. Use <code>x == 1 or x == 2 or x == 3</code> or <code>x in {1, 2, 3}</code>.</p>\u000a
p29
sVquestion_id
p30
I15112125
sVlast_activity_date
p31
I1493713820
sVcreation_date
p32
I1361968060
sVscore
p33
I333
sVowner
p34
(dp35
Vuser_id
p36
I100297
sVprofile_image
p37
Vhttps://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG
p38
sVuser_type
p39
Vmoderator
p40
sVreputation
p41
I554452
sVlink
p42
Vhttp://stackoverflow.com/users/100297/martijn-pieters
p43
sVdisplay_name
p44
VMartijn Pieters
p45
ssVis_accepted
p46
I01
sVlast_edit_date
p47
I1493713820
sVanswer_id
p48
I15112149
sa(dp49
Vbody
p50
V<pre><code>text_file = open("Output.txt", "w")\u000atext_file.write("Purchase Amount: %s" % TotalAmount)\u000atext_file.close()\u000a</code></pre>\u000a\u000a<p>If you use a context manager, the file is closed automatically for you</p>\u000a\u000a<pre><code>with open("Output.txt", "w") as text_file:\u000a    text_file.write("Purchase Amount: %s" % TotalAmount)\u000a</code></pre>\u000a\u000a<p>If you're using Python2.6 or higher, it's preferred to use <code>str.format()</code></p>\u000a\u000a<pre><code>with open("Output.txt", "w") as text_file:\u000a    text_file.write("Purchase Amount: {0}".format(TotalAmount))\u000a</code></pre>\u000a\u000a<p>For python2.7 and higher you can use <code>{}</code> instead of <code>{0}</code></p>\u000a\u000a<p>In Python3, there is an optional <code>file</code> parameter to the <code>print</code> function</p>\u000a\u000a<pre><code>with open("Output.txt", "w") as text_file:\u000a    print("Purchase Amount: {}".format(TotalAmount), file=text_file)\u000a</code></pre>\u000a\u000a<p>Python3.6 introduced <a href="https://docs.python.org/3/whatsnew/3.6.html#pep-498-formatted-string-literals" rel="noreferrer">f-strings</a> for another alternative</p>\u000a\u000a<pre><code>with open("Output.txt", "w") as text_file:\u000a    print(f"Purchase Amount: {TotalAmount}", file=text_file)\u000a</code></pre>\u000a
p51
sVquestion_id
p52
I5214578
sVlast_activity_date
p53
I1493697460
sVcreation_date
p54
I1299458078
sVscore
p55
I516
sVowner
p56
(dp57
Vuser_id
p58
I174728
sVprofile_image
p59
Vhttps://i.stack.imgur.com/eRO75.jpg?s=128&g=1
p60
sVuser_type
p61
Vregistered
p62
sVreputation
p63
I166955
sVlink
p64
Vhttp://stackoverflow.com/users/174728/john-la-rooy
p65
sVaccept_rate
p66
I100
sVdisplay_name
p67
VJohn La Rooy
p68
ssVis_accepted
p69
I01
sVlast_edit_date
p70
I1493697460
sVanswer_id
p71
I5214587
sa(dp72
Vbody
p73
V<p>Well, I decided to workout myself on my question to solve above problem. What I wanted is to implement a simpl OCR using KNearest or SVM features in OpenCV. And below is what I did and how. ( it is just for learning how to use KNearest for simple OCR purposes).</p>\u000a\u000a<p><strong>1)</strong> My first question was about letter_recognition.data file that comes with OpenCV samples. I wanted to know what is inside that file.</p>\u000a\u000a<p>It contains a letter, along with 16 features of that letter.</p>\u000a\u000a<p>And <a href="http://stackoverflow.com/questions/1270798/how-to-create-data-fom-image-like-letter-image-recognition-dataset-from-uci"><code>this SOF</code></a> helped me to find it. These 16 features are explained in the paper<a href="http://cns-classes.bu.edu/cn550/Readings/frey-slate-91.pdf" rel="noreferrer"><strong><code>Letter Recognition Using Holland-Style Adaptive Classifiers</code></strong></a>.\u000a( Although I didn't understand some of the features at end)</p>\u000a\u000a<p><strong>2)</strong> Since I knew, without understanding all those features, it is difficult to do that method. I tried some other papers, but all were a little difficult for a beginner.</p>\u000a\u000a<p><code>So I just decided to take all the pixel values as my features.</code> (I was not worried about accuracy or performance, I just wanted it to work, at least with the least accuracy)</p>\u000a\u000a<p>I took below image for my training data:</p>\u000a\u000a<p><img src="https://i.stack.imgur.com/IwQY6.png" alt="enter image description here"></p>\u000a\u000a<p>( I know the amount of training data is less. But, since all letters are of same font and size, I decided to try on this).</p>\u000a\u000a<p><strong>To prepare the data for training, I made a small code in OpenCV. It does following things:</strong></p>\u000a\u000a<p>A) It loads the image.</p>\u000a\u000a<p>B) Selects the digits ( obviously by contour finding and applying constraints on area and height of letters to avoid false detections).</p>\u000a\u000a<p>C) Draws the bounding rectangle around one letter and wait for <code>key press manually</code>. This time we <strong>press the digit key ourselves</strong> corresponding to the letter in box.</p>\u000a\u000a<p>D) Once corresponding digit key is pressed, it resizes this box to 10x10 and saves 100 pixel values in an array (here, samples) and corresponding manually entered digit in another array(here, responses).</p>\u000a\u000a<p>E) Then save both the arrays in separate txt files.</p>\u000a\u000a<p>At the end of manual classification of digits, all the digits in the train data( train.png) are labeled manually by ourselves, image will look like below:</p>\u000a\u000a<p><img src="https://i.stack.imgur.com/jyAhT.png" alt="enter image description here"></p>\u000a\u000a<p>Below is the code I used for above purpose ( of course, not so clean):</p>\u000a\u000a<pre><code>import sys\u000a\u000aimport numpy as np\u000aimport cv2\u000a\u000aim = cv2.imread('pitrain.png')\u000aim3 = im.copy()\u000a\u000agray = cv2.cvtColor(im,cv2.COLOR_BGR2GRAY)\u000ablur = cv2.GaussianBlur(gray,(5,5),0)\u000athresh = cv2.adaptiveThreshold(blur,255,1,1,11,2)\u000a\u000a#################      Now finding Contours         ###################\u000a\u000acontours,hierarchy = cv2.findContours(thresh,cv2.RETR_LIST,cv2.CHAIN_APPROX_SIMPLE)\u000a\u000asamples =  np.empty((0,100))\u000aresponses = []\u000akeys = [i for i in range(48,58)]\u000a\u000afor cnt in contours:\u000a    if cv2.contourArea(cnt)&gt;50:\u000a        [x,y,w,h] = cv2.boundingRect(cnt)\u000a\u000a        if  h&gt;28:\u000a            cv2.rectangle(im,(x,y),(x+w,y+h),(0,0,255),2)\u000a            roi = thresh[y:y+h,x:x+w]\u000a            roismall = cv2.resize(roi,(10,10))\u000a            cv2.imshow('norm',im)\u000a            key = cv2.waitKey(0)\u000a\u000a            if key == 27:  # (escape to quit)\u000a                sys.exit()\u000a            elif key in keys:\u000a                responses.append(int(chr(key)))\u000a                sample = roismall.reshape((1,100))\u000a                samples = np.append(samples,sample,0)\u000a\u000aresponses = np.array(responses,np.float32)\u000aresponses = responses.reshape((responses.size,1))\u000aprint "training complete"\u000a\u000anp.savetxt('generalsamples.data',samples)\u000anp.savetxt('generalresponses.data',responses)\u000a</code></pre>\u000a\u000a<hr>\u000a\u000a<p><strong>Now we enter in to training and testing part.</strong></p>\u000a\u000a<p>For testing part I used below image, which has same type of letters I used to train.</p>\u000a\u000a<p><img src="https://i.stack.imgur.com/dPaE8.png" alt="enter image description here"></p>\u000a\u000a<p><strong>For training we do as follows</strong>:</p>\u000a\u000a<p>A) Load the txt files we already saved earlier</p>\u000a\u000a<p>B) create a instance of classifier we are using ( here, it is KNearest)</p>\u000a\u000a<p>C) Then we use KNearest.train function to train the data</p>\u000a\u000a<p><strong>For testing purposes, we do as follows:</strong></p>\u000a\u000a<p>A) We load the image used for testing</p>\u000a\u000a<p>B) process the image as earlier and extract each digit using contour methods</p>\u000a\u000a<p>C) Draw bounding box for it, then resize to 10x10, and store its pixel values in an array as done earlier. </p>\u000a\u000a<p>D) Then we use KNearest.find_nearest() function to find the nearest item to the one we gave. ( If lucky, it recognises the correct digit.)</p>\u000a\u000a<p>I included last two steps ( training and testing) in single code below:</p>\u000a\u000a<pre><code>import cv2\u000aimport numpy as np\u000a\u000a#######   training part    ############### \u000asamples = np.loadtxt('generalsamples.data',np.float32)\u000aresponses = np.loadtxt('generalresponses.data',np.float32)\u000aresponses = responses.reshape((responses.size,1))\u000a\u000amodel = cv2.KNearest()\u000amodel.train(samples,responses)\u000a\u000a############################# testing part  #########################\u000a\u000aim = cv2.imread('pi.png')\u000aout = np.zeros(im.shape,np.uint8)\u000agray = cv2.cvtColor(im,cv2.COLOR_BGR2GRAY)\u000athresh = cv2.adaptiveThreshold(gray,255,1,1,11,2)\u000a\u000acontours,hierarchy = cv2.findContours(thresh,cv2.RETR_LIST,cv2.CHAIN_APPROX_SIMPLE)\u000a\u000afor cnt in contours:\u000a    if cv2.contourArea(cnt)&gt;50:\u000a        [x,y,w,h] = cv2.boundingRect(cnt)\u000a        if  h&gt;28:\u000a            cv2.rectangle(im,(x,y),(x+w,y+h),(0,255,0),2)\u000a            roi = thresh[y:y+h,x:x+w]\u000a            roismall = cv2.resize(roi,(10,10))\u000a            roismall = roismall.reshape((1,100))\u000a            roismall = np.float32(roismall)\u000a            retval, results, neigh_resp, dists = model.find_nearest(roismall, k = 1)\u000a            string = str(int((results[0][0])))\u000a            cv2.putText(out,string,(x,y+h),0,1,(0,255,0))\u000a\u000acv2.imshow('im',im)\u000acv2.imshow('out',out)\u000acv2.waitKey(0)\u000a</code></pre>\u000a\u000a<p>And it worked, below is the result I got:</p>\u000a\u000a<p><img src="https://i.stack.imgur.com/xS3gF.png" alt="enter image description here"></p>\u000a\u000a<hr>\u000a\u000a<p>Here it worked with 100% accuracy. I assume this is because all the digits are of same kind and same size.</p>\u000a\u000a<p>But any way, this is a good start to go for beginners ( I hope so).</p>\u000a
p74
sVquestion_id
p75
I9413216
sVlast_activity_date
p76
I1492877767
sVcreation_date
p77
I1331220949
sVscore
p78
I374
sVowner
p79
(dp80
Vuser_id
p81
I1134940
sVprofile_image
p82
Vhttps://www.gravatar.com/avatar/a96e438acc27c0e4961ec84a019e78c6?s=128&d=identicon&r=PG
p83
sVuser_type
p84
Vregistered
p85
sVreputation
p86
I30024
sVlink
p87
Vhttp://stackoverflow.com/users/1134940/abid-rahman-k
p88
sVaccept_rate
p89
I77
sVdisplay_name
p90
VAbid Rahman K
p91
ssVis_accepted
p92
I01
sVlast_edit_date
p93
I1492877767
sVanswer_id
p94
I9620295
sa(dp95
Vbody
p96
V<p>In python the <code>with</code> keyword is used when working with unmanaged resources (like file streams). It is similar to the <code>using</code> statement in VB.NET and C#. It allows you to ensure that a resource is "cleaned up" when the code that uses it finishes running, even if exceptions are thrown. It provides 'syntactic sugar' for <code>try/finally</code> blocks. </p>\u000a\u000a<p>From <a href="http://docs.python.org/whatsnew/2.6.html#pep-343-the-with-statement" rel="noreferrer">Python Docs</a>: </p>\u000a\u000a<blockquote>\u000a  <p>The <code>with</code> statement clarifies code that previously would use <code>try...finally</code> blocks to ensure that clean-up code is executed. In this section, I\u2019ll discuss the statement as it will commonly be used. In the next section, I\u2019ll examine the implementation details and show how to write objects for use with this statement.</p>\u000a  \u000a  <p>The <code>with</code> statement is a control-flow structure whose basic structure is:</p>\u000a\u000a<pre><code>with expression [as variable]:\u000a    with-block\u000a</code></pre>\u000a  \u000a  <p>The expression is evaluated, and it should result in an object that supports the context management protocol (that is, has <code>__enter__()</code> and <code>__exit__()</code> methods).</p>\u000a</blockquote>\u000a\u000a<p><em>Update</em> fixed VB callout per Scott Wisniewski's comment. I was indeed confusing <code>with</code> with <code>using</code>.</p>\u000a
p97
sVquestion_id
p98
I1369526
sVlast_activity_date
p99
I1491425549
sVcreation_date
p100
I1251918311
sVscore
p101
I182
sVowner
p102
(dp103
Vuser_id
p104
I149
sVprofile_image
p105
Vhttps://www.gravatar.com/avatar/bc46fdb623a9c91672c68be6dc3e80d8?s=128&d=identicon&r=PG
p106
sVuser_type
p107
Vregistered
p108
sVreputation
p109
I10128
sVlink
p110
Vhttp://stackoverflow.com/users/149/rob-allen
p111
sVaccept_rate
p112
I81
sVdisplay_name
p113
VRob Allen
p114
ssVis_accepted
p115
I01
sVlast_edit_date
p116
I1491425549
sVanswer_id
p117
I1369553
sa(dp118
Vbody
p119
V<h1>The short answer, or TL;DR</h1>\u000a\u000a<p>Basically, <a href="https://docs.python.org/3/library/functions.html#eval" rel="noreferrer"><code>eval</code></a> is used to <strong>eval</strong>uate a single dynamically generated Python expression, and <a href="https://docs.python.org/3/library/functions.html#exec" rel="noreferrer"><code>exec</code></a> is used to <strong>exec</strong>ute dynamically generated Python code only for its side effects.</p>\u000a\u000a<p><code>eval</code> and <code>exec</code> have these two differences:</p>\u000a\u000a<ol>\u000a<li><p><code>eval</code> accepts only a <strong>single expression</strong>, <code>exec</code> can take a code block that has Python statements: loops, <code>try: except:</code>, <code>class</code> and function/method <code>def</code>initions and so on. </p>\u000a\u000a<p>An expression in Python is whatever you can have as the value in a variable assignment:</p>\u000a\u000a<pre><code>a_variable = (anything that you can put into these parentheses is an expression)\u000a</code></pre></li>\u000a<li><p><code>eval</code> <strong>returns the value</strong> of the given expression, whereas <code>exec</code> ignores the return value from its code, and always returns <code>None</code> (in Python 2 it is a statement and cannot be used as an expression, so it really does not return anything).</p></li>\u000a</ol>\u000a\u000a<p>In versions 1.0 - 2.7, <code>exec</code> was a statement, because CPython needed to produce a different kind of code object for functions that used <code>exec</code> for its side effects inside the function. </p>\u000a\u000a<p>In Python 3, <code>exec</code> is a function; it always produces the same kind of code object regardless of whether it is being called inside a functions or in the module scope.</p>\u000a\u000a<hr>\u000a\u000a<p>Thus basically:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; a = 5\u000a&gt;&gt;&gt; eval('37 + a')   # it is an expression\u000a42\u000a&gt;&gt;&gt; exec('37 + a')   # it is an expression statement; value is ignored (None is returned)\u000a&gt;&gt;&gt; exec('a = 47')   # modify a global variable as a side effect\u000a&gt;&gt;&gt; a\u000a47\u000a&gt;&gt;&gt; eval('a = 47')  # you cannot evaluate a statement\u000aTraceback (most recent call last):\u000a  File "&lt;stdin&gt;", line 1, in &lt;module&gt;\u000a  File "&lt;string&gt;", line 1\u000a    a = 47\u000a      ^\u000aSyntaxError: invalid syntax\u000a</code></pre>\u000a\u000a<hr>\u000a\u000a<p>The <code>compile</code> in <code>'exec'</code> mode compiles any number of statements into a bytecode that implicitly always returns <code>None</code>, whereas in <code>'eval'</code> mode it compiles a <em>single</em> expression into a bytecode that <em>returns</em> the value of that expression. </p>\u000a\u000a<pre><code>&gt;&gt;&gt; eval(compile('42', '&lt;string&gt;', 'exec'))  # code return None\u000a&gt;&gt;&gt; eval(compile('42', '&lt;string&gt;', 'eval'))  # code returns 42\u000a42\u000a&gt;&gt;&gt; exec(compile('42', '&lt;string&gt;', 'eval'))  # code returns 42,\u000a&gt;&gt;&gt;                                          # but ignored by exec\u000a</code></pre>\u000a\u000a<p>In the <code>'eval'</code> mode (and thus with the <code>eval</code> function if a string is passed in), the <code>compile</code> raises an exception if the source code contains statements or anything else beyond a single expression:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; compile('for i in range(3): print(i)', '&lt;string&gt;'. 'eval')\u000aTraceback (most recent call last):\u000a  File "&lt;stdin&gt;", line 1, in &lt;module&gt;\u000a  File "&lt;string&gt;", line 1\u000a    for i in range(3): print(i)\u000a      ^\u000aSyntaxError: invalid syntax\u000a</code></pre>\u000a\u000a<hr>\u000a\u000a<p>Actually the statement <em>"eval accepts only a single expression"</em> applies only when a string (which contains Python <em>source code</em>) is passed to <code>eval</code>. Then it is internally compiled to bytecode using <a href="https://docs.python.org/3/library/functions.html#compile" rel="noreferrer"><code>compile(source, '&lt;string&gt;', 'eval')</code></a> This is where the difference really comes from.</p>\u000a\u000a<p>If a <code>code</code> object (which contains Python <em>bytecode</em>) is passed to <code>exec</code> or <code>eval</code>, <em>they behave identically</em>, excepting for the fact that <code>exec</code> ignores the return value, still returning <code>None</code> always. So it is possible use <code>eval</code> to execute something that has statements, if you just <code>compile</code>d it into bytecode before instead of passing it as a string:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; eval(compile('if 1: print("Hello")', '&lt;string&gt;', 'exec'))\u000aHello\u000a&gt;&gt;&gt;\u000a</code></pre>\u000a\u000a<p>works without problems, even though the compiled code contains statements. It still returns <code>None</code>, because that is the return value of the code object returned from <code>compile</code>.</p>\u000a\u000a<p>In the <code>'eval'</code> mode (and thus with the <code>eval</code> function if a string is passed in), the <code>compile</code> raises an exception if the source code contains statements or anything else beyond a single expression:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; compile('for i in range(3): print(i)', '&lt;string&gt;'. 'eval')\u000aTraceback (most recent call last):\u000a  File "&lt;stdin&gt;", line 1, in &lt;module&gt;\u000a  File "&lt;string&gt;", line 1\u000a    for i in range(3): print(i)\u000a      ^\u000aSyntaxError: invalid syntax\u000a</code></pre>\u000a\u000a<h1>The longer answer, a.k.a the gory details</h1>\u000a\u000a<h2><code>exec</code> and <code>eval</code></h2>\u000a\u000a<p>The <a href="https://docs.python.org/3/library/functions.html#exec" rel="noreferrer"><code>exec</code></a> function (which was <a href="https://docs.python.org/2/reference/simple_stmts.html#exec" rel="noreferrer">a statement in Python 2</a>) is used for executing a dynamically created statement or program:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; program = 'for i in range(3):\u005cn    print("Python is cool")'\u000a&gt;&gt;&gt; exec(program)\u000aPython is cool\u000aPython is cool\u000aPython is cool\u000a&gt;&gt;&gt; \u000a</code></pre>\u000a\u000a<p>The <a href="https://docs.python.org/3/library/functions.html#eval" rel="noreferrer"><code>eval</code></a> function does the same for a <a href="https://docs.python.org/3/reference/expressions.html" rel="noreferrer">single expression</a>, <em>and</em> returns the value of the expression:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; a = 2\u000a&gt;&gt;&gt; my_calculation = '42 * a'\u000a&gt;&gt;&gt; result = eval(my_calculation)\u000a&gt;&gt;&gt; result\u000a84\u000a</code></pre>\u000a\u000a<p><code>exec</code> and <code>eval</code> both accept the program/expression to be run either as a <code>str</code>, <code>unicode</code> or <code>bytes</code> object containing source code, or as a <em><code>code</code> object</em> which contains Python bytecode. </p>\u000a\u000a<p>If a <code>str</code>/<code>unicode</code>/<code>bytes</code> containing source code was passed to <code>exec</code>, it behaves equivalently to:</p>\u000a\u000a<pre><code>exec(compile(source, '&lt;string&gt;', 'exec'))\u000a</code></pre>\u000a\u000a<p>and <code>eval</code> similarly behaves equivalent to:</p>\u000a\u000a<pre><code>eval(compile(source, '&lt;string&gt;', 'eval'))\u000a</code></pre>\u000a\u000a<hr>\u000a\u000a<p>Since all expressions can be used as statements in Python (these are called the <code>Expr</code> nodes in the Python <a href="https://docs.python.org/3/library/ast.html#abstract-grammar" rel="noreferrer">abstract grammar</a>; the opposite is not true), you can always use <code>exec</code> if you do not need the return value. That is to say, you can use either <code>eval('my_func(42)')</code> or <code>exec('my_func(42)')</code>, the difference being that <code>eval</code> returns the value returned by <code>my_func</code>, and <code>exec</code> discards it:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; def my_func(arg):\u000a...     print("Called with %d" % arg)\u000a...     return arg * 2\u000a... \u000a&gt;&gt;&gt; exec('my_func(42)')\u000aCalled with 42\u000a&gt;&gt;&gt; eval('my_func(42)')\u000aCalled with 42\u000a84\u000a&gt;&gt;&gt; \u000a</code></pre>\u000a\u000a<p>Of the 2, only <code>exec</code> accepts source code that contains statements, like <code>def</code>, <code>for</code>, <code>while</code>, <code>import</code>, or <code>class</code>, the assignment statement (a.k.a <code>a = 42</code>), or entire programs:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; exec('for i in range(3): print(i)')\u000a0\u000a1\u000a2\u000a&gt;&gt;&gt; eval('for i in range(3): print(i)')\u000aTraceback (most recent call last):\u000a  File "&lt;stdin&gt;", line 1, in &lt;module&gt;\u000a  File "&lt;string&gt;", line 1\u000a    for i in range(3): print(i)\u000a      ^\u000aSyntaxError: invalid syntax\u000a</code></pre>\u000a\u000a<hr>\u000a\u000a<p>Both <code>exec</code> and <code>eval</code> accept 2 additional positional arguments - <code>globals</code> and <code>locals</code> - which are the global and local variable scopes that the code sees. These default to the <code>globals()</code> and <code>locals()</code> within the scope that called <code>exec</code> or <code>eval</code>, but any dictionary can be used for <code>globals</code> and any <code>mapping</code> for <code>locals</code> (including <code>dict</code> of course). These can be used not only to restrict/modify the variables that the code sees, but are often also used for capturing the variables that the <code>exec</code>ed code creates:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; g = {}\u000a&gt;&gt;&gt; l = {}\u000a&gt;&gt;&gt; exec('global a; a, b = 123, 42', g, l)\u000a&gt;&gt;&gt; g['a']\u000a123\u000a&gt;&gt;&gt; l\u000a{'b': 42}\u000a</code></pre>\u000a\u000a<p>(If you display the value of entire <code>g</code>, it would be much longer, because <code>exec</code> and <code>eval</code> add the built-ins module as <code>__builtins__</code> to the globals automatically if it is missing).</p>\u000a\u000a<p>In Python 2, the official syntax for the <code>exec</code> statement is actually <code>exec code in globals, locals</code>, as in</p>\u000a\u000a<pre><code>&gt;&gt;&gt; exec 'global a; a, b = 123, 42' in g, l\u000a</code></pre>\u000a\u000a<p>However the alternate syntax <code>exec(code, globals, locals)</code> has always been accepted too (see below).</p>\u000a\u000a<h2><code>compile</code></h2>\u000a\u000a<p>The <a href="https://docs.python.org/3/library/functions.html#compile" rel="noreferrer"><code>compile(source, filename, mode, flags=0, dont_inherit=False, optimize=-1)</code></a> built-in can be used to speed up repeated invocations of the same code with <code>exec</code> or <code>eval</code> by compiling the source into a <code>code</code> object beforehand. The <code>mode</code> parameter controls the kind of code fragment the <code>compile</code> function accepts and the kind of bytecode it produces. The choices are <code>'eval'</code>, <code>'exec'</code> and <code>'single'</code>:</p>\u000a\u000a<ul>\u000a<li><p><code>'eval'</code> mode expects a single expression, and will produce bytecode that when run will return the value of <strong>that expression</strong>:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; dis.dis(compile('a + b', '&lt;string&gt;', 'eval'))\u000a  1           0 LOAD_NAME                0 (a)\u000a              3 LOAD_NAME                1 (b)\u000a              6 BINARY_ADD\u000a              7 RETURN_VALUE\u000a</code></pre></li>\u000a<li><p><code>'exec'</code> accepts any kinds of python constructs from single expressions to whole modules of code, and executes them as if they were module top-level statements. The code object returns <code>None</code>:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; dis.dis(compile('a + b', '&lt;string&gt;', 'exec'))\u000a  1           0 LOAD_NAME                0 (a)\u000a              3 LOAD_NAME                1 (b)\u000a              6 BINARY_ADD\u000a              7 POP_TOP                             &lt;- discard result\u000a              8 LOAD_CONST               0 (None)   &lt;- load None on stack\u000a             11 RETURN_VALUE                        &lt;- return top of stack\u000a</code></pre></li>\u000a<li><p><code>'single'</code> is a limited form of <code>'exec'</code> which accepts a source code containing a <strong>single</strong> statement (or multiple statements separated by <code>;</code>) if the last statement is an expression statement, the resulting bytecode also <em>prints the <code>repr</code> of the value of that expression to the standard output(!)</em>.</p>\u000a\u000a<p>An <code>if</code>-<code>elif</code>-<code>else</code> chain, a loop with <code>else</code>, and <code>try</code> with its <code>except</code>, <code>else</code> and <code>finally</code> blocks is considered a single statement.</p>\u000a\u000a<p>A source fragment containing 2 top-level statements is an error for the <code>'single'</code>, except in Python 2 there is <em>a bug</em> that sometimes allows multiple toplevel statements in the code; only the first is compiled; the rest are ignored:</p>\u000a\u000a<p>In Python 2.7.8:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; exec(compile('a = 5\u005cna = 6', '&lt;string&gt;', 'single'))\u000a&gt;&gt;&gt; a\u000a5\u000a</code></pre>\u000a\u000a<p>And in Python 3.4.2:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; exec(compile('a = 5\u005cna = 6', '&lt;string&gt;', 'single'))\u000aTraceback (most recent call last):\u000a  File "&lt;stdin&gt;", line 1, in &lt;module&gt;\u000a  File "&lt;string&gt;", line 1\u000a    a = 5\u000a        ^\u000aSyntaxError: multiple statements found while compiling a single statement\u000a</code></pre>\u000a\u000a<p>This is very useful for making interactive Python shells. However, the value of the expression is <em>not returned</em>, even if you <code>eval</code> the resulting code.</p></li>\u000a</ul>\u000a\u000a<p>Thus greatest distinction of <code>exec</code> and <code>eval</code> actually comes from the <code>compile</code> function and its modes.</p>\u000a\u000a<hr>\u000a\u000a<p>In addition to compiling source code to bytecode, <code>compile</code> supports compiling <a href="https://docs.python.org/3/library/ast.html#abstract-grammar" rel="noreferrer"><em>abstract syntax trees</em></a> (parse trees of Python code) into <code>code</code> objects; and source code into abstract syntax trees (the <code>ast.parse</code> is written in Python and just calls <code>compile(source, filename, mode, PyCF_ONLY_AST)</code>); these are used for example for modifying source code on the fly, and also for dynamic code creation, as it is often easier to handle the code as a tree of nodes instead of lines of text in complex cases.</p>\u000a\u000a<hr>\u000a\u000a<p>While <code>eval</code> only allows you to evaluate a string that contains a single expression, you can <code>eval</code> a whole statement, or even a whole module that has been <code>compile</code>d into bytecode; that is, with Python 2, <code>print</code> is a statement, and cannot be <code>eval</code>led directly:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; eval('for i in range(3): print("Python is cool")')\u000aTraceback (most recent call last):\u000a  File "&lt;stdin&gt;", line 1, in &lt;module&gt;\u000a  File "&lt;string&gt;", line 1\u000a    for i in range(3): print("Python is cool")\u000a      ^\u000aSyntaxError: invalid syntax\u000a</code></pre>\u000a\u000a<p><code>compile</code> it with <code>'exec'</code> mode into a <code>code</code> object and you can <strong><code>eval</code>  it</strong>; the <code>eval</code> function will return <code>None</code>.</p>\u000a\u000a<pre><code>&gt;&gt;&gt; code = compile('for i in range(3): print("Python is cool")',\u000a                   'foo.py', 'exec')\u000a&gt;&gt;&gt; eval(code)\u000aPython is cool\u000aPython is cool\u000aPython is cool\u000a</code></pre>\u000a\u000a<p>If one looks into <a href="https://hg.python.org/cpython/file/ec6ed10d611e/Python/bltinmodule.c#l805" rel="noreferrer"><code>eval</code></a> and <a href="https://hg.python.org/cpython/file/ec6ed10d611e/Python/bltinmodule.c#l882" rel="noreferrer"><code>exec</code></a> source code in CPython 3, this is very evident; they both call <code>PyEval_EvalCode</code> with same arguments, the only difference being that <a href="https://hg.python.org/cpython/file/ec6ed10d611e/Python/bltinmodule.c#l903" rel="noreferrer"><code>exec</code> explicitly returns <code>None</code></a>.</p>\u000a\u000a<h2>Syntax differences of <code>exec</code> between Python 2 and Python 3</h2>\u000a\u000a<p>One of the major differences in Python <strong>2</strong> is that <code>exec</code> is a statement and <code>eval</code> is a built-in function (both are built-in functions in Python 3).\u000aIt is a well-known fact that the official syntax of <code>exec</code> in Python 2 is <code>exec code [in globals[, locals]]</code>.</p>\u000a\u000a<p>Unlike majority of the Python 2-to-3 <a href="http://python3porting.com/differences.html#exec" rel="noreferrer">porting</a> <a href="http://python-future.org/reference.html?highlight=exec#future.utils.exec_" rel="noreferrer">guides</a> <a href="http://docs.pythonsprints.com/python3_porting/py-porting.html#exec-statement" rel="noreferrer">seem</a> <a href="http://nedbatchelder.com/blog/200910/running_the_same_code_on_python_2x_and_3x.html" rel="noreferrer">to suggest</a>, the <code>exec</code> statement in CPython 2 can be also used with syntax that <em>looks</em> <strong>exactly</strong> like the <code>exec</code> function invocation in Python 3. The reason is that Python 0.9.9 had the <code>exec(code, globals, locals)</code> built-in function! And that built-in function was replaced with <code>exec</code> statement <a href="https://hg.python.org/cpython/file/fccd415e2eb8/Python/ceval.c" rel="noreferrer">somewhere before Python 1.0 release</a>.</p>\u000a\u000a<p>Since it was desirable to not break backwards compatibility with Python 0.9.9, <a href="https://hg.python.org/cpython/file/fccd415e2eb8/Python/ceval.c#l2521" rel="noreferrer">Guido van Rossum added a compatibility hack in 1993</a>: if the <code>code</code> was a tuple of length 2 or 3, and <code>globals</code> and <code>locals</code> were not passed into the <code>exec</code> statement otherwise, the <code>code</code> would be interpreted as if the 2nd and 3rd element of the tuple were the <code>globals</code> and <code>locals</code> respectively. The compatibility hack was not mentioned even in <a href="https://docs.python.org/release/1.4/ref/ref6.html#HDR10" rel="noreferrer">Python 1.4 documentation (the earliest available version online)</a>; and thus was not known to many writers of the porting guides and tools, until it was <a href="https://docs.python.org/2/reference/simple_stmts.html#the-exec-statement" rel="noreferrer">documented</a> again <a href="https://mail.python.org/pipermail/python-dev/2012-November/122651.html" rel="noreferrer">in November 2012</a>:</p>\u000a\u000a<blockquote>\u000a  <p>The first expression may also be a tuple of length 2 or 3. In this case, the optional parts must be omitted. The form <code>exec(expr, globals)</code> is equivalent to <code>exec expr in globals</code>, while the form <code>exec(expr, globals, locals)</code> is equivalent to <code>exec expr in globals, locals</code>. The tuple form of <code>exec</code> provides compatibility with Python 3, where <code>exec</code> is a function rather than a statement.</p>\u000a</blockquote>\u000a\u000a<p>Yes, in CPython 2.7 that it is handily referred to as being a forward-compatibility option (why confuse people over that there is a backward compatibility option at all), \u000awhen it actually had been there for <em>backward-compatibility for two decades</em>.</p>\u000a\u000a<p>Thus while <code>exec</code> is a statement in Python 1 and Python 2, and a built-in function in Python 3 and Python 0.9.9,</p>\u000a\u000a<pre><code>&gt;&gt;&gt; exec("print(a)", globals(), {'a': 42})\u000a42\u000a</code></pre>\u000a\u000a<p>has had identical behaviour in possibly every widely released Python version ever; and works in Jython 2.5.2, PyPy 2.3.1 (Python 2.7.6) and IronPython 2.6.1 too (kudos to them following the undocumented behaviour of CPython closely).</p>\u000a\u000a<p>What you cannot do in Pythons 1.0 - 2.7 with its compatibility hack, is to store the return value of <code>exec</code> into a variable:</p>\u000a\u000a<pre><code>Python 2.7.11+ (default, Apr 17 2016, 14:00:29) \u000a[GCC 5.3.1 20160413] on linux2\u000aType "help", "copyright", "credits" or "license" for more information.\u000a&gt;&gt;&gt; a = exec('print(42)')\u000a  File "&lt;stdin&gt;", line 1\u000a    a = exec('print(42)')\u000a           ^\u000aSyntaxError: invalid syntax\u000a</code></pre>\u000a\u000a<p>(which wouldn't be useful in Python 3 either, as <code>exec</code> always returns <code>None</code>), or pass a reference to <code>exec</code>:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; call_later(exec, 'print(42)', delay=1000)\u000a  File "&lt;stdin&gt;", line 1\u000a    call_later(exec, 'print(42)', delay=1000)\u000a                  ^\u000aSyntaxError: invalid syntax\u000a</code></pre>\u000a\u000a<p>Which a pattern that someone might actually have used, though unlikely; </p>\u000a\u000a<p>Or use it in a list comprehension:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; [exec(i) for i in ['print(42)', 'print(foo)']\u000a  File "&lt;stdin&gt;", line 1\u000a    [exec(i) for i in ['print(42)', 'print(foo)']\u000a        ^\u000aSyntaxError: invalid syntax\u000a</code></pre>\u000a\u000a<p>which is abuse of list comprehensions (use a <code>for</code> loop instead!).</p>\u000a
p120
sVquestion_id
p121
I2220699
sVlast_activity_date
p122
I1491119760
sVcreation_date
p123
I1428230684
sVscore
p124
I216
sVowner
p125
(dp126
Vuser_id
p127
I918959
sVprofile_image
p128
Vhttps://www.gravatar.com/avatar/b9051b2917c3d55d55b3d7042fa49f6c?s=128&d=identicon&r=PG
p129
sVuser_type
p130
Vregistered
p131
sVreputation
p132
I52380
sVlink
p133
Vhttp://stackoverflow.com/users/918959/antti-haapala
p134
sVaccept_rate
p135
I88
sVdisplay_name
p136
VAntti Haapala
p137
ssVis_accepted
p138
I01
sVlast_edit_date
p139
I1491119760
sVanswer_id
p140
I29456463
sa(dp141
Vbody
p142
V<p>By "shallow copying" it means the <em>content</em> of the dictionary is not copied by value, but just creating a new reference.</p>\u000a\u000a<pre><code>&gt;&gt;&gt; a = {1: [1,2,3]}\u000a&gt;&gt;&gt; b = a.copy()\u000a&gt;&gt;&gt; a, b\u000a({1: [1, 2, 3]}, {1: [1, 2, 3]})\u000a&gt;&gt;&gt; a[1].append(4)\u000a&gt;&gt;&gt; a, b\u000a({1: [1, 2, 3, 4]}, {1: [1, 2, 3, 4]})\u000a</code></pre>\u000a\u000a<p>In contrast, a deep copy will copy all contents by value.</p>\u000a\u000a<pre><code>&gt;&gt;&gt; import copy\u000a&gt;&gt;&gt; c = copy.deepcopy(a)\u000a&gt;&gt;&gt; a, c\u000a({1: [1, 2, 3, 4]}, {1: [1, 2, 3, 4]})\u000a&gt;&gt;&gt; a[1].append(5)\u000a&gt;&gt;&gt; a, c\u000a({1: [1, 2, 3, 4, 5]}, {1: [1, 2, 3, 4]})\u000a</code></pre>\u000a\u000a<p>So:</p>\u000a\u000a<ol>\u000a<li><p><code>b = a</code>: Reference assignment, Make <code>a</code> and <code>b</code> points to the same object.</p>\u000a\u000a<p><img src="https://i.stack.imgur.com/4AQC6.png" alt="Illustration of &#39;a = b&#39;: &#39;a&#39; and &#39;b&#39; both point to &#39;{1: L}&#39;, &#39;L&#39; points to &#39;[1, 2, 3]&#39;."></p></li>\u000a<li><p><code>b = a.copy()</code>: Shallow copying, <code>a</code> and <code>b</code> will become two isolated objects, but their contents still share the same reference</p>\u000a\u000a<p><img src="https://i.stack.imgur.com/Vtk4m.png" alt="Illustration of &#39;b = a.copy()&#39;: &#39;a&#39; points to &#39;{1: L}&#39;, &#39;b&#39; points to &#39;{1: M}&#39;, &#39;L&#39; and &#39;M&#39; both point to &#39;[1, 2, 3]&#39;."></p></li>\u000a<li><p><code>b = copy.deepcopy(a)</code>: Deep copying, <code>a</code> and <code>b</code>'s structure and content become completely isolated.</p>\u000a\u000a<p><img src="https://i.stack.imgur.com/BO4qO.png" alt="Illustration of &#39;b = copy.deepcopy(a)&#39;: &#39;a&#39; points to &#39;{1: L}&#39;, &#39;L&#39; points to &#39;[1, 2, 3]&#39;; &#39;b&#39; points to &#39;{1: M}&#39;, &#39;M&#39; points to a different instance of &#39;[1, 2, 3]&#39;."></p></li>\u000a</ol>\u000a
p143
sVquestion_id
p144
I3975376
sVlast_activity_date
p145
I1489513923
sVcreation_date
p146
I1287557678
sVscore
p147
I583
sVowner
p148
(dp149
Vuser_id
p150
I224671
sVprofile_image
p151
Vhttps://www.gravatar.com/avatar/c90de868a7e95d75bdfd6a906dfedac7?s=128&d=identicon&r=PG
p152
sVuser_type
p153
Vregistered
p154
sVreputation
p155
I346043
sVlink
p156
Vhttp://stackoverflow.com/users/224671/kennytm
p157
sVaccept_rate
p158
I67
sVdisplay_name
p159
Vkennytm
p160
ssVis_accepted
p161
I01
sVlast_edit_date
p162
I1489513923
sVanswer_id
p163
I3975388
sa(dp164
Vcommunity_owned_date
p165
I1286816609
sVbody
p166
V<p>I prefer using the <a href="https://pypi.python.org/pypi/python-dateutil/2.6.0" rel="noreferrer">dateutil</a> library for timezone handling and generally solid date parsing. If you were to get an ISO 8601 string like: 2010-05-08T23:41:54.000Z you'd have a fun time parsing that with strptime, especially if you didn't know up front whether or not the timezone was included. pyiso8601 has a couple of issues (check their tracker) that I ran into during my usage and it hasn't been updated in a few years. dateutil, by contrast, has been active and worked for me: </p>\u000a\u000a<pre><code>import dateutil.parser\u000ayourdate = dateutil.parser.parse(datestring)\u000a</code></pre>\u000a
p167
sVquestion_id
p168
I969285
sVlast_activity_date
p169
I1486042618
sVcreation_date
p170
I1286816609
sVscore
p171
I408
sVowner
p172
(dp173
Vuser_id
p174
I386925
sVprofile_image
p175
Vhttps://www.gravatar.com/avatar/23de2d62fa46d3785970220b5b135b7c?s=128&d=identicon&r=PG
p176
sVuser_type
p177
Vregistered
p178
sVreputation
p179
I910
sVlink
p180
Vhttp://stackoverflow.com/users/386925/wes-winham
p181
sVdisplay_name
p182
VWes Winham
p183
ssVis_accepted
p184
I01
sVlast_edit_date
p185
I1486042618
sVanswer_id
p186
I3908349
sa(dp187
Vcommunity_owned_date
p188
I1407396282
sVbody
p189
V<p>Sorry, but non of the answers fully "work".\u000aConsider the simple problem:</p>\u000a\u000a<pre><code>class Number:\u000a    """Very basic"""\u000a    def __init__(self, some_number):\u000a        self.some_number = some_number\u000a\u000an1 = Number(1)\u000an2 = Number(1)\u000a\u000aprint n1 == n2 # False -- oops\u000a</code></pre>\u000a\u000a<p>So, Python by default uses the id of objects for comparison.</p>\u000a\u000a<pre><code>print id(n1) # 140400634555856\u000aprint id(n2) # 140400634555920\u000a</code></pre>\u000a\u000a<p>Overriding the <code>__eq__</code> function seems to solve the problem:</p>\u000a\u000a<pre><code>def __eq__(self, other):\u000a    """Override the default Equals behavior"""\u000a    if isinstance(other, self.__class__):\u000a        return self.__dict__ == other.__dict__\u000a    return False\u000a\u000aprint n1 == n2 # True\u000aprint n1 != n2 # True -- oops\u000a</code></pre>\u000a\u000a<p>Always remember to add the <code>__ne__</code> function override:</p>\u000a\u000a<pre><code>def __ne__(self, other):\u000a    """Define a non-equality test"""\u000a    return not self.__eq__(other)\u000a\u000aprint n1 == n2 # True\u000aprint n1 != n2 # False\u000a</code></pre>\u000a\u000a<p>But that doesn't solve all our problems.\u000aLet's add a subclass:</p>\u000a\u000a<pre><code>class NumberPlus(Number):\u000a    pass\u000a\u000an3 = NumberPlus(1)\u000a\u000aprint n1 == n3 # True\u000aprint n3 == n1 # False -- oops\u000a</code></pre>\u000a\u000a<p>Note - new style classes behave <a href="http://stackoverflow.com/a/12984987/78234">a bit differently</a> yet I will provide a generic solution.  </p>\u000a\u000a<p>To fix we need to return the singleton <code>NotImplemented</code> when the object types do not match, delegating the result to <code>superclass.__eq__(subclass)</code>.  </p>\u000a\u000a<p>The result looks like this:</p>\u000a\u000a<pre><code>    def __eq__(self, other):\u000a        """Override the default Equals behavior"""\u000a        if isinstance(other, self.__class__):\u000a            return self.__dict__ == other.__dict__\u000a        return NotImplemented\u000a\u000a    def __ne__(self, other):\u000a        """Define a non-equality test"""\u000a        if isinstance(other, self.__class__):\u000a            return not self.__eq__(other)\u000a        return NotImplemented\u000a</code></pre>\u000a\u000a<p>Are we there yet? Not quite.\u000aHow many unique numbers do we have?</p>\u000a\u000a<pre><code>print len(set([n1, n2, n3])) # 3 -- oops\u000a</code></pre>\u000a\u000a<p>Hmmm. Sets use the hashes of objects, and by default Python returns the id() of the object as a hash. Let's try to override:</p>\u000a\u000a<pre><code>def __hash__(self):\u000a    """Override the default hash behavior (that returns the id or the object)"""\u000a    return hash(tuple(sorted(self.__dict__.items())))\u000a\u000aprint len(set([n1, n2, n3])) # 1\u000a</code></pre>\u000a\u000a<p>The end result looks like this (I added some assertions at the end for validation):</p>\u000a\u000a<pre><code>class Number(object):\u000a    """Very basic"""\u000a    def __init__(self, some_number):\u000a        self.some_number = some_number\u000a\u000a    def __eq__(self, other):\u000a        """Override the default Equals behavior"""\u000a        if isinstance(other, self.__class__):\u000a            return self.__dict__ == other.__dict__\u000a        return NotImplemented\u000a\u000a    def __ne__(self, other):\u000a        """Define a non-equality test"""\u000a        if isinstance(other, self.__class__):\u000a            return not self.__eq__(other)\u000a        return NotImplemented\u000a\u000a    def __hash__(self):\u000a        """Override the default hash behavior (that returns the id or the object)"""\u000a        return hash(tuple(sorted(self.__dict__.items())))\u000a\u000a\u000an1 = Number(1)\u000an2 = Number(1)\u000a\u000aclass NumberPlus(Number):\u000a    pass\u000a\u000an3 = NumberPlus(1)\u000an4 = NumberPlus(4)\u000a\u000aassert n1 == n2\u000aassert n2 == n1\u000aassert not n1 != n2\u000aassert not n2 != n1\u000a\u000aassert n1 == n3\u000aassert n3 == n1\u000aassert not n1 != n3\u000aassert not n3 != n1\u000a\u000aassert not n1 == n4\u000aassert not n4 == n1\u000aassert n1 != n4\u000aassert n4 != n1\u000a\u000aassert len(set([n1, n2, n3, ])) == 1\u000aassert len(set([n1, n2, n3, n4])) == 2\u000a</code></pre>\u000a
p190
sVquestion_id
p191
I390250
sVlast_activity_date
p192
I1485954904
sVcreation_date
p193
I1407396282
sVscore
p194
I118
sVowner
p195
(dp196
Vuser_id
p197
I78234
sVprofile_image
p198
Vhttps://www.gravatar.com/avatar/c6c296d3e13e53deadcb9394b008c904?s=128&d=identicon&r=PG
p199
sVuser_type
p200
Vregistered
p201
sVreputation
p202
I4935
sVlink
p203
Vhttp://stackoverflow.com/users/78234/tal-weiss
p204
sVaccept_rate
p205
I77
sVdisplay_name
p206
VTal Weiss
p207
ssVis_accepted
p208
I01
sVlast_edit_date
p209
I1485954904
sVanswer_id
p210
I25176504
sa(dp211
Vbody
p212
V<p>Prepend the url prefix <code>git+</code> (See <a href="https://pip.pypa.io/en/stable/reference/pip_install/#vcs-support">VCS Support</a>):</p>\u000a\u000a<pre><code>pip install git+https://github.com/tangentlabs/django-oscar-paypal.git@issue/34/oscar-0.6\u000a</code></pre>\u000a\u000a<p>And specify the branch name without the leading <code>/</code>.</p>\u000a
p213
sVquestion_id
p214
I20101834
sVlast_activity_date
p215
I1484924962
sVcreation_date
p216
I1384966292
sVscore
p217
I396
sVowner
p218
(dp219
Vuser_id
p220
I2225682
sVprofile_image
p221
Vhttps://www.gravatar.com/avatar/4958f4712d94ab82fe55fa471308e4b5?s=128&d=identicon&r=PG
p222
sVuser_type
p223
Vregistered
p224
sVreputation
p225
I195409
sVlink
p226
Vhttp://stackoverflow.com/users/2225682/falsetru
p227
sVdisplay_name
p228
Vfalsetru
p229
ssVis_accepted
p230
I01
sVlast_edit_date
p231
I1484924962
sVanswer_id
p232
I20101940
sa(dp233
Vbody
p234
V<p>It seems that the problem is not related to the module being in a parent directory or anything like that.</p>\u000a\u000a<p>You need to add the directory that contains <code>ptdraft</code> to PYTHONPATH</p>\u000a\u000a<p>You said that <code>import nib</code> worked with you, that probably means that you added <code>ptdraft</code> itself (not its parent) to PYTHONPATH.</p>\u000a
p235
sVquestion_id
p236
I714063
sVlast_activity_date
p237
I1484245807
sVcreation_date
p238
I1238767763
sVscore
p239
I51
sVowner
p240
(dp241
Vuser_id
p242
I35364
sVprofile_image
p243
Vhttps://www.gravatar.com/avatar/f11512869fe2f8d87a2f2b687b76686c?s=128&d=identicon&r=PG
p244
sVuser_type
p245
Vregistered
p246
sVreputation
p247
I66403
sVlink
p248
Vhttp://stackoverflow.com/users/35364/hasen
p249
sVaccept_rate
p250
I70
sVdisplay_name
p251
Vhasen
p252
ssVis_accepted
p253
I01
sVlast_edit_date
p254
I1484245807
sVanswer_id
p255
I714070
sa(dp256
Vbody
p257
V<p>You can get the values as a list by doing:</p>\u000a\u000a<pre><code>list(my_dataframe.columns.values)\u000a</code></pre>\u000a\u000a<p>Also you can simply use:</p>\u000a\u000a<pre><code>list(my_dataframe)\u000a</code></pre>\u000a
p258
sVquestion_id
p259
I19482970
sVlast_activity_date
p260
I1483677486
sVcreation_date
p261
I1382304187
sVscore
p262
I472
sVowner
p263
(dp264
Vuser_id
p265
I1267329
sVprofile_image
p266
Vhttps://www.gravatar.com/avatar/f943c14b945cadc0ee0afa6ef70d2103?s=128&d=identicon&r=PG
p267
sVuser_type
p268
Vregistered
p269
sVreputation
p270
I59051
sVlink
p271
Vhttp://stackoverflow.com/users/1267329/simeon-visser
p272
sVdisplay_name
p273
VSimeon Visser
p274
ssVis_accepted
p275
I01
sVlast_edit_date
p276
I1483677486
sVanswer_id
p277
I19483025
sa(dp278
Vcommunity_owned_date
p279
I1398432707
sVbody
p280
V<p>The simplest way to accomplish this would be to put the <code>input</code> method in a while loop. Use <a href="https://docs.python.org/3/tutorial/controlflow.html#break-and-continue-statements-and-else-clauses-on-loops"><code>continue</code></a> when you get bad input, and <code>break</code> out of the loop when you're satisfied.</p>\u000a\u000a<h2>When Your Input Might Raise an Exception</h2>\u000a\u000a<p>Use <a href="https://docs.python.org/3/tutorial/errors.html#handling-exceptions">try and catch</a> to detect when the user enters data that can't be parsed.</p>\u000a\u000a<pre><code>while True:\u000a    try:\u000a        # Note: Python 2.x users should use raw_input, the equivalent of 3.x's input\u000a        age = int(input("Please enter your age: "))\u000a    except ValueError:\u000a        print("Sorry, I didn't understand that.")\u000a        #better try again... Return to the start of the loop\u000a        continue\u000a    else:\u000a        #age was successfully parsed!\u000a        #we're ready to exit the loop.\u000a        break\u000aif age &gt;= 18: \u000a    print("You are able to vote in the United States!")\u000aelse:\u000a    print("You are not able to vote in the United States.")\u000a</code></pre>\u000a\u000a<h2>Implementing Your Own Validation Rules</h2>\u000a\u000a<p>If you want to reject values that Python can successfully parse, you can add your own validation logic.</p>\u000a\u000a<pre><code>while True:\u000a    data = input("Please enter a loud message (must be all caps): ")\u000a    if not data.isupper():\u000a        print("Sorry, your response was not loud enough.")\u000a        continue\u000a    else:\u000a        #we're happy with the value given.\u000a        #we're ready to exit the loop.\u000a        break\u000a\u000awhile True:\u000a    data = input("Pick an answer from A to D:")\u000a    if data.lower() not in ('a', 'b', 'c', 'd'):\u000a        print("Not an appropriate choice.")\u000a    else:\u000a        break\u000a</code></pre>\u000a\u000a<h2>Combining Exception Handling and Custom Validation</h2>\u000a\u000a<p>Both of the above techniques can be combined into one loop.</p>\u000a\u000a<pre><code>while True:\u000a    try:\u000a        age = int(input("Please enter your age: "))\u000a    except ValueError:\u000a        print("Sorry, I didn't understand that.")\u000a        continue\u000a\u000a    if age &lt; 0:\u000a        print("Sorry, your response must not be negative.")\u000a        continue\u000a    else:\u000a        #age was successfully parsed, and we're happy with its value.\u000a        #we're ready to exit the loop.\u000a        break\u000aif age &gt;= 18: \u000a    print("You are able to vote in the United States!")\u000aelse:\u000a    print("You are not able to vote in the United States.")\u000a</code></pre>\u000a\u000a<h2>Encapsulating it All in a Function</h2>\u000a\u000a<p>If you need to ask your user for a lot of different values, it might be useful to put this code in a function, so you don't have to retype it every time.</p>\u000a\u000a<pre><code>def get_non_negative_int(prompt):\u000a    while True:\u000a        try:\u000a            value = int(input(prompt))\u000a        except ValueError:\u000a            print("Sorry, I didn't understand that.")\u000a            continue\u000a\u000a        if value &lt; 0:\u000a            print("Sorry, your response must not be negative.")\u000a            continue\u000a        else:\u000a            break\u000a    return value\u000a\u000aage = get_non_negative_int("Please enter your age: ")\u000akids = get_non_negative_int("Please enter the number of children you have: ")\u000asalary = get_non_negative_int("Please enter your yearly earnings, in dollars: ")\u000a</code></pre>\u000a\u000a<h3>Putting it all together</h3>\u000a\u000a<p>You can extend this idea to make a very generic input function:</p>\u000a\u000a<pre><code>def sanitised_input(prompt, type_=None, min_=None, max_=None, range_=None):\u000a    if min_ is not None and max_ is not None and max_ &lt; min_:\u000a        raise ValueError("min_ must be less than or equal to max_.")\u000a    while True:\u000a        ui = input(prompt)\u000a        if type_ is not None:\u000a            try:\u000a                ui = type_(ui)\u000a            except ValueError:\u000a                print("Input type must be {0}.".format(type_.__name__))\u000a                continue\u000a        if max_ is not None and ui &gt; max_:\u000a            print("Input must be less than or equal to {0}.".format(max_))\u000a        elif min_ is not None and ui &lt; min_:\u000a            print("Input must be greater than or equal to {0}.".format(min_))\u000a        elif range_ is not None and ui not in range_:\u000a            if isinstance(range_, range):\u000a                template = "Input must be between {0.start} and {0.stop}."\u000a                print(template.format(range_))\u000a            else:\u000a                template = "Input must be {0}."\u000a                if len(range_) == 1:\u000a                    print(template.format(*range_))\u000a                else:\u000a                    print(template.format(" or ".join((", ".join(map(str,\u000a                                                                     range_[:-1])),\u000a                                                       str(range_[-1])))))\u000a        else:\u000a            return ui\u000a</code></pre>\u000a\u000a<p>With usage such as:</p>\u000a\u000a<pre><code>age = sanitised_input("Enter your age: ", int, 1, 101)\u000aanswer = sanitised_input("Enter your answer", str.lower, range_=('a', 'b', 'c', 'd'))\u000a</code></pre>\u000a\u000a<h2>Common Pitfalls, and Why you Should Avoid Them</h2>\u000a\u000a<h3>The Redundant Use of Redundant <code>input</code> Statements</h3>\u000a\u000a<p>This method works but is generally considered poor style:</p>\u000a\u000a<pre><code>data = input("Please enter a loud message (must be all caps): ")\u000awhile not data.isupper():\u000a    print("Sorry, your response was not loud enough.")\u000a    data = input("Please enter a loud message (must be all caps): ")\u000a</code></pre>\u000a\u000a<p>It might look attractive initially because it's shorter than the <code>while True</code> method, but it violates the <a href="http://en.wikipedia.org/wiki/Don%27t_repeat_yourself">Don't Repeat Yourself</a> principle of software development. This increases the likelihood of bugs in your system. What if you want to backport to 2.7 by changing <code>input</code> to <code>raw_input</code>, but accidentally change only the first <code>input</code> above? It's a <code>SyntaxError</code> just waiting to happen.</p>\u000a\u000a<h3>Recursion Will Blow Your Stack</h3>\u000a\u000a<p>If you've just learned about recursion, you might be tempted to use it in <code>get_non_negative_int</code> so you can dispose of the while loop.</p>\u000a\u000a<pre><code>def get_non_negative_int(prompt):\u000a    try:\u000a        value = int(input(prompt))\u000a    except ValueError:\u000a        print("Sorry, I didn't understand that.")\u000a        return get_non_negative_int(prompt)\u000a\u000a    if value &lt; 0:\u000a        print("Sorry, your response must not be negative.")\u000a        return get_non_negative_int(prompt)\u000a    else:\u000a        return value\u000a</code></pre>\u000a\u000a<p>This appears to work fine most of the time, but if the user enters invalid data enough times, the script will terminate with a <code>RuntimeError: maximum recursion depth exceeded</code>. You may think "no fool would make 1000 mistakes in a row", but you're underestimating the ingenuity of fools!</p>\u000a
p281
sVquestion_id
p282
I23294658
sVlast_activity_date
p283
I1480659284
sVcreation_date
p284
I1398432707
sVscore
p285
I324
sVowner
p286
(dp287
Vuser_id
p288
I953482
sVprofile_image
p289
Vhttps://i.stack.imgur.com/T3HH6.png?s=128&g=1
p290
sVuser_type
p291
Vregistered
p292
sVreputation
p293
I47304
sVlink
p294
Vhttp://stackoverflow.com/users/953482/kevin
p295
sVaccept_rate
p296
I92
sVdisplay_name
p297
VKevin
p298
ssVis_accepted
p299
I01
sVlast_edit_date
p300
I1480659284
sVanswer_id
p301
I23294659
sa(dp302
Vbody
p303
V<p>From <a href="http://www.python.org/dev/peps/pep-0008/" rel="noreferrer">PEP 8 - Style Guide for Python Code</a>:</p>\u000a\u000a<blockquote>\u000a  <p>The preferred way of wrapping long lines is by using Python's implied line\u000a  continuation inside parentheses, brackets and braces.  If necessary, you\u000a  can add an extra pair of parentheses around an expression, but sometimes\u000a  using a backslash looks better.  Make sure to indent the continued line\u000a  appropriately.  </p>\u000a</blockquote>\u000a\u000a<p>Example of implicit line continuation:</p>\u000a\u000a<pre><code>a = some_function(\u000a    '1' + '2' + '3' - '4')\u000a</code></pre>\u000a\u000a<p>On the topic of line-breaks around a binary operator, it goes on to say:-</p>\u000a\u000a<blockquote>\u000a  <p>For decades the recommended style was to break after binary operators.\u000a  But this can hurt readability in two ways: the operators tend to get scattered across different columns on the screen, and each operator is moved away from its operand and onto the previous line.</p>\u000a  \u000a  <p>In Python code, it is permissible to break before or after a binary operator, as long as the convention is consistent locally. For new code Knuth's style (line breaks <em>before</em> the operator) is suggested.</p>\u000a</blockquote>\u000a\u000a<p>Example of explicit line continuation:</p>\u000a\u000a<pre><code>a = '1'   \u005c\u000a    + '2' \u005c\u000a    + '3' \u005c\u000a    - '4'\u000a</code></pre>\u000a
p304
sVquestion_id
p305
I4172448
sVlast_activity_date
p306
I1479732053
sVcreation_date
p307
I1289650800
sVscore
p308
I324
sVowner
p309
(dp310
Vuser_id
p311
I29407
sVprofile_image
p312
Vhttps://www.gravatar.com/avatar/e3a181e9cdd4757a8b416d93878770c5?s=128&d=identicon&r=PG
p313
sVuser_type
p314
Vregistered
p315
sVreputation
p316
I733667
sVlink
p317
Vhttp://stackoverflow.com/users/29407/darin-dimitrov
p318
sVaccept_rate
p319
I89
sVdisplay_name
p320
VDarin Dimitrov
p321
ssVis_accepted
p322
I01
sVlast_edit_date
p323
I1479732053
sVanswer_id
p324
I4172465
sa(dp325
Vbody
p326
V<p>You need to call <code>os.path.realpath</code> on <code>__file__</code>, so that when <code>__file__</code> is a filename without the path you still get the dir path:</p>\u000a\u000a<pre><code>import os\u000aprint(os.path.dirname(os.path.realpath(__file__)))\u000a</code></pre>\u000a
p327
sVquestion_id
p328
I4934806
sVlast_activity_date
p329
I1478938074
sVcreation_date
p330
I1329667835
sVscore
p331
I425
sVowner
p332
(dp333
Vuser_id
p334
I623622
sVprofile_image
p335
Vhttps://i.stack.imgur.com/pkmbW.png?s=128&g=1
p336
sVuser_type
p337
Vregistered
p338
sVreputation
p339
I10443
sVlink
p340
Vhttp://stackoverflow.com/users/623622/czarek-tomczak
p341
sVdisplay_name
p342
VCzarek Tomczak
p343
ssVis_accepted
p344
I01
sVlast_edit_date
p345
I1478938074
sVanswer_id
p346
I9350788
sa(dp347
Vbody
p348
V<p><a href="https://ipython.org/" rel="noreferrer">IPython</a> is extremely useful if you like using interactive sessions. For example for your usecase there is the <em>%save</em> magic command, you just input <em>%save my_useful_session 10-20 23</em> to save input lines 10 to 20 and 23 to my_useful_session.py. (to help with this, every line is prefixed by its number)</p>\u000a\u000a<p>Look at the videos on the documentation page to get a quick overview of the features.</p>\u000a
p349
sVquestion_id
p350
I947810
sVlast_activity_date
p351
I1477859763
sVcreation_date
p352
I1244072061
sVscore
p353
I259
sVowner
p354
(dp355
Vuser_id
p356
I107366
sVprofile_image
p357
Vhttps://www.gravatar.com/avatar/a664d7ca2f3788c22a3aafeedd1c9339?s=128&d=identicon&r=PG
p358
sVuser_type
p359
Vregistered
p360
sVreputation
p361
I32850
sVlink
p362
Vhttp://stackoverflow.com/users/107366/ants-aasma
p363
sVdisplay_name
p364
VAnts Aasma
p365
ssVis_accepted
p366
I01
sVlast_edit_date
p367
I1477859763
sVanswer_id
p368
I947846
sa(dp369
Vbody
p370
V<p>Use the map function(in py2):</p>\u000a\u000a<pre><code>results = map(int, results)\u000a</code></pre>\u000a\u000a<p>In py3:</p>\u000a\u000a<pre><code>results = list(map(int, results))\u000a</code></pre>\u000a
p371
sVquestion_id
p372
I7368789
sVlast_activity_date
p373
I1477198807
sVcreation_date
p374
I1315614617
sVscore
p375
I551
sVowner
p376
(dp377
Vuser_id
p378
I215974
sVprofile_image
p379
Vhttps://www.gravatar.com/avatar/d88c18def5baeb7be2b6393d07c8dbc5?s=128&d=identicon&r=PG
p380
sVuser_type
p381
Vregistered
p382
sVreputation
p383
I16653
sVlink
p384
Vhttp://stackoverflow.com/users/215974/cheeken
p385
sVdisplay_name
p386
Vcheeken
p387
ssVis_accepted
p388
I01
sVlast_edit_date
p389
I1477198807
sVanswer_id
p390
I7368801
sa(dp391
Vbody
p392
V<p>As for your first question: that code is perfectly fine and should work if <code>item</code> equals one of the elements inside <code>myList</code>. Maybe you try to find a string that does not <em>exactly</em> match one of the items or maybe you are using a float value which suffers from inaccuracy.</p>\u000a\u000a<p>As for your second question: There's actually several possible ways if "finding" things in lists.</p>\u000a\u000a<h3>Checking if something is inside</h3>\u000a\u000a<p>This is the use case you describe: Checking whether something is inside a list or not. As you know, you can use the <code>in</code> operator for that:</p>\u000a\u000a<pre><code>3 in [1, 2, 3] # =&gt; True\u000a</code></pre>\u000a\u000a<h3>Filtering a collection</h3>\u000a\u000a<p>That is, finding all elements in a sequence that meet a certain condition. You can use list comprehension or generator expressions for that:</p>\u000a\u000a<pre><code>matches = [x for x in lst if fulfills_some_condition(x)]\u000amatches = (x for x in lst if x &gt; 6)\u000a</code></pre>\u000a\u000a<p>The latter will return a <em>generator</em> which you can imagine as a sort of lazy list that will only be built as soon as you iterate through it. By the way, the first one is exactly equivalent to</p>\u000a\u000a<pre><code>matches = filter(fulfills_some_condition, lst)\u000a</code></pre>\u000a\u000a<p>in Python 2. Here you can see higher-order functions at work. In Python 3, <code>filter</code> doesn't return a list, but a generator-like object.</p>\u000a\u000a<h3>Finding the first occurrence</h3>\u000a\u000a<p>If you only want the first thing that matches a condition (but you don't know what it is yet), it's fine to use a for loop (possibly using the <code>else</code> clause as well, which is not really well-known). You can also use</p>\u000a\u000a<pre><code>next(x for x in lst if ...)\u000a</code></pre>\u000a\u000a<p>which will return the first match or raise a <code>StopIteration</code> if none is found. Alternatively, you can use</p>\u000a\u000a<pre><code>next((x for x in lst if ...), [default value])\u000a</code></pre>\u000a\u000a<h3>Finding the location of an item</h3>\u000a\u000a<p>For lists, there's also the <code>index</code> method that can sometimes be useful if you want to know <em>where</em> a certain element is in the list:</p>\u000a\u000a<pre><code>[1,2,3].index(2) # =&gt; 1\u000a[1,2,3].index(4) # =&gt; ValueError\u000a</code></pre>\u000a\u000a<p>However, note that if you have duplicates, <code>.index</code> always returns the lowest index:</p>\u000a\u000a<pre><code>[1,2,3,2].index(2) # =&gt; 1\u000a</code></pre>\u000a\u000a<p>If there are duplicates and you want all the indexes then you can use <code>enumerate()</code> instead:</p>\u000a\u000a<pre><code>[i for i,x in enumerate([1,2,3,2]) if x==2] # =&gt; [1, 3]\u000a</code></pre>\u000a
p393
sVquestion_id
p394
I9542738
sVlast_activity_date
p395
I1474907054
sVcreation_date
p396
I1330740621
sVscore
p397
I594
sVowner
p398
(dp399
Vuser_id
p400
I916657
sVprofile_image
p401
Vhttps://www.gravatar.com/avatar/75bf31b48e75eedfebaa411a76a85155?s=128&d=identicon&r=PG
p402
sVuser_type
p403
Vregistered
p404
sVreputation
p405
I59381
sVlink
p406
Vhttp://stackoverflow.com/users/916657/niklas-b
p407
sVaccept_rate
p408
I95
sVdisplay_name
p409
VNiklas B.
p410
ssVis_accepted
p411
I01
sVlast_edit_date
p412
I1474907054
sVanswer_id
p413
I9542768
sa(dp414
Vbody
p415
V<p>There is an <a href="http://code.activestate.com/recipes/576694/" rel="noreferrer">ordered set</a> recipe for this which is referred to from the <a href="https://docs.python.org/2/library/collections.html" rel="noreferrer">Python 2 Documentation</a>. This runs on Py2.6 or later and 3.0 or later without any modifications. The interface is almost exactly the same as a normal set, except that initialisation should be done with a list.</p>\u000a\u000a<pre><code>OrderedSet([1, 2, 3])\u000a</code></pre>\u000a\u000a<p>This is a MutableSet, so the signature for <code>.union</code> doesn't match that of set, but since it includes <code>__or__</code> something similar can easily be added:</p>\u000a\u000a<pre><code>@staticmethod\u000adef union(*sets):\u000a    union = OrderedSet()\u000a    union.union(*sets)\u000a    return union\u000a\u000adef union(self, *sets):\u000a    for set in sets:\u000a        self |= set\u000a</code></pre>\u000a
p416
sVquestion_id
p417
I1653970
sVlast_activity_date
p418
I1470878037
sVcreation_date
p419
I1256984106
sVscore
p420
I149
sVowner
p421
(dp422
Vuser_id
p423
I165495
sVprofile_image
p424
Vhttps://graph.facebook.com/219001761/picture?type=large
p425
sVuser_type
p426
Vregistered
p427
sVreputation
p428
I39232
sVlink
p429
Vhttp://stackoverflow.com/users/165495/casebash
p430
sVaccept_rate
p431
I91
sVdisplay_name
p432
VCasebash
p433
ssVis_accepted
p434
I01
sVlast_edit_date
p435
I1470878037
sVanswer_id
p436
I1653974
sa(dp437
Vbody
p438
V<p>This actually removes the contents from the list, not replaces the old label with a new empty list</p>\u000a\u000a<pre><code>del lst[:]\u000a</code></pre>\u000a\u000a<p>example:</p>\u000a\u000a<pre><code>lst1 = [1, 2, 3]\u000alst2 = lst1\u000adel lst1[:]\u000aprint(lst2)\u000a</code></pre>\u000a\u000a<p>For the sake of completeness, slice assignment achieves the same effect:</p>\u000a\u000a<pre><code>lst[:] = []\u000a</code></pre>\u000a\u000a<p>and can be used to shrink a part of the list while replacing a part at the same time (but is out of scope of the question).</p>\u000a\u000a<p>Note that doing <code>lst = []</code> does not empty the list, just creates a new object and binds it to the variable <code>lst</code>, but the old list will still have the same elements, and effect will be apparent if it had other variable bindings.</p>\u000a
p439
sVquestion_id
p440
I1400608
sVlast_activity_date
p441
I1470390756
sVcreation_date
p442
I1252512640
sVscore
p443
I423
sVowner
p444
(dp445
Vuser_id
p446
I106979
sVprofile_image
p447
Vhttps://i.stack.imgur.com/XUWge.gif?s=128&g=1
p448
sVuser_type
p449
Vregistered
p450
sVreputation
p451
I42372
sVlink
p452
Vhttp://stackoverflow.com/users/106979/fortran
p453
sVaccept_rate
p454
I83
sVdisplay_name
p455
Vfortran
p456
ssVis_accepted
p457
I01
sVlast_edit_date
p458
I1470390756
sVanswer_id
p459
I1400622
sa(dp460
Vbody
p461
V<p><a href="http://docs.python.org/library/constants.html#exit" rel="noreferrer"><code>exit</code></a> is a helper for the interactive shell - <a href="http://docs.python.org/library/sys.html#sys.exit" rel="noreferrer"><code>sys.exit</code></a> is intended for use in programs.</p>\u000a\u000a<blockquote>\u000a  <p>The site module (which is imported automatically during startup, except if the -S command-line option is given) adds several constants to the built-in namespace <em>(e.g. <code>exit</code>)</em>. <strong>They are useful for the interactive interpreter shell and should not be used in programs</strong>.</p>\u000a</blockquote>\u000a\u000a<hr>\u000a\u000a<p>Technically, they do mostly the same: raising <a href="https://docs.python.org/3/library/exceptions.html#SystemExit" rel="noreferrer"><code>SystemExit</code></a>. <code>sys.exit</code> does so in <a href="https://github.com/python-git/python/blob/715a6e5035bb21ac49382772076ec4c630d6e960/Python/sysmodule.c#L206" rel="noreferrer"><em>sysmodule.c</em></a>:</p>\u000a\u000a<pre class="lang-c prettyprint-override"><code>static PyObject *\u000asys_exit(PyObject *self, PyObject *args)\u000a{\u000a    PyObject *exit_code = 0;\u000a    if (!PyArg_UnpackTuple(args, "exit", 0, 1, &amp;exit_code))\u000a        return NULL;\u000a    /* Raise SystemExit so callers may catch it or clean up. */\u000a    PyErr_SetObject(PyExc_SystemExit, exit_code);\u000a   return NULL;\u000a}\u000a</code></pre>\u000a\u000a<p>While <code>exit</code> is defined in <a href="https://github.com/python-git/python/blob/715a6e5035bb21ac49382772076ec4c630d6e960/Lib/site.py#L322" rel="noreferrer"><em>site.py</em></a>:</p>\u000a\u000a<pre><code>class Quitter(object):\u000a    def __init__(self, name):\u000a        self.name = name\u000a    def __repr__(self):\u000a        return 'Use %s() or %s to exit' % (self.name, eof)\u000a    def __call__(self, code=None):\u000a        # Shells like IDLE catch the SystemExit, but listen when their\u000a        # stdin wrapper is closed.\u000a        try:\u000a            sys.stdin.close()\u000a        except:\u000a            pass\u000a        raise SystemExit(code)\u000a__builtin__.quit = Quitter('quit')\u000a__builtin__.exit = Quitter('exit')\u000a</code></pre>\u000a\u000a<hr>\u000a\u000a<p>Note that there is a third exit option, namely <a href="http://docs.python.org/library/os.html#os._exit" rel="noreferrer">os._exit</a>, which exits without calling cleanup handlers, flushing stdio buffers, etc. (and which  should normally only be used in the child process after a <code>fork()</code>).</p>\u000a
p462
sVquestion_id
p463
I6501121
sVlast_activity_date
p464
I1469093930
sVcreation_date
p465
I1309230534
sVscore
p466
I322
sVowner
p467
(dp468
Vuser_id
p469
I89391
sVprofile_image
p470
Vhttps://www.gravatar.com/avatar/bb5230985aa2c9ea7d022d1a16890f16?s=128&d=identicon&r=PG
p471
sVuser_type
p472
Vregistered
p473
sVreputation
p474
I104450
sVlink
p475
Vhttp://stackoverflow.com/users/89391/miku
p476
sVaccept_rate
p477
I78
sVdisplay_name
p478
Vmiku
p479
ssVis_accepted
p480
I01
sVlast_edit_date
p481
I1469093930
sVanswer_id
p482
I6501134
sa(dp483
Vbody
p484
V<p>It should work fine. Don't use <code>tuple</code>, <code>list</code> or other special names as a variable name. It's probably what's causing your problem.</p>\u000a\u000a<pre><code>&gt;&gt;&gt; l = [4,5,6]\u000a&gt;&gt;&gt; tuple(l)\u000a(4, 5, 6)\u000a</code></pre>\u000a
p485
sVquestion_id
p486
I12836128
sVlast_activity_date
p487
I1467657430
sVcreation_date
p488
I1349946917
sVscore
p489
I373
sVowner
p490
(dp491
Vuser_id
p492
I1199589
sVprofile_image
p493
Vhttps://www.gravatar.com/avatar/d3c6a7f974f5d687a394415a2122c6b6?s=128&d=identicon&r=PG
p494
sVuser_type
p495
Vregistered
p496
sVreputation
p497
I25908
sVlink
p498
Vhttp://stackoverflow.com/users/1199589/root
p499
sVaccept_rate
p500
I89
sVdisplay_name
p501
Vroot
p502
ssVis_accepted
p503
I01
sVlast_edit_date
p504
I1467657430
sVanswer_id
p505
I12836173
sa(dp506
Vbody
p507
V<p>Because <a href="http://www.python.org/dev/peps/pep-0008/#tabs-or-spaces" rel="noreferrer">PEP-8</a> tells us to use spaces :)</p>\u000a
p508
sVquestion_id
p509
I119562
sVlast_activity_date
p510
I1467296909
sVcreation_date
p511
I1222154880
sVscore
p512
I204
sVowner
p513
(dp514
Vuser_id
p515
I712
sVprofile_image
p516
Vhttps://www.gravatar.com/avatar/bd319cfb666b090230d12d3d3284d018?s=128&d=identicon&r=PG
p517
sVuser_type
p518
Vregistered
p519
sVreputation
p520
I13016
sVlink
p521
Vhttp://stackoverflow.com/users/712/alexander-kojevnikov
p522
sVdisplay_name
p523
VAlexander Kojevnikov
p524
ssVis_accepted
p525
I01
sVlast_edit_date
p526
I1467296909
sVanswer_id
p527
I119576
sa(dp528
Vbody
p529
V<p>Strings in Python are <em>immutable</em> (can't be changed).  Because of this, the effect of <code>line.replace(...)</code> is just to create a new string, rather than changing the old one.  You need to <em>rebind</em> (assign) it to <code>line</code> in order to have that variable take the new value, with those characters removed.</p>\u000a\u000a<p>Also, the way you are doing it is going to be kind of slow, relatively.  It's also likely to be a bit confusing to experienced pythonators, who will see a doubly-nested structure and think for a moment that something more complicated is going on.</p>\u000a\u000a<p>Starting in Python 2.6 and newer Python 2.x versions *, you can instead use <a href="https://docs.python.org/2/library/stdtypes.html#str.translate" rel="noreferrer"><code>str.translate</code></a>, (but read on for Python 3 differences):</p>\u000a\u000a<pre><code>line = line.translate(None, '!@#$')\u000a</code></pre>\u000a\u000a<p>or regular expression replacement with <a href="https://docs.python.org/2/library/re.html#re.sub" rel="noreferrer"><code>re.sub</code></a></p>\u000a\u000a<pre><code>import re\u000aline = re.sub('[!@#$]', '', line)\u000a</code></pre>\u000a\u000a<p>The characters enclosed in brackets constitute a <em>character class</em>.  Any characters in <code>line</code> which are in that class are replaced with the second parameter to <code>sub</code>: an empty string.</p>\u000a\u000a<p>In Python 3, strings are Unicode. You'll have to translate a little differently. kevpie mentions this in a <a href="http://stackoverflow.com/questions/3939361/remove-specific-characters-from-a-string-in-python#comment-4205256">comment</a> on one of the answers, and it's noted in the <a href="https://docs.python.org/2/library/stdtypes.html#str.translate" rel="noreferrer">documentation for <code>str.translate</code></a>.</p>\u000a\u000a<p>When calling the <code>translate</code> method of a Unicode string, you cannot pass the second parameter that we used above. You also can't pass <code>None</code> as the first parameter, or even a translation table from <code>string.maketrans</code>. Instead, you pass a dictionary as the only parameter. This dictionary maps the <em>ordinal values</em> of characters (i.e. the result of calling <a href="https://docs.python.org/2/library/functions.html#ord" rel="noreferrer"><code>ord</code></a> on them) to the ordinal values of the characters which should replace them, or\u2014usefully to us\u2014<code>None</code> to indicate that they should be deleted.</p>\u000a\u000a<p>So to do the above dance with a Unicode string you would call something like</p>\u000a\u000a<pre><code>translation_table = dict.fromkeys(map(ord, '!@#$'), None)\u000aunicode_line = unicode_line.translate(translation_table)\u000a</code></pre>\u000a\u000a<p>Here <a href="https://docs.python.org/2/library/stdtypes.html#dict.fromkeys" rel="noreferrer"><code>dict.fromkeys</code></a> and <a href="https://docs.python.org/2/library/functions.html#map" rel="noreferrer"><code>map</code></a> are used to succinctly generate a dictionary containing</p>\u000a\u000a<pre><code>{ord('!'): None, ord('@'): None, ...}\u000a</code></pre>\u000a\u000a<p>Even simpler, as <a href="http://stackoverflow.com/questions/23175809/typeerror-translate-takes-one-argument-2-given-python">another answer puts it</a>, create the dictionary in place:</p>\u000a\u000a<pre><code>unicode_line = unicode_line.translate({ord(c): None for c in '!@#$'})\u000a</code></pre>\u000a\u000a<hr>\u000a\u000a<p>*   for compatibility with earlier Pythons, you can create a "null" translation table to pass in place of <code>None</code>:</p>\u000a\u000a<pre><code>import string\u000aline = line.translate(string.maketrans('', ''), '!@#$')\u000a</code></pre>\u000a\u000a<p>Here <a href="https://docs.python.org/2/library/string.html#string.maketrans" rel="noreferrer"><code>string.maketrans</code></a> is used to create a <em>translation table</em>, which is just a string containing the characters with ordinal values 0 to 255.</p>\u000a
p530
sVquestion_id
p531
I3939361
sVlast_activity_date
p532
I1465582603
sVcreation_date
p533
I1287114638
sVscore
p534
I363
sVowner
p535
(dp536
Vuser_id
p537
I192812
sVprofile_image
p538
Vhttps://www.gravatar.com/avatar/2052394c0f78e9710c54ab413d593510?s=128&d=identicon&r=PG
p539
sVuser_type
p540
Vregistered
p541
sVreputation
p542
I12414
sVlink
p543
Vhttp://stackoverflow.com/users/192812/intuited
p544
sVaccept_rate
p545
I49
sVdisplay_name
p546
Vintuited
p547
ssVis_accepted
p548
I01
sVlast_edit_date
p549
I1465582603
sVanswer_id
p550
I3939381
sa(dp551
Vbody
p552
V<p><a href="https://pypi.python.org/pypi/Unidecode" rel="noreferrer">Unidecode</a> is the correct answer for this. It transliterates any unicode string into the closest possible representation in ascii text.</p>\u000a
p553
sVquestion_id
p554
I517923
sVlast_activity_date
p555
I1464038713
sVcreation_date
p556
I1271193674
sVscore
p557
I179
sVowner
p558
(dp559
Vuser_id
p560
I3757
sVprofile_image
p561
Vhttps://www.gravatar.com/avatar/886cefc5134a9df362fe871b0ab71d38?s=128&d=identicon&r=PG
p562
sVuser_type
p563
Vregistered
p564
sVreputation
p565
I21636
sVlink
p566
Vhttp://stackoverflow.com/users/3757/christian-oudard
p567
sVaccept_rate
p568
I86
sVdisplay_name
p569
VChristian Oudard
p570
ssVis_accepted
p571
I01
sVlast_edit_date
p572
I1464038713
sVanswer_id
p573
I2633310
sa(dp574
Vbody
p575
V<h1>Python 2</h1>\u000a\u000a<p>Make an empty file called <code>__init__.py</code> in the same directory as the files. That will signify to Python that it's "ok to import from this directory".</p>\u000a\u000a<p>Then just do...</p>\u000a\u000a<pre><code>from user import User\u000afrom dir import Dir\u000a</code></pre>\u000a\u000a<p>The same holds true if the files are in a subdirectory - put an <code>__init__.py</code> in the subdirectory as well, and then use regular import statements, with dot notation. For each level of directory, you need to add to the import path. </p>\u000a\u000a<pre><code>bin/\u000a    main.py\u000a    classes/\u000a        user.py\u000a        dir.py\u000a</code></pre>\u000a\u000a<p>So if the directory was named "classes", then you'd do this:</p>\u000a\u000a<pre><code>from classes.user import User\u000afrom classes.dir import Dir\u000a</code></pre>\u000a\u000a<h1>Python 3</h1>\u000a\u000a<p>Same as previous, but prefix the module name with a <code>.</code> if not using a subdirectory:</p>\u000a\u000a<pre><code>from .user import User\u000afrom .dir import Dir\u000a</code></pre>\u000a
p576
sVquestion_id
p577
I4142151
sVlast_activity_date
p578
I1460914191
sVcreation_date
p579
I1289374570
sVscore
p580
I373
sVowner
p581
(dp582
Vuser_id
p583
I148870
sVprofile_image
p584
Vhttps://www.gravatar.com/avatar/559f9b4a76982a9c3e496e2e7686d4b1?s=128&d=identicon&r=PG
p585
sVuser_type
p586
Vregistered
p587
sVreputation
p588
I273965
sVlink
p589
Vhttp://stackoverflow.com/users/148870/amber
p590
sVdisplay_name
p591
VAmber
p592
ssVis_accepted
p593
I01
sVlast_edit_date
p594
I1460914191
sVanswer_id
p595
I4142178
sa(dp596
Vbody
p597
V<p>Example at @Nasser's answer:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; df = DataFrame(columns=('lib', 'qty1', 'qty2'))\u000a&gt;&gt;&gt; for i in range(5):\u000a&gt;&gt;&gt;     df.loc[i] = [randint(-1,1) for n in range(3)]\u000a&gt;&gt;&gt;\u000a&gt;&gt;&gt; print(df)\u000a    lib  qty1  qty2\u000a0    0     0    -1\u000a1   -1    -1     1\u000a2    1    -1     1\u000a3    0     0     0\u000a4    1    -1    -1\u000a\u000a[5 rows x 3 columns]\u000a</code></pre>\u000a
p598
sVquestion_id
p599
I10715965
sVlast_activity_date
p600
I1460359225
sVcreation_date
p601
I1406034625
sVscore
p602
I154
sVowner
p603
(dp604
Vuser_id
p605
I1289107
sVprofile_image
p606
Vhttps://www.gravatar.com/avatar/b8e0c4a0ea801b27e2fb1ed1d06107a0?s=128&d=identicon&r=PG
p607
sVuser_type
p608
Vregistered
p609
sVreputation
p610
I1825
sVlink
p611
Vhttp://stackoverflow.com/users/1289107/fred
p612
sVaccept_rate
p613
I54
sVdisplay_name
p614
Vfred
p615
ssVis_accepted
p616
I01
sVlast_edit_date
p617
I1460359225
sVanswer_id
p618
I24888331
sa(dp619
Vbody
p620
V<p>While <a href="http://stackoverflow.com/a/27341847/2854723">this previous answer</a> might be the reason, this snipped worked for me as a solution (in <code>Ubuntu 14.04</code>):</p>\u000a\u000a<p>First remove the package from the package manager:</p>\u000a\u000a<pre class="lang-none prettyprint-override"><code># apt-get remove python-pip\u000a</code></pre>\u000a\u000a<p>And then install the latest version by side:</p>\u000a\u000a<pre class="lang-none prettyprint-override"><code># easy_install pip\u000a</code></pre>\u000a\u000a<p>(thanks to @Aufziehvogel, @JunchaoGu)</p>\u000a
p621
sVquestion_id
p622
I27341064
sVlast_activity_date
p623
I1460288273
sVcreation_date
p624
I1418308960
sVscore
p625
I370
sVowner
p626
(dp627
Vuser_id
p628
I2854723
sVprofile_image
p629
Vhttps://i.stack.imgur.com/qSfR2.png?s=128&g=1
p630
sVuser_type
p631
Vregistered
p632
sVreputation
p633
I4675
sVlink
p634
Vhttp://stackoverflow.com/users/2854723/thomas-mc-work
p635
sVaccept_rate
p636
I80
sVdisplay_name
p637
Vthomas.mc.work
p638
ssVis_accepted
p639
I01
sVlast_edit_date
p640
I1460288273
sVanswer_id
p641
I27425458
sa(dp642
Vbody
p643
V<p><code>nose</code> isn't really a unit testing framework.  It's a test runner and a great one at that.  It can run tests created using <code>unittest</code>, <code>py.test</code> or <code>doctest</code>.</p>\u000a\u000a<p>My preference for unit testing framework is the standard <code>unittest</code> module (also known as <code>pyUnit</code>).  It's similar to other xUnit frameworks and is easy to relate to for people without python background.   There is also pretty good support for it in Eclipse/PyDev</p>\u000a\u000a<p>On <code>py.test</code>, I find multiple levels of setup/teardowns very confusing. I also find that it leads to highly unstructured and hard to read unit tests.</p>\u000a\u000a<p><code>doctest</code> is OK for simple things, but I find that it's very limiting and doesn't really scale for complex and highly interactive code.</p>\u000a
p644
sVquestion_id
p645
I191673
sVlast_activity_date
p646
I1458829776
sVcreation_date
p647
I1223791781
sVscore
p648
I111
sVowner
p649
(dp650
Vuser_id
p651
I52490
sVprofile_image
p652
Vhttps://www.gravatar.com/avatar/11118ae56897b53161f737a0131d865b?s=128&d=identicon&r=PG
p653
sVuser_type
p654
Vregistered
p655
sVreputation
p656
I8016
sVlink
p657
Vhttp://stackoverflow.com/users/52490/kozyarchuk
p658
sVaccept_rate
p659
I75
sVdisplay_name
p660
VKozyarchuk
p661
ssVis_accepted
p662
I01
sVlast_edit_date
p663
I1458829776
sVanswer_id
p664
I195144
sa(dp665
Vbody
p666
V<p>The easiest and pureist method without relying on C headers is PyYaml:</p>\u000a\u000a<pre><code>#!/usr/bin/env python\u000a\u000aimport yaml\u000a\u000awith open("example.yaml", 'r') as stream:\u000a    try:\u000a        print(yaml.load(stream))\u000a    except yaml.YAMLError as exc:\u000a        print(exc)\u000a</code></pre>\u000a\u000a<p>Err.. that's it... how many lines of code would that take me in Java... any ideas? : ) more info here:</p>\u000a\u000a<p><a href="http://pyyaml.org/wiki/PyYAMLDocumentation" rel="noreferrer">http://pyyaml.org/wiki/PyYAMLDocumentation</a></p>\u000a
p667
sVquestion_id
p668
I1773805
sVlast_activity_date
p669
I1456194063
sVcreation_date
p670
I1258763014
sVscore
p671
I333
sVowner
p672
(dp673
Vuser_id
p674
I82865
sVprofile_image
p675
Vhttps://www.gravatar.com/avatar/053082988d5c2da6fe500a209f8cfdd8?s=128&d=identicon&r=PG
p676
sVuser_type
p677
Vregistered
p678
sVreputation
p679
I37152
sVlink
p680
Vhttp://stackoverflow.com/users/82865/jon
p681
sVaccept_rate
p682
I71
sVdisplay_name
p683
VJon
p684
ssVis_accepted
p685
I01
sVlast_edit_date
p686
I1456194063
sVanswer_id
p687
I1774043
sa(dp688
Vbody
p689
V<p>This came up in another <a href="http://stackoverflow.com/questions/752602/slicing-in-python-expressions-documentation">question</a> recently.  I'll elaborate on my <a href="http://stackoverflow.com/questions/752602/slicing-in-python-expressions-documentation/753260#753260">answer</a> from there:</p>\u000a\u000a<p><a href="http://docs.python.org/dev/library/constants.html#Ellipsis" rel="noreferrer">Ellipsis</a> is an object that can appear in slice notation.  For example:</p>\u000a\u000a<pre><code>myList[1:2, ..., 0]\u000a</code></pre>\u000a\u000a<p>Its interpretation is purely up to whatever implements the <code>__getitem__</code> function and sees <code>Ellipsis</code> objects there, but its main (and intended) use is in the <a href="http://numpy.scipy.org/" rel="noreferrer">numeric python</a> extension, which adds a multidimensional array type.  Since there are more than one dimensions, slicing becomes more complex than just a start and stop index; it is useful to be able to slice in multiple dimensions as well. E.g., given a 4x4 array, the top left area would be defined by the slice <code>[:2,:2]</code>:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; a\u000aarray([[ 1,  2,  3,  4],\u000a       [ 5,  6,  7,  8],\u000a       [ 9, 10, 11, 12],\u000a       [13, 14, 15, 16]])\u000a\u000a&gt;&gt;&gt; a[:2,:2]  # top left\u000aarray([[1, 2],\u000a       [5, 6]])\u000a</code></pre>\u000a\u000a<p>Extending this further, Ellipsis is used here to indicate a placeholder for the rest of the array dimensions not specified.  Think of it as indicating the full slice <code>[:]</code> for all the dimensions in the gap it is placed, so for a 3d array, <code>a[...,0]</code> is the same as <code>a[:,:,0]</code> and for 4d, <code>a[:,:,:,0]</code>, similarly, <code>a[0,...,0]</code> is <code>a[0,:,:,0]</code> (with however many colons in the middle make up the full number of dimensions in the array).</p>\u000a\u000a<p>Interestingly, in python3, the Ellipsis literal (<code>...</code>) is usable outside the slice syntax, so you can actually write: </p>\u000a\u000a<pre><code>&gt;&gt;&gt; ...\u000aEllipsis\u000a</code></pre>\u000a\u000a<p>Other than the various numeric types, no, I don't think it's used.  As far as I'm aware, it was added purely for numpy use and has no core support other than providing the object and corresponding syntax.  The object being there didn't require this, but the literal "..." support for slices did.</p>\u000a
p690
sVquestion_id
p691
I772124
sVlast_activity_date
p692
I1454316137
sVcreation_date
p693
I1240331167
sVscore
p694
I297
sVowner
p695
(dp696
Vuser_id
p697
I9493
sVprofile_image
p698
Vhttps://www.gravatar.com/avatar/7895e5fdbabe3fc5e09272bb602257d7?s=128&d=identicon&r=PG
p699
sVuser_type
p700
Vregistered
p701
sVreputation
p702
I73391
sVlink
p703
Vhttp://stackoverflow.com/users/9493/brian
p704
sVdisplay_name
p705
VBrian
p706
ssVis_accepted
p707
I01
sVlast_edit_date
p708
I1454316137
sVanswer_id
p709
I773472
sa(dp710
Vbody
p711
V<p><strong>Warning:</strong> <code>timeit</code> results may vary due to differences in hardware or\u000aversion of Python.  </p>\u000a\u000a<p>Below is a script which compares a number of implementations: \u000a<UL>\u000a<LI>ambi_sieve_plain,\u000a<LI><a href="http://stackoverflow.com/questions/2068372/fastest-way-to-list-all-primes-below-n-in-python/3035188#3035188">rwh_primes</a>, \u000a<LI><a href="http://stackoverflow.com/questions/2068372/fastest-way-to-list-all-primes-below-n-in-python/3035188#3035188">rwh_primes1</a>, \u000a<LI><a href="http://stackoverflow.com/questions/2068372/fastest-way-to-list-all-primes-below-n-in-python/3035188#3035188">rwh_primes2</a>, \u000a<LI><a href="https://web.archive.org/web/20080324064651/http://krenzel.info/?p=83" rel="noreferrer">sieveOfAtkin</a>, \u000a<LI><a href="http://groups.google.com/group/comp.lang.python/msg/f1f10ced88c68c2d" rel="noreferrer">sieveOfEratosthenes</a>, \u000a<LI><a href="http://stackoverflow.com/questions/2068372/fastest-way-to-list-all-primes-below-n-in-python/2073279#2073279">sundaram3</a>,\u000a<LI><a href="http://zerovolt.com/?p=88" rel="noreferrer">sieve_wheel_30</a>,\u000a<LI><a href="http://tommih.blogspot.com/2009/04/fast-prime-number-generator.html" rel="noreferrer">ambi_sieve</a> (requires numpy)\u000a<LI><a href="http://stackoverflow.com/questions/2068372/fastest-way-to-list-all-primes-below-n-in-python/3035188#3035188">primesfrom3to</a> (requires numpy)\u000a<LI><a href="http://stackoverflow.com/questions/2068372/fastest-way-to-list-all-primes-below-n-in-python/3035188#3035188">primesfrom2to</a> (requires numpy)\u000a</UL></p>\u000a\u000a<p>Many thanks to <a href="http://stackoverflow.com/users/92092/stephan">stephan</a> for bringing sieve_wheel_30 to my attention.\u000aCredit goes to <a href="http://stackoverflow.com/questions/2068372/fastest-way-to-list-all-primes-below-n-in-python/3035188#3035188">Robert William Hanks</a> for primesfrom2to, primesfrom3to, rwh_primes, rwh_primes1, and rwh_primes2.</p>\u000a\u000a<p>Of the plain Python methods tested, <strong>with psyco</strong>, for n=1000000,\u000a<strong>rwh_primes1</strong> was the fastest tested.</p>\u000a\u000a<pre><code>+---------------------+-------+\u000a| Method              | ms    |\u000a+---------------------+-------+\u000a| rwh_primes1         | 43.0  |\u000a| sieveOfAtkin        | 46.4  |\u000a| rwh_primes          | 57.4  |\u000a| sieve_wheel_30      | 63.0  |\u000a| rwh_primes2         | 67.8  |    \u000a| sieveOfEratosthenes | 147.0 |\u000a| ambi_sieve_plain    | 152.0 |\u000a| sundaram3           | 194.0 |\u000a+---------------------+-------+\u000a</code></pre>\u000a\u000a<p>Of the plain Python methods tested, <strong>without psyco</strong>, for n=1000000,\u000a<strong>rwh_primes2</strong> was the fastest.</p>\u000a\u000a<pre><code>+---------------------+-------+\u000a| Method              | ms    |\u000a+---------------------+-------+\u000a| rwh_primes2         | 68.1  |\u000a| rwh_primes1         | 93.7  |\u000a| rwh_primes          | 94.6  |\u000a| sieve_wheel_30      | 97.4  |\u000a| sieveOfEratosthenes | 178.0 |\u000a| ambi_sieve_plain    | 286.0 |\u000a| sieveOfAtkin        | 314.0 |\u000a| sundaram3           | 416.0 |\u000a+---------------------+-------+\u000a</code></pre>\u000a\u000a<p>Of all the methods tested, <em>allowing numpy</em>, for n=1000000,\u000a<strong>primesfrom2to</strong> was the fastest tested.</p>\u000a\u000a<pre><code>+---------------------+-------+\u000a| Method              | ms    |\u000a+---------------------+-------+\u000a| primesfrom2to       | 15.9  |\u000a| primesfrom3to       | 18.4  |\u000a| ambi_sieve          | 29.3  |\u000a+---------------------+-------+\u000a</code></pre>\u000a\u000a<p>Timings were measured using the command:</p>\u000a\u000a<pre><code>python -mtimeit -s"import primes" "primes.{method}(1000000)"\u000a</code></pre>\u000a\u000a<p>with <code>{method}</code> replaced by each of the method names.</p>\u000a\u000a<p>primes.py:</p>\u000a\u000a<pre><code>#!/usr/bin/env python\u000aimport psyco; psyco.full()\u000afrom math import sqrt, ceil\u000aimport numpy as np\u000a\u000adef rwh_primes(n):\u000a    # http://stackoverflow.com/questions/2068372/fastest-way-to-list-all-primes-below-n-in-python/3035188#3035188\u000a    """ Returns  a list of primes &lt; n """\u000a    sieve = [True] * n\u000a    for i in xrange(3,int(n**0.5)+1,2):\u000a        if sieve[i]:\u000a            sieve[i*i::2*i]=[False]*((n-i*i-1)/(2*i)+1)\u000a    return [2] + [i for i in xrange(3,n,2) if sieve[i]]\u000a\u000adef rwh_primes1(n):\u000a    # http://stackoverflow.com/questions/2068372/fastest-way-to-list-all-primes-below-n-in-python/3035188#3035188\u000a    """ Returns  a list of primes &lt; n """\u000a    sieve = [True] * (n/2)\u000a    for i in xrange(3,int(n**0.5)+1,2):\u000a        if sieve[i/2]:\u000a            sieve[i*i/2::i] = [False] * ((n-i*i-1)/(2*i)+1)\u000a    return [2] + [2*i+1 for i in xrange(1,n/2) if sieve[i]]\u000a\u000adef rwh_primes2(n):\u000a    # http://stackoverflow.com/questions/2068372/fastest-way-to-list-all-primes-below-n-in-python/3035188#3035188\u000a    """ Input n&gt;=6, Returns a list of primes, 2 &lt;= p &lt; n """\u000a    correction = (n%6&gt;1)\u000a    n = {0:n,1:n-1,2:n+4,3:n+3,4:n+2,5:n+1}[n%6]\u000a    sieve = [True] * (n/3)\u000a    sieve[0] = False\u000a    for i in xrange(int(n**0.5)/3+1):\u000a      if sieve[i]:\u000a        k=3*i+1|1\u000a        sieve[      ((k*k)/3)      ::2*k]=[False]*((n/6-(k*k)/6-1)/k+1)\u000a        sieve[(k*k+4*k-2*k*(i&amp;1))/3::2*k]=[False]*((n/6-(k*k+4*k-2*k*(i&amp;1))/6-1)/k+1)\u000a    return [2,3] + [3*i+1|1 for i in xrange(1,n/3-correction) if sieve[i]]\u000a\u000adef sieve_wheel_30(N):\u000a    # http://zerovolt.com/?p=88\u000a    ''' Returns a list of primes &lt;= N using wheel criterion 2*3*5 = 30\u000a\u000aCopyright 2009 by zerovolt.com\u000aThis code is free for non-commercial purposes, in which case you can just leave this comment as a credit for my work.\u000aIf you need this code for commercial purposes, please contact me by sending an email to: info [at] zerovolt [dot] com.'''\u000a    __smallp = ( 2, 3, 5, 7, 11, 13, 17, 19, 23, 29, 31, 37, 41, 43, 47, 53, 59,\u000a    61, 67, 71, 73, 79, 83, 89, 97, 101, 103, 107, 109, 113, 127, 131, 137, 139,\u000a    149, 151, 157, 163, 167, 173, 179, 181, 191, 193, 197, 199, 211, 223, 227,\u000a    229, 233, 239, 241, 251, 257, 263, 269, 271, 277, 281, 283, 293, 307, 311,\u000a    313, 317, 331, 337, 347, 349, 353, 359, 367, 373, 379, 383, 389, 397, 401,\u000a    409, 419, 421, 431, 433, 439, 443, 449, 457, 461, 463, 467, 479, 487, 491,\u000a    499, 503, 509, 521, 523, 541, 547, 557, 563, 569, 571, 577, 587, 593, 599,\u000a    601, 607, 613, 617, 619, 631, 641, 643, 647, 653, 659, 661, 673, 677, 683,\u000a    691, 701, 709, 719, 727, 733, 739, 743, 751, 757, 761, 769, 773, 787, 797,\u000a    809, 811, 821, 823, 827, 829, 839, 853, 857, 859, 863, 877, 881, 883, 887,\u000a    907, 911, 919, 929, 937, 941, 947, 953, 967, 971, 977, 983, 991, 997)\u000a\u000a    wheel = (2, 3, 5)\u000a    const = 30\u000a    if N &lt; 2:\u000a        return []\u000a    if N &lt;= const:\u000a        pos = 0\u000a        while __smallp[pos] &lt;= N:\u000a            pos += 1\u000a        return list(__smallp[:pos])\u000a    # make the offsets list\u000a    offsets = (7, 11, 13, 17, 19, 23, 29, 1)\u000a    # prepare the list\u000a    p = [2, 3, 5]\u000a    dim = 2 + N // const\u000a    tk1  = [True] * dim\u000a    tk7  = [True] * dim\u000a    tk11 = [True] * dim\u000a    tk13 = [True] * dim\u000a    tk17 = [True] * dim\u000a    tk19 = [True] * dim\u000a    tk23 = [True] * dim\u000a    tk29 = [True] * dim\u000a    tk1[0] = False\u000a    # help dictionary d\u000a    # d[a , b] = c  ==&gt; if I want to find the smallest useful multiple of (30*pos)+a\u000a    # on tkc, then I need the index given by the product of [(30*pos)+a][(30*pos)+b]\u000a    # in general. If b &lt; a, I need [(30*pos)+a][(30*(pos+1))+b]\u000a    d = {}\u000a    for x in offsets:\u000a        for y in offsets:\u000a            res = (x*y) % const\u000a            if res in offsets:\u000a                d[(x, res)] = y\u000a    # another help dictionary: gives tkx calling tmptk[x]\u000a    tmptk = {1:tk1, 7:tk7, 11:tk11, 13:tk13, 17:tk17, 19:tk19, 23:tk23, 29:tk29}\u000a    pos, prime, lastadded, stop = 0, 0, 0, int(ceil(sqrt(N)))\u000a    # inner functions definition\u000a    def del_mult(tk, start, step):\u000a        for k in xrange(start, len(tk), step):\u000a            tk[k] = False\u000a    # end of inner functions definition\u000a    cpos = const * pos\u000a    while prime &lt; stop:\u000a        # 30k + 7\u000a        if tk7[pos]:\u000a            prime = cpos + 7\u000a            p.append(prime)\u000a            lastadded = 7\u000a            for off in offsets:\u000a                tmp = d[(7, off)]\u000a                start = (pos + prime) if off == 7 else (prime * (const * (pos + 1 if tmp &lt; 7 else 0) + tmp) )//const\u000a                del_mult(tmptk[off], start, prime)\u000a        # 30k + 11\u000a        if tk11[pos]:\u000a            prime = cpos + 11\u000a            p.append(prime)\u000a            lastadded = 11\u000a            for off in offsets:\u000a                tmp = d[(11, off)]\u000a                start = (pos + prime) if off == 11 else (prime * (const * (pos + 1 if tmp &lt; 11 else 0) + tmp) )//const\u000a                del_mult(tmptk[off], start, prime)\u000a        # 30k + 13\u000a        if tk13[pos]:\u000a            prime = cpos + 13\u000a            p.append(prime)\u000a            lastadded = 13\u000a            for off in offsets:\u000a                tmp = d[(13, off)]\u000a                start = (pos + prime) if off == 13 else (prime * (const * (pos + 1 if tmp &lt; 13 else 0) + tmp) )//const\u000a                del_mult(tmptk[off], start, prime)\u000a        # 30k + 17\u000a        if tk17[pos]:\u000a            prime = cpos + 17\u000a            p.append(prime)\u000a            lastadded = 17\u000a            for off in offsets:\u000a                tmp = d[(17, off)]\u000a                start = (pos + prime) if off == 17 else (prime * (const * (pos + 1 if tmp &lt; 17 else 0) + tmp) )//const\u000a                del_mult(tmptk[off], start, prime)\u000a        # 30k + 19\u000a        if tk19[pos]:\u000a            prime = cpos + 19\u000a            p.append(prime)\u000a            lastadded = 19\u000a            for off in offsets:\u000a                tmp = d[(19, off)]\u000a                start = (pos + prime) if off == 19 else (prime * (const * (pos + 1 if tmp &lt; 19 else 0) + tmp) )//const\u000a                del_mult(tmptk[off], start, prime)\u000a        # 30k + 23\u000a        if tk23[pos]:\u000a            prime = cpos + 23\u000a            p.append(prime)\u000a            lastadded = 23\u000a            for off in offsets:\u000a                tmp = d[(23, off)]\u000a                start = (pos + prime) if off == 23 else (prime * (const * (pos + 1 if tmp &lt; 23 else 0) + tmp) )//const\u000a                del_mult(tmptk[off], start, prime)\u000a        # 30k + 29\u000a        if tk29[pos]:\u000a            prime = cpos + 29\u000a            p.append(prime)\u000a            lastadded = 29\u000a            for off in offsets:\u000a                tmp = d[(29, off)]\u000a                start = (pos + prime) if off == 29 else (prime * (const * (pos + 1 if tmp &lt; 29 else 0) + tmp) )//const\u000a                del_mult(tmptk[off], start, prime)\u000a        # now we go back to top tk1, so we need to increase pos by 1\u000a        pos += 1\u000a        cpos = const * pos\u000a        # 30k + 1\u000a        if tk1[pos]:\u000a            prime = cpos + 1\u000a            p.append(prime)\u000a            lastadded = 1\u000a            for off in offsets:\u000a                tmp = d[(1, off)]\u000a                start = (pos + prime) if off == 1 else (prime * (const * pos + tmp) )//const\u000a                del_mult(tmptk[off], start, prime)\u000a    # time to add remaining primes\u000a    # if lastadded == 1, remove last element and start adding them from tk1\u000a    # this way we don't need an "if" within the last while\u000a    if lastadded == 1:\u000a        p.pop()\u000a    # now complete for every other possible prime\u000a    while pos &lt; len(tk1):\u000a        cpos = const * pos\u000a        if tk1[pos]: p.append(cpos + 1)\u000a        if tk7[pos]: p.append(cpos + 7)\u000a        if tk11[pos]: p.append(cpos + 11)\u000a        if tk13[pos]: p.append(cpos + 13)\u000a        if tk17[pos]: p.append(cpos + 17)\u000a        if tk19[pos]: p.append(cpos + 19)\u000a        if tk23[pos]: p.append(cpos + 23)\u000a        if tk29[pos]: p.append(cpos + 29)\u000a        pos += 1\u000a    # remove exceeding if present\u000a    pos = len(p) - 1\u000a    while p[pos] &gt; N:\u000a        pos -= 1\u000a    if pos &lt; len(p) - 1:\u000a        del p[pos+1:]\u000a    # return p list\u000a    return p\u000a\u000adef sieveOfEratosthenes(n):\u000a    """sieveOfEratosthenes(n): return the list of the primes &lt; n."""\u000a    # Code from: &lt;dickinsm@gmail.com&gt;, Nov 30 2006\u000a    # http://groups.google.com/group/comp.lang.python/msg/f1f10ced88c68c2d\u000a    if n &lt;= 2:\u000a        return []\u000a    sieve = range(3, n, 2)\u000a    top = len(sieve)\u000a    for si in sieve:\u000a        if si:\u000a            bottom = (si*si - 3) // 2\u000a            if bottom &gt;= top:\u000a                break\u000a            sieve[bottom::si] = [0] * -((bottom - top) // si)\u000a    return [2] + [el for el in sieve if el]\u000a\u000adef sieveOfAtkin(end):\u000a    """sieveOfAtkin(end): return a list of all the prime numbers &lt;end\u000a    using the Sieve of Atkin."""\u000a    # Code by Steve Krenzel, &lt;Sgk284@gmail.com&gt;, improved\u000a    # Code: https://web.archive.org/web/20080324064651/http://krenzel.info/?p=83\u000a    # Info: http://en.wikipedia.org/wiki/Sieve_of_Atkin\u000a    assert end &gt; 0\u000a    lng = ((end-1) // 2)\u000a    sieve = [False] * (lng + 1)\u000a\u000a    x_max, x2, xd = int(sqrt((end-1)/4.0)), 0, 4\u000a    for xd in xrange(4, 8*x_max + 2, 8):\u000a        x2 += xd\u000a        y_max = int(sqrt(end-x2))\u000a        n, n_diff = x2 + y_max*y_max, (y_max &lt;&lt; 1) - 1\u000a        if not (n &amp; 1):\u000a            n -= n_diff\u000a            n_diff -= 2\u000a        for d in xrange((n_diff - 1) &lt;&lt; 1, -1, -8):\u000a            m = n % 12\u000a            if m == 1 or m == 5:\u000a                m = n &gt;&gt; 1\u000a                sieve[m] = not sieve[m]\u000a            n -= d\u000a\u000a    x_max, x2, xd = int(sqrt((end-1) / 3.0)), 0, 3\u000a    for xd in xrange(3, 6 * x_max + 2, 6):\u000a        x2 += xd\u000a        y_max = int(sqrt(end-x2))\u000a        n, n_diff = x2 + y_max*y_max, (y_max &lt;&lt; 1) - 1\u000a        if not(n &amp; 1):\u000a            n -= n_diff\u000a            n_diff -= 2\u000a        for d in xrange((n_diff - 1) &lt;&lt; 1, -1, -8):\u000a            if n % 12 == 7:\u000a                m = n &gt;&gt; 1\u000a                sieve[m] = not sieve[m]\u000a            n -= d\u000a\u000a    x_max, y_min, x2, xd = int((2 + sqrt(4-8*(1-end)))/4), -1, 0, 3\u000a    for x in xrange(1, x_max + 1):\u000a        x2 += xd\u000a        xd += 6\u000a        if x2 &gt;= end: y_min = (((int(ceil(sqrt(x2 - end))) - 1) &lt;&lt; 1) - 2) &lt;&lt; 1\u000a        n, n_diff = ((x*x + x) &lt;&lt; 1) - 1, (((x-1) &lt;&lt; 1) - 2) &lt;&lt; 1\u000a        for d in xrange(n_diff, y_min, -8):\u000a            if n % 12 == 11:\u000a                m = n &gt;&gt; 1\u000a                sieve[m] = not sieve[m]\u000a            n += d\u000a\u000a    primes = [2, 3]\u000a    if end &lt;= 3:\u000a        return primes[:max(0,end-2)]\u000a\u000a    for n in xrange(5 &gt;&gt; 1, (int(sqrt(end))+1) &gt;&gt; 1):\u000a        if sieve[n]:\u000a            primes.append((n &lt;&lt; 1) + 1)\u000a            aux = (n &lt;&lt; 1) + 1\u000a            aux *= aux\u000a            for k in xrange(aux, end, 2 * aux):\u000a                sieve[k &gt;&gt; 1] = False\u000a\u000a    s  = int(sqrt(end)) + 1\u000a    if s  % 2 == 0:\u000a        s += 1\u000a    primes.extend([i for i in xrange(s, end, 2) if sieve[i &gt;&gt; 1]])\u000a\u000a    return primes\u000a\u000adef ambi_sieve_plain(n):\u000a    s = range(3, n, 2)\u000a    for m in xrange(3, int(n**0.5)+1, 2): \u000a        if s[(m-3)/2]: \u000a            for t in xrange((m*m-3)/2,(n&gt;&gt;1)-1,m):\u000a                s[t]=0\u000a    return [2]+[t for t in s if t&gt;0]\u000a\u000adef sundaram3(max_n):\u000a    # http://stackoverflow.com/questions/2068372/fastest-way-to-list-all-primes-below-n-in-python/2073279#2073279\u000a    numbers = range(3, max_n+1, 2)\u000a    half = (max_n)//2\u000a    initial = 4\u000a\u000a    for step in xrange(3, max_n+1, 2):\u000a        for i in xrange(initial, half, step):\u000a            numbers[i-1] = 0\u000a        initial += 2*(step+1)\u000a\u000a        if initial &gt; half:\u000a            return [2] + filter(None, numbers)\u000a\u000a################################################################################\u000a# Using Numpy:\u000adef ambi_sieve(n):\u000a    # http://tommih.blogspot.com/2009/04/fast-prime-number-generator.html\u000a    s = np.arange(3, n, 2)\u000a    for m in xrange(3, int(n ** 0.5)+1, 2): \u000a        if s[(m-3)/2]: \u000a            s[(m*m-3)/2::m]=0\u000a    return np.r_[2, s[s&gt;0]]\u000a\u000adef primesfrom3to(n):\u000a    # http://stackoverflow.com/questions/2068372/fastest-way-to-list-all-primes-below-n-in-python/3035188#3035188\u000a    """ Returns a array of primes, p &lt; n """\u000a    assert n&gt;=2\u000a    sieve = np.ones(n/2, dtype=np.bool)\u000a    for i in xrange(3,int(n**0.5)+1,2):\u000a        if sieve[i/2]:\u000a            sieve[i*i/2::i] = False\u000a    return np.r_[2, 2*np.nonzero(sieve)[0][1::]+1]    \u000a\u000adef primesfrom2to(n):\u000a    # http://stackoverflow.com/questions/2068372/fastest-way-to-list-all-primes-below-n-in-python/3035188#3035188\u000a    """ Input n&gt;=6, Returns a array of primes, 2 &lt;= p &lt; n """\u000a    sieve = np.ones(n/3 + (n%6==2), dtype=np.bool)\u000a    sieve[0] = False\u000a    for i in xrange(int(n**0.5)/3+1):\u000a        if sieve[i]:\u000a            k=3*i+1|1\u000a            sieve[      ((k*k)/3)      ::2*k] = False\u000a            sieve[(k*k+4*k-2*k*(i&amp;1))/3::2*k] = False\u000a    return np.r_[2,3,((3*np.nonzero(sieve)[0]+1)|1)]\u000a\u000aif __name__=='__main__':\u000a    import itertools\u000a    import sys\u000a\u000a    def test(f1,f2,num):\u000a        print('Testing {f1} and {f2} return same results'.format(\u000a            f1=f1.func_name,\u000a            f2=f2.func_name))\u000a        if not all([a==b for a,b in itertools.izip_longest(f1(num),f2(num))]):\u000a            sys.exit("Error: %s(%s) != %s(%s)"%(f1.func_name,num,f2.func_name,num))\u000a\u000a    n=1000000\u000a    test(sieveOfAtkin,sieveOfEratosthenes,n)\u000a    test(sieveOfAtkin,ambi_sieve,n)\u000a    test(sieveOfAtkin,ambi_sieve_plain,n) \u000a    test(sieveOfAtkin,sundaram3,n)\u000a    test(sieveOfAtkin,sieve_wheel_30,n)\u000a    test(sieveOfAtkin,primesfrom3to,n)\u000a    test(sieveOfAtkin,primesfrom2to,n)\u000a    test(sieveOfAtkin,rwh_primes,n)\u000a    test(sieveOfAtkin,rwh_primes1,n)         \u000a    test(sieveOfAtkin,rwh_primes2,n)\u000a</code></pre>\u000a\u000a<p>Running the script tests that all implementations give the same result.</p>\u000a
p712
sVquestion_id
p713
I2068372
sVlast_activity_date
p714
I1453215637
sVcreation_date
p715
I1263514749
sVscore
p716
I271
sVowner
p717
(dp718
Vuser_id
p719
I190597
sVprofile_image
p720
Vhttps://www.gravatar.com/avatar/aabc98d5c6482ca0e1405ec97710f30a?s=128&d=identicon&r=PG&f=1
p721
sVuser_type
p722
Vregistered
p723
sVreputation
p724
I424924
sVlink
p725
Vhttp://stackoverflow.com/users/190597/unutbu
p726
sVaccept_rate
p727
I88
sVdisplay_name
p728
Vunutbu
p729
ssVis_accepted
p730
I01
sVlast_edit_date
p731
I1453215637
sVanswer_id
p732
I2068548
sa(dp733
Vbody
p734
V<p>To quote <a href="https://docs.python.org/2/reference/lexical_analysis.html#string-literals">the Python 2.x documentation</a>:</p>\u000a\u000a<blockquote>\u000a  <p>A prefix of 'b' or 'B' is ignored in\u000a  Python 2; it indicates that the\u000a  literal should become a bytes literal\u000a  in Python 3 (e.g. when code is\u000a  automatically converted with 2to3). A\u000a  'u' or 'b' prefix may be followed by\u000a  an 'r' prefix.</p>\u000a</blockquote>\u000a\u000a<p>The <a href="https://docs.python.org/3.3/reference/lexical_analysis.html#string-literals">Python 3.3 documentation</a> states:</p>\u000a\u000a<blockquote>\u000a  <p>Bytes literals are always prefixed with 'b' or 'B'; they produce an instance of the bytes type instead of the str type. They may only contain ASCII characters; bytes with a numeric value of 128 or greater must be expressed with escapes.</p>\u000a</blockquote>\u000a
p735
sVquestion_id
p736
I6269765
sVlast_activity_date
p737
I1445669172
sVcreation_date
p738
I1307470582
sVscore
p739
I145
sVowner
p740
(dp741
Vuser_id
p742
I367273
sVprofile_image
p743
Vhttps://www.gravatar.com/avatar/f1ed2b0c87f602ef30229f5c4b04eff6?s=128&d=identicon&r=PG
p744
sVuser_type
p745
Vregistered
p746
sVreputation
p747
I279473
sVlink
p748
Vhttp://stackoverflow.com/users/367273/npe
p749
sVaccept_rate
p750
I96
sVdisplay_name
p751
VNPE
p752
ssVis_accepted
p753
I01
sVlast_edit_date
p754
I1445669172
sVanswer_id
p755
I6269785
sa(dp756
Vbody
p757
V<p>In Python 3, no <code>raw_input()</code> exists. So, just use:</p>\u000a\u000a<pre><code>input("Press Enter to continue...")\u000a</code></pre>\u000a\u000a<p>This only waits for a user to press enter though, so you might want to use <strong>msvcrt</strong> ((Windows/DOS only) The msvcrt module gives you access to a number of functions in the Microsoft Visual C/C++ Runtime Library (MSVCRT)):</p>\u000a\u000a<pre><code>import msvcrt as m\u000adef wait():\u000a    m.getch()\u000a</code></pre>\u000a\u000a<p>This should wait for a key press.</p>\u000a
p758
sVquestion_id
p759
I983354
sVlast_activity_date
p760
I1445454760
sVcreation_date
p761
I1247708900
sVscore
p762
I216
sVowner
p763
(dp764
Vuser_id
p765
I64236
sVprofile_image
p766
Vhttps://www.gravatar.com/avatar/0a9dc25a8774fc02554cc2556136a959?s=128&d=identicon&r=PG
p767
sVuser_type
p768
Vregistered
p769
sVreputation
p770
I4889
sVlink
p771
Vhttp://stackoverflow.com/users/64236/riza
p772
sVaccept_rate
p773
I100
sVdisplay_name
p774
Vriza
p775
ssVis_accepted
p776
I01
sVlast_edit_date
p777
I1445454760
sVanswer_id
p778
I1135035
sa(dp779
Vbody
p780
V<p>The question you reference asks which languages promote both OO and functional programming. Python does not <em>promote</em> functional programming even though it <em>works</em> fairly well.</p>\u000a\u000a<p>The best argument <em>against</em> functional programming in Python is that imperative/OO use cases are carefully considered by Guido, while functional programming use cases are not. When I write imperative Python, it's one of the prettiest languages I know. When I write functional Python, it becomes as ugly and unpleasant as your average language that doesn't have a <a href="http://en.wikipedia.org/wiki/Benevolent_Dictator_for_Life" rel="noreferrer">BDFL</a>.</p>\u000a\u000a<p>Which is not to say that it's bad, just that you have to work harder than you would if you switched to a language that promotes functional programming or switched to writing OO Python.</p>\u000a\u000a<p>Here are the functional things I miss in Python:</p>\u000a\u000a<ul>\u000a<li><a href="http://learnyouahaskell.com/syntax-in-functions#pattern-matching" rel="noreferrer">Pattern matching</a></li>\u000a<li><a href="http://book.realworldhaskell.org/read/functional-programming.html#fp.loop" rel="noreferrer">Tail recursion</a></li>\u000a<li><a href="https://hackage.haskell.org/package/base/docs/Data-List.html" rel="noreferrer">Large library of list functions</a></li>\u000a<li><a href="https://hackage.haskell.org/package/containers/docs/Data-Map.html" rel="noreferrer">Functional dictionary class</a></li>\u000a<li><a href="http://learnyouahaskell.com/higher-order-functions#curried-functions" rel="noreferrer">Automatic currying</a></li>\u000a<li><a href="http://learnyouahaskell.com/higher-order-functions#composition" rel="noreferrer">Concise way to compose functions</a></li>\u000a<li>Lazy lists</li>\u000a<li>Simple, powerful expression syntax (Python's simple block syntax prevents Guido from adding it)</li>\u000a</ul>\u000a\u000a<hr>\u000a\u000a<ul>\u000a<li>No pattern matching and no tail recursion mean your basic algorithms have to be written imperatively. Recursion is ugly and slow in Python.</li>\u000a<li>A small list library and no functional dictionaries mean that you have to write a lot of stuff yourself. </li>\u000a<li>No syntax for currying or composition means that point-free style is about as full of punctuation as explicitly passing arguments.</li>\u000a<li>Iterators instead of lazy lists means that you have to know whether you want efficiency or persistence, and to scatter calls to <code>list</code> around if you want persistence. (Iterators are use-once)</li>\u000a<li>Python's simple imperative syntax, along with its simple LL1 parser, mean that a better syntax for if-expressions and lambda-expressions is basically impossible. Guido likes it this way, and I think he's right.</li>\u000a</ul>\u000a
p781
sVquestion_id
p782
I1017621
sVlast_activity_date
p783
I1438880353
sVcreation_date
p784
I1245417776
sVscore
p785
I301
sVowner
p786
(dp787
Vuser_id
p788
I7851
sVprofile_image
p789
Vhttps://www.gravatar.com/avatar/52feb5a1f3175e3706444ca360fb1271?s=128&d=identicon&r=PG
p790
sVuser_type
p791
Vregistered
p792
sVreputation
p793
I14319
sVlink
p794
Vhttp://stackoverflow.com/users/7851/nathan-shively-sanders
p795
sVaccept_rate
p796
I100
sVdisplay_name
p797
VNathan Shively-Sanders
p798
ssVis_accepted
p799
I01
sVlast_edit_date
p800
I1438880353
sVanswer_id
p801
I1017937
sa(dp802
Vbody
p803
V<p>Yes, you can.  By specifying the <code>object_pairs_hook</code> argument to <a href="http://docs.python.org/library/json.html#encoders-and-decoders" rel="noreferrer">JSONDecoder</a>.  In fact, this is the exact example given in the documentation.</p>\u000a\u000a<pre><code>&gt;&gt;&gt; json.JSONDecoder(object_pairs_hook=collections.OrderedDict).decode('{"foo":1, "bar": 2}')\u000aOrderedDict([('foo', 1), ('bar', 2)])\u000a&gt;&gt;&gt; \u000a</code></pre>\u000a\u000a<p>You can pass this parameter to <code>json.loads</code> (if you don't need a Decoder instance for other purposes) like so:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; import json\u000a&gt;&gt;&gt; from collections import OrderedDict\u000a&gt;&gt;&gt; data = json.loads('{"foo":1, "bar": 2}', object_pairs_hook=OrderedDict)\u000a&gt;&gt;&gt; print json.dumps(data, indent=4)\u000a{\u000a    "foo": 1,\u000a    "bar": 2\u000a}\u000a&gt;&gt;&gt; \u000a</code></pre>\u000a\u000a<p>Using <code>json.load</code> is done in the same way:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; data = json.load(open('config.json'), object_pairs_hook=OrderedDict)\u000a</code></pre>\u000a
p804
sVquestion_id
p805
I6921699
sVlast_activity_date
p806
I1438790170
sVcreation_date
p807
I1312346913
sVscore
p808
I317
sVowner
p809
(dp810
Vuser_id
p811
I65696
sVprofile_image
p812
Vhttps://www.gravatar.com/avatar/d8da959b2a586b4a147604e6f534a9fe?s=128&d=identicon&r=PG
p813
sVuser_type
p814
Vregistered
p815
sVreputation
p816
I91178
sVlink
p817
Vhttp://stackoverflow.com/users/65696/singlenegationelimination
p818
sVaccept_rate
p819
I85
sVdisplay_name
p820
VSingleNegationElimination
p821
ssVis_accepted
p822
I01
sVlast_edit_date
p823
I1438790170
sVanswer_id
p824
I6921760
sa(dp825
Vcommunity_owned_date
p826
I1245235437
sVbody
p827
V<p>If you're interested into the number of processors <em>available</em> to your current process, you have to check <a href="http://man7.org/linux/man-pages/man7/cpuset.7.html" rel="noreferrer">cpuset</a> first. Otherwise (or if cpuset is not in use), <a href="http://docs.python.org/library/multiprocessing.html#multiprocessing.cpu_count" rel="noreferrer"><code>multiprocessing.cpu_count()</code></a> is the way to go in Python 2.6. The following method falls back to a couple of alternative methods in older versions of Python:</p>\u000a\u000a<pre><code>import os\u000aimport re\u000aimport subprocess\u000a\u000a\u000adef available_cpu_count():\u000a    """ Number of available virtual or physical CPUs on this system, i.e.\u000a    user/real as output by time(1) when called with an optimally scaling\u000a    userspace-only program"""\u000a\u000a    # cpuset\u000a    # cpuset may restrict the number of *available* processors\u000a    try:\u000a        m = re.search(r'(?m)^Cpus_allowed:\u005cs*(.*)$',\u000a                      open('/proc/self/status').read())\u000a        if m:\u000a            res = bin(int(m.group(1).replace(',', ''), 16)).count('1')\u000a            if res &gt; 0:\u000a                return res\u000a    except IOError:\u000a        pass\u000a\u000a    # Python 2.6+\u000a    try:\u000a        import multiprocessing\u000a        return multiprocessing.cpu_count()\u000a    except (ImportError, NotImplementedError):\u000a        pass\u000a\u000a    # http://code.google.com/p/psutil/\u000a    try:\u000a        import psutil\u000a        return psutil.cpu_count()   # psutil.NUM_CPUS on old versions\u000a    except (ImportError, AttributeError):\u000a        pass\u000a\u000a    # POSIX\u000a    try:\u000a        res = int(os.sysconf('SC_NPROCESSORS_ONLN'))\u000a\u000a        if res &gt; 0:\u000a            return res\u000a    except (AttributeError, ValueError):\u000a        pass\u000a\u000a    # Windows\u000a    try:\u000a        res = int(os.environ['NUMBER_OF_PROCESSORS'])\u000a\u000a        if res &gt; 0:\u000a            return res\u000a    except (KeyError, ValueError):\u000a        pass\u000a\u000a    # jython\u000a    try:\u000a        from java.lang import Runtime\u000a        runtime = Runtime.getRuntime()\u000a        res = runtime.availableProcessors()\u000a        if res &gt; 0:\u000a            return res\u000a    except ImportError:\u000a        pass\u000a\u000a    # BSD\u000a    try:\u000a        sysctl = subprocess.Popen(['sysctl', '-n', 'hw.ncpu'],\u000a                                  stdout=subprocess.PIPE)\u000a        scStdout = sysctl.communicate()[0]\u000a        res = int(scStdout)\u000a\u000a        if res &gt; 0:\u000a            return res\u000a    except (OSError, ValueError):\u000a        pass\u000a\u000a    # Linux\u000a    try:\u000a        res = open('/proc/cpuinfo').read().count('processor\u005ct:')\u000a\u000a        if res &gt; 0:\u000a            return res\u000a    except IOError:\u000a        pass\u000a\u000a    # Solaris\u000a    try:\u000a        pseudoDevices = os.listdir('/devices/pseudo/')\u000a        res = 0\u000a        for pd in pseudoDevices:\u000a            if re.match(r'^cpuid@[0-9]+$', pd):\u000a                res += 1\u000a\u000a        if res &gt; 0:\u000a            return res\u000a    except OSError:\u000a        pass\u000a\u000a    # Other UNIXes (heuristic)\u000a    try:\u000a        try:\u000a            dmesg = open('/var/run/dmesg.boot').read()\u000a        except IOError:\u000a            dmesgProcess = subprocess.Popen(['dmesg'], stdout=subprocess.PIPE)\u000a            dmesg = dmesgProcess.communicate()[0]\u000a\u000a        res = 0\u000a        while '\u005cncpu' + str(res) + ':' in dmesg:\u000a            res += 1\u000a\u000a        if res &gt; 0:\u000a            return res\u000a    except OSError:\u000a        pass\u000a\u000a    raise Exception('Can not determine number of CPUs on this system')\u000a</code></pre>\u000a
p828
sVquestion_id
p829
I1006289
sVlast_activity_date
p830
I1426961603
sVcreation_date
p831
I1245235408
sVscore
p832
I122
sVowner
p833
(dp834
Vuser_id
p835
I35070
sVprofile_image
p836
Vhttps://www.gravatar.com/avatar/6f92354195e8874dbee44d5c8714d506?s=128&d=identicon&r=PG
p837
sVuser_type
p838
Vregistered
p839
sVreputation
p840
I151394
sVlink
p841
Vhttp://stackoverflow.com/users/35070/phihag
p842
sVaccept_rate
p843
I77
sVdisplay_name
p844
Vphihag
p845
ssVis_accepted
p846
I01
sVlast_edit_date
p847
I1426961603
sVanswer_id
p848
I1006301
sa(dp849
Vbody
p850
V<p>As I mentioned to David Wolever, there's more to this than meets the eye; both methods dispatch to <code>is</code>; you can prove this by doing</p>\u000a\u000a<pre><code>min(Timer("x == x", setup="x = 'a' * 1000000").repeat(10, 10000))\u000a#&gt;&gt;&gt; 0.00045456900261342525\u000a\u000amin(Timer("x == y", setup="x = 'a' * 1000000; y = 'a' * 1000000").repeat(10, 10000))\u000a#&gt;&gt;&gt; 0.5256857610074803\u000a</code></pre>\u000a\u000a<p>The first can only be so fast because it checks by identity.</p>\u000a\u000a<p>To find out why one would take longer than the other, let's trace through execution.</p>\u000a\u000a<p>They both start in <code>ceval.c</code>, from <code>COMPARE_OP</code> since that is the bytecode involved</p>\u000a\u000a<pre><code>TARGET(COMPARE_OP) {\u000a    PyObject *right = POP();\u000a    PyObject *left = TOP();\u000a    PyObject *res = cmp_outcome(oparg, left, right);\u000a    Py_DECREF(left);\u000a    Py_DECREF(right);\u000a    SET_TOP(res);\u000a    if (res == NULL)\u000a        goto error;\u000a    PREDICT(POP_JUMP_IF_FALSE);\u000a    PREDICT(POP_JUMP_IF_TRUE);\u000a    DISPATCH();\u000a}\u000a</code></pre>\u000a\u000a<p>This pops the values from the stack (technically it only pops one)</p>\u000a\u000a<pre><code>PyObject *right = POP();\u000aPyObject *left = TOP();\u000a</code></pre>\u000a\u000a<p>and runs the compare:</p>\u000a\u000a<pre><code>PyObject *res = cmp_outcome(oparg, left, right);\u000a</code></pre>\u000a\u000a<p><code>cmp_outcome</code> is this:</p>\u000a\u000a<pre><code>static PyObject *\u000acmp_outcome(int op, PyObject *v, PyObject *w)\u000a{\u000a    int res = 0;\u000a    switch (op) {\u000a    case PyCmp_IS: ...\u000a    case PyCmp_IS_NOT: ...\u000a    case PyCmp_IN:\u000a        res = PySequence_Contains(w, v);\u000a        if (res &lt; 0)\u000a            return NULL;\u000a        break;\u000a    case PyCmp_NOT_IN: ...\u000a    case PyCmp_EXC_MATCH: ...\u000a    default:\u000a        return PyObject_RichCompare(v, w, op);\u000a    }\u000a    v = res ? Py_True : Py_False;\u000a    Py_INCREF(v);\u000a    return v;\u000a}\u000a</code></pre>\u000a\u000a<p>This is where the paths split. The <code>PyCmp_IN</code> branch does</p>\u000a\u000a<pre><code>int\u000aPySequence_Contains(PyObject *seq, PyObject *ob)\u000a{\u000a    Py_ssize_t result;\u000a    PySequenceMethods *sqm = seq-&gt;ob_type-&gt;tp_as_sequence;\u000a    if (sqm != NULL &amp;&amp; sqm-&gt;sq_contains != NULL)\u000a        return (*sqm-&gt;sq_contains)(seq, ob);\u000a    result = _PySequence_IterSearch(seq, ob, PY_ITERSEARCH_CONTAINS);\u000a    return Py_SAFE_DOWNCAST(result, Py_ssize_t, int);\u000a}\u000a</code></pre>\u000a\u000a<p>Note that a tuple is defined as</p>\u000a\u000a<pre><code>static PySequenceMethods tuple_as_sequence = {\u000a    ...\u000a    (objobjproc)tuplecontains,                  /* sq_contains */\u000a};\u000a\u000aPyTypeObject PyTuple_Type = {\u000a    ...\u000a    &amp;tuple_as_sequence,                         /* tp_as_sequence */\u000a    ...\u000a};\u000a</code></pre>\u000a\u000a<p>So the branch</p>\u000a\u000a<pre><code>if (sqm != NULL &amp;&amp; sqm-&gt;sq_contains != NULL)\u000a</code></pre>\u000a\u000a<p>will be taken and <code>*sqm-&gt;sq_contains</code>, which is the function <code>(objobjproc)tuplecontains</code>, will be taken.</p>\u000a\u000a<p>This does</p>\u000a\u000a<pre><code>static int\u000atuplecontains(PyTupleObject *a, PyObject *el)\u000a{\u000a    Py_ssize_t i;\u000a    int cmp;\u000a\u000a    for (i = 0, cmp = 0 ; cmp == 0 &amp;&amp; i &lt; Py_SIZE(a); ++i)\u000a        cmp = PyObject_RichCompareBool(el, PyTuple_GET_ITEM(a, i),\u000a                                           Py_EQ);\u000a    return cmp;\u000a}\u000a</code></pre>\u000a\u000a<p>...Wait, wasn't that <code>PyObject_RichCompareBool</code> what the other branch took? Nope, that was <code>PyObject_RichCompare</code>.</p>\u000a\u000a<p>That code path was short so it likely just comes down to the speed of these two. Let's compare.</p>\u000a\u000a<pre><code>int\u000aPyObject_RichCompareBool(PyObject *v, PyObject *w, int op)\u000a{\u000a    PyObject *res;\u000a    int ok;\u000a\u000a    /* Quick result when objects are the same.\u000a       Guarantees that identity implies equality. */\u000a    if (v == w) {\u000a        if (op == Py_EQ)\u000a            return 1;\u000a        else if (op == Py_NE)\u000a            return 0;\u000a    }\u000a\u000a    ...\u000a}\u000a</code></pre>\u000a\u000a<p>The code path in <code>PyObject_RichCompareBool</code> pretty much immediately terminates. For <code>PyObject_RichCompare</code>, it does</p>\u000a\u000a<pre><code>PyObject *\u000aPyObject_RichCompare(PyObject *v, PyObject *w, int op)\u000a{\u000a    PyObject *res;\u000a\u000a    assert(Py_LT &lt;= op &amp;&amp; op &lt;= Py_GE);\u000a    if (v == NULL || w == NULL) { ... }\u000a    if (Py_EnterRecursiveCall(" in comparison"))\u000a        return NULL;\u000a    res = do_richcompare(v, w, op);\u000a    Py_LeaveRecursiveCall();\u000a    return res;\u000a}\u000a</code></pre>\u000a\u000a<p>The <code>Py_EnterRecursiveCall</code>/<code>Py_LeaveRecursiveCall</code> combo are not taken in the previous path, but these are relatively quick macros that'll short-circuit after incrementing and decrementing some globals.</p>\u000a\u000a<p><code>do_richcompare</code> does:</p>\u000a\u000a<pre><code>static PyObject *\u000ado_richcompare(PyObject *v, PyObject *w, int op)\u000a{\u000a    richcmpfunc f;\u000a    PyObject *res;\u000a    int checked_reverse_op = 0;\u000a\u000a    if (v-&gt;ob_type != w-&gt;ob_type &amp;&amp; ...) { ... }\u000a    if ((f = v-&gt;ob_type-&gt;tp_richcompare) != NULL) {\u000a        res = (*f)(v, w, op);\u000a        if (res != Py_NotImplemented)\u000a            return res;\u000a        ...\u000a    }\u000a    ...\u000a}\u000a</code></pre>\u000a\u000a<p>This does some quick checks to call <code>v-&gt;ob_type-&gt;tp_richcompare</code> which is</p>\u000a\u000a<pre><code>PyTypeObject PyUnicode_Type = {\u000a    ...\u000a    PyUnicode_RichCompare,      /* tp_richcompare */\u000a    ...\u000a};\u000a</code></pre>\u000a\u000a<p>which does</p>\u000a\u000a<pre><code>PyObject *\u000aPyUnicode_RichCompare(PyObject *left, PyObject *right, int op)\u000a{\u000a    int result;\u000a    PyObject *v;\u000a\u000a    if (!PyUnicode_Check(left) || !PyUnicode_Check(right))\u000a        Py_RETURN_NOTIMPLEMENTED;\u000a\u000a    if (PyUnicode_READY(left) == -1 ||\u000a        PyUnicode_READY(right) == -1)\u000a        return NULL;\u000a\u000a    if (left == right) {\u000a        switch (op) {\u000a        case Py_EQ:\u000a        case Py_LE:\u000a        case Py_GE:\u000a            /* a string is equal to itself */\u000a            v = Py_True;\u000a            break;\u000a        case Py_NE:\u000a        case Py_LT:\u000a        case Py_GT:\u000a            v = Py_False;\u000a            break;\u000a        default:\u000a            ...\u000a        }\u000a    }\u000a    else if (...) { ... }\u000a    else { ...}\u000a    Py_INCREF(v);\u000a    return v;\u000a}\u000a</code></pre>\u000a\u000a<p>Namely, this shortcuts on <code>left == right</code>... but only after doing </p>\u000a\u000a<pre><code>    if (!PyUnicode_Check(left) || !PyUnicode_Check(right))\u000a\u000a    if (PyUnicode_READY(left) == -1 ||\u000a        PyUnicode_READY(right) == -1)\u000a</code></pre>\u000a\u000a<p>All in all the paths then look something like this (manually recursively inlining, unrolling and pruning known branches)</p>\u000a\u000a<pre><code>POP()                           # Stack stuff\u000aTOP()                           #\u000a                                #\u000acase PyCmp_IN:                  # Dispatch on operation\u000a                                #\u000asqm != NULL                     # Dispatch to builtin op\u000asqm-&gt;sq_contains != NULL        #\u000a*sqm-&gt;sq_contains               #\u000a                                #\u000acmp == 0                        # Do comparison in loop\u000ai &lt; Py_SIZE(a)                  #\u000av == w                          #\u000aop == Py_EQ                     #\u000a++i                             # \u000acmp == 0                        #\u000a                                #\u000ares &lt; 0                         # Convert to Python-space\u000ares ? Py_True : Py_False        #\u000aPy_INCREF(v)                    #\u000a                                #\u000aPy_DECREF(left)                 # Stack stuff\u000aPy_DECREF(right)                #\u000aSET_TOP(res)                    #\u000ares == NULL                     #\u000aDISPATCH()                      #\u000a</code></pre>\u000a\u000a<p>vs</p>\u000a\u000a<pre><code>POP()                           # Stack stuff\u000aTOP()                           #\u000a                                #\u000adefault:                        # Dispatch on operation\u000a                                #\u000aPy_LT &lt;= op                     # Checking operation\u000aop &lt;= Py_GE                     #\u000av == NULL                       #\u000aw == NULL                       #\u000aPy_EnterRecursiveCall(...)      # Recursive check\u000a                                #\u000av-&gt;ob_type != w-&gt;ob_type        # More operation checks\u000af = v-&gt;ob_type-&gt;tp_richcompare  # Dispatch to builtin op\u000af != NULL                       #\u000a                                #\u000a!PyUnicode_Check(left)          # ...More checks\u000a!PyUnicode_Check(right))        #\u000aPyUnicode_READY(left) == -1     #\u000aPyUnicode_READY(right) == -1    #\u000aleft == right                   # Finally, doing comparison\u000acase Py_EQ:                     # Immediately short circuit\u000aPy_INCREF(v);                   #\u000a                                #\u000ares != Py_NotImplemented        #\u000a                                #\u000aPy_LeaveRecursiveCall()         # Recursive check\u000a                                #\u000aPy_DECREF(left)                 # Stack stuff\u000aPy_DECREF(right)                #\u000aSET_TOP(res)                    #\u000ares == NULL                     #\u000aDISPATCH()                      #\u000a</code></pre>\u000a\u000a<p>Now, <code>PyUnicode_Check</code> and <code>PyUnicode_READY</code> are pretty cheap since they only check a couple of fields, but it should be obvious that the top one is a smaller code path, it has fewer function calls, only one switch\u000astatement and is just a bit thinner.</p>\u000a\u000a<h3>TL;DR:</h3>\u000a\u000a<p>Both dispatch to <code>if (left_pointer == right_pointer)</code>; the difference is just how much work they do to get there. <code>in</code> just does less.</p>\u000a
p851
sVquestion_id
p852
I28885132
sVlast_activity_date
p853
I1426262698
sVcreation_date
p854
I1425598151
sVscore
p855
I232
sVowner
p856
(dp857
Vuser_id
p858
I1763356
sVprofile_image
p859
Vhttps://i.stack.imgur.com/zGWG9.png?s=128&g=1
p860
sVuser_type
p861
Vregistered
p862
sVreputation
p863
I31527
sVlink
p864
Vhttp://stackoverflow.com/users/1763356/veedrac
p865
sVaccept_rate
p866
I79
sVdisplay_name
p867
VVeedrac
p868
ssVis_accepted
p869
I01
sVlast_edit_date
p870
I1426262698
sVanswer_id
p871
I28889838
sa(dp872
Vbody
p873
V<ol>\u000a<li><code>.py</code>: This is normally the input source code that you've written.</li>\u000a<li><code>.pyc</code>: This is the compiled bytecode. If you import a module, python will build a <code>*.pyc</code> file that contains the bytecode to make importing it again later easier (and faster).</li>\u000a<li><code>.pyo</code>: This is a <code>*.pyc</code> file that was created while optimizations (<code>-O</code>) was on.</li>\u000a<li><code>.pyd</code>: This is basically a windows dll file. <a href="http://docs.python.org/faq/windows.html#is-a-pyd-file-the-same-as-a-dll">http://docs.python.org/faq/windows.html#is-a-pyd-file-the-same-as-a-dll</a></li>\u000a</ol>\u000a\u000a<p>Also for some further discussion on <code>.pyc</code> vs <code>.pyo</code>, take a look at: <a href="http://www.network-theory.co.uk/docs/pytut/CompiledPythonfiles.html">http://www.network-theory.co.uk/docs/pytut/CompiledPythonfiles.html</a> (I've copied the important part below)</p>\u000a\u000a<blockquote>\u000a  <ul>\u000a  <li>When the Python interpreter is invoked with the -O flag, optimized code is generated and stored in \u2018.pyo\u2019 files. The optimizer currently doesn't help much; it only removes assert statements. When -O is used, all bytecode is optimized; .pyc files are ignored and .py files are compiled to optimized bytecode.</li>\u000a  <li>Passing two -O flags to the Python interpreter (-OO) will cause the bytecode compiler to perform optimizations that could in some rare cases result in malfunctioning programs. Currently only <code>__doc__</code> strings are removed from the bytecode, resulting in more compact \u2018.pyo\u2019 files. Since some programs may rely on having these available, you should only use this option if you know what you're doing.</li>\u000a  <li>A program doesn't run any faster when it is read from a \u2018.pyc\u2019 or \u2018.pyo\u2019 file than when it is read from a \u2018.py\u2019 file; the only thing that's faster about \u2018.pyc\u2019 or \u2018.pyo\u2019 files is the speed with which they are loaded.</li>\u000a  <li>When a script is run by giving its name on the command line, the bytecode for the script is never written to a \u2018.pyc\u2019 or \u2018.pyo\u2019 file. Thus, the startup time of a script may be reduced by moving most of its code to a module and having a small bootstrap script that imports that module. It is also possible to name a \u2018.pyc\u2019 or \u2018.pyo\u2019 file directly on the command line.</li>\u000a  </ul>\u000a</blockquote>\u000a
p874
sVquestion_id
p875
I8822335
sVlast_activity_date
p876
I1424549809
sVcreation_date
p877
I1326297478
sVscore
p878
I291
sVowner
p879
(dp880
Vuser_id
p881
I47453
sVprofile_image
p882
Vhttps://www.gravatar.com/avatar/412dc332ab3593c636e5a5202cf98870?s=128&d=identicon&r=PG
p883
sVuser_type
p884
Vregistered
p885
sVreputation
p886
I53106
sVlink
p887
Vhttp://stackoverflow.com/users/47453/bill-lynch
p888
sVaccept_rate
p889
I88
sVdisplay_name
p890
VBill Lynch
p891
ssVis_accepted
p892
I01
sVlast_edit_date
p893
I1424549809
sVanswer_id
p894
I8822377
sa(dp895
Vcommunity_owned_date
p896
I1248416713
sVbody
p897
V<p>This is pretty thorough:</p>\u000a\u000a<pre><code>def convert(name):\u000a    s1 = re.sub('(.)([A-Z][a-z]+)', r'\u005c1_\u005c2', name)\u000a    return re.sub('([a-z0-9])([A-Z])', r'\u005c1_\u005c2', s1).lower()\u000a</code></pre>\u000a\u000a<p>Works with all these (and doesn't harm already-un-cameled versions):</p>\u000a\u000a<pre><code>&gt;&gt;&gt; convert('CamelCase')\u000a'camel_case'\u000a&gt;&gt;&gt; convert('CamelCamelCase')\u000a'camel_camel_case'\u000a&gt;&gt;&gt; convert('Camel2Camel2Case')\u000a'camel2_camel2_case'\u000a&gt;&gt;&gt; convert('getHTTPResponseCode')\u000a'get_http_response_code'\u000a&gt;&gt;&gt; convert('get2HTTPResponseCode')\u000a'get2_http_response_code'\u000a&gt;&gt;&gt; convert('HTTPResponseCode')\u000a'http_response_code'\u000a&gt;&gt;&gt; convert('HTTPResponseCodeXYZ')\u000a'http_response_code_xyz'\u000a</code></pre>\u000a\u000a<p>Or if you're going to call it a zillion times, you can pre-compile the regexes:</p>\u000a\u000a<pre><code>first_cap_re = re.compile('(.)([A-Z][a-z]+)')\u000aall_cap_re = re.compile('([a-z0-9])([A-Z])')\u000adef convert(name):\u000a    s1 = first_cap_re.sub(r'\u005c1_\u005c2', name)\u000a    return all_cap_re.sub(r'\u005c1_\u005c2', s1).lower()\u000a</code></pre>\u000a\u000a<p>Don't forget to import the regular expression module</p>\u000a\u000a<pre><code>import re\u000a</code></pre>\u000a
p898
sVquestion_id
p899
I1175208
sVlast_activity_date
p900
I1421829497
sVcreation_date
p901
I1248416713
sVscore
p902
I413
sVowner
p903
(dp904
Vuser_id
p905
I129879
sVprofile_image
p906
Vhttps://www.gravatar.com/avatar/1afc8b4567f8480ee55e7b2768060cbc?s=128&d=identicon&r=PG
p907
sVuser_type
p908
Vregistered
p909
sVreputation
p910
I41
sVlink
p911
Vhttp://stackoverflow.com/users/129879/epost
p912
sVdisplay_name
p913
Vepost
p914
ssVis_accepted
p915
I01
sVlast_edit_date
p916
I1421829497
sVanswer_id
p917
I1176023
sa(dp918
Vbody
p919
V<p>Non-destructively you can:</p>\u000a\u000a<pre><code>dict.itervalues().next()\u000a</code></pre>\u000a\u000a<p>On Python 3 this becomes</p>\u000a\u000a<pre><code>next (iter (dict.values()))\u000a</code></pre>\u000a\u000a<p>If you want it to work in both Python 2 &amp; 3, you can use the <code>six</code> library:</p>\u000a\u000a<pre><code>six.next(six.itervalues(dict))\u000a</code></pre>\u000a\u000a<p>though at this point it is quite cryptic and I'd rather prefer your code.</p>\u000a\u000a<p>If you want to remove any item, do:</p>\u000a\u000a<pre><code>key, value = dict.popitem()\u000a</code></pre>\u000a\u000a<p>Note that "first" is not an appropriate term here.  This is "any" item, because <code>dict</code> is not an ordered type.</p>\u000a
p920
sVquestion_id
p921
I3097866
sVlast_activity_date
p922
I1420639333
sVcreation_date
p923
I1277249329
sVscore
p924
I307
sVowner
p925
(dp926
Vuser_id
p927
I319799
sVprofile_image
p928
Vhttps://www.gravatar.com/avatar/41dd012046381b203e09a7605ef49c89?s=128&d=identicon&r=PG
p929
sVuser_type
p930
Vregistered
p931
sVreputation
p932
I15890
sVlink
p933
Vhttp://stackoverflow.com/users/319799/doublep
p934
sVaccept_rate
p935
I62
sVdisplay_name
p936
Vdoublep
p937
ssVis_accepted
p938
I01
sVlast_edit_date
p939
I1420639333
sVanswer_id
p940
I3097896
sa(dp941
Vbody
p942
V<p>I have module I use for situations like this - where a process will be running for a long time but gets stuck sometimes for unknown and irreproducible reasons.  Its a bit hacky, and only works on unix (requires signals):</p>\u000a\u000a<pre><code>import code, traceback, signal\u000a\u000adef debug(sig, frame):\u000a    """Interrupt running process, and provide a python prompt for\u000a    interactive debugging."""\u000a    d={'_frame':frame}         # Allow access to frame object.\u000a    d.update(frame.f_globals)  # Unless shadowed by global\u000a    d.update(frame.f_locals)\u000a\u000a    i = code.InteractiveConsole(d)\u000a    message  = "Signal received : entering python shell.\u005cnTraceback:\u005cn"\u000a    message += ''.join(traceback.format_stack(frame))\u000a    i.interact(message)\u000a\u000adef listen():\u000a    signal.signal(signal.SIGUSR1, debug)  # Register handler\u000a</code></pre>\u000a\u000a<p>To use, just call the listen() function at some point when your program starts up (You could even stick it in site.py to have all python programs use it), and let it run.  At any point, send the process a SIGUSR1 signal, using kill, or in python:</p>\u000a\u000a<pre><code>    os.kill(pid, signal.SIGUSR1)\u000a</code></pre>\u000a\u000a<p>This will cause the program to break to a python console at the point it is currently at, showing you the stack trace, and letting you manipulate the variables.  Use control-d (EOF) to continue running (though note that you will probably interrupt any I/O etc at the point you signal, so it isn't fully non-intrusive.</p>\u000a\u000a<p>I've another script that does the same thing, except it communicates with the running process through a pipe (to allow for debugging backgrounded processes etc).  Its a bit large to post here, but I've added it as a <a href="http://code.activestate.com/recipes/576515/" rel="noreferrer">python cookbook recipe</a>.</p>\u000a
p943
sVquestion_id
p944
I132058
sVlast_activity_date
p945
I1418227519
sVcreation_date
p946
I1222349925
sVscore
p947
I267
sVowner
p948
(dp949
Vuser_id
p950
I9493
sVprofile_image
p951
Vhttps://www.gravatar.com/avatar/7895e5fdbabe3fc5e09272bb602257d7?s=128&d=identicon&r=PG
p952
sVuser_type
p953
Vregistered
p954
sVreputation
p955
I73391
sVlink
p956
Vhttp://stackoverflow.com/users/9493/brian
p957
sVdisplay_name
p958
VBrian
p959
ssVis_accepted
p960
I01
sVlast_edit_date
p961
I1418227519
sVanswer_id
p962
I133384
sa(dp963
Vbody
p964
V<p>There are two excellent choices:</p>\u000a\u000a<p><a href="http://networkx.github.io/" rel="noreferrer">NetworkX</a></p>\u000a\u000a<p>and </p>\u000a\u000a<p><a href="http://igraph.org/" rel="noreferrer">igraph</a></p>\u000a\u000a<p>I like NetworkX, but I read good things about igraph as well.  I routinely use NetworkX with graphs with 1 million nodes with no problem (it's about double the overhead of a dict of size V + E)</p>\u000a\u000a<p>If you want a feature comparison, see this from the Networkx-discuss list</p>\u000a\u000a<p><a href="http://groups.google.com/group/networkx-discuss/t/7597ca97abbb3f90?hl=en" rel="noreferrer">Feature comparison thread</a></p>\u000a
p965
sVquestion_id
p966
I606516
sVlast_activity_date
p967
I1418134487
sVcreation_date
p968
I1236094407
sVscore
p969
I178
sVowner
p970
(dp971
Vuser_id
p972
I15842
sVprofile_image
p973
Vhttps://www.gravatar.com/avatar/58d77327a8f46041462b31c117e5c51a?s=128&d=identicon&r=PG
p974
sVuser_type
p975
Vregistered
p976
sVreputation
p977
I10605
sVlink
p978
Vhttp://stackoverflow.com/users/15842/gregg-lind
p979
sVaccept_rate
p980
I61
sVdisplay_name
p981
VGregg Lind
p982
ssVis_accepted
p983
I01
sVlast_edit_date
p984
I1418134487
sVanswer_id
p985
I606858
sa(dp986
Vbody
p987
V<p>Your code works when run in an script because Python encodes the output to whatever encoding your terminal application is using. If you are piping you must encode it yourself.</p>\u000a\u000a<p>A rule of thumb is: Always use Unicode internally. Decode what you receive, and encode what you send.</p>\u000a\u000a<pre><code># -*- coding: utf-8 -*-\u000aprint u"".encode('utf-8')\u000a</code></pre>\u000a\u000a<p>Another didactic example is a Python program to convert between ISO-8859-1 and UTF-8, making everything uppercase in between.</p>\u000a\u000a<pre><code>import sys\u000afor line in sys.stdin:\u000a    # Decode what you receive:\u000a    line = line.decode('iso8859-1')\u000a\u000a    # Work with Unicode internally:\u000a    line = line.upper()\u000a\u000a    # Encode what you send:\u000a    line = line.encode('utf-8')\u000a    sys.stdout.write(line)\u000a</code></pre>\u000a\u000a<p>Setting the system default encoding is a bad idea, because some modules and libraries you use can rely on the fact it is ASCII. Don't do it.</p>\u000a
p988
sVquestion_id
p989
I492483
sVlast_activity_date
p990
I1415730618
sVcreation_date
p991
I1233252198
sVscore
p992
I129
sVowner
p993
(dp994
Vuser_id
p995
I17160
sVprofile_image
p996
Vhttps://www.gravatar.com/avatar/81cb50f5fe868629a680c16a56781f01?s=128&d=identicon&r=PG
p997
sVuser_type
p998
Vregistered
p999
sVreputation
p1000
I118019
sVlink
p1001
Vhttp://stackoverflow.com/users/17160/nosklo
p1002
sVaccept_rate
p1003
I78
sVdisplay_name
p1004
Vnosklo
p1005
ssVis_accepted
p1006
I01
sVlast_edit_date
p1007
I1415730618
sVanswer_id
p1008
I492711
sa(dp1009
Vbody
p1010
V<p>If you have two date objects, you can just subtract them.</p>\u000a\u000a<pre><code>from datetime import date\u000a\u000ad0 = date(2008, 8, 18)\u000ad1 = date(2008, 9, 26)\u000adelta = d0 - d1\u000aprint delta.days\u000a</code></pre>\u000a\u000a<p>The relevant section of the docs:\u000a<a href="https://docs.python.org/library/datetime.html" rel="noreferrer">https://docs.python.org/library/datetime.html</a></p>\u000a
p1011
sVquestion_id
p1012
I151199
sVlast_activity_date
p1013
I1414902656
sVcreation_date
p1014
I1222731682
sVscore
p1015
I369
sVowner
p1016
(dp1017
Vuser_id
p1018
I7856
sVprofile_image
p1019
Vhttps://www.gravatar.com/avatar/192d4f403439df36217eade100e56281?s=128&d=identicon&r=PG
p1020
sVuser_type
p1021
Vregistered
p1022
sVreputation
p1023
I15594
sVlink
p1024
Vhttp://stackoverflow.com/users/7856/dana
p1025
sVaccept_rate
p1026
I95
sVdisplay_name
p1027
VDana
p1028
ssVis_accepted
p1029
I01
sVlast_edit_date
p1030
I1414902656
sVanswer_id
p1031
I151211
sa(dp1032
Vbody
p1033
V<p><a href="https://docs.python.org/2/library/functions.html#int" rel="noreferrer"><code>int()</code></a> is the Python standard built-in function to convert a string into an integer value. You call it with a string containing a number as the argument, and it returns the number converted to an actual integer:</p>\u000a\u000a<pre><code>print int("1") + 1\u000a</code></pre>\u000a\u000a<p>The above prints <code>2</code>.</p>\u000a\u000a<p>If you know the structure of your list (that it simply contains lists, only one level), you could do this:</p>\u000a\u000a<pre><code>T2 = [map(int, x) for x in T1]\u000a</code></pre>\u000a
p1034
sVquestion_id
p1035
I642154
sVlast_activity_date
p1036
I1408351830
sVcreation_date
p1037
I1236941922
sVscore
p1038
I382
sVowner
p1039
(dp1040
Vuser_id
p1041
I28169
sVprofile_image
p1042
Vhttps://www.gravatar.com/avatar/ec9385dc533f1a6a93769077f852503e?s=128&d=identicon&r=PG
p1043
sVuser_type
p1044
Vregistered
p1045
sVreputation
p1046
I275508
sVlink
p1047
Vhttp://stackoverflow.com/users/28169/unwind
p1048
sVaccept_rate
p1049
I88
sVdisplay_name
p1050
Vunwind
p1051
ssVis_accepted
p1052
I01
sVlast_edit_date
p1053
I1408351830
sVanswer_id
p1054
I642169
sa(dp1055
Vbody
p1056
V<p>It seems like you are asking about the difference between the <em>data model</em> and the <em>domain model</em> \u2013the latter is where you can find the business logic and entities as perceived by your end user, the former is where you actually store your data. </p>\u000a\u000a<p>Furthermore, I've interpreted the 3rd part of your question as: how to notice failure to keep these models separate. </p>\u000a\u000a<p>These are two very different concepts and it's always hard to keep them separate. However, there are some common patterns and tools that can be used for this purpose. </p>\u000a\u000a<h2>About the Domain Model</h2>\u000a\u000a<p>The first thing you need to recognize is that your domain model is not really about data; it is about <em>actions</em> and <em>questions</em> such as "activate this user", "deactivate this user", "which users are currently activated?", and "what is this user's name?". In classical terms: it's about <em>queries</em> and <em>commands</em>. </p>\u000a\u000a<h2>Thinking in Commands</h2>\u000a\u000a<p>Let's start by looking at the commands in your example: "activate this user" and "deactivate this user". The nice thing about commands is that they can easily be expressed by small given-when-then scenario's: </p>\u000a\u000a<blockquote>\u000a  <p><strong>given</strong> an inactive user <br/>\u000a  <strong>when</strong> the admin activates this user <br/>\u000a  <strong>then</strong> the user becomes active <br/>\u000a  <strong>and</strong> a confirmation e-mail is sent to the user <br/>\u000a  <strong>and</strong> an entry is added to the system log<br/>\u000a   (etc. etc.)</p>\u000a</blockquote>\u000a\u000a<p>Such scenario's are useful to see how different parts of your infrastructure can be affected by a single command \u2013in this case your database (some kind of 'active' flag), your mail server, your system log, etc. </p>\u000a\u000a<p>Such scenario's also really help you in setting up a Test Driven Development environment. </p>\u000a\u000a<p>And finally, thinking in commands really helps you create a task-oriented application. Your users will appreciate this :-)</p>\u000a\u000a<h2>Expressing Commands</h2>\u000a\u000a<p>Django provides two easy ways of expressing commands; they are both valid options and it is not unusual to mix the two approaches. </p>\u000a\u000a<h3>The service layer</h3>\u000a\u000a<p>The <em>service module</em> has already been <a href="http://stackoverflow.com/a/12579490/383793">described by @Hedde</a>. Here you define a separate module and each command is represented as a function. </p>\u000a\u000a<p><strong>services.py</strong></p>\u000a\u000a<pre><code>def activate_user(user_id):\u000a    user = User.objects.get(pk=user_id)\u000a\u000a    # set active flag\u000a    user.active = True\u000a    user.save()\u000a\u000a    # mail user\u000a    send_mail(...)\u000a\u000a    # etc etc\u000a</code></pre>\u000a\u000a<h3>Using forms</h3>\u000a\u000a<p>The other way is to use a Django Form for each command. I prefer this approach, because it combines multiple closely related aspects:</p>\u000a\u000a<ul>\u000a<li>execution of the command (what does it do?)</li>\u000a<li>validation of the command parameters (can it do this?)</li>\u000a<li>presentation of the command (how can I do this?)</li>\u000a</ul>\u000a\u000a<p><strong>forms.py</strong></p>\u000a\u000a<pre><code>class ActivateUserForm(forms.Form):\u000a\u000a    user_id = IntegerField(widget = UsernameSelectWidget, verbose_name="Select a user to activate")\u000a    # the username select widget is not a standard Django widget, I just made it up\u000a\u000a    def clean_user_id(self):\u000a        user_id = self.cleaned_data['user_id']\u000a        if User.objects.get(pk=user_id).active:\u000a            raise ValidationError("This user cannot be activated")\u000a        # you can also check authorizations etc. \u000a        return user_id\u000a\u000a    def execute(self):\u000a        """\u000a        This is not a standard method in the forms API; it is intended to replace the \u000a        'extract-data-from-form-in-view-and-do-stuff' pattern by a more testable pattern. \u000a        """\u000a        user_id = self.cleaned_data['user_id']\u000a\u000a        user = User.objects.get(pk=user_id)\u000a\u000a        # set active flag\u000a        user.active = True\u000a        user.save()\u000a\u000a        # mail user\u000a        send_mail(...)\u000a\u000a        # etc etc\u000a</code></pre>\u000a\u000a<h2>Thinking in Queries</h2>\u000a\u000a<p>You example did not contain any queries, so I took the liberty of making up a few useful queries. I prefer to use the term "question", but queries is the classical terminology. Interesting queries are: "What is the name of this user?", "Can this user log in?", "Show me a list of deactivated users", and "What is the geographical distribution of deactivated users?" </p>\u000a\u000a<p>Before embarking on answering these queries, you should always ask yourself two questions: is this a <em>presentational</em> query just for my templates, and/or a <em>business logic</em> query tied to executing my commands, and/or a <em>reporting</em> query. </p>\u000a\u000a<p>Presentational queries are merely made to improve the user interface. The answers to business logic queries directly affect the execution of your commands. Reporting queries are merely for analytical purposes and have looser time constraints. These categories are not mutually exclusive. </p>\u000a\u000a<p>The other question is: "do I have complete control over the answers?" For example, when querying the user's name (in this context)  we do not have any control over the outcome, because we rely on an external API. </p>\u000a\u000a<h2>Making Queries</h2>\u000a\u000a<p>The most basic query in Django is the use of the Manager object: </p>\u000a\u000a<pre><code>User.objects.filter(active=True)\u000a</code></pre>\u000a\u000a<p>Of course, this only works if the data is actually represented in your data model. This is not always the case. In those cases, you can consider the options below. </p>\u000a\u000a<h3>Custom tags and filters</h3>\u000a\u000a<p>The first alternative is useful for queries that are merely presentational: custom tags and template filters. </p>\u000a\u000a<p><strong>template.html</strong></p>\u000a\u000a<pre><code>&lt;h1&gt;Welcome, {{ user|friendly_name }}&lt;/h1&gt;\u000a</code></pre>\u000a\u000a<p><strong>template_tags.py</strong></p>\u000a\u000a<pre><code>@register.filter\u000adef friendly_name(user):\u000a    return remote_api.get_cached_name(user.id)\u000a</code></pre>\u000a\u000a<h3>Query methods</h3>\u000a\u000a<p>If your query is not merely presentational, you could add queries to your <strong>services.py</strong> (if you are using that), or introduce a <strong>queries.py</strong> module: </p>\u000a\u000a<p><strong>queries.py</strong></p>\u000a\u000a<pre><code>def inactive_users():\u000a    return User.objects.filter(active=False)\u000a\u000a\u000adef users_called_publysher():\u000a    for user in User.objects.all():\u000a        if remote_api.get_cached_name(user.id) == "publysher":\u000a            yield user \u000a</code></pre>\u000a\u000a<h3>Proxy models</h3>\u000a\u000a<p>Proxy models are very useful in the context of business logic and reporting. You basically define an enhanced subset of your model. </p>\u000a\u000a<p><strong>models.py</strong></p>\u000a\u000a<pre><code>class InactiveUserManager(models.Manager):\u000a    def get_query_set(self):\u000a        query_set = super(InactiveUserManager, self).get_query_set()\u000a        return query_set.filter(active=False)\u000a\u000aclass InactiveUser(User):\u000a    """\u000a    &gt;&gt;&gt; for user in InactiveUser.objects.all():\u000a    \u2026        assert user.active is False \u000a    """\u000a\u000a    objects = InactiveUserManager()\u000a    class Meta:\u000a        proxy = True\u000a</code></pre>\u000a\u000a<h3>Query models</h3>\u000a\u000a<p>For queries that are inherently complex, but are executed quite often, there is the possibility of query models. A query model is a form of denormalization where relevant data for a single query is stored in a separate model. The trick of course is to keep the denormalized model in sync with the primary model. Query models can only be used if changes are entirely under your control. </p>\u000a\u000a<p><strong>models.py</strong></p>\u000a\u000a<pre><code>class InactiveUserDistribution(models.Model):\u000a    country = CharField(max_length=200)\u000a    inactive_user_count = IntegerField(default=0)\u000a</code></pre>\u000a\u000a<p>The first option is to update these models in your commands. This is very useful if these models are only changed by one or two commands. </p>\u000a\u000a<p><strong>forms.py</strong></p>\u000a\u000a<pre><code>class ActivateUserForm(forms.Form):\u000a    # see above\u000a\u000a    def execute(self):\u000a        # see above\u000a        query_model = InactiveUserDistribution.objects.get_or_create(country=user.country)\u000a        query_model.inactive_user_count -= 1\u000a        query_model.save()\u000a</code></pre>\u000a\u000a<p>A better option would be to use custom signals. These signals are of course emitted by your commands. Signals have the advantage that you can keep multiple query models in sync with your original model. Furthermore, signal processing can be offloaded to background tasks, using Celery or similar frameworks. </p>\u000a\u000a<p><strong>signals.py</strong></p>\u000a\u000a<pre><code>user_activated = Signal(providing_args = ['user'])\u000auser_deactivated = Signal(providing_args = ['user'])\u000a</code></pre>\u000a\u000a<p><strong>forms.py</strong></p>\u000a\u000a<pre><code>class ActivateUserForm(forms.Form):\u000a    # see above\u000a\u000a    def execute(self):\u000a        # see above\u000a        user_activated.send_robust(sender=self, user=user)\u000a</code></pre>\u000a\u000a<p><strong>models.py</strong></p>\u000a\u000a<pre><code>class InactiveUserDistribution(models.Model):\u000a    # see above\u000a\u000a@receiver(user_activated)\u000adef on_user_activated(sender, **kwargs):\u000a        user = kwargs['user']\u000a        query_model = InactiveUserDistribution.objects.get_or_create(country=user.country)\u000a        query_model.inactive_user_count -= 1\u000a        query_model.save()\u000a</code></pre>\u000a\u000a<h2>Keeping it clean</h2>\u000a\u000a<p>When using this approach, it becomes ridiculously easy to determine if your code stays clean. Just follow these guidelines:</p>\u000a\u000a<ul>\u000a<li>Does my model contain methods that do more than managing database state? You should extract a command. </li>\u000a<li>Does my model contain properties that do not map to database fields? You should extract a query. </li>\u000a<li>Does my model reference infrastructure that is not my database (such as mail)? You should extract a command.</li>\u000a</ul>\u000a\u000a<p>The same goes for views (because views often suffer from the same problem). </p>\u000a\u000a<ul>\u000a<li>Does my view actively manage database models? You should extract a command.</li>\u000a</ul>\u000a\u000a<h2>Some References</h2>\u000a\u000a<p><a href="https://docs.djangoproject.com/en/dev/topics/db/models/#proxy-models">Django documentation: proxy models</a></p>\u000a\u000a<p><a href="https://docs.djangoproject.com/en/dev/topics/signals/">Django documentation: signals</a></p>\u000a\u000a<p><a href="http://rads.stackoverflow.com/amzn/click/0321125215">Architecture: Domain Driven Design</a></p>\u000a
p1057
sVquestion_id
p1058
I12578908
sVlast_activity_date
p1059
I1407139729
sVcreation_date
p1060
I1350039546
sVscore
p1061
I323
sVowner
p1062
(dp1063
Vuser_id
p1064
I1636314
sVprofile_image
p1065
Vhttps://www.gravatar.com/avatar/656293120862f84aa3319979ca1bdb8c?s=128&d=identicon&r=PG
p1066
sVuser_type
p1067
Vregistered
p1068
sVreputation
p1069
I4960
sVlink
p1070
Vhttp://stackoverflow.com/users/1636314/publysher
p1071
sVdisplay_name
p1072
Vpublysher
p1073
ssVis_accepted
p1074
I01
sVlast_edit_date
p1075
I1407139729
sVanswer_id
p1076
I12857584
sa(dp1077
Vbody
p1078
V<p>Python's string format method can take a format spec. </p>\u000a\u000a<pre><code>&gt;&gt;&gt; "{0:b}".format(10)\u000a'1010'\u000a</code></pre>\u000a\u000a<p><a href="https://docs.python.org/2/library/string.html#formatspec" rel="noreferrer">Format spec docs for Python 2</a> </p>\u000a\u000a<p><a href="https://docs.python.org/3/library/string.html#formatspec" rel="noreferrer">Format spec docs for Python 3</a></p>\u000a
p1079
sVquestion_id
p1080
I699866
sVlast_activity_date
p1081
I1404956659
sVcreation_date
p1082
I1238469438
sVscore
p1083
I306
sVowner
p1084
(dp1085
Vuser_id
p1086
I61761
sVprofile_image
p1087
Vhttps://www.gravatar.com/avatar/b105467ba488105534658502f4708dcf?s=128&d=identicon&r=PG
p1088
sVuser_type
p1089
Vregistered
p1090
sVreputation
p1091
I4965
sVlink
p1092
Vhttp://stackoverflow.com/users/61761/tung-nguyen
p1093
sVdisplay_name
p1094
VTung Nguyen
p1095
ssVis_accepted
p1096
I01
sVlast_edit_date
p1097
I1404956659
sVanswer_id
p1098
I699891
sa(dp1099
Vbody
p1100
V<p>simply run</p>\u000a\u000a<pre><code>virtualenv -p python3 envname\u000a</code></pre>\u000a\u000a<p>Update after OP's edit:</p>\u000a\u000a<p>There was a bug in the OP's version of virtualenv, as described <a href="https://github.com/pypa/virtualenv/issues/463" rel="noreferrer">here</a>. The problem was fixed by running:</p>\u000a\u000a<pre><code>pip install --upgrade virtualenv\u000a</code></pre>\u000a
p1101
sVquestion_id
p1102
I23842713
sVlast_activity_date
p1103
I1400924350
sVcreation_date
p1104
I1400919061
sVscore
p1105
I420
sVowner
p1106
(dp1107
Vuser_id
p1108
I1091445
sVprofile_image
p1109
Vhttps://www.gravatar.com/avatar/1d1b5303a94109b3f62cbaf380ff6102?s=128&d=identicon&r=PG
p1110
sVuser_type
p1111
Vregistered
p1112
sVreputation
p1113
I4751
sVlink
p1114
Vhttp://stackoverflow.com/users/1091445/tbrisker
p1115
sVdisplay_name
p1116
Vtbrisker
p1117
ssVis_accepted
p1118
I01
sVlast_edit_date
p1119
I1400924350
sVanswer_id
p1120
I23842752
sa(dp1121
Vbody
p1122
V<p>You can tell clang to not raise this as an error by setting the following environment variables prior compilation:</p>\u000a\u000a<pre><code>export CFLAGS=-Qunused-arguments\u000aexport CPPFLAGS=-Qunused-arguments\u000a</code></pre>\u000a\u000a<p>Then <code>pip install psycopg2</code>should work.</p>\u000a\u000a<p>I had the same when trying to <code>pip install lxml</code>.</p>\u000a\u000a<p>Edit: if you are installing as superuser (which will likely be the case if you are trying to append to <code>/Library/Python/2.7/site-packages</code>, the native Apple factory-installed Python distribution which ships with OS X, rather than to some other Python distribution which you have subsequently installed yourself), then you will need to do, as described by @Thijs Kuipers in comments below:</p>\u000a\u000a<pre><code>sudo -E pip install psycopg2\u000a</code></pre>\u000a\u000a<p>or the equivalent, for whatever other package name you may be substituting in place of <code>psycopg2</code>.</p>\u000a\u000a<p>UPDATE [2014-05-16]: Apple has fixed this problem with updated system Pythons (2.7, 2.6, and 2.5) in <code>OS X 10.9.3</code> so the workaround is no longer necessary when using the latest Mavericks and <code>Xcode 5.1+</code>.  However, as of now, the workaround is still required for <code>OS X 10.8.x</code> (Mountain Lion, currently 10.8.5) if you are using <code>Xcode 5.1+</code> there.</p>\u000a
p1123
sVquestion_id
p1124
I22313407
sVlast_activity_date
p1125
I1400266591
sVcreation_date
p1126
I1394532921
sVscore
p1127
I437
sVowner
p1128
(dp1129
Vuser_id
p1130
I3405578
sVprofile_image
p1131
Vhttps://www.gravatar.com/avatar/701ce0586518754d61fd455e4fa7331d?s=128&d=identicon&r=PG&f=1
p1132
sVuser_type
p1133
Vregistered
p1134
sVreputation
p1135
I4394
sVlink
p1136
Vhttp://stackoverflow.com/users/3405578/user3405578
p1137
sVdisplay_name
p1138
Vuser3405578
p1139
ssVis_accepted
p1140
I01
sVlast_edit_date
p1141
I1400266591
sVanswer_id
p1142
I22322645
sa(dp1143
Vbody
p1144
V<p>In general, to make a naive datetime timezone-aware, use the <a href="http://pytz.sourceforge.net/#localized-times-and-date-arithmetic" rel="noreferrer">localize method</a>:</p>\u000a\u000a<pre><code>import datetime\u000aimport pytz\u000a\u000aunaware = datetime.datetime(2011, 8, 15, 8, 15, 12, 0)\u000aaware = datetime.datetime(2011, 8, 15, 8, 15, 12, 0, pytz.UTC)\u000a\u000anow_aware = pytz.utc.localize(unaware)\u000aassert aware == now_aware\u000a</code></pre>\u000a\u000a<p>For the UTC timezone, it is not really necessary to use <code>localize</code> since there is no daylight savings time calculation to handle:</p>\u000a\u000a<pre><code>now_aware = unaware.replace(tzinfo=pytz.UTC)\u000a</code></pre>\u000a\u000a<p>works. (<code>.replace</code> returns a new datetime; it does not modify <code>unaware</code>.)</p>\u000a
p1145
sVquestion_id
p1146
I7065164
sVlast_activity_date
p1147
I1396925223
sVcreation_date
p1148
I1313413432
sVscore
p1149
I303
sVowner
p1150
(dp1151
Vuser_id
p1152
I190597
sVprofile_image
p1153
Vhttps://www.gravatar.com/avatar/aabc98d5c6482ca0e1405ec97710f30a?s=128&d=identicon&r=PG&f=1
p1154
sVuser_type
p1155
Vregistered
p1156
sVreputation
p1157
I424924
sVlink
p1158
Vhttp://stackoverflow.com/users/190597/unutbu
p1159
sVaccept_rate
p1160
I88
sVdisplay_name
p1161
Vunutbu
p1162
ssVis_accepted
p1163
I01
sVlast_edit_date
p1164
I1396925223
sVanswer_id
p1165
I7065242
sa(dp1166
Vbody
p1167
V<p>Yes, here is the answer given a Numpy array, array, and a value, item, to search for.</p>\u000a\u000a<pre><code>itemindex = numpy.where(array==item)\u000a</code></pre>\u000a\u000a<p>The result is a tuple with first all the row indices, then all the column indices.</p>\u000a\u000a<p>For example if array is two dimensions and it contained your item at two locations then</p>\u000a\u000a<pre><code>array[itemindex[0][0]][itemindex[1][0]]\u000a</code></pre>\u000a\u000a<p>would be equal to your item and so would</p>\u000a\u000a<pre><code>array[itemindex[0][1]][itemindex[1][1]]\u000a</code></pre>\u000a\u000a<p><a href="http://docs.scipy.org/doc/numpy/reference/generated/numpy.where.html" rel="noreferrer">numpy.where</a></p>\u000a
p1168
sVquestion_id
p1169
I432112
sVlast_activity_date
p1170
I1391206685
sVcreation_date
p1171
I1231643523
sVscore
p1172
I298
sVowner
p1173
(dp1174
Vuser_id
p1175
I30181
sVprofile_image
p1176
Vhttps://www.gravatar.com/avatar/5ac3937861ef2041ad87db1c2cdf5a42?s=128&d=identicon&r=PG
p1177
sVuser_type
p1178
Vregistered
p1179
sVreputation
p1180
I3826
sVlink
p1181
Vhttp://stackoverflow.com/users/30181/alex
p1182
sVaccept_rate
p1183
I71
sVdisplay_name
p1184
VAlex
p1185
ssVis_accepted
p1186
I01
sVlast_edit_date
p1187
I1391206685
sVanswer_id
p1188
I432289
sa(dp1189
Vbody
p1190
V<p>If you look at the docs for <code>bytes</code>, it points you to <a href="http://docs.python.org/3/library/functions.html#bytearray" rel="noreferrer"><code>bytearray</code></a>:</p>\u000a\u000a<blockquote>\u000a  <p>bytearray([source[, encoding[, errors]]])</p>\u000a  \u000a  <p>Return a new array of bytes. The bytearray type is a mutable sequence of integers in the range 0 &lt;= x &lt; 256. It has most of the usual methods of mutable sequences, described in Mutable Sequence Types, as well as most methods that the bytes type has, see Bytes and Byte Array Methods.</p>\u000a  \u000a  <p>The optional source parameter can be used to initialize the array in a few different ways:</p>\u000a  \u000a  <p><strong>If it is a string, you must also give the encoding (and optionally, errors) parameters; bytearray() then converts the string to bytes using str.encode().</strong></p>\u000a  \u000a  <p><strong>If it is an integer, the array will have that size and will be initialized with null bytes.</strong></p>\u000a  \u000a  <p><strong>If it is an object conforming to the buffer interface, a read-only buffer of the object will be used to initialize the bytes array.</strong></p>\u000a  \u000a  <p><strong>If it is an iterable, it must be an iterable of integers in the range 0 &lt;= x &lt; 256, which are used as the initial contents of the array.</strong></p>\u000a  \u000a  <p><strong>Without an argument, an array of size 0 is created.</strong></p>\u000a</blockquote>\u000a\u000a<p>So <code>bytes</code> can do much more than just encode a string. It's Pythonic that it would allow you to call the constructor with any type of source parameter that makes sense. </p>\u000a\u000a<p>For  encoding a string, I think that <code>some_string.encode(encoding)</code> is more Pythonic than using the constructor, because it is the most self documenting -- "take this string and encode it with this encoding" is clearer than <code>bytes(some_string, encoding)</code> -- there is no explicit verb when you use the constructor.</p>\u000a\u000a<p><strong>Edit:</strong> I checked the Python source. If you pass a unicode string to <code>bytes</code> using CPython, it calls <a href="http://hg.python.org/cpython/file/5a12416890c0/Objects/unicodeobject.c#l2328" rel="noreferrer">PyUnicode_AsEncodedString</a>, which is the implementation of <code>encode</code>; so you're just skipping a level of indirection if you call <code>encode</code> yourself.</p>\u000a\u000a<p>Also, see Serdalis' comment -- <code>unicode_string.encode(encoding)</code> is also more Pythonic because its inverse is <code>byte_string.decode(encoding)</code> and symmetry is nice.</p>\u000a
p1191
sVquestion_id
p1192
I7585435
sVlast_activity_date
p1193
I1376413019
sVcreation_date
p1194
I1317223678
sVscore
p1195
I226
sVowner
p1196
(dp1197
Vuser_id
p1198
I500584
sVprofile_image
p1199
Vhttps://www.gravatar.com/avatar/02cbc0104ac1794c222b2d3e11d325e4?s=128&d=identicon&r=PG
p1200
sVuser_type
p1201
Vregistered
p1202
sVreputation
p1203
I82925
sVlink
p1204
Vhttp://stackoverflow.com/users/500584/agf
p1205
sVdisplay_name
p1206
Vagf
p1207
ssVis_accepted
p1208
I01
sVlast_edit_date
p1209
I1376413019
sVanswer_id
p1210
I7585619
sa(dp1211
Vbody
p1212
V<blockquote>\u000a  <p>unfortunately, this module needs to be inside the package, and it also\u000a  needs to be runnable as a script, sometimes. Any idea how I could\u000a  achieve that?</p>\u000a</blockquote>\u000a\u000a<p>It's quite common to have a layout like this...</p>\u000a\u000a<pre><code>main.py\u000amypackage/\u000a    __init__.py\u000a    mymodule.py\u000a    myothermodule.py\u000a</code></pre>\u000a\u000a<p>...with a <code>mymodule.py</code> like this...</p>\u000a\u000a<pre><code>#!/usr/bin/env python3\u000a\u000a# Exported function\u000adef as_int(a):\u000a    return int(a)\u000a\u000a# Test function for module  \u000adef _test():\u000a    assert as_int('1') == 1\u000a\u000aif __name__ == '__main__':\u000a    _test()\u000a</code></pre>\u000a\u000a<p>...a <code>myothermodule.py</code> like this...</p>\u000a\u000a<pre><code>#!/usr/bin/env python3\u000a\u000afrom .mymodule import as_int\u000a\u000a# Exported function\u000adef add(a, b):\u000a    return as_int(a) + as_int(b)\u000a\u000a# Test function for module  \u000adef _test():\u000a    assert add('1', '1') == 2\u000a\u000aif __name__ == '__main__':\u000a    _test()\u000a</code></pre>\u000a\u000a<p>...and a <code>main.py</code> like this...</p>\u000a\u000a<pre><code>#!/usr/bin/env python3\u000a\u000afrom mypackage.myothermodule import add\u000a\u000adef main():\u000a    print(add('1', '1'))\u000a\u000aif __name__ == '__main__':\u000a    main()\u000a</code></pre>\u000a\u000a<p>...which works fine when you run <code>main.py</code> or <code>mypackage/mymodule.py</code>, but fails with <code>mypackage/myothermodule.py</code>, due to the relative import...</p>\u000a\u000a<pre><code>from .mymodule import as_int\u000a</code></pre>\u000a\u000a<p>The way you're supposed to run it is...</p>\u000a\u000a<pre><code>python3 -m mypackage.myothermodule\u000a</code></pre>\u000a\u000a<p>...but it's somewhat verbose, and doesn't mix well with a shebang line like <code>#!/usr/bin/env python3</code>.</p>\u000a\u000a<p>The simplest fix for this case, assuming the name <code>mymodule</code> is globally unique, would be to avoid using relative imports, and just use...</p>\u000a\u000a<pre><code>from mymodule import as_int\u000a</code></pre>\u000a\u000a<p>...although, if it's not unique, or your package structure is more complex, you'll need to include the directory containing your package directory in <code>PYTHONPATH</code>, and do it like this...</p>\u000a\u000a<pre><code>from mypackage.mymodule import as_int\u000a</code></pre>\u000a\u000a<p>...or if you want it to work "out of the box", you can frob the <code>PYTHONPATH</code> in code first with this...</p>\u000a\u000a<pre><code>import sys\u000aimport os\u000a\u000aPACKAGE_PARENT = '..'\u000aSCRIPT_DIR = os.path.dirname(os.path.realpath(os.path.join(os.getcwd(), os.path.expanduser(__file__))))\u000asys.path.append(os.path.normpath(os.path.join(SCRIPT_DIR, PACKAGE_PARENT)))\u000a\u000afrom mypackage.mymodule import as_int\u000a</code></pre>\u000a\u000a<p>It's kind of a pain, but there's a clue as to why in <a href="http://mail.python.org/pipermail/python-3000/2007-April/006793.html" rel="noreferrer">an email</a> written by a certain Guido van Rossum...</p>\u000a\u000a<blockquote>\u000a  <p>I'm -1 on this and on any other proposed twiddlings of the <code>__main__</code>\u000a  machinery. The only use case seems to be running scripts that happen\u000a  to be living inside a module's directory, which I've always seen as an\u000a  antipattern. To make me change my mind you'd have to convince me that\u000a  it isn't.</p>\u000a</blockquote>\u000a\u000a<p>Whether running scripts inside a package is an antipattern or not is subjective, but personally I find it really useful in a package I have which contains some custom wxPython widgets, so I can run the script for any of the source files to display a <code>wx.Frame</code> containing only that widget for testing purposes.</p>\u000a
p1213
sVquestion_id
p1214
I16981921
sVlast_activity_date
p1215
I1370612766
sVcreation_date
p1216
I1370610863
sVscore
p1217
I207
sVowner
p1218
(dp1219
Vuser_id
p1220
I172176
sVprofile_image
p1221
Vhttps://www.gravatar.com/avatar/53ea9ceaca555fc33de2069b747554e5?s=128&d=identicon&r=PG
p1222
sVuser_type
p1223
Vregistered
p1224
sVreputation
p1225
I21582
sVlink
p1226
Vhttp://stackoverflow.com/users/172176/aya
p1227
sVdisplay_name
p1228
VAya
p1229
ssVis_accepted
p1230
I01
sVlast_edit_date
p1231
I1370612766
sVanswer_id
p1232
I16985066
sa(dp1233
Vbody
p1234
V<pre><code>a.update(b)\u000a</code></pre>\u000a\u000a<p><a href="http://docs.python.org/2/library/stdtypes.html#dict.update" rel="noreferrer">Python Standard Library Documentation</a></p>\u000a
p1235
sVquestion_id
p1236
I577234
sVlast_activity_date
p1237
I1364080626
sVcreation_date
p1238
I1235386909
sVscore
p1239
I406
sVowner
p1240
(dp1241
Vuser_id
p1242
I5346
sVprofile_image
p1243
Vhttps://www.gravatar.com/avatar/33feea54e02fb1147b41d2edb88659dd?s=128&d=identicon&r=PG
p1244
sVuser_type
p1245
Vregistered
p1246
sVreputation
p1247
I27695
sVlink
p1248
Vhttp://stackoverflow.com/users/5346/nick-fortescue
p1249
sVaccept_rate
p1250
I84
sVdisplay_name
p1251
VNick Fortescue
p1252
ssVis_accepted
p1253
I01
sVlast_edit_date
p1254
I1364080626
sVanswer_id
p1255
I577241
sa(dp1256
Vbody
p1257
V<p>Try <a href="http://docs.python.org/library/os.html#os.chdir" rel="noreferrer"><code>os.chdir</code></a></p>\u000a\u000a<blockquote>\u000a<pre><code>os.chdir(path)\u000a</code></pre>\u000a  \u000a  <p>Change the current working directory to path. Availability: Unix, Windows.</p>\u000a</blockquote>\u000a
p1258
sVquestion_id
p1259
I1810743
sVlast_activity_date
p1260
I1360752215
sVcreation_date
p1261
I1259359199
sVscore
p1262
I345
sVowner
p1263
(dp1264
Vuser_id
p1265
I61974
sVprofile_image
p1266
Vhttps://www.gravatar.com/avatar/ad240ed5cc406759f0fd72591dc8ca47?s=128&d=identicon&r=PG
p1267
sVuser_type
p1268
Vregistered
p1269
sVreputation
p1270
I484778
sVlink
p1271
Vhttp://stackoverflow.com/users/61974/mark-byers
p1272
sVdisplay_name
p1273
VMark Byers
p1274
ssVis_accepted
p1275
I01
sVlast_edit_date
p1276
I1360752215
sVanswer_id
p1277
I1810760
sa(dp1278
Vbody
p1279
V<p>UPDATED:\u000aOne way is to look at <code>sys.maxsize</code> as documented <a href="http://docs.python.org/library/platform.html#cross-platform" rel="noreferrer">here</a>:</p>\u000a\u000a<pre><code>$ python-32 -c 'import sys;print("%x" % sys.maxsize, sys.maxsize &gt; 2**32)'\u000a('7fffffff', False)\u000a$ python-64 -c 'import sys;print("%x" % sys.maxsize, sys.maxsize &gt; 2**32)'\u000a('7fffffffffffffff', True)\u000a</code></pre>\u000a\u000a<p><code>sys.maxsize</code> was introduced in Python 2.6.  If you need a test for older systems, this slightly more complicated test should work on all Python 2 and 3 releases:</p>\u000a\u000a<pre><code>$ python-32 -c 'import struct;print( 8 * struct.calcsize("P"))'\u000a32\u000a$ python-64 -c 'import struct;print( 8 * struct.calcsize("P"))'\u000a64\u000a</code></pre>\u000a\u000a<p>BTW, you might be tempted to use <code>platform.architecture()</code> for this.  Unfortunately, its results are not always reliable, <a href="http://docs.python.org/library/platform.html#platform.architecture" rel="noreferrer">particularly in the case of OS X universal binaries</a>.</p>\u000a\u000a<pre><code>$ arch -x86_64 /usr/bin/python2.6 -c 'import sys,platform; print platform.architecture()[0], sys.maxsize &gt; 2**32'\u000a64bit True\u000a$ arch -i386 /usr/bin/python2.6 -c 'import sys,platform; print platform.architecture()[0], sys.maxsize &gt; 2**32'\u000a64bit False\u000a</code></pre>\u000a
p1280
sVquestion_id
p1281
I1405913
sVlast_activity_date
p1282
I1348273104
sVcreation_date
p1283
I1252596102
sVscore
p1284
I278
sVowner
p1285
(dp1286
Vuser_id
p1287
I145403
sVprofile_image
p1288
Vhttps://www.gravatar.com/avatar/137b739a75a31399e6d07140302c8efc?s=128&d=identicon&r=PG
p1289
sVuser_type
p1290
Vregistered
p1291
sVreputation
p1292
I57094
sVlink
p1293
Vhttp://stackoverflow.com/users/145403/ned-deily
p1294
sVdisplay_name
p1295
VNed Deily
p1296
ssVis_accepted
p1297
I01
sVlast_edit_date
p1298
I1348273104
sVanswer_id
p1299
I1405971
sa(dp1300
Vbody
p1301
V<blockquote>\u000a  <p>What blocks Ruby, Python to get Javascript V8 speed?</p>\u000a</blockquote>\u000a\u000a<p>Nothing.</p>\u000a\u000a<p>Well, okay: money. (And time, people, resources, but if you have money, you can buy those.)</p>\u000a\u000a<p>V8 has a team of brilliant, highly-specialized, highly-experienced (and thus highly-paid) engineers working on it, that have decades of experience (I'm talking individually&nbsp;&ndash; collectively it's more like centuries) in creating high-performance execution engines for dynamic OO languages. They are basically the same people who also created the Sun HotSpot JVM (among many others).</p>\u000a\u000a<p>Lars Bak, the lead developer, has been literally working on VMs for 25 years (and all of those VMs have lead up to V8), which is basically his entire (professional) life. Some of the people writing Ruby VMs aren't even 25 years old.</p>\u000a\u000a<blockquote>\u000a  <p>Are there any Ruby / Python features that are blocking implementation of optimizations (e.g. inline caching) V8 engine has?</p>\u000a</blockquote>\u000a\u000a<p>Given that at least IronRuby, JRuby, MagLev, MacRuby and Rubinius have either monomorphic (IronRuby) or polymorphic inline caching, the answer is obviously no.</p>\u000a\u000a<p>Modern Ruby implementations already do a great deal of optimizations. For example, for certain operations, Rubinius's <code>Hash</code> class is faster than YARV's. Now, this doesn't sound terribly exciting until you realize that Rubinius's <code>Hash</code> class is implemented in 100% pure Ruby, while YARV's is implemented in 100% hand-optimized C.</p>\u000a\u000a<p>So, at least in some cases, Rubinius can generate better code than GCC!</p>\u000a\u000a<blockquote>\u000a  <p>Or this is rather matter of resources put into the V8 project by Google.</p>\u000a</blockquote>\u000a\u000a<p>Yes. Not just Google. The lineage of V8's source code is 25 years old now. The people who are working on V8 also created the Self VM (to this day one of the fastest dynamic OO language execution engines ever created), the Animorphic Smalltalk VM (to this day one of the fastest Smalltalk execution engines ever created), the HotSpot JVM (the fastest JVM ever created, probably the fastest VM period) and OOVM (one of the most efficient Smalltalk VMs ever created).</p>\u000a\u000a<p>In fact, Lars Bak, the lead developer of V8, worked on <em>every single one</em> of those, plus a few others.</p>\u000a
p1302
sVquestion_id
p1303
I5168718
sVlast_activity_date
p1304
I1347713002
sVcreation_date
p1305
I1299096659
sVscore
p1306
I523
sVowner
p1307
(dp1308
Vuser_id
p1309
I2988
sVprofile_image
p1310
Vhttps://www.gravatar.com/avatar/ed181f8c80df53d2b67a4f4fff088ed4?s=128&d=identicon&r=PG
p1311
sVuser_type
p1312
Vregistered
p1313
sVreputation
p1314
I249676
sVlink
p1315
Vhttp://stackoverflow.com/users/2988/j%c3%b6rg-w-mittag
p1316
sVdisplay_name
p1317
VJ&#246;rg W Mittag
p1318
ssVis_accepted
p1319
I01
sVlast_edit_date
p1320
I1347713002
sVanswer_id
p1321
I5172833
sa(dp1322
Vbody
p1323
V<p>The one that has proven to work best for me, and which seems most up-to-date is the one over at launchpad.</p>\u000a\u000a<p>It integrated seamlessly with my application that already utilizes the django.auth module.</p>\u000a\u000a<p><a href="https://launchpad.net/django-openid-auth" rel="noreferrer">https://launchpad.net/django-openid-auth</a></p>\u000a\u000a<p>To get a copy run:</p>\u000a\u000a<pre><code>bzr branch lp:django-openid-auth\u000a</code></pre>\u000a\u000a<p>Or install it via PyPI</p>\u000a\u000a<pre><code>pip install django-openid-auth\u000a</code></pre>\u000a
p1324
sVquestion_id
p1325
I2123369
sVlast_activity_date
p1326
I1343644963
sVcreation_date
p1327
I1265119338
sVscore
p1328
I85
sVowner
p1329
(dp1330
Vuser_id
p1331
I50841
sVprofile_image
p1332
Vhttps://www.gravatar.com/avatar/18d6606d50087ef22a37918fcf853566?s=128&d=identicon&r=PG
p1333
sVuser_type
p1334
Vregistered
p1335
sVreputation
p1336
I3110
sVlink
p1337
Vhttp://stackoverflow.com/users/50841/daniel
p1338
sVaccept_rate
p1339
I83
sVdisplay_name
p1340
VDaniel
p1341
ssVis_accepted
p1342
I01
sVlast_edit_date
p1343
I1343644963
sVanswer_id
p1344
I2184521
sa(dp1345
Vbody
p1346
V<p>The column names (which are strings) cannot be sliced in the manner you tried.</p>\u000a\u000a<p>Here you have a couple of options. If you know from context which variables you want to slice out, you can just return a view of only those columns by passing a list into the <code>__getitem__</code> syntax (the []'s).</p>\u000a\u000a<pre><code>df1 = df[['a','b']]\u000a</code></pre>\u000a\u000a<p>Alternatively, if it matters to index them numerically and not by their name (say your code should automatically do this without knowing the names of the first two columns) then you can do this instead:</p>\u000a\u000a<pre><code>df1 = df.ix[:,0:2] # Remember that Python does not slice inclusive of the ending index.\u000a</code></pre>\u000a\u000a<p>Additionally, you should familiarize yourself with the idea of a view into a Pandas object vs. a copy of that object. The first of the above methods will return a new copy in memory of the desired sub-object (the desired slices). </p>\u000a\u000a<p>Sometimes, however, there are indexing conventions in Pandas that don't do this and instead give you a new variable that just refers to the same chunk of memory as the sub-object or slice in the original object. This will happen with the second way of indexing, so you can modify it with the <code>copy()</code> function to get a regular copy. When this happens, changing what you think is the sliced object can sometimes alter the original object. Always good to be on the look out for this.</p>\u000a\u000a<pre><code>df1 = df.ix[0,0:2].copy() # To avoid the case where changing df1 also changes df\u000a</code></pre>\u000a
p1347
sVquestion_id
p1348
I11285613
sVlast_activity_date
p1349
I1341197285
sVcreation_date
p1350
I1341196982
sVscore
p1351
I417
sVowner
p1352
(dp1353
Vuser_id
p1354
I567620
sVprofile_image
p1355
Vhttps://i.stack.imgur.com/g8HIM.jpg?s=128&g=1
p1356
sVuser_type
p1357
Vregistered
p1358
sVreputation
p1359
I22644
sVlink
p1360
Vhttp://stackoverflow.com/users/567620/ely
p1361
sVaccept_rate
p1362
I71
sVdisplay_name
p1363
Vely
p1364
ssVis_accepted
p1365
I01
sVlast_edit_date
p1366
I1341197285
sVanswer_id
p1367
I11287278
sa(dp1368
Vbody
p1369
V<p>Use <a href="http://docs.python.org/library/time.html#time.mktime" rel="noreferrer">time.mktime()</a> to convert the time tuple (in localtime) into seconds since the Epoch, then use <a href="http://docs.python.org/library/datetime.html#datetime.datetime.fromtimestamp" rel="noreferrer">datetime.fromtimestamp()</a> to get the datetime object.</p>\u000a\u000a<pre><code>from time import mktime\u000afrom datetime import datetime\u000a\u000adt = datetime.fromtimestamp(mktime(struct))\u000a</code></pre>\u000a
p1370
sVquestion_id
p1371
I1697815
sVlast_activity_date
p1372
I1325870136
sVcreation_date
p1373
I1257713836
sVscore
p1374
I313
sVowner
p1375
(dp1376
Vuser_id
p1377
I197685
sVprofile_image
p1378
Vhttps://i.stack.imgur.com/AHykl.png?s=128&g=1
p1379
sVuser_type
p1380
Vregistered
p1381
sVreputation
p1382
I8032
sVlink
p1383
Vhttp://stackoverflow.com/users/197685/rod-hyde
p1384
sVdisplay_name
p1385
VRod Hyde
p1386
ssVis_accepted
p1387
I01
sVlast_edit_date
p1388
I1325870136
sVanswer_id
p1389
I1697907
sa(dp1390
Vbody
p1391
V<p>From the Python PEP 8 -- Style Guide for Python Code (<a href="http://www.python.org/dev/peps/pep-0008/">http://www.python.org/dev/peps/pep-0008/</a>):</p>\u000a\u000a<blockquote>\u000a  <p>the following special forms using leading or trailing underscores are\u000a  recognized (these can generally be combined with any case convention):</p>\u000a  \u000a  <ul>\u000a  <li><p>_single_leading_underscore: weak "internal use" indicator.  E.g. "from M import *" does not import objects whose name starts with an\u000a  underscore.</p></li>\u000a  <li><p>single_trailing_underscore_: used by convention to avoid conflicts with Python keyword, e.g.</p>\u000a  \u000a  <p><code>Tkinter.Toplevel(master, class_='ClassName')</code></p></li>\u000a  <li><p>__double_leading_underscore: when naming a class attribute, invokes name mangling (inside class FooBar, __boo becomes _FooBar__boo; see below).  </p></li>\u000a  <li><p>__double_leading_and_trailing_underscore__: "magic" objects or attributes that live in user-controlled namespaces.  E.g. __init__,\u000a  __import__ or __file__.  Never invent such names; only use them as documented.</p></li>\u000a  </ul>\u000a</blockquote>\u000a\u000a<p>Note that names with double leading and trailing underscores are essentially reserved for Python itself: "Never invent such names; only use them as documented".</p>\u000a
p1392
sVquestion_id
p1393
I8689964
sVlast_activity_date
p1394
I1325363591
sVcreation_date
p1395
I1325358073
sVscore
p1396
I306
sVowner
p1397
(dp1398
Vuser_id
p1399
I12711
sVprofile_image
p1400
Vhttps://www.gravatar.com/avatar/c330bdee507c95c603a93ca91d9145a9?s=128&d=identicon&r=PG
p1401
sVuser_type
p1402
Vregistered
p1403
sVreputation
p1404
I253189
sVlink
p1405
Vhttp://stackoverflow.com/users/12711/michael-burr
p1406
sVaccept_rate
p1407
I75
sVdisplay_name
p1408
VMichael Burr
p1409
ssVis_accepted
p1410
I01
sVlast_edit_date
p1411
I1325363591
sVanswer_id
p1412
I8689983
sa(dp1413
Vbody
p1414
V<p>You can have code in the class definition in both Ruby and Python. However, in Ruby you have a reference to the class (self). In Python you don't have a reference to the class, as the class isn't defined yet.</p>\u000a\u000a<p>An example:</p>\u000a\u000a<pre><code>class Kaka\u000a  puts self\u000aend\u000a</code></pre>\u000a\u000a<p>self in this case is the class, and this code would print out "Kaka". There is no way to print out the class name or in other ways access the class from the class definition body in Python.</p>\u000a
p1415
sVquestion_id
p1416
I1113611
sVlast_activity_date
p1417
I1324075269
sVcreation_date
p1418
I1247315169
sVscore
p1419
I5
sVowner
p1420
(dp1421
Vuser_id
p1422
I126214
sVprofile_image
p1423
Vhttps://www.gravatar.com/avatar/9ff70f96fa67c2a3c80ecf0486138bc2?s=128&d=identicon&r=PG
p1424
sVuser_type
p1425
Vregistered
p1426
sVreputation
p1427
I82768
sVlink
p1428
Vhttp://stackoverflow.com/users/126214/lennart-regebro
p1429
sVaccept_rate
p1430
I100
sVdisplay_name
p1431
VLennart Regebro
p1432
ssVis_accepted
p1433
I01
sVlast_edit_date
p1434
I1324075269
sVanswer_id
p1435
I1113613
sa(dp1436
Vbody
p1437
V<p>There is none. <code>dict</code> is not intended to be used this way.</p>\u000a\u000a<pre><code>for name, age in list.iteritems():\u000a    if age == search_age:\u000a        print name\u000a</code></pre>\u000a
p1438
sVquestion_id
p1439
I8023306
sVlast_activity_date
p1440
I1320527589
sVcreation_date
p1441
I1320527589
sVscore
p1442
I224
sVowner
p1443
(dp1444
Vuser_id
p1445
I16102
sVprofile_image
p1446
Vhttps://www.gravatar.com/avatar/0c4f4df702b23c8983f57d7113e809c8?s=128&d=identicon&r=PG
p1447
sVuser_type
p1448
Vregistered
p1449
sVreputation
p1450
I73670
sVlink
p1451
Vhttp://stackoverflow.com/users/16102/cat-plus-plus
p1452
sVdisplay_name
p1453
VCat Plus Plus
p1454
ssVis_accepted
p1455
I01
sVanswer_id
p1456
I8023337
sa(dp1457
Vbody
p1458
V<p>Basic answer:</p>\u000a\u000a<pre><code>mylist = ["b", "C", "A"]\u000amylist.sort()\u000a</code></pre>\u000a\u000a<p>This modifies your original list (i.e. sorts in-place). To get a sorted copy of the list, without changing the original, use the <a href="http://docs.python.org/library/functions.html#sorted" rel="noreferrer"><code>sorted()</code></a> function:</p>\u000a\u000a<pre><code>for x in sorted(mylist):\u000a    print x\u000a</code></pre>\u000a\u000a<p>However, the examples above are a bit naive, because they don't take locale into account, and perform a case-sensitive sorting. You can take advantage of the optional parameter <code>key</code> to specify custom sorting order (the alternative, using <code>cmp</code>, is a deprecated solution, as it has to be evaluated multiple times - <code>key</code> is only computed once per element).</p>\u000a\u000a<p>So, to sort according to the current locale, taking language-specific rules into account (<a href="http://docs.python.org/library/functools.html#functools.cmp_to_key" rel="noreferrer"><code>cmp_to_key</code></a> is a helper function from functools):</p>\u000a\u000a<pre><code>sorted(mylist, key=cmp_to_key(locale.strcoll))\u000a</code></pre>\u000a\u000a<p>And finally, if you need, you can specify a <a href="http://docs.python.org/library/locale.html" rel="noreferrer">custom locale</a> for sorting:</p>\u000a\u000a<pre><code>import locale\u000alocale.setlocale(locale.LC_ALL, 'en_US.UTF-8') # vary depending on your lang/locale\u000aassert sorted((u'Ab', u'ad', u'aa'),\u000a  key=cmp_to_key(locale.strcoll)) == [u'aa', u'Ab', u'ad']\u000a</code></pre>\u000a\u000a<p>Last note: you will see examples of case-insensitive sorting which use the <code>lower()</code> method - those are incorrect, because they work only for the ASCII subset of characters. Those two are wrong for any non-English data:</p>\u000a\u000a<pre><code># this is incorrect!\u000amylist.sort(key=lambda x: x.lower())\u000a# alternative notation, a bit faster, but still wrong\u000amylist.sort(key=str.lower)\u000a</code></pre>\u000a
p1459
sVquestion_id
p1460
I36139
sVlast_activity_date
p1461
I1319203496
sVcreation_date
p1462
I1220116212
sVscore
p1463
I314
sVowner
p1464
(dp1465
Vuser_id
p1466
I1694
sVprofile_image
p1467
Vhttps://www.gravatar.com/avatar/bd42b746d79be5dd325a8e94bc00ac58?s=128&d=identicon&r=PG
p1468
sVuser_type
p1469
Vregistered
p1470
sVreputation
p1471
I93074
sVlink
p1472
Vhttp://stackoverflow.com/users/1694/eli-courtwright
p1473
sVaccept_rate
p1474
I94
sVdisplay_name
p1475
VEli Courtwright
p1476
ssVis_accepted
p1477
I01
sVlast_edit_date
p1478
I1319203496
sVanswer_id
p1479
I36156
sa(dp1480
Vbody
p1481
V<p>While you can use a <code>virtualenv</code>, you don't need to.  The trick is passing the PEP370 <code>--user</code> argument to the <code>setup.py</code> script.  With the latest version of <code>pip</code>, one way to do it is:</p>\u000a\u000a<pre><code>pip install --user mercurial\u000a</code></pre>\u000a\u000a<p>This should result in the <code>hg</code> script being installed in <code>$HOME/.local/bin/hg</code> and the rest of the hg package in <code>$HOME/.local/lib/pythonx.y/site-packages/</code>.</p>\u000a\u000a<p>Note, that the above is true for Python 2.6.  There has been a <a href="http://bugs.python.org/issue7175" rel="noreferrer">bit of controversy</a> among the Python core developers about what is the appropriate directory location on Mac OS X for PEP370-style <code>user</code> installations.  In Python 2.7 and 3.2, the location on Mac OS X was changed from <code>$HOME/.local</code> to <code>$HOME/Library/Python</code>.  This might change in a future release.  But, for now, on 2.7 (and 3.2, if <code>hg</code> were supported on Python 3), the above locations will be <code>$HOME/Library/Python/x.y/bin/hg</code> and <code>$HOME/Library/Python/x.y/lib/python/site-packages</code>.</p>\u000a
p1482
sVquestion_id
p1483
I7143077
sVlast_activity_date
p1484
I1314147532
sVcreation_date
p1485
I1313990879
sVscore
p1486
I308
sVowner
p1487
(dp1488
Vuser_id
p1489
I145403
sVprofile_image
p1490
Vhttps://www.gravatar.com/avatar/137b739a75a31399e6d07140302c8efc?s=128&d=identicon&r=PG
p1491
sVuser_type
p1492
Vregistered
p1493
sVreputation
p1494
I57094
sVlink
p1495
Vhttp://stackoverflow.com/users/145403/ned-deily
p1496
sVdisplay_name
p1497
VNed Deily
p1498
ssVis_accepted
p1499
I01
sVlast_edit_date
p1500
I1314147532
sVanswer_id
p1501
I7143496
sa(dp1502
Vbody
p1503
V<p>The <code>@</code> symbol is used for class, function and method <em>decorators</em>.</p>\u000a\u000a<p>Read more here:</p>\u000a\u000a<p><a href="http://www.python.org/dev/peps/pep-0318/" rel="noreferrer">PEP 318: Decorators</a></p>\u000a\u000a<p><a href="http://wiki.python.org/moin/PythonDecorators" rel="noreferrer">Python Decorators</a></p>\u000a\u000a<p>The most common Python decorators you'll run into are:</p>\u000a\u000a<p><a href="http://docs.python.org/library/functions.html#property" rel="noreferrer">@property</a></p>\u000a\u000a<p><a href="http://docs.python.org/library/functions.html#classmethod" rel="noreferrer">@classmethod</a></p>\u000a\u000a<p><a href="http://docs.python.org/library/functions.html#staticmethod" rel="noreferrer">@staticmethod</a></p>\u000a
p1504
sVquestion_id
p1505
I6392739
sVlast_activity_date
p1506
I1308353024
sVcreation_date
p1507
I1308353024
sVscore
p1508
I130
sVowner
p1509
(dp1510
Vuser_id
p1511
I90308
sVprofile_image
p1512
Vhttps://www.gravatar.com/avatar/7b7aefbc459629eb4c864b825894c9c4?s=128&d=identicon&r=PG
p1513
sVuser_type
p1514
Vregistered
p1515
sVreputation
p1516
I38622
sVlink
p1517
Vhttp://stackoverflow.com/users/90308/foglebird
p1518
sVaccept_rate
p1519
I93
sVdisplay_name
p1520
VFogleBird
p1521
ssVis_accepted
p1522
I01
sVanswer_id
p1523
I6392768
sa(dp1524
Vbody
p1525
V<p>You can do this with <a href="http://docs.python.org/library/stdtypes.html#str.ljust" rel="noreferrer"><strong><code>str.ljust(width[, fillchar])</code></strong></a>:</p>\u000a\u000a<blockquote>\u000a  <p>Return the string left justified in a string of length <em>width</em>. Padding is done using the specified <em>fillchar</em> (default is a space). The original string is returned if <em>width</em> is less than <code>len(s)</code>.</p>\u000a</blockquote>\u000a\u000a<pre><code>&gt;&gt;&gt; 'hi'.ljust(10)\u000a'hi        '\u000a</code></pre>\u000a
p1526
sVquestion_id
p1527
I5676646
sVlast_activity_date
p1528
I1302870296
sVcreation_date
p1529
I1302870296
sVscore
p1530
I375
sVowner
p1531
(dp1532
Vuser_id
p1533
I218196
sVprofile_image
p1534
Vhttps://i.stack.imgur.com/4P5DY.jpg?s=128&g=1
p1535
sVuser_type
p1536
Vregistered
p1537
sVreputation
p1538
I434555
sVlink
p1539
Vhttp://stackoverflow.com/users/218196/felix-kling
p1540
sVaccept_rate
p1541
I100
sVdisplay_name
p1542
VFelix Kling
p1543
ssVis_accepted
p1544
I01
sVanswer_id
p1545
I5676676
sa(dp1546
Vbody
p1547
V<p>No, it's not like any of those things. It's simply the dynamic replacement of attributes at runtime.</p>\u000a\u000a<p>For instance, consider a class that has a method <code>get_data</code>. This method does an external lookup (on a database or web API, for example), and various other methods in the class call it. However, in a unit test, you don't want to depend on the external data source - so you dynamically replace the <code>get_data</code> method with a stub that returns some fixed data.</p>\u000a\u000a<p>Because Python classes are mutable, and methods are just attributes of the class, you can do this as much as you like - and, in fact, you can even replace classes and functions in a module in exactly the same way.</p>\u000a
p1548
sVquestion_id
p1549
I5626193
sVlast_activity_date
p1550
I1302549057
sVcreation_date
p1551
I1302549057
sVscore
p1552
I263
sVowner
p1553
(dp1554
Vuser_id
p1555
I104349
sVprofile_image
p1556
Vhttps://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG
p1557
sVuser_type
p1558
Vregistered
p1559
sVreputation
p1560
I356482
sVlink
p1561
Vhttp://stackoverflow.com/users/104349/daniel-roseman
p1562
sVaccept_rate
p1563
I86
sVdisplay_name
p1564
VDaniel Roseman
p1565
ssVis_accepted
p1566
I01
sVanswer_id
p1567
I5626250
sa(dp1568
Vbody
p1569
V<p>I use Eclipse and a plain vanilla PyDev <a href="http://pydev.org/" rel="noreferrer">http://pydev.org/</a>.  There isn't any specific Django functionality.  The best I came up with was setting up a run profile to run the development web server.  If you add the web tools project (WTP), you'll get syntax highlighting in your templates but nothing that relates to the specific template language.  Pydev is a decent plugin and if you are already familiar with Eclipse and use it for other projects it is a good way to go.  I recall Netbeans starting to get Python support but I have no idea where that is right now.  Lots of people rave about Netbeans 6 but in the Java world Eclipse still reigns as the king of the OSS IDEs.</p>\u000a
p1570
sVquestion_id
p1571
I175044
sVlast_activity_date
p1572
I1299594951
sVcreation_date
p1573
I1223311685
sVscore
p1574
I96
sVowner
p1575
(dp1576
Vuser_id
p1577
I2351
sVprofile_image
p1578
Vhttps://www.gravatar.com/avatar/dddfa81fe787ab5bd92c87f4168508af?s=128&d=identicon&r=PG
p1579
sVuser_type
p1580
Vregistered
p1581
sVreputation
p1582
I4108
sVlink
p1583
Vhttp://stackoverflow.com/users/2351/sam-corder
p1584
sVaccept_rate
p1585
I75
sVdisplay_name
p1586
VSam Corder
p1587
ssVis_accepted
p1588
I01
sVlast_edit_date
p1589
I1299594951
sVanswer_id
p1590
I175130
sa(dp1591
Vbody
p1592
V<ol>\u000a<li><p>I believe this has already been answered by other users before me, so I only add it for the sake of completeness: the <code>with</code> statement simplifies exception handling by encapsulating common preparation and cleanup tasks in so-called <a href="http://docs.python.org/release/2.5.2/lib/typecontextmanager.html" rel="noreferrer">context managers</a>. More details can be found in <a href="http://www.python.org/dev/peps/pep-0343/" rel="noreferrer">PEP 343</a>. For instance, the <code>open</code> statement is a context manager in itself, which lets you open a file, keep it open as long as the execution is in the context of the <code>with</code> statement where you used it, and close it as soon as you leave the context, no matter whether you have left it because of an exception or during regular control flow. The <code>with</code> statement can thus be used in ways similar to the <a href="http://en.wikipedia.org/wiki/Resource_Acquisition_Is_Initialization" rel="noreferrer">RAII pattern</a> in C++: some resource is acquired by the <code>with</code> statement and released when you leave the <code>with</code> context.</p></li>\u000a<li><p>Some examples are: opening files using <code>with open(filename) as fp:</code>, acquiring locks using <code>with lock:</code> (where <code>lock</code> is an instance of <code>threading.Lock</code>). You can also construct your own context managers using the <code>contextmanager</code> decorator from <code>contextlib</code>. For instance, I often use this when I have to change the current directory temporarily and then return to where I was:</p>\u000a\u000a<pre><code>from contextlib import contextmanager\u000aimport os\u000a\u000a@contextmanager\u000adef working_directory(path):\u000a    current_dir = os.getcwd()\u000a    os.chdir(path)\u000a    try:\u000a        yield\u000a    finally:\u000a        os.chdir(current_dir)\u000a\u000awith working_directory("data/stuff"):\u000a    # do something within data/stuff\u000a# here I am back again in the original working directory\u000a</code></pre>\u000a\u000a<p>Here's another example that temporarily redirects <code>sys.stdin</code>, <code>sys.stdout</code> and <code>sys.stderr</code> to some other file handle and restores them later:</p>\u000a\u000a<pre><code>from contextlib import contextmanager\u000aimport sys\u000a\u000a@contextmanager\u000adef redirected(**kwds):\u000a    stream_names = ["stdin", "stdout", "stderr"]\u000a    old_streams = {}\u000a    try:\u000a        for sname in stream_names:\u000a            stream = kwds.get(sname, None)\u000a            if stream is not None and stream != getattr(sys, sname):\u000a                old_streams[sname] = getattr(sys, sname)\u000a                setattr(sys, sname, stream)\u000a        yield\u000a    finally:\u000a        for sname, stream in old_streams.iteritems():\u000a            setattr(sys, sname, stream)\u000a\u000awith redirected(stdout=open("/tmp/log.txt", "w")):\u000a     # these print statements will go to /tmp/log.txt\u000a     print "Test entry 1"\u000a     print "Test entry 2"\u000a# back to the normal stdout\u000aprint "Back to normal stdout again"\u000a</code></pre>\u000a\u000a<p>And finally, another example that creates a temporary folder and cleans it up when leaving the context:</p>\u000a\u000a<pre><code>from tempfile import mkdtemp\u000afrom shutil import rmtree\u000a\u000a@contextmanager\u000adef temporary_dir(*args, **kwds):\u000a    name = mkdtemp(*args, **kwds)\u000a    try:\u000a        yield name\u000a    finally:\u000a        shutil.rmtree(name)\u000a\u000awith temporary_dir() as dirname:\u000a    # do whatever you want\u000a</code></pre></li>\u000a</ol>\u000a
p1593
sVquestion_id
p1594
I3012488
sVlast_activity_date
p1595
I1293631102
sVcreation_date
p1596
I1276159897
sVscore
p1597
I266
sVowner
p1598
(dp1599
Vuser_id
p1600
I156771
sVprofile_image
p1601
Vhttps://www.gravatar.com/avatar/2163ccb26148ab885d6d827e7cb270a1?s=128&d=identicon&r=PG
p1602
sVuser_type
p1603
Vregistered
p1604
sVreputation
p1605
I31771
sVlink
p1606
Vhttp://stackoverflow.com/users/156771/tam%c3%a1s
p1607
sVaccept_rate
p1608
I100
sVdisplay_name
p1609
VTam&#225;s
p1610
ssVis_accepted
p1611
I01
sVlast_edit_date
p1612
I1293631102
sVanswer_id
p1613
I3012921
sa(dp1614
Vbody
p1615
V<p>Use the <code>join</code> method of the empty string to join all of the strings together with the empty string in between, like so:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; a = ['a', 'b', 'c', 'd']\u000a&gt;&gt;&gt; ''.join(a)\u000a'abcd'\u000a</code></pre>\u000a
p1616
sVquestion_id
p1617
I4481724
sVlast_activity_date
p1618
I1292736050
sVcreation_date
p1619
I1292736050
sVscore
p1620
I371
sVowner
p1621
(dp1622
Vuser_id
p1623
I219162
sVprofile_image
p1624
Vhttps://www.gravatar.com/avatar/4c7f016d15f498b5274e153dce3e7974?s=128&d=identicon&r=PG
p1625
sVuser_type
p1626
Vregistered
p1627
sVreputation
p1628
I37252
sVlink
p1629
Vhttp://stackoverflow.com/users/219162/daniel-stutzbach
p1630
sVaccept_rate
p1631
I87
sVdisplay_name
p1632
VDaniel Stutzbach
p1633
ssVis_accepted
p1634
I01
sVanswer_id
p1635
I4481731
sa(dp1636
Vbody
p1637
V<p>NumPy's arrays are more compact than Python lists -- a list of lists as you describe, in Python, would take at least 20 MB or so, while a NumPy 3D array with single-precision floats in the cells would fit in 4 MB. Access in reading and writing items is also faster with NumPy.</p>\u000a\u000a<p>Maybe you don't care that much for just a million cells, but you definitely would for a billion cells -- neither approach would fit in a 32-bit architecture, but with 64-bit builds NumPy would get away with 4 GB or so, Python alone would need at least about 12 GB (lots of pointers which double in size) -- a much costlier piece of hardware!</p>\u000a\u000a<p>The difference is mostly due to "indirectness" -- a Python list is an array of pointers to Python objects, at least 4 bytes per pointer plus 16 bytes for even the smallest Python object (4 for type pointer, 4 for reference count, 4 for value -- and the memory allocators rounds up to 16). A NumPy array is an array of uniform values -- single-precision numbers takes 4 bytes each, double-precision ones, 8 bytes. Less flexible, but you pay substantially for the flexibility of standard Python lists!</p>\u000a
p1638
sVquestion_id
p1639
I993984
sVlast_activity_date
p1640
I1291031746
sVcreation_date
p1641
I1245021383
sVscore
p1642
I435
sVowner
p1643
(dp1644
Vuser_id
p1645
I95810
sVprofile_image
p1646
Vhttps://www.gravatar.com/avatar/e8d5fe90f1fe2148bf130cccd4dc311c?s=128&d=identicon&r=PG
p1647
sVuser_type
p1648
Vregistered
p1649
sVreputation
p1650
I515749
sVlink
p1651
Vhttp://stackoverflow.com/users/95810/alex-martelli
p1652
sVaccept_rate
p1653
I80
sVdisplay_name
p1654
VAlex Martelli
p1655
ssVis_accepted
p1656
I01
sVlast_edit_date
p1657
I1291031746
sVanswer_id
p1658
I994010
sa(dp1659
Vbody
p1660
V<p>This issue was the result of an incomplete / incorrect installation of the MySQL for Python adapter. Specifically, I had to edit the path to the mysql_config file to point to /usr/local/mysql/bin/mysql_config - discussed in greater detail in this article: <a href="http://dakrauth.com/blog/entry/python-and-django-setup-mac-os-x-leopard/" rel="noreferrer">http://dakrauth.com/blog/entry/python-and-django-setup-mac-os-x-leopard/</a></p>\u000a
p1661
sVquestion_id
p1662
I2952187
sVlast_activity_date
p1663
I1285281303
sVcreation_date
p1664
I1285281303
sVscore
p1665
I7
sVowner
p1666
(dp1667
Vuser_id
p1668
I306374
sVprofile_image
p1669
Vhttps://www.gravatar.com/avatar/b8dc57b6b802a208a394074448b394c3?s=128&d=identicon&r=PG
p1670
sVuser_type
p1671
Vregistered
p1672
sVreputation
p1673
I5435
sVlink
p1674
Vhttp://stackoverflow.com/users/306374/joe
p1675
sVaccept_rate
p1676
I91
sVdisplay_name
p1677
VJoe
p1678
ssVis_accepted
p1679
I01
sVanswer_id
p1680
I3782998
sa(dp1681
Vbody
p1682
V<p>These are subplot grid parameters encoded as a single integer. For example, "111" means "1x1 grid, first subplot" and "234" means "2x3 grid, 4th subplot".</p>\u000a\u000a<p>Alternative form for <code>add_subplot(111)</code> is <code>add_subplot(1, 1, 1)</code>.</p>\u000a
p1683
sVquestion_id
p1684
I3584805
sVlast_activity_date
p1685
I1282917922
sVcreation_date
p1686
I1282917922
sVscore
p1687
I252
sVowner
p1688
(dp1689
Vuser_id
p1690
I20310
sVprofile_image
p1691
Vhttps://www.gravatar.com/avatar/03347db2fae30fa50f1571d280b1eca3?s=128&d=identicon&r=PG
p1692
sVuser_type
p1693
Vregistered
p1694
sVreputation
p1695
I18173
sVlink
p1696
Vhttp://stackoverflow.com/users/20310/constantin
p1697
sVaccept_rate
p1698
I57
sVdisplay_name
p1699
VConstantin
p1700
ssVis_accepted
p1701
I01
sVanswer_id
p1702
I3584933
sa(dp1703
Vbody
p1704
V<p>You can also write:</p>\u000a\u000a<pre><code>[e] * n\u000a</code></pre>\u000a\u000a<p>You should note that if e is for example an empty list you get a list with n references to the same list, not n independent empty lists. </p>\u000a\u000a<p><strong>Performance testing</strong></p>\u000a\u000a<p>At first glance it <em>seems</em> that repeat is the fastest way to create a list with n identical elements:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; timeit.timeit('itertools.repeat(0, 10)', 'import itertools', number = 1000000)\u000a0.37095273281943264\u000a&gt;&gt;&gt; timeit.timeit('[0] * 10', 'import itertools', number = 1000000)\u000a0.5577236771712819\u000a</code></pre>\u000a\u000a<p>But wait - it's not a fair test...</p>\u000a\u000a<pre><code>&gt;&gt;&gt; itertools.repeat(0, 10)\u000arepeat(0, 10)  # Not a list!!!\u000a</code></pre>\u000a\u000a<p>The function <code>itertools.repeat</code> doesn't actually create the list, it just creates an object that can be used to create a list if you wish! Let's try that again, but converting to a list:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; timeit.timeit('list(itertools.repeat(0, 10))', 'import itertools', number = 1000000)\u000a1.7508119747063233\u000a</code></pre>\u000a\u000a<p>So if you want a list, use <code>[e] * n</code>. If you want to generate the elements lazily, use <code>repeat</code>.</p>\u000a
p1705
sVquestion_id
p1706
I3459098
sVlast_activity_date
p1707
I1281536485
sVcreation_date
p1708
I1281535493
sVscore
p1709
I354
sVowner
p1710
(dp1711
Vuser_id
p1712
I61974
sVprofile_image
p1713
Vhttps://www.gravatar.com/avatar/ad240ed5cc406759f0fd72591dc8ca47?s=128&d=identicon&r=PG
p1714
sVuser_type
p1715
Vregistered
p1716
sVreputation
p1717
I484778
sVlink
p1718
Vhttp://stackoverflow.com/users/61974/mark-byers
p1719
sVdisplay_name
p1720
VMark Byers
p1721
ssVis_accepted
p1722
I01
sVlast_edit_date
p1723
I1281536485
sVanswer_id
p1724
I3459131
sa(dp1725
Vbody
p1726
V<p>A key difference between <code>__getattr__</code> and <code>__getattribute__</code> is that <code>__getattr__</code> is only invoked if the attribute wasn't found the usual ways.  It's good for implementing a fallback for missing attributes, and is probably the one of two you want.</p>\u000a\u000a<p><code>__getattribute__</code> is invoked before looking at the actual attributes on the object, and so can be tricky to implement correctly.  You can end up in infinite recursions very easily.</p>\u000a\u000a<p>New-style classes derive from <code>object</code>, old-style classes are those in Python 2.x with no explicit base class.  But the distinction between old-style and new-style classes is not the important one when choosing between <code>__getattr__</code> and <code>__getattribute__</code>.</p>\u000a\u000a<p>You almost certainly want <code>__getattr__</code>.</p>\u000a
p1727
sVquestion_id
p1728
I3278077
sVlast_activity_date
p1729
I1279506120
sVcreation_date
p1730
I1279506120
sVscore
p1731
I281
sVowner
p1732
(dp1733
Vuser_id
p1734
I14343
sVprofile_image
p1735
Vhttps://www.gravatar.com/avatar/75e9a11371cbe1566607180863efdf4c?s=128&d=identicon&r=PG
p1736
sVuser_type
p1737
Vregistered
p1738
sVreputation
p1739
I193803
sVlink
p1740
Vhttp://stackoverflow.com/users/14343/ned-batchelder
p1741
sVaccept_rate
p1742
I80
sVdisplay_name
p1743
VNed Batchelder
p1744
ssVis_accepted
p1745
I01
sVanswer_id
p1746
I3278104
sa(dp1747
Vbody
p1748
V<p>There's also a strong culture of tuples being for heterogenous collections, similar to what you'd use <code>struct</code>s for in C, and lists being for homogenous collections, similar to what you'd use arrays for.  But I've never quite squared this with the mutability issue mentioned in the other answers.  Mutability has teeth to it (you actually can't change a tuple), while homogeneity is not enforced, and so seems to be a much less interesting distinction.</p>\u000a
p1749
sVquestion_id
p1750
I1708510
sVlast_activity_date
p1751
I1257865329
sVcreation_date
p1752
I1257865329
sVscore
p1753
I145
sVowner
p1754
(dp1755
Vuser_id
p1756
I14343
sVprofile_image
p1757
Vhttps://www.gravatar.com/avatar/75e9a11371cbe1566607180863efdf4c?s=128&d=identicon&r=PG
p1758
sVuser_type
p1759
Vregistered
p1760
sVreputation
p1761
I193803
sVlink
p1762
Vhttp://stackoverflow.com/users/14343/ned-batchelder
p1763
sVaccept_rate
p1764
I80
sVdisplay_name
p1765
VNed Batchelder
p1766
ssVis_accepted
p1767
I01
sVanswer_id
p1768
I1708610
sa(dp1769
Vbody
p1770
V<p><code>raw_input()</code> was renamed to <code>input()</code></p>\u000a\u000a<p>From <a href="http://docs.python.org/dev/py3k/whatsnew/3.0.html" rel="noreferrer">http://docs.python.org/dev/py3k/whatsnew/3.0.html</a></p>\u000a
p1771
sVquestion_id
p1772
I954834
sVlast_activity_date
p1773
I1244191966
sVcreation_date
p1774
I1244190938
sVscore
p1775
I476
sVowner
p1776
(dp1777
Vuser_id
p1778
I115866
sVprofile_image
p1779
Vhttps://i.stack.imgur.com/MSY0L.jpg?s=128&g=1
p1780
sVuser_type
p1781
Vmoderator
p1782
sVreputation
p1783
I27823
sVlink
p1784
Vhttp://stackoverflow.com/users/115866/balpha
p1785
sVaccept_rate
p1786
I89
sVdisplay_name
p1787
Vbalpha
p1788
ssVis_accepted
p1789
I01
sVlast_edit_date
p1790
I1244191966
sVanswer_id
p1791
I954840
sa(dp1792
Vbody
p1793
V<p>By using the <a href="http://docs.python.org/library/functions.html#divmod" rel="noreferrer"><code>divmod()</code></a> function, which does only a single division to produce both the quotient and the remainder, you can have the result very quickly with only two mathematical operations:</p>\u000a\u000a<pre><code>m, s = divmod(seconds, 60)\u000ah, m = divmod(m, 60)\u000aprint "%d:%02d:%02d" % (h, m, s)\u000a</code></pre>\u000a
p1794
sVquestion_id
p1795
I775049
sVlast_activity_date
p1796
I1240390833
sVcreation_date
p1797
I1240355754
sVscore
p1798
I373
sVowner
p1799
(dp1800
Vuser_id
p1801
I85360
sVprofile_image
p1802
Vhttps://www.gravatar.com/avatar/424a8f03889e3ffbf9ed57adb1fc41cc?s=128&d=identicon&r=PG
p1803
sVuser_type
p1804
Vregistered
p1805
sVreputation
p1806
I40068
sVlink
p1807
Vhttp://stackoverflow.com/users/85360/brandon-rhodes
p1808
sVaccept_rate
p1809
I45
sVdisplay_name
p1810
VBrandon Rhodes
p1811
ssVis_accepted
p1812
I01
sVlast_edit_date
p1813
I1240390833
sVanswer_id
p1814
I775075
sa(dp1815
Vbody
p1816
V<p>Based on your comments to orip's post, I guess this is what happened:</p>\u000a\u000a<ol>\u000a<li>You edited <code>__init__.py</code> on windows.</li>\u000a<li>The windows editor added something non-printing, perhaps a carriage-return (end-of-line in Windows is CR/LF; in unix it is LF only), or perhaps a CTRL-Z (windows end-of-file).</li>\u000a<li>You used WinSCP to copy the file to your unix box.</li>\u000a<li>WinSCP thought: "This has something that's not basic text; I'll put a .bin extension to indicate binary data."</li>\u000a<li>The missing <code>__init__.py</code> (now called <code>__init__.py.bin</code>) means python doesn't understand toolkit as a package.</li>\u000a<li>You create <code>__init__.py</code> in the appropriate directory and everything works... ?</li>\u000a</ol>\u000a
p1817
sVquestion_id
p1818
I338768
sVlast_activity_date
p1819
I1228349860
sVcreation_date
p1820
I1228349860
sVscore
p1821
I183
sVowner
p1822
(dp1823
Vuser_id
p1824
I15154
sVprofile_image
p1825
Vhttps://www.gravatar.com/avatar/cdca0dc45085388c1b753104ce4c8648?s=128&d=identicon&r=PG
p1826
sVuser_type
p1827
Vregistered
p1828
sVreputation
p1829
I24685
sVlink
p1830
Vhttp://stackoverflow.com/users/15154/john-fouhy
p1831
sVaccept_rate
p1832
I88
sVdisplay_name
p1833
VJohn Fouhy
p1834
ssVis_accepted
p1835
I01
sVanswer_id
p1836
I339220
sa(dp1837
Vbody
p1838
V<p>My first instinct would be to refactor the nested loop into a function and use <code>return</code> to break out. </p>\u000a
p1839
sVquestion_id
p1840
I189645
sVlast_activity_date
p1841
I1223598305
sVcreation_date
p1842
I1223598305
sVscore
p1843
I291
sVowner
p1844
(dp1845
Vuser_id
p1846
I19403
sVprofile_image
p1847
Vhttps://www.gravatar.com/avatar/7554c591e3cc374e8623378d3385e092?s=128&d=identicon&r=PG
p1848
sVuser_type
p1849
Vregistered
p1850
sVreputation
p1851
I61988
sVlink
p1852
Vhttp://stackoverflow.com/users/19403/robert-rossney
p1853
sVaccept_rate
p1854
I59
sVdisplay_name
p1855
VRobert Rossney
p1856
ssVis_accepted
p1857
I01
sVanswer_id
p1858
I189685
sa(dp1859
Vbody
p1860
V<p>Module importing is quite fast, but not instant. This means that:</p>\u000a\u000a<ul>\u000a<li>Putting the imports at the top of the module is fine, because it's a trivial cost that's only paid once.</li>\u000a<li>Putting the imports within a function will cause calls to that function to take longer.</li>\u000a</ul>\u000a\u000a<p>So if you care about efficiency, put the imports at the top. Only move them into a function if your profiling shows that would help (you <strong>did</strong> profile to see where best to improve performance, right??)</p>\u000a\u000a<hr>\u000a\u000a<p>The best reasons I've seen to perform lazy imports are:</p>\u000a\u000a<ul>\u000a<li>Optional library support. If your code has multiple paths that use different libraries, don't break if an optional library is not installed.</li>\u000a<li>In the <code>__init__.py</code> of a plugin, which might be imported but not actually used. Examples are Bazaar plugins, which use <code>bzrlib</code>'s lazy-loading framework.</li>\u000a</ul>\u000a
p1861
sVquestion_id
p1862
I128478
sVlast_activity_date
p1863
I1222277880
sVcreation_date
p1864
I1222277880
sVscore
p1865
I156
sVowner
p1866
(dp1867
Vuser_id
p1868
I3560
sVprofile_image
p1869
Vhttps://www.gravatar.com/avatar/4acd21acc7b1f605466f2f48189a7177?s=128&d=identicon&r=PG
p1870
sVuser_type
p1871
Vregistered
p1872
sVreputation
p1873
I133091
sVlink
p1874
Vhttp://stackoverflow.com/users/3560/john-millikin
p1875
sVaccept_rate
p1876
I83
sVdisplay_name
p1877
VJohn Millikin
p1878
ssVis_accepted
p1879
I01
sVanswer_id
p1880
I128577
sa(dp1881
Vbody
p1882
V<p>It blocks the thread.  If you look in Modules/timemodule.c in the Python source, you'll see that in the call to <code>floatsleep()</code>, the substantive part of the sleep operation is wrapped in a Py_BEGIN_ALLOW_THREADS and Py_END_ALLOW_THREADS block, allowing other threads to continue to execute while the current one sleeps.  You can also test this with a simple python program:</p>\u000a\u000a<pre><code>import time\u000afrom threading import Thread\u000a\u000aclass worker(Thread):\u000a    def run(self):\u000a        for x in xrange(0,11):\u000a            print x\u000a            time.sleep(1)\u000a\u000aclass waiter(Thread):\u000a    def run(self):\u000a        for x in xrange(100,103):\u000a            print x\u000a            time.sleep(5)\u000a\u000adef run():\u000a    worker().start()\u000a    waiter().start()\u000a</code></pre>\u000a\u000a<p>Which will print:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; thread_test.run()\u000a0\u000a100\u000a&gt;&gt;&gt; 1\u000a2\u000a3\u000a4\u000a5\u000a101\u000a6\u000a7\u000a8\u000a9\u000a10\u000a102\u000a</code></pre>\u000a
p1883
sVquestion_id
p1884
I92928
sVlast_activity_date
p1885
I1221748943
sVcreation_date
p1886
I1221748943
sVscore
p1887
I237
sVowner
p1888
(dp1889
Vuser_id
p1890
I1502059
sVprofile_image
p1891
Vhttps://www.gravatar.com/avatar/8e1914b1b81a8160378c298a540b5e00?s=128&d=identicon&r=PG
p1892
sVuser_type
p1893
Vregistered
p1894
sVreputation
p1895
I17479
sVlink
p1896
Vhttp://stackoverflow.com/users/1502059/nick-bastin
p1897
sVaccept_rate
p1898
I86
sVdisplay_name
p1899
VNick Bastin
p1900
ssVis_accepted
p1901
I01
sVanswer_id
p1902
I93179
sa(dp1903
Vbody
p1904
V<p>John's answer is good (that list comprehensions are better when you want to iterate over something multiple times).  However, it's also worth noting that you should use a list if you want to use any of the list methods.  For example, the following code won't work:</p>\u000a\u000a<pre><code>def gen():\u000a    return (something for something in get_some_stuff())\u000a\u000aprint gen()[:2]     # generators don't support indexing or slicing\u000aprint [5,6] + gen() # generators can't be added to lists\u000a</code></pre>\u000a\u000a<p>Basically, use a generator expression if all you're doing is iterating once.  If you want to store and use the generated results, then you're probably better off with a list comprehension.</p>\u000a\u000a<p>Since performance is the most common reason to choose one over the other, my advice is to not worry about it and just pick one; if you find that your program is running too slowly, then and only then should you go back and worry about tuning your code.</p>\u000a
p1905
sVquestion_id
p1906
I47789
sVlast_activity_date
p1907
I1220734448
sVcreation_date
p1908
I1220734448
sVscore
p1909
I188
sVowner
p1910
(dp1911
Vuser_id
p1912
I1694
sVprofile_image
p1913
Vhttps://www.gravatar.com/avatar/bd42b746d79be5dd325a8e94bc00ac58?s=128&d=identicon&r=PG
p1914
sVuser_type
p1915
Vregistered
p1916
sVreputation
p1917
I93074
sVlink
p1918
Vhttp://stackoverflow.com/users/1694/eli-courtwright
p1919
sVaccept_rate
p1920
I94
sVdisplay_name
p1921
VEli Courtwright
p1922
ssVis_accepted
p1923
I01
sVanswer_id
p1924
I47826
sasVquota_max
p1925
I300
sVquota_remaining
p1926
I274
s.