(dp0
Vhas_more
p1
I00
sVitems
p2
(lp3
(dp4
Vbody
p5
V<p>I am improving my answer to add more details for saving and restoring models. </p>\u000a\u000a<p>In(and after) Tensorflow version 0.11: </p>\u000a\u000a<p><strong>Save the model:</strong></p>\u000a\u000a<pre><code>import tensorflow as tf\u000a\u000a#Prepare to feed input, i.e. feed_dict and placeholders\u000aw1 = tf.placeholder("float", name="w1")\u000aw2 = tf.placeholder("float", name="w2")\u000ab1= tf.Variable(2.0,name="bias")\u000afeed_dict ={w1:4,w2:8}\u000a\u000a#Define a test operation that we will restore\u000aw3 = tf.add(w1,w2)\u000aw4 = tf.multiply(w3,b1,name="op_to_restore")\u000asess = tf.Session()\u000asess.run(tf.global_variables_initializer())\u000a\u000a#Create a saver object which will save all the variables\u000asaver = tf.train.Saver()\u000a\u000a#Run the operation by feeding input\u000aprint sess.run(w4,feed_dict)\u000a#Prints 24 which is sum of (w1+w2)*b1 \u000a\u000a#Now, save the graph\u000asaver.save(sess, 'my_test_model',global_step=1000)\u000a</code></pre>\u000a\u000a<p><strong>Restore the model:</strong> </p>\u000a\u000a<pre><code>import tensorflow as tf\u000a\u000asess=tf.Session()    \u000a#First let's load meta graph and restore weights\u000asaver = tf.train.import_meta_graph('my_test_model-1000.meta')\u000asaver.restore(sess,tf.train.latest_checkpoint('./'))\u000asess.run(tf.global_variables_initializer())\u000a\u000a# Access saved Variables directly\u000aprint(sess.run('bias:0'))\u000a# This will print 2, which is the value of bias that we saved\u000a\u000a\u000a# Now, let's access and create placeholders variables and\u000a# create feed-dict to feed new data\u000a\u000agraph = tf.get_default_graph()\u000aw1 = graph.get_tensor_by_name("w1:0")\u000aw2 = graph.get_tensor_by_name("w2:0")\u000afeed_dict ={w1:13.0,w2:17.0}\u000a\u000a#Now, access the op that you want to run. \u000aop_to_restore = graph.get_tensor_by_name("op_to_restore:0")\u000a\u000aprint sess.run(op_to_restore,feed_dict)\u000a#This will print 60 which is calculated \u000a</code></pre>\u000a\u000a<p>This and some more advanced use-cases have been explained very well here.</p>\u000a\u000a<p><a href="http://cv-tricks.com/tensorflow-tutorial/save-restore-tensorflow-models-quick-complete-tutorial/" rel="noreferrer">http://cv-tricks.com/tensorflow-tutorial/save-restore-tensorflow-models-quick-complete-tutorial/</a></p>\u000a
p6
sVquestion_id
p7
I33759623
sVlast_activity_date
p8
I1494761556
sVcreation_date
p9
I1493905531
sVscore
p10
I7
sVowner
p11
(dp12
Vuser_id
p13
I5243083
sVprofile_image
p14
Vhttps://www.gravatar.com/avatar/56f14a4debada848022d314002b18c19?s=128&d=identicon&r=PG
p15
sVuser_type
p16
Vregistered
p17
sVreputation
p18
I86
sVlink
p19
Vhttp://stackoverflow.com/users/5243083/sankit
p20
sVdisplay_name
p21
Vsankit
p22
ssVis_accepted
p23
I01
sVlast_edit_date
p24
I1494761556
sVanswer_id
p25
I43784657
sa(dp26
Vbody
p27
V<pre><code>def fun():\u000a    print(('{0} Here is a really long '\u000a           'sentence with {1}').format(3, 5))\u000a</code></pre>\u000a\u000a<p>Adjecent string literals are concatenated at compile time, just as in C. <a href="http://docs.python.org/reference/lexical_analysis.html#string-literal-concatenation" rel="nofollow noreferrer">http://docs.python.org/reference/lexical_analysis.html#string-literal-concatenation</a> is a good place to start for more info.</p>\u000a
p28
sVquestion_id
p29
I3346230
sVlast_activity_date
p30
I1494376021
sVcreation_date
p31
I1280252279
sVscore
p32
I170
sVowner
p33
(dp34
Vuser_id
p35
I403692
sVprofile_image
p36
Vhttps://www.gravatar.com/avatar/219ad7826a3de64b45c1e59f763acc7d?s=128&d=identicon&r=PG
p37
sVuser_type
p38
Vunregistered
p39
sVreputation
p40
I1859
sVlink
p41
Vhttp://stackoverflow.com/users/403692/pv2b
p42
sVdisplay_name
p43
Vpv2b
p44
ssVis_accepted
p45
I01
sVlast_edit_date
p46
I1494376021
sVanswer_id
p47
I3346295
sa(dp48
Vbody
p49
V<p>Use </p>\u000a\u000a<pre><code>Sample.objects.filter(date__range=["2011-01-01", "2011-01-31"])\u000a</code></pre>\u000a\u000a<p>Or if you are just trying to filter month wise: </p>\u000a\u000a<pre><code>Sample.objects.filter(date__year='2011', \u000a                      date__month='01')\u000a</code></pre>\u000a\u000a<h3>Edit</h3>\u000a\u000a<p>As Bernhard Vallant said, if you want a queryset which excludes the <code>specified range ends</code> you should consider <a href="http://stackoverflow.com/questions/4668619/django-database-query-how-to-filter-objects-by-date-range/4668703#4668703">his solution</a>, which utilizes gt/lt (greater-than/less-than).</p>\u000a
p50
sVquestion_id
p51
I4668619
sVlast_activity_date
p52
I1492708533
sVcreation_date
p53
I1294834917
sVscore
p54
I233
sVowner
p55
(dp56
Vuser_id
p57
I420357
sVprofile_image
p58
Vhttps://www.gravatar.com/avatar/564e7aa79de47cdf3a094da1d4ac13cd?s=128&d=identicon&r=PG
p59
sVuser_type
p60
Vregistered
p61
sVreputation
p62
I6760
sVlink
p63
Vhttp://stackoverflow.com/users/420357/crodjer
p64
sVaccept_rate
p65
I100
sVdisplay_name
p66
Vcrodjer
p67
ssVis_accepted
p68
I01
sVlast_edit_date
p69
I1492708533
sVanswer_id
p70
I4668718
sa(dp71
Vbody
p72
V<p>If you have Python installed, or don't mind installing it (it has other uses too :), just create the following <strong>sleep.py</strong> script and add it somewhere in your PATH:</p>\u000a\u000a<pre class="lang-py prettyprint-override"><code>import time, sys\u000a\u000atime.sleep(float(sys.argv[1]))\u000a</code></pre>\u000a\u000a<p>It will allow sub-second pauses (for example, 1.5 sec, 0.1, etc.), should you have such a need. If you want to call it as <code>sleep</code> rather than <code>sleep.py</code>, then you can add the <code>.PY</code> extension to your PATHEXT environment variable. On Windows&nbsp;XP, you can edit it in:</p>\u000a\u000a<p>My Computer \u2192 Properties (menu) \u2192 Advanced (tab) \u2192 Environment Variables (button) \u2192 System variables (frame)</p>\u000a
p73
sVquestion_id
p74
I166044
sVlast_activity_date
p75
I1492453588
sVcreation_date
p76
I1223030539
sVscore
p77
I16
sVowner
p78
(dp79
Vuser_id
p80
I6899
sVprofile_image
p81
Vhttps://www.gravatar.com/avatar/132aeb33251a1eddee3efc87633c0af1?s=128&d=identicon&r=PG
p82
sVuser_type
p83
Vregistered
p84
sVreputation
p85
I51023
sVlink
p86
Vhttp://stackoverflow.com/users/6899/tzot
p87
sVaccept_rate
p88
I83
sVdisplay_name
p89
Vtzot
p90
ssVis_accepted
p91
I01
sVlast_edit_date
p92
I1492453588
sVanswer_id
p93
I166290
sa(dp94
Vbody
p95
V<p><a href="http://blog.ianbicking.org/behavior-driven-programming.html" rel="nofollow noreferrer">Ian Bicking</a> recommends using <a href="http://docs.python.org/library/doctest.html?highlight=doctest#module-doctest" rel="nofollow noreferrer">doctest</a> for behavior driven design:</p>\u000a\u000a<p>I personally tend to use <a href="https://web.archive.org/web/20110610084952/http://somethingaboutorange.com/mrl/projects/nose/1.0.0" rel="nofollow noreferrer">nose</a> and <a href="http://www.voidspace.org.uk/python/mock.html" rel="nofollow noreferrer">voidspace mock</a> in a behavior driven design style. Specifically, the spec <a href="http://darcs.idyll.org/~t/projects/pinocchio/doc/#spec-generate-test-description-from-test-class-method-names" rel="nofollow noreferrer">plugin</a> for nose is excellent for BDD.</p>\u000a
p96
sVquestion_id
p97
I231371
sVlast_activity_date
p98
I1488983790
sVcreation_date
p99
I1224813981
sVscore
p100
I35
sVowner
p101
(dp102
Vuser_id
p103
I8819
sVprofile_image
p104
Vhttps://www.gravatar.com/avatar/1e4e8e8e23ab56938797ddb1b9ad9fef?s=128&d=identicon&r=PG
p105
sVuser_type
p106
Vregistered
p107
sVreputation
p108
I10302
sVlink
p109
Vhttp://stackoverflow.com/users/8819/ryan
p110
sVaccept_rate
p111
I90
sVdisplay_name
p112
VRyan
p113
ssVis_accepted
p114
I01
sVlast_edit_date
p115
I1488983790
sVanswer_id
p116
I232258
sa(dp117
Vbody
p118
V<p>It's <strong>O(1)</strong> (constant time, not depending of actual length of the element - very fast) on every type you've mentioned, plus <code>set</code> and others such as <code>array.array</code>.</p>\u000a
p119
sVquestion_id
p120
I1115313
sVlast_activity_date
p121
I1488208944
sVcreation_date
p122
I1247373631
sVscore
p123
I145
sVowner
p124
(dp125
Vuser_id
p126
I95810
sVprofile_image
p127
Vhttps://www.gravatar.com/avatar/e8d5fe90f1fe2148bf130cccd4dc311c?s=128&d=identicon&r=PG
p128
sVuser_type
p129
Vregistered
p130
sVreputation
p131
I516079
sVlink
p132
Vhttp://stackoverflow.com/users/95810/alex-martelli
p133
sVaccept_rate
p134
I80
sVdisplay_name
p135
VAlex Martelli
p136
ssVis_accepted
p137
I01
sVlast_edit_date
p138
I1488208944
sVanswer_id
p139
I1115329
sa(dp140
Vbody
p141
V<p>No. <code>pip</code> will not install system-level dependencies. This means <code>pip</code> will not install RPM(s) (<em>Redhat based systems</em>) or DEB(s) (<em>Debian based systems</em>).</p>\u000a\u000a<p>To install system dependencies you will need to use one of the following methods depending on your system.</p>\u000a\u000a<p><strong>Ubuntu/Debian:</strong></p>\u000a\u000a<pre><code>apt-get install libfreetype6-dev\u000a</code></pre>\u000a\u000a<p>To search for packages on Ubuntu/Debian based systems:</p>\u000a\u000a<pre><code>apt-cache search &lt;string&gt;\u000a</code></pre>\u000a\u000a<p>e.g:</p>\u000a\u000a<pre><code>apt-cache search freetype | grep dev\u000a</code></pre>\u000a\u000a<hr>\u000a\u000a<p><strong>Redhat/CentOS/Fedora:</strong></p>\u000a\u000a<pre><code>yum -y install freetype-devel\u000a</code></pre>\u000a\u000a<p>To search for packages on Redhat/CentOS/Fedora based systems:</p>\u000a\u000a<pre><code>yum search &lt;string&gt;\u000a</code></pre>\u000a\u000a<p>e.g:</p>\u000a\u000a<pre><code>yum search freetype | grep devel\u000a</code></pre>\u000a\u000a<hr>\u000a\u000a<p><strong>Mac OS X:</strong> (<em>via <a href="http://brew.sh" rel="noreferrer">Homebrew</a></em>)</p>\u000a\u000a<pre><code>brew install freetype\u000a</code></pre>\u000a\u000a<p>To search for packages on Mac OS X based systems:</p>\u000a\u000a<pre><code>brew search &lt;string&gt;\u000a</code></pre>\u000a\u000a<p>e.g:</p>\u000a\u000a<pre><code>brew search freetype\u000a</code></pre>\u000a
p142
sVquestion_id
p143
I20533426
sVlast_activity_date
p144
I1485284344
sVcreation_date
p145
I1386812284
sVscore
p146
I198
sVowner
p147
(dp148
Vuser_id
p149
I364980
sVprofile_image
p150
Vhttps://www.gravatar.com/avatar/3cf8ae304409c53b006b47101fe61e34?s=128&d=identicon&r=PG
p151
sVuser_type
p152
Vregistered
p153
sVreputation
p154
I13106
sVlink
p155
Vhttp://stackoverflow.com/users/364980/james-mills
p156
sVdisplay_name
p157
VJames Mills
p158
ssVis_accepted
p159
I01
sVlast_edit_date
p160
I1485284344
sVanswer_id
p161
I20533455
sa(dp162
Vbody
p163
V<p>You can read the whole file and split lines using <a href="https://docs.python.org/2/library/stdtypes.html#str.splitlines" rel="noreferrer"><code>str.splitlines</code></a>:</p>\u000a\u000a<pre><code>temp = file.read().splitlines()\u000a</code></pre>\u000a\u000a<p>Or you can strip the newline by hand:</p>\u000a\u000a<pre><code>temp = [line[:-1] for line in file]\u000a</code></pre>\u000a\u000a<p><strong>Note:</strong> this last solution only works if the file ends with a newline, otherwise the last line will lose a character.</p>\u000a\u000a<p>This assumption is true in most cases (especially for files created by text editors, which often <em>do</em> add an ending newline anyway).</p>\u000a\u000a<p>If you want to avoid this you can add a newline at the end of file:</p>\u000a\u000a<pre><code>with open(the_file, 'r+') as f:\u000a    f.seek(-1, 2)  # go at the end of the file\u000a    if f.read(1) != '\u005cn':\u000a        # add missing newline if not already present\u000a        f.write('\u005cn')\u000a        f.flush()\u000a        f.seek(0)\u000a    lines = [line[:-1] for line in f]\u000a</code></pre>\u000a\u000a<p>Or a simpler alternative is to <code>strip</code> the newline instead:</p>\u000a\u000a<pre><code>[line.rstrip('\u005cn') for line in file]\u000a</code></pre>\u000a\u000a<p>Or even, although pretty unreadable:</p>\u000a\u000a<pre><code>[line[:-(line[-1] == '\u005cn') or len(line)+1] for line in file]\u000a</code></pre>\u000a\u000a<p>Which exploits the fact that the return value of <code>or</code> isn't a boolean, but the object that was evaluated true or false.</p>\u000a\u000a<hr>\u000a\u000a<p>The <code>readlines</code> method is actually equivalent to:</p>\u000a\u000a<pre><code>def readlines(self):\u000a    lines = []\u000a    for line in iter(self.readline, ''):\u000a        lines.append(line)\u000a    return lines\u000a\u000a# or equivalently\u000a\u000adef readlines(self):\u000a    lines = []\u000a    while True:\u000a        line = self.readline()\u000a        if not line:\u000a            break\u000a        lines.append(line)\u000a    return lines\u000a</code></pre>\u000a\u000a<p>Since <code>readline()</code> keeps the newline also <code>readlines()</code> keeps it.</p>\u000a\u000a<p><strong>Note:</strong> for symmetry to <code>readlines()</code> the <a href="https://docs.python.org/3/library/io.html#io.IOBase.writelines" rel="noreferrer"><code>writelines()</code></a> method does <em>not</em> add ending newlines, so <code>f2.writelines(f.readlines())</code> produces an exact copy of <code>f</code> in <code>f2</code>.</p>\u000a
p164
sVquestion_id
p165
I12330522
sVlast_activity_date
p166
I1485198965
sVcreation_date
p167
I1347105427
sVscore
p168
I194
sVowner
p169
(dp170
Vuser_id
p171
I510937
sVprofile_image
p172
Vhttps://www.gravatar.com/avatar/70b13a9ae1aae1ca1aa6ac8dab4643f2?s=128&d=identicon&r=PG
p173
sVuser_type
p174
Vregistered
p175
sVreputation
p176
I50485
sVlink
p177
Vhttp://stackoverflow.com/users/510937/bakuriu
p178
sVaccept_rate
p179
I82
sVdisplay_name
p180
VBakuriu
p181
ssVis_accepted
p182
I01
sVlast_edit_date
p183
I1485198965
sVanswer_id
p184
I12330535
sa(dp185
Vbody
p186
V<p>I thought I would answer my own question, since I'm taking a different path than suggested in the answers.  Nonetheless, thanks to those who answered.</p>\u000a\u000a<p>First, a brief synopsis of my experiences with GitPython, PyGit, and Dulwich:</p>\u000a\u000a<ul>\u000a<li><a href="https://github.com/gitpython-developers/GitPython" rel="nofollow noreferrer">GitPython</a>:  After downloading, I got this imported and the appropriate object initialized.  However, trying to do what was suggested in the tutorial led to errors.  Lacking more documentation, I turned elsewhere.</li>\u000a<li><a href="https://gitorious.org/pygit/mainline" rel="nofollow noreferrer">PyGit</a>:  This would not even import, and I could find no documentation.</li>\u000a<li><a href="http://www.samba.org/~jelmer/dulwich/" rel="nofollow noreferrer">Dulwich</a>:  Seems to be the most promising (at least for what I wanted and saw).  I made some progress with it, more than with GitPython, since its egg comes with Python source.  However, after a while, I decided it may just be easier to try what I did.</li>\u000a</ul>\u000a\u000a<p>Also, <a href="http://www.procode.org/stgit/" rel="nofollow noreferrer">StGit</a> looks interesting, but I would need the functionality extracted into a separate module and do not want wait for that to happen right now.</p>\u000a\u000a<p>In (much) less time than I spent trying to get the three modules above working, I managed to get git commands working via the subprocess module, e.g.</p>\u000a\u000a<pre><code>def gitAdd(fileName, repoDir):\u000a    cmd = ['git', 'add', fileName]\u000a    p = subprocess.Popen(cmd, cwd=repoDir)\u000a    p.wait()\u000a\u000agitAdd('exampleFile.txt', '/usr/local/example_git_repo_dir')\u000a</code></pre>\u000a\u000a<p>This isn't fully incorporated into my program yet, but I'm not anticipating a problem, except maybe speed (since I'll be processing hundreds or even thousands of files at times).</p>\u000a\u000a<p>Maybe I just didn't have the patience to get things going with Dulwich or GitPython.  That said, I'm hopeful the modules will get more development and be more useful soon.</p>\u000a
p187
sVquestion_id
p188
I1456269
sVlast_activity_date
p189
I1482611292
sVcreation_date
p190
I1253914013
sVscore
p191
I59
sVowner
p192
(dp193
Vuser_id
p194
I42971
sVprofile_image
p195
Vhttps://www.gravatar.com/avatar/a99ce2adfad6cc98f5f4d30dfe04ff00?s=128&d=identicon&r=PG
p196
sVuser_type
p197
Vregistered
p198
sVreputation
p199
I3474
sVlink
p200
Vhttp://stackoverflow.com/users/42971/ptbnl
p201
sVaccept_rate
p202
I100
sVdisplay_name
p203
VPTBNL
p204
ssVis_accepted
p205
I01
sVlast_edit_date
p206
I1482611292
sVanswer_id
p207
I1479669
sa(dp208
Vbody
p209
V<p>Matplotlib uses a dictionary from its colors.py module. </p>\u000a\u000a<p>To print the names use:</p>\u000a\u000a<pre><code># python2:\u000a\u000aimport matplotlib\u000afor name, hex in matplotlib.colors.cnames.iteritems():\u000a    print(name, hex)\u000a\u000a# python3:\u000a\u000aimport matplotlib\u000afor name, hex in matplotlib.colors.cnames.items():\u000a    print(name, hex)\u000a</code></pre>\u000a\u000a<p>This is the complete dictionary:</p>\u000a\u000a<pre><code>cnames = {\u000a'aliceblue':            '#F0F8FF',\u000a'antiquewhite':         '#FAEBD7',\u000a'aqua':                 '#00FFFF',\u000a'aquamarine':           '#7FFFD4',\u000a'azure':                '#F0FFFF',\u000a'beige':                '#F5F5DC',\u000a'bisque':               '#FFE4C4',\u000a'black':                '#000000',\u000a'blanchedalmond':       '#FFEBCD',\u000a'blue':                 '#0000FF',\u000a'blueviolet':           '#8A2BE2',\u000a'brown':                '#A52A2A',\u000a'burlywood':            '#DEB887',\u000a'cadetblue':            '#5F9EA0',\u000a'chartreuse':           '#7FFF00',\u000a'chocolate':            '#D2691E',\u000a'coral':                '#FF7F50',\u000a'cornflowerblue':       '#6495ED',\u000a'cornsilk':             '#FFF8DC',\u000a'crimson':              '#DC143C',\u000a'cyan':                 '#00FFFF',\u000a'darkblue':             '#00008B',\u000a'darkcyan':             '#008B8B',\u000a'darkgoldenrod':        '#B8860B',\u000a'darkgray':             '#A9A9A9',\u000a'darkgreen':            '#006400',\u000a'darkkhaki':            '#BDB76B',\u000a'darkmagenta':          '#8B008B',\u000a'darkolivegreen':       '#556B2F',\u000a'darkorange':           '#FF8C00',\u000a'darkorchid':           '#9932CC',\u000a'darkred':              '#8B0000',\u000a'darksalmon':           '#E9967A',\u000a'darkseagreen':         '#8FBC8F',\u000a'darkslateblue':        '#483D8B',\u000a'darkslategray':        '#2F4F4F',\u000a'darkturquoise':        '#00CED1',\u000a'darkviolet':           '#9400D3',\u000a'deeppink':             '#FF1493',\u000a'deepskyblue':          '#00BFFF',\u000a'dimgray':              '#696969',\u000a'dodgerblue':           '#1E90FF',\u000a'firebrick':            '#B22222',\u000a'floralwhite':          '#FFFAF0',\u000a'forestgreen':          '#228B22',\u000a'fuchsia':              '#FF00FF',\u000a'gainsboro':            '#DCDCDC',\u000a'ghostwhite':           '#F8F8FF',\u000a'gold':                 '#FFD700',\u000a'goldenrod':            '#DAA520',\u000a'gray':                 '#808080',\u000a'green':                '#008000',\u000a'greenyellow':          '#ADFF2F',\u000a'honeydew':             '#F0FFF0',\u000a'hotpink':              '#FF69B4',\u000a'indianred':            '#CD5C5C',\u000a'indigo':               '#4B0082',\u000a'ivory':                '#FFFFF0',\u000a'khaki':                '#F0E68C',\u000a'lavender':             '#E6E6FA',\u000a'lavenderblush':        '#FFF0F5',\u000a'lawngreen':            '#7CFC00',\u000a'lemonchiffon':         '#FFFACD',\u000a'lightblue':            '#ADD8E6',\u000a'lightcoral':           '#F08080',\u000a'lightcyan':            '#E0FFFF',\u000a'lightgoldenrodyellow': '#FAFAD2',\u000a'lightgreen':           '#90EE90',\u000a'lightgray':            '#D3D3D3',\u000a'lightpink':            '#FFB6C1',\u000a'lightsalmon':          '#FFA07A',\u000a'lightseagreen':        '#20B2AA',\u000a'lightskyblue':         '#87CEFA',\u000a'lightslategray':       '#778899',\u000a'lightsteelblue':       '#B0C4DE',\u000a'lightyellow':          '#FFFFE0',\u000a'lime':                 '#00FF00',\u000a'limegreen':            '#32CD32',\u000a'linen':                '#FAF0E6',\u000a'magenta':              '#FF00FF',\u000a'maroon':               '#800000',\u000a'mediumaquamarine':     '#66CDAA',\u000a'mediumblue':           '#0000CD',\u000a'mediumorchid':         '#BA55D3',\u000a'mediumpurple':         '#9370DB',\u000a'mediumseagreen':       '#3CB371',\u000a'mediumslateblue':      '#7B68EE',\u000a'mediumspringgreen':    '#00FA9A',\u000a'mediumturquoise':      '#48D1CC',\u000a'mediumvioletred':      '#C71585',\u000a'midnightblue':         '#191970',\u000a'mintcream':            '#F5FFFA',\u000a'mistyrose':            '#FFE4E1',\u000a'moccasin':             '#FFE4B5',\u000a'navajowhite':          '#FFDEAD',\u000a'navy':                 '#000080',\u000a'oldlace':              '#FDF5E6',\u000a'olive':                '#808000',\u000a'olivedrab':            '#6B8E23',\u000a'orange':               '#FFA500',\u000a'orangered':            '#FF4500',\u000a'orchid':               '#DA70D6',\u000a'palegoldenrod':        '#EEE8AA',\u000a'palegreen':            '#98FB98',\u000a'paleturquoise':        '#AFEEEE',\u000a'palevioletred':        '#DB7093',\u000a'papayawhip':           '#FFEFD5',\u000a'peachpuff':            '#FFDAB9',\u000a'peru':                 '#CD853F',\u000a'pink':                 '#FFC0CB',\u000a'plum':                 '#DDA0DD',\u000a'powderblue':           '#B0E0E6',\u000a'purple':               '#800080',\u000a'red':                  '#FF0000',\u000a'rosybrown':            '#BC8F8F',\u000a'royalblue':            '#4169E1',\u000a'saddlebrown':          '#8B4513',\u000a'salmon':               '#FA8072',\u000a'sandybrown':           '#FAA460',\u000a'seagreen':             '#2E8B57',\u000a'seashell':             '#FFF5EE',\u000a'sienna':               '#A0522D',\u000a'silver':               '#C0C0C0',\u000a'skyblue':              '#87CEEB',\u000a'slateblue':            '#6A5ACD',\u000a'slategray':            '#708090',\u000a'snow':                 '#FFFAFA',\u000a'springgreen':          '#00FF7F',\u000a'steelblue':            '#4682B4',\u000a'tan':                  '#D2B48C',\u000a'teal':                 '#008080',\u000a'thistle':              '#D8BFD8',\u000a'tomato':               '#FF6347',\u000a'turquoise':            '#40E0D0',\u000a'violet':               '#EE82EE',\u000a'wheat':                '#F5DEB3',\u000a'white':                '#FFFFFF',\u000a'whitesmoke':           '#F5F5F5',\u000a'yellow':               '#FFFF00',\u000a'yellowgreen':          '#9ACD32'}\u000a</code></pre>\u000a\u000a<p>You could plot them like this:</p>\u000a\u000a<pre><code>import matplotlib.pyplot as plt\u000aimport matplotlib.patches as patches\u000aimport matplotlib.colors as colors\u000aimport math\u000a\u000a\u000afig = plt.figure()\u000aax = fig.add_subplot(111)\u000a\u000aratio = 1.0 / 3.0\u000acount = math.ceil(math.sqrt(len(colors.cnames)))\u000ax_count = count * ratio\u000ay_count = count / ratio\u000ax = 0\u000ay = 0\u000aw = 1 / x_count\u000ah = 1 / y_count\u000a\u000afor c in colors.cnames:\u000a    pos = (x / x_count, y / y_count)\u000a    ax.add_patch(patches.Rectangle(pos, w, h, color=c))\u000a    ax.annotate(c, xy=pos)\u000a    if y &gt;= y_count-1:\u000a        x += 1\u000a        y = 0\u000a    else:\u000a        y += 1\u000a\u000aplt.show()\u000a</code></pre>\u000a
p210
sVquestion_id
p211
I22408237
sVlast_activity_date
p212
I1481799672
sVcreation_date
p213
I1394808842
sVscore
p214
I218
sVowner
p215
(dp216
Vuser_id
p217
I2614463
sVprofile_image
p218
Vhttps://www.gravatar.com/avatar/913ebbbbc8758c120f553ad3bcb14eac?s=128&d=identicon&r=PG
p219
sVuser_type
p220
Vregistered
p221
sVreputation
p222
I3037
sVlink
p223
Vhttp://stackoverflow.com/users/2614463/boshwash
p224
sVaccept_rate
p225
I85
sVdisplay_name
p226
VBoshWash
p227
ssVis_accepted
p228
I01
sVlast_edit_date
p229
I1481799672
sVanswer_id
p230
I22408462
sa(dp231
Vbody
p232
V<p>If you need compatibility with ancient versions of Python, you can either use <a href="https://github.com/aleaxit/gmpy" rel="noreferrer">gmpy</a> (which does include a fast, completely general int-to-string conversion function, and can be built for such ancient versions -- you may need to try older releases since the recent ones have not been tested for venerable Python and GMP releases, only somewhat recent ones), or, for less speed but more convenience, use Python code -- e.g., most simply:</p>\u000a\u000a<pre><code>import string\u000adigs = string.digits + string.letters\u000a\u000a\u000adef int2base(x, base):\u000a    if x &lt; 0:\u000a        sign = -1\u000a    elif x == 0:\u000a        return digs[0]\u000a    else:\u000a        sign = 1\u000a\u000a    x *= sign\u000a    digits = []\u000a\u000a    while x:\u000a        digits.append(digs[x % base])\u000a        x /= base\u000a\u000a    if sign &lt; 0:\u000a        digits.append('-')\u000a\u000a    digits.reverse()\u000a\u000a    return ''.join(digits)\u000a</code></pre>\u000a
p233
sVquestion_id
p234
I2267362
sVlast_activity_date
p235
I1481205162
sVcreation_date
p236
I1266252250
sVscore
p237
I62
sVowner
p238
(dp239
Vuser_id
p240
I95810
sVprofile_image
p241
Vhttps://www.gravatar.com/avatar/e8d5fe90f1fe2148bf130cccd4dc311c?s=128&d=identicon&r=PG
p242
sVuser_type
p243
Vregistered
p244
sVreputation
p245
I516079
sVlink
p246
Vhttp://stackoverflow.com/users/95810/alex-martelli
p247
sVaccept_rate
p248
I80
sVdisplay_name
p249
VAlex Martelli
p250
ssVis_accepted
p251
I01
sVlast_edit_date
p252
I1481205162
sVanswer_id
p253
I2267446
sa(dp254
Vbody
p255
V<p><a href="http://stackoverflow.com/users/208339/steve-tjoa">@steve</a>'s is actually the most elegant way of doing it.</p>\u000a\u000a<p>For the "correct" way see the order keyword argument of <a href="http://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.sort.html#numpy.ndarray.sort" rel="noreferrer">numpy.ndarray.sort</a> </p>\u000a\u000a<p>However, you'll need to view your array as an array with fields (a structured array).</p>\u000a\u000a<p>The "correct" way is quite ugly if you didn't initially define your array with fields...</p>\u000a\u000a<p>As a quick example, to sort it and return a copy:</p>\u000a\u000a<pre><code>In [1]: import numpy as np\u000a\u000aIn [2]: a = np.array([[1,2,3],[4,5,6],[0,0,1]])\u000a\u000aIn [3]: np.sort(a.view('i8,i8,i8'), order=['f1'], axis=0).view(np.int)\u000aOut[3]: \u000aarray([[0, 0, 1],\u000a       [1, 2, 3],\u000a       [4, 5, 6]])\u000a</code></pre>\u000a\u000a<p>To sort it in-place:</p>\u000a\u000a<pre><code>In [6]: a.view('i8,i8,i8').sort(order=['f1'], axis=0) #&lt;-- returns None\u000a\u000aIn [7]: a\u000aOut[7]: \u000aarray([[0, 0, 1],\u000a       [1, 2, 3],\u000a       [4, 5, 6]])\u000a</code></pre>\u000a\u000a<p>@Steve's really is the most elegant way to do it, as far as I know... </p>\u000a\u000a<p>The only advantage to this method is that the "order" argument is a list of the fields to order the search by. For example, you can sort by the second column, then the third column, then the first column by supplying order=['f1','f2','f0'].</p>\u000a
p256
sVquestion_id
p257
I2828059
sVlast_activity_date
p258
I1480947959
sVcreation_date
p259
I1273767017
sVscore
p260
I60
sVowner
p261
(dp262
Vuser_id
p263
I325565
sVprofile_image
p264
Vhttps://www.gravatar.com/avatar/342bd0a61c7081db529c856d3bcd9545?s=128&d=identicon&r=PG
p265
sVuser_type
p266
Vregistered
p267
sVreputation
p268
I136691
sVlink
p269
Vhttp://stackoverflow.com/users/325565/joe-kington
p270
sVdisplay_name
p271
VJoe Kington
p272
ssVis_accepted
p273
I01
sVlast_edit_date
p274
I1480947959
sVanswer_id
p275
I2828371
sa(dp276
Vbody
p277
V<p>From the <a href="http://docs.python.org/2/library/stdtypes.html#comparisons" rel="noreferrer">python 2 manual</a>:</p>\u000a\u000a<blockquote>\u000a  <p>CPython implementation detail: Objects of different types except numbers are ordered by their type names; objects of the same types that don\u2019t support proper comparison are ordered by their address.</p>\u000a</blockquote>\u000a\u000a<p>When you order two strings or two numeric types the ordering is done in the expected way (lexicographic ordering for string, numeric ordering for integers).</p>\u000a\u000a<p>When you order a numeric and a non-numeric type, the numeric type comes first.</p>\u000a\u000a<pre><code>&gt;&gt;&gt; 5 &lt; 'foo'\u000aTrue\u000a&gt;&gt;&gt; 5 &lt; (1, 2)\u000aTrue\u000a&gt;&gt;&gt; 5 &lt; {}\u000aTrue\u000a&gt;&gt;&gt; 5 &lt; [1, 2]\u000aTrue\u000a</code></pre>\u000a\u000a<p>When you order two incompatible types where neither is numeric, they are ordered by the alphabetical order of their typenames:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; [1, 2] &gt; 'foo'   # 'list' &lt; 'str' \u000aFalse\u000a&gt;&gt;&gt; (1, 2) &gt; 'foo'   # 'tuple' &gt; 'str'\u000aTrue\u000a\u000a&gt;&gt;&gt; class Foo(object): pass\u000a&gt;&gt;&gt; class Bar(object): pass\u000a&gt;&gt;&gt; Bar() &lt; Foo()\u000aTrue\u000a</code></pre>\u000a\u000a<p>One exception is old-style classes that always come before new-style classes.</p>\u000a\u000a<pre><code>&gt;&gt;&gt; class Foo: pass           # old-style\u000a&gt;&gt;&gt; class Bar(object): pass   # new-style\u000a&gt;&gt;&gt; Bar() &lt; Foo()\u000aFalse\u000a</code></pre>\u000a\u000a<hr>\u000a\u000a<blockquote>\u000a  <p>Is this behavior mandated by the language spec, or is it up to implementors?</p>\u000a</blockquote>\u000a\u000a<p>There is <a href="http://stackoverflow.com/questions/1094961/is-there-a-python-language-specification">no language specification</a>. The <a href="http://docs.python.org/reference/expressions.html#notin" rel="noreferrer">language reference</a> says:</p>\u000a\u000a<blockquote>\u000a  <p>Otherwise, objects of different types always compare unequal, and are ordered consistently but arbitrarily. </p>\u000a</blockquote>\u000a\u000a<p>So it is an implementation detail.</p>\u000a\u000a<blockquote>\u000a  <p>Are there differences between any of the major Python implementations?</p>\u000a</blockquote>\u000a\u000a<p>I can't answer this one because I have only used the official CPython implementation, but there are other implementations of Python such as PyPy.</p>\u000a\u000a<blockquote>\u000a  <p>Are there differences between versions of the Python language?</p>\u000a</blockquote>\u000a\u000a<p>In Python 3.x the behaviour has been changed so that attempting to order an integer and a string will raise an error:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; '10' &gt; 5\u000aTraceback (most recent call last):\u000a  File "&lt;pyshell#0&gt;", line 1, in &lt;module&gt;\u000a    '10' &gt; 5\u000aTypeError: unorderable types: str() &gt; int()\u000a</code></pre>\u000a
p278
sVquestion_id
p279
I3270680
sVlast_activity_date
p280
I1480759815
sVcreation_date
p281
I1279353251
sVscore
p282
I170
sVowner
p283
(dp284
Vuser_id
p285
I61974
sVprofile_image
p286
Vhttps://www.gravatar.com/avatar/ad240ed5cc406759f0fd72591dc8ca47?s=128&d=identicon&r=PG
p287
sVuser_type
p288
Vregistered
p289
sVreputation
p290
I484946
sVlink
p291
Vhttp://stackoverflow.com/users/61974/mark-byers
p292
sVdisplay_name
p293
VMark Byers
p294
ssVis_accepted
p295
I01
sVlast_edit_date
p296
I1480759815
sVanswer_id
p297
I3270689
sa(dp298
Vbody
p299
V<h2>Python 2.6+</h2>\u000a\u000a<pre><code>next(iter(your_list or []), None)\u000a</code></pre>\u000a\u000a<h2>Python 2.4</h2>\u000a\u000a<pre><code>def get_first(iterable, default=None):\u000a    if iterable:\u000a        for item in iterable:\u000a            return item\u000a    return default\u000a</code></pre>\u000a\u000a<p>Example:</p>\u000a\u000a<pre><code>x = get_first(get_first_list())\u000aif x:\u000a    ...\u000ay = get_first(get_second_list())\u000aif y:\u000a    ...\u000a</code></pre>\u000a\u000a<p>Another option is to inline the above function:</p>\u000a\u000a<pre><code>for x in get_first_list() or []:\u000a    # process x\u000a    break # process at most one item\u000afor y in get_second_list() or []:\u000a    # process y\u000a    break\u000a</code></pre>\u000a\u000a<p>To avoid <code>break</code> you could write:</p>\u000a\u000a<pre><code>for x in yield_first(get_first_list()):\u000a    x # process x\u000afor y in yield_first(get_second_list()):\u000a    y # process y\u000a</code></pre>\u000a\u000a<p>Where:</p>\u000a\u000a<pre><code>def yield_first(iterable):\u000a    for item in iterable or []:\u000a        yield item\u000a        return\u000a</code></pre>\u000a
p300
sVquestion_id
p301
I363944
sVlast_activity_date
p302
I1479491585
sVcreation_date
p303
I1229211115
sVscore
p304
I53
sVowner
p305
(dp306
Vuser_id
p307
I4279
sVprofile_image
p308
Vhttps://www.gravatar.com/avatar/d92ce60d3a4cbe03598e27c2e8dee69d?s=128&d=identicon&r=PG
p309
sVuser_type
p310
Vregistered
p311
sVreputation
p312
I203089
sVlink
p313
Vhttp://stackoverflow.com/users/4279/j-f-sebastian
p314
sVaccept_rate
p315
I94
sVdisplay_name
p316
VJ.F. Sebastian
p317
ssVis_accepted
p318
I01
sVlast_edit_date
p319
I1479491585
sVanswer_id
p320
I365934
sa(dp321
Vbody
p322
V<p>You can refine your search to only find those divs with a given class using BS3:</p>\u000a\u000a<pre><code>mydivs = soup.findAll("div", { "class" : "stylelistrow" })\u000a</code></pre>\u000a
p323
sVquestion_id
p324
I5041008
sVlast_activity_date
p325
I1477589858
sVcreation_date
p326
I1298030650
sVscore
p327
I242
sVowner
p328
(dp329
Vuser_id
p330
I218589
sVprofile_image
p331
Vhttps://www.gravatar.com/avatar/0f608cda9532c7749b0a05ba23f3803c?s=128&d=identicon&r=PG
p332
sVuser_type
p333
Vregistered
p334
sVreputation
p335
I67624
sVlink
p336
Vhttp://stackoverflow.com/users/218589/klaus-byskov-pedersen
p337
sVaccept_rate
p338
I90
sVdisplay_name
p339
VKlaus Byskov Pedersen
p340
ssVis_accepted
p341
I01
sVlast_edit_date
p342
I1477589858
sVanswer_id
p343
I5041056
sa(dp344
Vbody
p345
V<p>In most situations the best solution is to rely on the so-called "user site" location (see the <a href="http://www.python.org/dev/peps/pep-0370/" rel="noreferrer">PEP</a> for details) by running:</p>\u000a\u000a<pre><code>pip install --user package_name\u000a</code></pre>\u000a\u000a<p>Below is a more "manual" way from my original answer, you do not need to read it if the above solution works for you.</p>\u000a\u000a<hr>\u000a\u000a<p>With easy_install you can do:</p>\u000a\u000a<pre><code>easy_install --prefix=$HOME/local package_name\u000a</code></pre>\u000a\u000a<p>which will install into </p>\u000a\u000a<pre><code>$HOME/local/lib/pythonX.Y/site-packages\u000a</code></pre>\u000a\u000a<p>(the 'local' folder is a typical name many people use, but of course you may specify any folder you have permissions to write into).</p>\u000a\u000a<p>You will need to manually create </p>\u000a\u000a<pre><code>$HOME/local/lib/pythonX.Y/site-packages\u000a</code></pre>\u000a\u000a<p>and add it to your <code>PYTHONPATH</code> environment variable (otherwise easy_install will complain -- btw run the command above once to find the correct value for X.Y).</p>\u000a\u000a<p>If you are not using <code>easy_install</code>, look for a prefix option, most install scripts let you specify one.</p>\u000a\u000a<p>With pip you can use:</p>\u000a\u000a<pre><code>pip install --install-option="--prefix=$HOME/local" package_name\u000a</code></pre>\u000a
p346
sVquestion_id
p347
I7465445
sVlast_activity_date
p348
I1476733759
sVcreation_date
p349
I1316394247
sVscore
p350
I181
sVowner
p351
(dp352
Vuser_id
p353
I832057
sVprofile_image
p354
Vhttps://www.gravatar.com/avatar/a5cbd07efd53a3e16124de3829abec0e?s=128&d=identicon&r=PG
p355
sVuser_type
p356
Vregistered
p357
sVreputation
p358
I3156
sVlink
p359
Vhttp://stackoverflow.com/users/832057/tiho
p360
sVaccept_rate
p361
I80
sVdisplay_name
p362
Vtiho
p363
ssVis_accepted
p364
I01
sVlast_edit_date
p365
I1476733759
sVanswer_id
p366
I7465532
sa(dp367
Vbody
p368
V<p><strong>EDIT:</strong></p>\u000a\u000a<p>Indeed there was a <a href="http://bugs.python.org/msg58786" rel="noreferrer">patch</a> which included <code>sign()</code> in <a href="http://docs.python.org/library/math.html#math.copysign" rel="noreferrer">math</a>, but it wasn't accepted, because they didn't agree on <a href="http://bugs.python.org/msg59137" rel="noreferrer">what it should return in all the edge cases</a> (+/-0, +/-nan, etc)</p>\u000a\u000a<p>So they decided to implement only copysign, which (although more verbose) can be <a href="http://bugs.python.org/msg59154" rel="noreferrer">used to delegate to the end user the desired behavior for edge cases</a> - which <a href="http://bugs.python.org/msg59152" rel="noreferrer">sometimes might require the call to <code>cmp(x,0)</code></a>.</p>\u000a\u000a<hr>\u000a\u000a<p>I don't know why it's not a built-in, but I have some thoughts.</p>\u000a\u000a<pre><code>copysign(x,y):\u000aReturn x with the sign of y.\u000a</code></pre>\u000a\u000a<p>Most importantly, <code>copysign</code> is a superset of <code>sign</code>!  Calling <code>copysign</code> with x=1 is the same as a <code>sign</code> function.  So you could just use <code>copysign</code> and <em>forget about it</em>.</p>\u000a\u000a<pre><code>&gt;&gt;&gt; math.copysign(1, -4)\u000a-1.0\u000a&gt;&gt;&gt; math.copysign(1, 3)\u000a1.0\u000a</code></pre>\u000a\u000a<p>If you get sick of passing two whole arguments, you can implement <code>sign</code> this way, and it will still be compatible with the IEEE stuff mentioned by others:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; sign = functools.partial(math.copysign, 1) # either of these\u000a&gt;&gt;&gt; sign = lambda x: math.copysign(1, x) # two will work\u000a&gt;&gt;&gt; sign(-4)\u000a-1.0\u000a&gt;&gt;&gt; sign(3)\u000a1.0\u000a&gt;&gt;&gt; sign(0)\u000a1.0\u000a&gt;&gt;&gt; sign(-0.0)\u000a-1.0\u000a&gt;&gt;&gt; sign(float('nan'))\u000a-1.0\u000a</code></pre>\u000a\u000a<p>Secondly, usually when you want the sign of something, you just end up multiplying it with another value.  And of course that's basically what <code>copysign</code> does.</p>\u000a\u000a<p>So, instead of:</p>\u000a\u000a<pre><code>s = sign(a)\u000ab = b * s\u000a</code></pre>\u000a\u000a<p>You can just do:</p>\u000a\u000a<pre><code>b = copysign(b, a)\u000a</code></pre>\u000a\u000a<p>And yes, I'm surprised you've been using Python for 7 years and think <code>cmp</code> could be so easily removed and replaced by <code>sign</code>!  Have you never implemented a class with a <code>__cmp__</code> method?  Have you never called <code>cmp</code> and specified a custom comparator function?</p>\u000a\u000a<p>In summary, I've found myself wanting a <code>sign</code> function too, but <code>copysign</code> with the first argument being 1 will work just fine.  I disagree that <code>sign</code> would be more useful than <code>copysign</code>, as I've shown that it's merely a subset of the same functionality.</p>\u000a
p369
sVquestion_id
p370
I1986152
sVlast_activity_date
p371
I1476017872
sVcreation_date
p372
I1262287500
sVscore
p373
I162
sVowner
p374
(dp375
Vuser_id
p376
I90308
sVprofile_image
p377
Vhttps://www.gravatar.com/avatar/7b7aefbc459629eb4c864b825894c9c4?s=128&d=identicon&r=PG
p378
sVuser_type
p379
Vregistered
p380
sVreputation
p381
I38667
sVlink
p382
Vhttp://stackoverflow.com/users/90308/foglebird
p383
sVaccept_rate
p384
I93
sVdisplay_name
p385
VFogleBird
p386
ssVis_accepted
p387
I01
sVlast_edit_date
p388
I1476017872
sVanswer_id
p389
I1986776
sa(dp390
Vbody
p391
V<p>Use the <a href="http://docs.python.org/library/argparse.html#formatter-class"><code>argparse.ArgumentDefaultsHelpFormatter</code> formatter</a>:</p>\u000a\u000a<pre><code>parser = argparse.ArgumentParser(\u000a    # ... other options ...\u000a    formatter_class=argparse.ArgumentDefaultsHelpFormatter)\u000a</code></pre>\u000a\u000a<p>To quote the documentation:</p>\u000a\u000a<blockquote>\u000a  <p>The other formatter class available, <code>ArgumentDefaultsHelpFormatter</code>, will add information about the default value of each of the arguments.</p>\u000a</blockquote>\u000a\u000a<p>Note that this only applies to arguments that have help text defined; with no <code>help</code> value for an argument, there is noting to add information <em>to</em>.</p>\u000a\u000a<p>The exact output for your scan-time option then becomes:</p>\u000a\u000a<pre><code>  --scan-time [SCAN_TIME]\u000a                        Wait SCAN-TIME seconds between status checks.\u000a                        (default: 5)\u000a</code></pre>\u000a
p392
sVquestion_id
p393
I12151306
sVlast_activity_date
p394
I1475094125
sVcreation_date
p395
I1346113678
sVscore
p396
I204
sVowner
p397
(dp398
Vuser_id
p399
I100297
sVprofile_image
p400
Vhttps://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG
p401
sVuser_type
p402
Vmoderator
p403
sVreputation
p404
I554877
sVlink
p405
Vhttp://stackoverflow.com/users/100297/martijn-pieters
p406
sVdisplay_name
p407
VMartijn Pieters
p408
ssVis_accepted
p409
I01
sVlast_edit_date
p410
I1475094125
sVanswer_id
p411
I12151325
sa(dp412
Vbody
p413
V<p>No need to add <code>file.py</code> while importing. Just write <code>from file import function</code>, and then call the function using <code>function(a, b)</code>. The reason why this may not work, is because <code>file</code> is one of Python's core modules, so I suggest you change the name of your file.</p>\u000a\u000a<p>Note, that if you're trying to import functions from <code>a.py</code> to a file called <code>b.py</code>, you will need to make sure that <code>a.py</code> and <code>b.py</code> are in the same directories.</p>\u000a
p414
sVquestion_id
p415
I20309456
sVlast_activity_date
p416
I1474406262
sVcreation_date
p417
I1385879776
sVscore
p418
I155
sVowner
p419
(dp420
Vuser_id
p421
I1624921
sVprofile_image
p422
Vhttps://i.stack.imgur.com/keNmm.jpg?s=128&g=1
p423
sVuser_type
p424
Vregistered
p425
sVreputation
p426
I30965
sVlink
p427
Vhttp://stackoverflow.com/users/1624921/games-brainiac
p428
sVaccept_rate
p429
I83
sVdisplay_name
p430
VGames Brainiac
p431
ssVis_accepted
p432
I01
sVlast_edit_date
p433
I1474406262
sVanswer_id
p434
I20309470
sa(dp435
Vbody
p436
V<h1>TL;DR</h1>\u000a\u000a<ul>\u000a<li><p>The actual speed difference is closer to 70% (or more) once a lot of the overhead is removed, for Python 2.</p></li>\u000a<li><p>Object creation is <strong>not</strong> at fault. Neither method creates a new object, as one-character strings are cached.</p></li>\u000a<li><p>The difference is unobvious, but is likely created from a greater number of checks on string indexing, with regards to the type and well-formedness. It is also quite likely thanks to the need to check what to return.</p></li>\u000a<li><p>List indexing is remarkably fast.</p></li>\u000a</ul>\u000a\u000a<hr>\u000a\u000a<hr>\u000a\u000a<pre><code>&gt;&gt;&gt; python3 -m timeit '[x for x in "abc"]'\u000a1000000 loops, best of 3: 0.388 usec per loop\u000a\u000a&gt;&gt;&gt; python3 -m timeit '[x for x in ["a", "b", "c"]]'\u000a1000000 loops, best of 3: 0.436 usec per loop\u000a</code></pre>\u000a\u000a<p>This disagrees with what you've found...</p>\u000a\u000a<p>You must be using Python 2, then.</p>\u000a\u000a<pre><code>&gt;&gt;&gt; python2 -m timeit '[x for x in "abc"]'\u000a1000000 loops, best of 3: 0.309 usec per loop\u000a\u000a&gt;&gt;&gt; python2 -m timeit '[x for x in ["a", "b", "c"]]'\u000a1000000 loops, best of 3: 0.212 usec per loop\u000a</code></pre>\u000a\u000a<p>Let's explain the difference between the versions. I'll examine the compiled code.</p>\u000a\u000a<p><strong>For Python 3:</strong></p>\u000a\u000a<pre><code>import dis\u000a\u000adef list_iterate():\u000a    [item for item in ["a", "b", "c"]]\u000a\u000adis.dis(list_iterate)\u000a#&gt;&gt;&gt;   4           0 LOAD_CONST               1 (&lt;code object &lt;listcomp&gt; at 0x7f4d06b118a0, file "", line 4&gt;)\u000a#&gt;&gt;&gt;               3 LOAD_CONST               2 ('list_iterate.&lt;locals&gt;.&lt;listcomp&gt;')\u000a#&gt;&gt;&gt;               6 MAKE_FUNCTION            0\u000a#&gt;&gt;&gt;               9 LOAD_CONST               3 ('a')\u000a#&gt;&gt;&gt;              12 LOAD_CONST               4 ('b')\u000a#&gt;&gt;&gt;              15 LOAD_CONST               5 ('c')\u000a#&gt;&gt;&gt;              18 BUILD_LIST               3\u000a#&gt;&gt;&gt;              21 GET_ITER\u000a#&gt;&gt;&gt;              22 CALL_FUNCTION            1 (1 positional, 0 keyword pair)\u000a#&gt;&gt;&gt;              25 POP_TOP\u000a#&gt;&gt;&gt;              26 LOAD_CONST               0 (None)\u000a#&gt;&gt;&gt;              29 RETURN_VALUE\u000a\u000adef string_iterate():\u000a    [item for item in "abc"]\u000a\u000adis.dis(string_iterate)\u000a#&gt;&gt;&gt;  21           0 LOAD_CONST               1 (&lt;code object &lt;listcomp&gt; at 0x7f4d06b17150, file "", line 21&gt;)\u000a#&gt;&gt;&gt;               3 LOAD_CONST               2 ('string_iterate.&lt;locals&gt;.&lt;listcomp&gt;')\u000a#&gt;&gt;&gt;               6 MAKE_FUNCTION            0\u000a#&gt;&gt;&gt;               9 LOAD_CONST               3 ('abc')\u000a#&gt;&gt;&gt;              12 GET_ITER\u000a#&gt;&gt;&gt;              13 CALL_FUNCTION            1 (1 positional, 0 keyword pair)\u000a#&gt;&gt;&gt;              16 POP_TOP\u000a#&gt;&gt;&gt;              17 LOAD_CONST               0 (None)\u000a#&gt;&gt;&gt;              20 RETURN_VALUE\u000a</code></pre>\u000a\u000a<p>You see here that the list variant is likely to be slower due to the building of the list each time.</p>\u000a\u000a<p>This is the</p>\u000a\u000a<pre><code> 9 LOAD_CONST   3 ('a')\u000a12 LOAD_CONST   4 ('b')\u000a15 LOAD_CONST   5 ('c')\u000a18 BUILD_LIST   3\u000a</code></pre>\u000a\u000a<p>part. The string variant only has</p>\u000a\u000a<pre><code> 9 LOAD_CONST   3 ('abc')\u000a</code></pre>\u000a\u000a<p>You can check that this does seem to make a difference:</p>\u000a\u000a<pre><code>def string_iterate():\u000a    [item for item in ("a", "b", "c")]\u000a\u000adis.dis(string_iterate)\u000a#&gt;&gt;&gt;  35           0 LOAD_CONST               1 (&lt;code object &lt;listcomp&gt; at 0x7f4d068be660, file "", line 35&gt;)\u000a#&gt;&gt;&gt;               3 LOAD_CONST               2 ('string_iterate.&lt;locals&gt;.&lt;listcomp&gt;')\u000a#&gt;&gt;&gt;               6 MAKE_FUNCTION            0\u000a#&gt;&gt;&gt;               9 LOAD_CONST               6 (('a', 'b', 'c'))\u000a#&gt;&gt;&gt;              12 GET_ITER\u000a#&gt;&gt;&gt;              13 CALL_FUNCTION            1 (1 positional, 0 keyword pair)\u000a#&gt;&gt;&gt;              16 POP_TOP\u000a#&gt;&gt;&gt;              17 LOAD_CONST               0 (None)\u000a#&gt;&gt;&gt;              20 RETURN_VALUE\u000a</code></pre>\u000a\u000a<p>This produces just</p>\u000a\u000a<pre><code> 9 LOAD_CONST               6 (('a', 'b', 'c'))\u000a</code></pre>\u000a\u000a<p>as tuples are immutable. Test:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; python3 -m timeit '[x for x in ("a", "b", "c")]'\u000a1000000 loops, best of 3: 0.369 usec per loop\u000a</code></pre>\u000a\u000a<p>Great, back up to speed.</p>\u000a\u000a<p><strong>For Python 2:</strong></p>\u000a\u000a<pre><code>def list_iterate():\u000a    [item for item in ["a", "b", "c"]]\u000a\u000adis.dis(list_iterate)\u000a#&gt;&gt;&gt;   2           0 BUILD_LIST               0\u000a#&gt;&gt;&gt;               3 LOAD_CONST               1 ('a')\u000a#&gt;&gt;&gt;               6 LOAD_CONST               2 ('b')\u000a#&gt;&gt;&gt;               9 LOAD_CONST               3 ('c')\u000a#&gt;&gt;&gt;              12 BUILD_LIST               3\u000a#&gt;&gt;&gt;              15 GET_ITER            \u000a#&gt;&gt;&gt;         &gt;&gt;   16 FOR_ITER                12 (to 31)\u000a#&gt;&gt;&gt;              19 STORE_FAST               0 (item)\u000a#&gt;&gt;&gt;              22 LOAD_FAST                0 (item)\u000a#&gt;&gt;&gt;              25 LIST_APPEND              2\u000a#&gt;&gt;&gt;              28 JUMP_ABSOLUTE           16\u000a#&gt;&gt;&gt;         &gt;&gt;   31 POP_TOP             \u000a#&gt;&gt;&gt;              32 LOAD_CONST               0 (None)\u000a#&gt;&gt;&gt;              35 RETURN_VALUE        \u000a\u000adef string_iterate():\u000a    [item for item in "abc"]\u000a\u000adis.dis(string_iterate)\u000a#&gt;&gt;&gt;   2           0 BUILD_LIST               0\u000a#&gt;&gt;&gt;               3 LOAD_CONST               1 ('abc')\u000a#&gt;&gt;&gt;               6 GET_ITER            \u000a#&gt;&gt;&gt;         &gt;&gt;    7 FOR_ITER                12 (to 22)\u000a#&gt;&gt;&gt;              10 STORE_FAST               0 (item)\u000a#&gt;&gt;&gt;              13 LOAD_FAST                0 (item)\u000a#&gt;&gt;&gt;              16 LIST_APPEND              2\u000a#&gt;&gt;&gt;              19 JUMP_ABSOLUTE            7\u000a#&gt;&gt;&gt;         &gt;&gt;   22 POP_TOP             \u000a#&gt;&gt;&gt;              23 LOAD_CONST               0 (None)\u000a#&gt;&gt;&gt;              26 RETURN_VALUE        \u000a</code></pre>\u000a\u000a<p>The odd thing is that we have the <em>same</em> building of the list, but it's still faster for this. Python 2 is acting strangely fast.</p>\u000a\u000a<p>Let's remove the comprehensions and re-time. The <code>_ =</code> is to prevent it getting optimised out.</p>\u000a\u000a<pre><code>&gt;&gt;&gt; python3 -m timeit '_ = ["a", "b", "c"]'\u000a10000000 loops, best of 3: 0.0707 usec per loop\u000a\u000a&gt;&gt;&gt; python3 -m timeit '_ = "abc"'\u000a100000000 loops, best of 3: 0.0171 usec per loop\u000a</code></pre>\u000a\u000a<p>We can see that initialization is not significant enough to account for the difference between the versions (those numbers are small)! We can thus conclude that Python 3 has slower comprehensions. This makes sense as Python 3 changed comprehensions to have safer scoping.</p>\u000a\u000a<p>Well, now improve the benchmark (I'm just removing overhead that isn't iteration). This removes the building of the iterable by pre-assigning it:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; python3 -m timeit -s 'iterable = "abc"'           '[x for x in iterable]'\u000a1000000 loops, best of 3: 0.387 usec per loop\u000a\u000a&gt;&gt;&gt; python3 -m timeit -s 'iterable = ["a", "b", "c"]' '[x for x in iterable]'\u000a1000000 loops, best of 3: 0.368 usec per loop\u000a</code></pre>\u000a\u000a\u000a\u000a<pre><code>&gt;&gt;&gt; python2 -m timeit -s 'iterable = "abc"'           '[x for x in iterable]'\u000a1000000 loops, best of 3: 0.309 usec per loop\u000a\u000a&gt;&gt;&gt; python2 -m timeit -s 'iterable = ["a", "b", "c"]' '[x for x in iterable]'\u000a10000000 loops, best of 3: 0.164 usec per loop\u000a</code></pre>\u000a\u000a<p>We can check if calling <code>iter</code> is the overhead:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; python3 -m timeit -s 'iterable = "abc"'           'iter(iterable)'\u000a10000000 loops, best of 3: 0.099 usec per loop\u000a\u000a&gt;&gt;&gt; python3 -m timeit -s 'iterable = ["a", "b", "c"]' 'iter(iterable)'\u000a10000000 loops, best of 3: 0.1 usec per loop\u000a</code></pre>\u000a\u000a\u000a\u000a<pre><code>&gt;&gt;&gt; python2 -m timeit -s 'iterable = "abc"'           'iter(iterable)'\u000a10000000 loops, best of 3: 0.0913 usec per loop\u000a\u000a&gt;&gt;&gt; python2 -m timeit -s 'iterable = ["a", "b", "c"]' 'iter(iterable)'\u000a10000000 loops, best of 3: 0.0854 usec per loop\u000a</code></pre>\u000a\u000a<p>No. No it is not. The difference is too small, especially for Python 3.</p>\u000a\u000a<p>So let's remove yet more unwanted overhead... by making the whole thing slower! The aim is just to have a longer iteration so the time hides overhead.</p>\u000a\u000a<pre><code>&gt;&gt;&gt; python3 -m timeit -s 'import random; iterable = "".join(chr(random.randint(0, 127)) for _ in range(100000))' '[x for x in iterable]'\u000a100 loops, best of 3: 3.12 msec per loop\u000a\u000a&gt;&gt;&gt; python3 -m timeit -s 'import random; iterable =        [chr(random.randint(0, 127)) for _ in range(100000)]' '[x for x in iterable]'\u000a100 loops, best of 3: 2.77 msec per loop\u000a</code></pre>\u000a\u000a\u000a\u000a<pre><code>&gt;&gt;&gt; python2 -m timeit -s 'import random; iterable = "".join(chr(random.randint(0, 127)) for _ in range(100000))' '[x for x in iterable]'\u000a100 loops, best of 3: 2.32 msec per loop\u000a\u000a&gt;&gt;&gt; python2 -m timeit -s 'import random; iterable =        [chr(random.randint(0, 127)) for _ in range(100000)]' '[x for x in iterable]'\u000a100 loops, best of 3: 2.09 msec per loop\u000a</code></pre>\u000a\u000a<p>This hasn't actually changed <em>much</em>, but it's helped a little.</p>\u000a\u000a<p>So remove the comprehension. It's overhead that's not part of the question:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; python3 -m timeit -s 'import random; iterable = "".join(chr(random.randint(0, 127)) for _ in range(100000))' 'for x in iterable: pass'\u000a1000 loops, best of 3: 1.71 msec per loop\u000a\u000a&gt;&gt;&gt; python3 -m timeit -s 'import random; iterable =        [chr(random.randint(0, 127)) for _ in range(100000)]' 'for x in iterable: pass'\u000a1000 loops, best of 3: 1.36 msec per loop\u000a</code></pre>\u000a\u000a\u000a\u000a<pre><code>&gt;&gt;&gt; python2 -m timeit -s 'import random; iterable = "".join(chr(random.randint(0, 127)) for _ in range(100000))' 'for x in iterable: pass'\u000a1000 loops, best of 3: 1.27 msec per loop\u000a\u000a&gt;&gt;&gt; python2 -m timeit -s 'import random; iterable =        [chr(random.randint(0, 127)) for _ in range(100000)]' 'for x in iterable: pass'\u000a1000 loops, best of 3: 935 usec per loop\u000a</code></pre>\u000a\u000a<p>That's more like it! We can get slightly faster still by using <code>deque</code> to iterate. It's basically the same, but it's <em>faster</em>:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; python3 -m timeit -s 'import random; from collections import deque; iterable = "".join(chr(random.randint(0, 127)) for _ in range(100000))' 'deque(iterable, maxlen=0)'\u000a1000 loops, best of 3: 777 usec per loop\u000a\u000a&gt;&gt;&gt; python3 -m timeit -s 'import random; from collections import deque; iterable =        [chr(random.randint(0, 127)) for _ in range(100000)]' 'deque(iterable, maxlen=0)'\u000a1000 loops, best of 3: 405 usec per loop\u000a</code></pre>\u000a\u000a\u000a\u000a<pre><code>&gt;&gt;&gt; python2 -m timeit -s 'import random; from collections import deque; iterable = "".join(chr(random.randint(0, 127)) for _ in range(100000))' 'deque(iterable, maxlen=0)'\u000a1000 loops, best of 3: 805 usec per loop\u000a\u000a&gt;&gt;&gt; python2 -m timeit -s 'import random; from collections import deque; iterable =        [chr(random.randint(0, 127)) for _ in range(100000)]' 'deque(iterable, maxlen=0)'\u000a1000 loops, best of 3: 438 usec per loop\u000a</code></pre>\u000a\u000a<p>What impresses me is that Unicode is competitive with bytestrings. We can check this explicitly by trying <code>bytes</code> and <code>unicode</code> in both:</p>\u000a\u000a<ul>\u000a<li><p><code>bytes</code></p>\u000a\u000a<pre><code>&gt;&gt;&gt; python3 -m timeit -s 'import random; from collections import deque; iterable = b"".join(chr(random.randint(0, 127)).encode("ascii") for _ in range(100000))' 'deque(iterable, maxlen=0)'                                                                    :(\u000a1000 loops, best of 3: 571 usec per loop\u000a\u000a&gt;&gt;&gt; python3 -m timeit -s 'import random; from collections import deque; iterable =         [chr(random.randint(0, 127)).encode("ascii") for _ in range(100000)]' 'deque(iterable, maxlen=0)'\u000a1000 loops, best of 3: 394 usec per loop\u000a</code></pre>\u000a\u000a\u000a\u000a<pre><code>&gt;&gt;&gt; python2 -m timeit -s 'import random; from collections import deque; iterable = b"".join(chr(random.randint(0, 127))                 for _ in range(100000))' 'deque(iterable, maxlen=0)'\u000a1000 loops, best of 3: 757 usec per loop\u000a\u000a&gt;&gt;&gt; python2 -m timeit -s 'import random; from collections import deque; iterable =         [chr(random.randint(0, 127))                 for _ in range(100000)]' 'deque(iterable, maxlen=0)'\u000a1000 loops, best of 3: 438 usec per loop\u000a</code></pre>\u000a\u000a<p>Here you see Python 3 actually <em>faster</em> than Python 2.</p></li>\u000a<li><p><code>unicode</code></p>\u000a\u000a<pre><code>&gt;&gt;&gt; python3 -m timeit -s 'import random; from collections import deque; iterable = u"".join(   chr(random.randint(0, 127)) for _ in range(100000))' 'deque(iterable, maxlen=0)'\u000a1000 loops, best of 3: 800 usec per loop\u000a\u000a&gt;&gt;&gt; python3 -m timeit -s 'import random; from collections import deque; iterable =         [   chr(random.randint(0, 127)) for _ in range(100000)]' 'deque(iterable, maxlen=0)'\u000a1000 loops, best of 3: 394 usec per loop\u000a</code></pre>\u000a\u000a\u000a\u000a<pre><code>&gt;&gt;&gt; python2 -m timeit -s 'import random; from collections import deque; iterable = u"".join(unichr(random.randint(0, 127)) for _ in range(100000))' 'deque(iterable, maxlen=0)'\u000a1000 loops, best of 3: 1.07 msec per loop\u000a\u000a&gt;&gt;&gt; python2 -m timeit -s 'import random; from collections import deque; iterable =         [unichr(random.randint(0, 127)) for _ in range(100000)]' 'deque(iterable, maxlen=0)'\u000a1000 loops, best of 3: 469 usec per loop\u000a</code></pre>\u000a\u000a<p>Again, Python 3 is faster, although this is to be expected (<code>str</code> has had a lot of attention in Python 3).</p></li>\u000a</ul>\u000a\u000a<p>In fact, this <code>unicode</code>-<code>bytes</code> difference is very small, which is impressive.</p>\u000a\u000a<p>So let's analyse this one case, seeing as it's fast and convenient for me:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; python3 -m timeit -s 'import random; from collections import deque; iterable = "".join(chr(random.randint(0, 127)) for _ in range(100000))' 'deque(iterable, maxlen=0)'\u000a1000 loops, best of 3: 777 usec per loop\u000a\u000a&gt;&gt;&gt; python3 -m timeit -s 'import random; from collections import deque; iterable =        [chr(random.randint(0, 127)) for _ in range(100000)]' 'deque(iterable, maxlen=0)'\u000a1000 loops, best of 3: 405 usec per loop\u000a</code></pre>\u000a\u000a<p><strong>We can actually rule out Tim Peter's 10-times-upvoted answer!</strong></p>\u000a\u000a<pre><code>&gt;&gt;&gt; foo = iterable[123]\u000a&gt;&gt;&gt; iterable[36] is foo\u000aTrue\u000a</code></pre>\u000a\u000a<h1>These are not new objects!</h1>\u000a\u000a<p>But this is worth mentioning: indexing <em>costs</em>. The difference will likely be in the indexing, so remove the iteration and just index:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; python3 -m timeit -s 'import random; iterable = "".join(chr(random.randint(0, 127)) for _ in range(100000))' 'iterable[123]'\u000a10000000 loops, best of 3: 0.0397 usec per loop\u000a\u000a&gt;&gt;&gt; python3 -m timeit -s 'import random; iterable =        [chr(random.randint(0, 127)) for _ in range(100000)]' 'iterable[123]'\u000a10000000 loops, best of 3: 0.0374 usec per loop\u000a</code></pre>\u000a\u000a<p>The difference seems small, but <em>at least</em> half of the cost is overhead:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; python3 -m timeit -s 'import random; iterable =        [chr(random.randint(0, 127)) for _ in range(100000)]' 'iterable; 123'\u000a100000000 loops, best of 3: 0.0173 usec per loop\u000a</code></pre>\u000a\u000a<p>so the speed difference is sufficient to decide to blame it. I think.</p>\u000a\u000a<p>So why is indexing a list so much faster?</p>\u000a\u000a<p>Well, I'll come back to you on that, but my guess is that's is down to the check for <em>interned</em> strings (or cached characters if it's a separate mechanism). This will be less fast than optimal. But I'll go check the source (although I'm not comfortable in C...) :).</p>\u000a\u000a<hr>\u000a\u000a<p>So here's the source:</p>\u000a\u000a<pre><code>static PyObject *\u000aunicode_getitem(PyObject *self, Py_ssize_t index)\u000a{\u000a    void *data;\u000a    enum PyUnicode_Kind kind;\u000a    Py_UCS4 ch;\u000a    PyObject *res;\u000a\u000a    if (!PyUnicode_Check(self) || PyUnicode_READY(self) == -1) {\u000a        PyErr_BadArgument();\u000a        return NULL;\u000a    }\u000a    if (index &lt; 0 || index &gt;= PyUnicode_GET_LENGTH(self)) {\u000a        PyErr_SetString(PyExc_IndexError, "string index out of range");\u000a        return NULL;\u000a    }\u000a    kind = PyUnicode_KIND(self);\u000a    data = PyUnicode_DATA(self);\u000a    ch = PyUnicode_READ(kind, data, index);\u000a    if (ch &lt; 256)\u000a        return get_latin1_char(ch);\u000a\u000a    res = PyUnicode_New(1, ch);\u000a    if (res == NULL)\u000a        return NULL;\u000a    kind = PyUnicode_KIND(res);\u000a    data = PyUnicode_DATA(res);\u000a    PyUnicode_WRITE(kind, data, 0, ch);\u000a    assert(_PyUnicode_CheckConsistency(res, 1));\u000a    return res;\u000a}\u000a</code></pre>\u000a\u000a<p>Walking from the top, we'll have some checks. These are boring. Then some assigns, which should also be boring. The first interesting line is</p>\u000a\u000a<pre><code>ch = PyUnicode_READ(kind, data, index);\u000a</code></pre>\u000a\u000a<p>but we'd <em>hope</em> that is fast, as we're reading from a contiguous C array by indexing it. The result, <code>ch</code>, will be less than 256 so we'll return the cached character in <code>get_latin1_char(ch)</code>.</p>\u000a\u000a<p>So we'll run (dropping the first checks)</p>\u000a\u000a<pre><code>kind = PyUnicode_KIND(self);\u000adata = PyUnicode_DATA(self);\u000ach = PyUnicode_READ(kind, data, index);\u000areturn get_latin1_char(ch);\u000a</code></pre>\u000a\u000a<p>Where</p>\u000a\u000a<pre><code>#define PyUnicode_KIND(op) \u005c\u000a    (assert(PyUnicode_Check(op)), \u005c\u000a     assert(PyUnicode_IS_READY(op)),            \u005c\u000a     ((PyASCIIObject *)(op))-&gt;state.kind)\u000a</code></pre>\u000a\u000a<p>(which is boring because asserts get ignored in debug [so I can check that they're fast] and <code>((PyASCIIObject *)(op))-&gt;state.kind)</code> is (I think) an indirection and a C-level cast);</p>\u000a\u000a<pre><code>#define PyUnicode_DATA(op) \u005c\u000a    (assert(PyUnicode_Check(op)), \u005c\u000a     PyUnicode_IS_COMPACT(op) ? _PyUnicode_COMPACT_DATA(op) :   \u005c\u000a     _PyUnicode_NONCOMPACT_DATA(op))\u000a</code></pre>\u000a\u000a<p>(which is also boring for similar reasons, assuming the macros (<code>Something_CAPITALIZED</code>) are all fast),</p>\u000a\u000a<pre><code>#define PyUnicode_READ(kind, data, index) \u005c\u000a    ((Py_UCS4) \u005c\u000a    ((kind) == PyUnicode_1BYTE_KIND ? \u005c\u000a        ((const Py_UCS1 *)(data))[(index)] : \u005c\u000a        ((kind) == PyUnicode_2BYTE_KIND ? \u005c\u000a            ((const Py_UCS2 *)(data))[(index)] : \u005c\u000a            ((const Py_UCS4 *)(data))[(index)] \u005c\u000a        ) \u005c\u000a    ))\u000a</code></pre>\u000a\u000a<p>(which involves indexes but really isn't slow at all) and</p>\u000a\u000a<pre><code>static PyObject*\u000aget_latin1_char(unsigned char ch)\u000a{\u000a    PyObject *unicode = unicode_latin1[ch];\u000a    if (!unicode) {\u000a        unicode = PyUnicode_New(1, ch);\u000a        if (!unicode)\u000a            return NULL;\u000a        PyUnicode_1BYTE_DATA(unicode)[0] = ch;\u000a        assert(_PyUnicode_CheckConsistency(unicode, 1));\u000a        unicode_latin1[ch] = unicode;\u000a    }\u000a    Py_INCREF(unicode);\u000a    return unicode;\u000a}\u000a</code></pre>\u000a\u000a<p>Which confirms my suspicion that:</p>\u000a\u000a<ul>\u000a<li><p>This is cached:</p>\u000a\u000a<pre><code>PyObject *unicode = unicode_latin1[ch];\u000a</code></pre></li>\u000a<li><p>This should be fast. The <code>if (!unicode)</code> is not run, so it's literally equivalent in this case to</p>\u000a\u000a<pre><code>PyObject *unicode = unicode_latin1[ch];\u000aPy_INCREF(unicode);\u000areturn unicode;\u000a</code></pre></li>\u000a</ul>\u000a\u000a<p>Honestly, after testing the <code>assert</code>s are fast (by disabling them [I <em>think</em> it works on the C-level asserts...]), the only plausibly-slow parts are:</p>\u000a\u000a<pre><code>PyUnicode_IS_COMPACT(op)\u000a_PyUnicode_COMPACT_DATA(op)\u000a_PyUnicode_NONCOMPACT_DATA(op)\u000a</code></pre>\u000a\u000a<p>Which are:</p>\u000a\u000a<pre><code>#define PyUnicode_IS_COMPACT(op) \u005c\u000a    (((PyASCIIObject*)(op))-&gt;state.compact)\u000a</code></pre>\u000a\u000a<p>(fast, as before),</p>\u000a\u000a<pre><code>#define _PyUnicode_COMPACT_DATA(op)                     \u005c\u000a    (PyUnicode_IS_ASCII(op) ?                   \u005c\u000a     ((void*)((PyASCIIObject*)(op) + 1)) :              \u005c\u000a     ((void*)((PyCompactUnicodeObject*)(op) + 1)))\u000a</code></pre>\u000a\u000a<p>(fast if the macro <code>IS_ASCII</code> is fast), and</p>\u000a\u000a<pre><code>#define _PyUnicode_NONCOMPACT_DATA(op)                  \u005c\u000a    (assert(((PyUnicodeObject*)(op))-&gt;data.any),        \u005c\u000a     ((((PyUnicodeObject *)(op))-&gt;data.any)))\u000a</code></pre>\u000a\u000a<p>(also fast as it's an assert plus an indirection plus a cast).</p>\u000a\u000a<p>So we're down (the rabbit hole) to:</p>\u000a\u000a<pre><code>PyUnicode_IS_ASCII\u000a</code></pre>\u000a\u000a<p>which is</p>\u000a\u000a<pre><code>#define PyUnicode_IS_ASCII(op)                   \u005c\u000a    (assert(PyUnicode_Check(op)),                \u005c\u000a     assert(PyUnicode_IS_READY(op)),             \u005c\u000a     ((PyASCIIObject*)op)-&gt;state.ascii)\u000a</code></pre>\u000a\u000a<p>Hmm... that seems fast too...</p>\u000a\u000a<hr>\u000a\u000a<p>Well, OK, but let's compare it to <code>PyList_GetItem</code>. (Yeah, <em>thanks</em> Tim Peters for giving me more work to do :P.)</p>\u000a\u000a<pre><code>PyObject *\u000aPyList_GetItem(PyObject *op, Py_ssize_t i)\u000a{\u000a    if (!PyList_Check(op)) {\u000a        PyErr_BadInternalCall();\u000a        return NULL;\u000a    }\u000a    if (i &lt; 0 || i &gt;= Py_SIZE(op)) {\u000a        if (indexerr == NULL) {\u000a            indexerr = PyUnicode_FromString(\u000a                "list index out of range");\u000a            if (indexerr == NULL)\u000a                return NULL;\u000a        }\u000a        PyErr_SetObject(PyExc_IndexError, indexerr);\u000a        return NULL;\u000a    }\u000a    return ((PyListObject *)op) -&gt; ob_item[i];\u000a}\u000a</code></pre>\u000a\u000a<p>We can see that on non-error cases this is just going to run:</p>\u000a\u000a<pre><code>PyList_Check(op)\u000aPy_SIZE(op)\u000a((PyListObject *)op) -&gt; ob_item[i]\u000a</code></pre>\u000a\u000a<p>Where <code>PyList_Check</code> is</p>\u000a\u000a<pre><code>#define PyList_Check(op) \u005c\u000a     PyType_FastSubclass(Py_TYPE(op), Py_TPFLAGS_LIST_SUBCLASS)\u000a</code></pre>\u000a\u000a<p><strike>(<a href="https://github.com/python/cpython/blob/237284d0a73e472f836adc72f090432ae7c5dfad/Include/listobject.h#L49" rel="nofollow"><strong>TABS! TABS!!!</strong></a>) (<a href="http://bugs.python.org/issue21587" rel="nofollow">issue21587</a>)</strike> That got fixed and merged in <strong>5 minutes</strong>. Like... yeah. Damn. They put Skeet to shame.</p>\u000a\u000a<pre><code>#define Py_SIZE(ob)             (((PyVarObject*)(ob))-&gt;ob_size)\u000a</code></pre>\u000a\u000a\u000a\u000a<pre><code>#define PyType_FastSubclass(t,f)  PyType_HasFeature(t,f)\u000a</code></pre>\u000a\u000a\u000a\u000a<pre><code>#ifdef Py_LIMITED_API\u000a#define PyType_HasFeature(t,f)  ((PyType_GetFlags(t) &amp; (f)) != 0)\u000a#else\u000a#define PyType_HasFeature(t,f)  (((t)-&gt;tp_flags &amp; (f)) != 0)\u000a#endif\u000a</code></pre>\u000a\u000a<p>So this is normally really trivial (two indirections and a couple of boolean checks) unless <code>Py_LIMITED_API</code> is on, in which case... ???</p>\u000a\u000a<p>Then there's the indexing and a cast (<code>((PyListObject *)op) -&gt; ob_item[i]</code>) and we're done.</p>\u000a\u000a<p>So there are definitely <em>fewer</em> checks for lists, and the small speed differences certainly imply that it could be relevant.</p>\u000a\u000a<hr>\u000a\u000a<p>I think in general, there's just more type-checking and indirection <code>(-&gt;)</code> for Unicode. It seems I'm missing a point, but <em>what</em>?</p>\u000a
p437
sVquestion_id
p438
I23861468
sVlast_activity_date
p439
I1469443246
sVcreation_date
p440
I1401086227
sVscore
p441
I193
sVowner
p442
(dp443
Vuser_id
p444
I1763356
sVprofile_image
p445
Vhttps://i.stack.imgur.com/zGWG9.png?s=128&g=1
p446
sVuser_type
p447
Vregistered
p448
sVreputation
p449
I31547
sVlink
p450
Vhttp://stackoverflow.com/users/1763356/veedrac
p451
sVaccept_rate
p452
I79
sVdisplay_name
p453
VVeedrac
p454
ssVis_accepted
p455
I01
sVlast_edit_date
p456
I1469443246
sVanswer_id
p457
I23864108
sa(dp458
Vbody
p459
V<p>The <code>jsonify()</code> function in flask returns <code>flask.Response()</code> object that already has the appropriate content-type header 'application/json' for use with json responses, whereas the <code>json.dumps()</code> will just return an encoded string, which would require manually adding the mime type header.</p>\u000a\u000a<p>See more about the <code>jsonify()</code> function <a href="http://flask.pocoo.org/docs/api/#flask.json.jsonify" rel="noreferrer">here</a> for full reference.</p>\u000a\u000a<p>Edit:\u000aAlso, I've noticed that <code>jsonify()</code> handles kwargs or dictionaries, while <code>json.dumps()</code> additionally supports lists and others.</p>\u000a
p460
sVquestion_id
p461
I7907596
sVlast_activity_date
p462
I1469135233
sVcreation_date
p463
I1351754413
sVscore
p464
I159
sVowner
p465
(dp466
Vuser_id
p467
I568708
sVprofile_image
p468
Vhttps://www.gravatar.com/avatar/e685fc069a4e2705854f24fbb348a477?s=128&d=identicon&r=PG
p469
sVuser_type
p470
Vregistered
p471
sVreputation
p472
I1760
sVlink
p473
Vhttp://stackoverflow.com/users/568708/kenneth-wilke
p474
sVdisplay_name
p475
VKenneth Wilke
p476
ssVis_accepted
p477
I01
sVlast_edit_date
p478
I1469135233
sVanswer_id
p479
I13172658
sa(dp480
Vbody
p481
V<p>The <em>storage</em> is "unboxed", but every time you access an element Python has to "box" it (embed it in a regular Python object) in order to do anything with it.  For example, your <code>sum(A)</code> iterates over the array, and boxes each integer, one at a time, in a regular Python <code>int</code> object.  That costs time.  In your <code>sum(L)</code>, all the boxing was done at the time the list was created.</p>\u000a\u000a<p>So, in the end, an array is generally slower, but requires substantially less memory.</p>\u000a\u000a<hr>\u000a\u000a<p>Here's the relevant code from a recent version of Python 3, but the same basic ideas apply to all CPython implementations since Python was first released.</p>\u000a\u000a<p>Here's the code to access a list item:</p>\u000a\u000a<pre><code>PyObject *\u000aPyList_GetItem(PyObject *op, Py_ssize_t i)\u000a{\u000a    /* error checking omitted */\u000a    return ((PyListObject *)op) -&gt; ob_item[i];\u000a}\u000a</code></pre>\u000a\u000a<p>There's very little to it:  <code>somelist[i]</code> just returns the <code>i</code>'th object in the list (and all Python objects in CPython are pointers to a struct whose initial segment conforms to the layout of a <code>struct PyObject</code>).</p>\u000a\u000a<p>And here's the <code>__getitem__</code> implementation for an <code>array</code> with type code <code>l</code>:</p>\u000a\u000a<pre><code>static PyObject *\u000al_getitem(arrayobject *ap, Py_ssize_t i)\u000a{\u000a    return PyLong_FromLong(((long *)ap-&gt;ob_item)[i]);\u000a}\u000a</code></pre>\u000a\u000a<p>The raw memory is treated as a vector of platform-native <code>C</code> <code>long</code> integers; the <code>i</code>'th <code>C long</code> is read up; and then <code>PyLong_FromLong()</code> is called to wrap ("box") the native <code>C long</code> in a Python <code>long</code> object (which, in Python 3, which eliminates Python 2's distinction between <code>int</code> and <code>long</code>, is actually shown as type <code>int</code>).</p>\u000a\u000a<p>This boxing has to allocate new memory for a Python <code>int</code> object, and spray the native <code>C long</code>'s bits into it.  In the context of the original example, this object's lifetime is very brief (just long enough for <code>sum()</code> to add the contents into a running total), and then more time is required to deallocate the new <code>int</code> object.</p>\u000a\u000a<p>This is where the speed difference comes from, always has come from, and always will come from in the CPython implementation.</p>\u000a
p482
sVquestion_id
p483
I36778568
sVlast_activity_date
p484
I1468513468
sVcreation_date
p485
I1461266451
sVscore
p486
I183
sVowner
p487
(dp488
Vuser_id
p489
I2705542
sVprofile_image
p490
Vhttps://www.gravatar.com/avatar/ffc22708f70324dcbfe34f247637ca01?s=128&d=identicon&r=PG&f=1
p491
sVuser_type
p492
Vregistered
p493
sVreputation
p494
I29776
sVlink
p495
Vhttp://stackoverflow.com/users/2705542/tim-peters
p496
sVdisplay_name
p497
VTim Peters
p498
ssVis_accepted
p499
I01
sVlast_edit_date
p500
I1468513468
sVanswer_id
p501
I36778655
sa(dp502
Vbody
p503
V<p>I believe <code>DataFrame.fillna()</code> will do this for you.</p>\u000a\u000a<p>Link to Docs for <a href="http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.fillna.html" rel="noreferrer">a dataframe</a> and for <a href="http://pandas.pydata.org/pandas-docs/stable/generated/pandas.Series.fillna.html" rel="noreferrer">a Series</a>. </p>\u000a\u000a<p>Example: </p>\u000a\u000a<pre><code>In [7]: df\u000aOut[7]: \u000a          0         1\u000a0       NaN       NaN\u000a1 -0.494375  0.570994\u000a2       NaN       NaN\u000a3  1.876360 -0.229738\u000a4       NaN       NaN\u000a\u000aIn [8]: df.fillna(0)\u000aOut[8]: \u000a          0         1\u000a0  0.000000  0.000000\u000a1 -0.494375  0.570994\u000a2  0.000000  0.000000\u000a3  1.876360 -0.229738\u000a4  0.000000  0.000000\u000a</code></pre>\u000a\u000a<p>To fill the NaNs in only one column, select just that column. in this case I'm using inplace=True to actually change the contents of df. </p>\u000a\u000a<pre><code>In [12]: df[1].fillna(0, inplace=True)\u000aOut[12]: \u000a0    0.000000\u000a1    0.570994\u000a2    0.000000\u000a3   -0.229738\u000a4    0.000000\u000aName: 1\u000a\u000aIn [13]: df\u000aOut[13]: \u000a          0         1\u000a0       NaN  0.000000\u000a1 -0.494375  0.570994\u000a2       NaN  0.000000\u000a3  1.876360 -0.229738\u000a4       NaN  0.000000\u000a</code></pre>\u000a
p504
sVquestion_id
p505
I13295735
sVlast_activity_date
p506
I1466702963
sVcreation_date
p507
I1352400867
sVscore
p508
I232
sVowner
p509
(dp510
Vuser_id
p511
I484596
sVprofile_image
p512
Vhttps://www.gravatar.com/avatar/f715a2328802e1dc40cc211cb9d46804?s=128&d=identicon&r=PG
p513
sVuser_type
p514
Vregistered
p515
sVreputation
p516
I13898
sVlink
p517
Vhttp://stackoverflow.com/users/484596/aman
p518
sVdisplay_name
p519
VAman
p520
ssVis_accepted
p521
I01
sVlast_edit_date
p522
I1466702963
sVanswer_id
p523
I13295801
sa(dp524
Vbody
p525
V<p>You could try:</p>\u000a\u000a<pre><code>dict((k, bigdict[k]) for k in ('l', 'm', 'n'))\u000a</code></pre>\u000a\u000a<p>... or in <del>Python 3</del> Python versions 2.7 or later <em>(thanks to <a href="http://stackoverflow.com/users/541842/fabio-diniz">Fbio Diniz</a> for pointing that out that it works in 2.7 too)</em>:</p>\u000a\u000a<pre><code>{k: bigdict[k] for k in ('l', 'm', 'n')}\u000a</code></pre>\u000a\u000a<p><em>Update: As <a href="http://stackoverflow.com/users/94237/havard-s">Hvard S</a> points out, I'm assuming that you know the keys are going to be in the dictionary - see <a href="http://stackoverflow.com/questions/5352546/best-way-to-extract-subset-of-key-value-pairs-from-python-dictionary-object/5352649#5352649">his answer</a> if you aren't able to make that assumption. Alternatively, as <a href="http://stackoverflow.com/users/127660/timbo">timbo</a> points out in the comments, if you want a key that's missing in <code>bigdict</code> to map to <code>None</code>,  you can do:</em></p>\u000a\u000a<pre><code>{k: bigdict.get(k, None) for k in ('l', 'm', 'n')}\u000a</code></pre>\u000a\u000a<p>If you're using Python 3, and you <em>only</em> want want keys in the new dict that actually exist in the original one, you can use the fact the view objects implement some set operations:</p>\u000a\u000a<pre><code>{k: bigdict[k] for k in bigdict.keys() &amp; {'l', 'm', 'n'}}\u000a</code></pre>\u000a
p526
sVquestion_id
p527
I5352546
sVlast_activity_date
p528
I1459670548
sVcreation_date
p529
I1300454881
sVscore
p530
I194
sVowner
p531
(dp532
Vuser_id
p533
I223092
sVprofile_image
p534
Vhttps://www.gravatar.com/avatar/71c4accacd83e0e6d2193e0da83dd3aa?s=128&d=identicon&r=PG
p535
sVuser_type
p536
Vregistered
p537
sVreputation
p538
I210881
sVlink
p539
Vhttp://stackoverflow.com/users/223092/mark-longair
p540
sVaccept_rate
p541
I68
sVdisplay_name
p542
VMark Longair
p543
ssVis_accepted
p544
I01
sVlast_edit_date
p545
I1459670548
sVanswer_id
p546
I5352630
sa(dp547
Vbody
p548
V<p>FWIW, the <code>multiprocessing</code> module has a nice interface for this using the <code>Pool</code> class.  And if you want to stick with threads rather than processes, you can just use the <code>multiprocessing.pool.ThreadPool</code> class as a drop-in replacement.</p>\u000a\u000a<pre><code>def foo(bar, baz):\u000a  print 'hello {0}'.format(bar)\u000a  return 'foo' + baz\u000a\u000afrom multiprocessing.pool import ThreadPool\u000apool = ThreadPool(processes=1)\u000a\u000aasync_result = pool.apply_async(foo, ('world', 'foo')) # tuple of args for foo\u000a\u000a# do some other stuff in the main process\u000a\u000areturn_val = async_result.get()  # get the return value from your function.\u000a</code></pre>\u000a
p549
sVquestion_id
p550
I6893968
sVlast_activity_date
p551
I1459352188
sVcreation_date
p552
I1358032920
sVscore
p553
I131
sVowner
p554
(dp555
Vuser_id
p556
I494983
sVprofile_image
p557
Vhttps://www.gravatar.com/avatar/b959fa42f155acebefcf622bcfb7deed?s=128&d=identicon&r=PG
p558
sVuser_type
p559
Vregistered
p560
sVreputation
p561
I1898
sVlink
p562
Vhttp://stackoverflow.com/users/494983/jake-biesinger
p563
sVaccept_rate
p564
I71
sVdisplay_name
p565
VJake Biesinger
p566
ssVis_accepted
p567
I01
sVlast_edit_date
p568
I1459352188
sVanswer_id
p569
I14299004
sa(dp570
Vbody
p571
V<p>There is a third party library for this on PyPI called <a href="https://pypi.python.org/pypi/natsort" rel="noreferrer">natsort</a> (full disclosure, I am the package's author).  For your case, you can do either of the following:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; from natsort import natsorted, ns\u000a&gt;&gt;&gt; x = ['Elm11', 'Elm12', 'Elm2', 'elm0', 'elm1', 'elm10', 'elm13', 'elm9']\u000a&gt;&gt;&gt; natsorted(x, key=lambda y: y.lower())\u000a['elm0', 'elm1', 'Elm2', 'elm9', 'elm10', 'Elm11', 'Elm12', 'elm13']\u000a&gt;&gt;&gt; natsorted(x, alg=ns.IGNORECASE)  # or alg=ns.IC\u000a['elm0', 'elm1', 'Elm2', 'elm9', 'elm10', 'Elm11', 'Elm12', 'elm13']\u000a</code></pre>\u000a\u000a<p>You should note that <code>natsort</code> uses a general algorithm so it should work for just about any input that you throw at it.</p>\u000a\u000a<hr>\u000a\u000a<p>If you need a sorting key instead of a sorting function, use either of the below formulas.</p>\u000a\u000a<pre><code>&gt;&gt;&gt; from natsort import natsort_keygen, ns\u000a&gt;&gt;&gt; l1 = ['elm0', 'elm1', 'Elm2', 'elm9', 'elm10', 'Elm11', 'Elm12', 'elm13']\u000a&gt;&gt;&gt; l2 = l1[:]\u000a&gt;&gt;&gt; natsort_key1 = natsort_keygen(key=lambda y: y.lower())\u000a&gt;&gt;&gt; l1.sort(key=natsort_key1)\u000a&gt;&gt;&gt; l1\u000a['elm0', 'elm1', 'Elm2', 'elm9', 'elm10', 'Elm11', 'Elm12', 'elm13']\u000a&gt;&gt;&gt; natsort_key2 = natsort_keygen(alg=ns.IGNORECASE)\u000a&gt;&gt;&gt; l2.sort(key=natsort_key2)\u000a&gt;&gt;&gt; l2\u000a['elm0', 'elm1', 'Elm2', 'elm9', 'elm10', 'Elm11', 'Elm12', 'elm13']\u000a</code></pre>\u000a
p572
sVquestion_id
p573
I4836710
sVlast_activity_date
p574
I1457661958
sVcreation_date
p575
I1377322722
sVscore
p576
I90
sVowner
p577
(dp578
Vuser_id
p579
I1399279
sVprofile_image
p580
Vhttps://www.gravatar.com/avatar/e2e566682f50d53a06a121d82f7ed8de?s=128&d=identicon&r=PG
p581
sVuser_type
p582
Vregistered
p583
sVreputation
p584
I12657
sVlink
p585
Vhttp://stackoverflow.com/users/1399279/sethmmorton
p586
sVaccept_rate
p587
I77
sVdisplay_name
p588
VSethMMorton
p589
ssVis_accepted
p590
I01
sVlast_edit_date
p591
I1457661958
sVanswer_id
p592
I18415320
sa(dp593
Vbody
p594
V<p>i use something like this:</p>\u000a\u000a<pre><code>import unittest\u000a\u000al = [["foo", "a", "a",], ["bar", "a", "b"], ["lee", "b", "b"]]\u000a\u000aclass TestSequense(unittest.TestCase):\u000a    pass\u000a\u000adef test_generator(a, b):\u000a    def test(self):\u000a        self.assertEqual(a,b)\u000a    return test\u000a\u000aif __name__ == '__main__':\u000a    for t in l:\u000a        test_name = 'test_%s' % t[0]\u000a        test = test_generator(t[1], t[2])\u000a        setattr(TestSequense, test_name, test)\u000a    unittest.main()\u000a</code></pre>\u000a\u000a<p>The <a href="https://github.com/wolever/nose-parameterized" rel="noreferrer"><code>nose-parameterized</code></a> package can be used to automate this process:</p>\u000a\u000a<pre><code>from nose_parameterized import parameterized\u000a\u000aclass TestSequence(unittest.TestCase):\u000a    @parameterized.expand([\u000a        ["foo", "a", "a",],\u000a        ["bar", "a", "b"],\u000a        ["lee", "b", "b"],\u000a    ])\u000a    def test_sequence(self, name, a, b):\u000a        self.assertEqual(a,b)\u000a</code></pre>\u000a\u000a<p>Which will generate the tests:</p>\u000a\u000a<pre><code>test_sequence_0_foo (__main__.TestSequence) ... ok\u000atest_sequence_1_bar (__main__.TestSequence) ... FAIL\u000atest_sequence_2_lee (__main__.TestSequence) ... ok\u000a\u000a======================================================================\u000aFAIL: test_sequence_1_bar (__main__.TestSequence)\u000a----------------------------------------------------------------------\u000aTraceback (most recent call last):\u000a  File "/usr/local/lib/python2.7/site-packages/nose_parameterized/parameterized.py", line 233, in &lt;lambda&gt;\u000a    standalone_func = lambda *a: func(*(a + p.args), **p.kwargs)\u000a  File "x.py", line 12, in test_sequence\u000a    self.assertEqual(a,b)\u000aAssertionError: 'a' != 'b'\u000a</code></pre>\u000a
p595
sVquestion_id
p596
I32899
sVlast_activity_date
p597
I1457029993
sVcreation_date
p598
I1219946553
sVscore
p599
I88
sVowner
p600
(dp601
Vuser_id
p602
I3448
sVprofile_image
p603
Vhttps://i.stack.imgur.com/fXJ72.jpg?s=128&g=1
p604
sVuser_type
p605
Vregistered
p606
sVreputation
p607
I3595
sVlink
p608
Vhttp://stackoverflow.com/users/3448/dmitry-mukhin
p609
sVaccept_rate
p610
I67
sVdisplay_name
p611
VDmitry Mukhin
p612
ssVis_accepted
p613
I01
sVlast_edit_date
p614
I1457029993
sVanswer_id
p615
I32939
sa(dp616
Vbody
p617
V<p>Set <code>Node.__new__.__defaults__</code> (or <code>Node.__new__.func_defaults</code> before Python 2.6) to the default values.</p>\u000a\u000a<pre><code>&gt;&gt;&gt; from collections import namedtuple\u000a&gt;&gt;&gt; Node = namedtuple('Node', 'val left right')\u000a&gt;&gt;&gt; Node.__new__.__defaults__ = (None,) * len(Node._fields)\u000a&gt;&gt;&gt; Node()\u000aNode(val=None, left=None, right=None)\u000a</code></pre>\u000a\u000a<p>You can also have required fields by making the <code>__defaults__</code> list shorter.</p>\u000a\u000a<pre><code>&gt;&gt;&gt; Node.__new__.__defaults__ = (None, None)\u000a&gt;&gt;&gt; Node()\u000aTraceback (most recent call last):\u000a  ...\u000aTypeError: __new__() missing 1 required positional argument: 'val'\u000a&gt;&gt;&gt; Node(3)\u000aNode(val=3, left=None, right=None)\u000a</code></pre>\u000a\u000a<h2>Wrapper</h2>\u000a\u000a<p>Here's a nice wrapper for you, which even lets you (optionally) set the default values to something other than <code>None</code>.  (This does not support required arguments.):</p>\u000a\u000a<pre><code>import collections\u000adef namedtuple_with_defaults(typename, field_names, default_values=()):\u000a    T = collections.namedtuple(typename, field_names)\u000a    T.__new__.__defaults__ = (None,) * len(T._fields)\u000a    if isinstance(default_values, collections.Mapping):\u000a        prototype = T(**default_values)\u000a    else:\u000a        prototype = T(*default_values)\u000a    T.__new__.__defaults__ = tuple(prototype)\u000a    return T\u000a</code></pre>\u000a\u000a<p>Example:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; Node = namedtuple_with_defaults('Node', 'val left right')\u000a&gt;&gt;&gt; Node()\u000aNode(val=None, left=None, right=None)\u000a&gt;&gt;&gt; Node = namedtuple_with_defaults('Node', 'val left right', [1, 2, 3])\u000a&gt;&gt;&gt; Node()\u000aNode(val=1, left=2, right=3)\u000a&gt;&gt;&gt; Node = namedtuple_with_defaults('Node', 'val left right', {'right':7})\u000a&gt;&gt;&gt; Node()\u000aNode(val=None, left=None, right=7)\u000a&gt;&gt;&gt; Node(4)\u000aNode(val=4, left=None, right=7)\u000a</code></pre>\u000a
p618
sVquestion_id
p619
I11351032
sVlast_activity_date
p620
I1449692875
sVcreation_date
p621
I1377052832
sVscore
p622
I224
sVowner
p623
(dp624
Vuser_id
p625
I303425
sVprofile_image
p626
Vhttps://www.gravatar.com/avatar/2ba36f553521381741fcc3f87a48ba04?s=128&d=identicon&r=PG
p627
sVuser_type
p628
Vregistered
p629
sVreputation
p630
I17828
sVlink
p631
Vhttp://stackoverflow.com/users/303425/mark-lodato
p632
sVaccept_rate
p633
I50
sVdisplay_name
p634
VMark Lodato
p635
ssVis_accepted
p636
I01
sVlast_edit_date
p637
I1449692875
sVanswer_id
p638
I18348004
sa(dp639
Vbody
p640
V<p>Compare this, without using <code>nonlocal</code>:</p>\u000a\u000a<pre><code>x = 0\u000adef outer():\u000a    x = 1\u000a    def inner():\u000a        x = 2\u000a        print("inner:", x)\u000a\u000a    inner()\u000a    print("outer:", x)\u000a\u000aouter()\u000aprint("global:", x)\u000a\u000a# inner: 2\u000a# outer: 1\u000a# global: 0\u000a</code></pre>\u000a\u000a<p>To this, using <strong><code>nonlocal</code></strong>, where <code>inner()</code>'s <code>x</code> is now also <code>outer()</code>'s <code>x</code>:</p>\u000a\u000a<pre><code>x = 0\u000adef outer():\u000a    x = 1\u000a    def inner():\u000a        nonlocal x\u000a        x = 2\u000a        print("inner:", x)\u000a\u000a    inner()\u000a    print("outer:", x)\u000a\u000aouter()\u000aprint("global:", x)\u000a\u000a# inner: 2\u000a# outer: 2\u000a# global: 0\u000a</code></pre>\u000a\u000a<blockquote>\u000a  <p>If we were to use <strong><code>global</code></strong>, it would bind <code>x</code> to the properly "global" value:</p>\u000a\u000a<pre><code>x = 0\u000adef outer():\u000a    x = 1\u000a    def inner():\u000a        global x\u000a        x = 2\u000a        print("inner:", x)\u000a\u000a    inner()\u000a    print("outer:", x)\u000a\u000aouter()\u000aprint("global:", x)\u000a\u000a# inner: 2\u000a# outer: 1\u000a# global: 2\u000a</code></pre>\u000a</blockquote>\u000a
p641
sVquestion_id
p642
I1261875
sVlast_activity_date
p643
I1444420824
sVcreation_date
p644
I1250013210
sVscore
p645
I198
sVowner
p646
(dp647
Vuser_id
p648
I108445
sVprofile_image
p649
Vhttps://www.gravatar.com/avatar/63a945d1f94938561b0ff25c61468050?s=128&d=identicon&r=PG
p650
sVuser_type
p651
Vunregistered
p652
sVreputation
p653
I5962
sVlink
p654
Vhttp://stackoverflow.com/users/108445/anon
p655
sVdisplay_name
p656
VAnon
p657
ssVis_accepted
p658
I01
sVlast_edit_date
p659
I1444420824
sVanswer_id
p660
I1261961
sa(dp661
Vbody
p662
V<blockquote>\u000a  <p>So how can I question a variable that is a NoneType?</p>\u000a</blockquote>\u000a\u000a<p>Use <code>is</code> operator, like this</p>\u000a\u000a<pre><code>if variable is None:\u000a</code></pre>\u000a\u000a<p><strong>Why this works?</strong></p>\u000a\u000a<p>Since <a href="https://docs.python.org/2/library/constants.html#None"><code>None</code></a> is the sole singleton object of <a href="https://docs.python.org/2/library/types.html#types.NoneType"><code>NoneType</code></a> in Python, we can use <code>is</code> operator to check if a variable has <code>None</code> in it or not.</p>\u000a\u000a<p>Quoting from <a href="https://docs.python.org/2/reference/expressions.html#is"><code>is</code> docs</a>,</p>\u000a\u000a<blockquote>\u000a  <p>The operators <code>is</code> and <code>is not</code> test for object identity: <code>x is y</code> is true if and only if <code>x</code> and <code>y</code> are the same object. <code>x is not y</code> yields the inverse truth value.</p>\u000a</blockquote>\u000a\u000a<p>Since there can be only one instance of <code>None</code>, <code>is</code> would be the preferred way to check <code>None</code>.</p>\u000a\u000a<hr>\u000a\u000a<p><strong>Hear it from the horse's mouth</strong></p>\u000a\u000a<p>Quoting <a href="https://www.python.org/dev/peps/pep-0008/#programming-recommendations">Python's Coding Style Guidelines - PEP-008</a> (jointly defined by Guido himself),</p>\u000a\u000a<blockquote>\u000a  <p>Comparisons to singletons like <strong><code>None</code> should always be done with <code>is</code> or <code>is not</code></strong>, <strong>never the equality operators</strong>.</p>\u000a</blockquote>\u000a
p663
sVquestion_id
p664
I23086383
sVlast_activity_date
p665
I1440214239
sVcreation_date
p666
I1397571406
sVscore
p667
I206
sVowner
p668
(dp669
Vuser_id
p670
I1903116
sVprofile_image
p671
Vhttps://i.stack.imgur.com/w6Ffg.jpg?s=128&g=1
p672
sVuser_type
p673
Vregistered
p674
sVreputation
p675
I130025
sVlink
p676
Vhttp://stackoverflow.com/users/1903116/thefourtheye
p677
sVaccept_rate
p678
I100
sVdisplay_name
p679
Vthefourtheye
p680
ssVis_accepted
p681
I01
sVlast_edit_date
p682
I1440214239
sVanswer_id
p683
I23086405
sa(dp684
Vbody
p685
V<p>If we look at the Zen of Python, emphasis mine:</p>\u000a\u000a<blockquote>\u000a  <p>The Zen of Python, by Tim Peters</p>\u000a  \u000a  <p>Beautiful is better than ugly.<br>\u000a  Explicit is better than implicit.<br>\u000a  <strong>Simple is better than complex.</strong><br>\u000a  Complex is better than complicated.<br>\u000a  Flat is better than nested.<br>\u000a  Sparse is better than dense.<br>\u000a  <strong>Readability counts.</strong><br>\u000a  Special cases aren't special enough to break the rules.<br>\u000a  Although practicality beats purity.<br>\u000a  Errors should never pass silently.<br>\u000a  Unless explicitly silenced.<br>\u000a  In the face of ambiguity, refuse the temptation to guess.<br>\u000a  <strong>There should be one-- and preferably only one --obvious way to do it.</strong><br>\u000a  Although that way may not be obvious at first unless you're Dutch.<br>\u000a  Now is better than never.<br>\u000a  Although never is often better than <em>right</em> now.<br>\u000a  <strong>If the implementation is hard to explain, it's a bad idea.</strong><br>\u000a  <strong>If the implementation is easy to explain, it may be a good idea.</strong><br>\u000a  Namespaces are one honking great idea -- let's do more of those!</p>\u000a</blockquote>\u000a\u000a<p>The most Pythonic solution is the one that is clearest, simplest, and easiest to explain:</p>\u000a\u000a<pre><code>a + b == c or a + c == b or b + c == a\u000a</code></pre>\u000a\u000a<p>Even better, you don't even need to know Python to understand this code! It's <em>that</em> easy. This is, without reservation, the best solution. Anything else is intellectual masturbation.</p>\u000a\u000a<p>Furthermore, this is likely the best performing solution as well, as it is the only one out of all the proposals that short circuits. If <code>a + b == c</code>, only a single addition and comparison is done. </p>\u000a
p686
sVquestion_id
p687
I32085675
sVlast_activity_date
p688
I1440006745
sVcreation_date
p689
I1440003667
sVscore
p690
I198
sVowner
p691
(dp692
Vuser_id
p693
I2069064
sVprofile_image
p694
Vhttps://i.stack.imgur.com/e4V2X.jpg?s=128&g=1
p695
sVuser_type
p696
Vregistered
p697
sVreputation
p698
I124250
sVlink
p699
Vhttp://stackoverflow.com/users/2069064/barry
p700
sVaccept_rate
p701
I72
sVdisplay_name
p702
VBarry
p703
ssVis_accepted
p704
I01
sVlast_edit_date
p705
I1440006745
sVanswer_id
p706
I32101507
sa(dp707
Vbody
p708
V<p><strong>Edit</strong> - based on your comment of dates being needed to be rounded down if there are fewer days in the next month, here is a solution:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; import datetime\u000a&gt;&gt;&gt; import calendar\u000a&gt;&gt;&gt;\u000a&gt;&gt;&gt; def add_months(sourcedate,months):\u000a...     month = sourcedate.month - 1 + months\u000a...     year = int(sourcedate.year + month / 12 )\u000a...     month = month % 12 + 1\u000a...     day = min(sourcedate.day,calendar.monthrange(year,month)[1])\u000a...     return datetime.date(year,month,day)\u000a...\u000a&gt;&gt;&gt; somedate = datetime.date.today()\u000a&gt;&gt;&gt; somedate\u000adatetime.date(2010, 11, 9)\u000a&gt;&gt;&gt; add_months(somedate,1)\u000adatetime.date(2010, 12, 9)\u000a&gt;&gt;&gt; add_months(somedate,23)\u000adatetime.date(2012, 10, 9)\u000a&gt;&gt;&gt; otherdate = datetime.date(2010,10,31)\u000a&gt;&gt;&gt; add_months(otherdate,1)\u000adatetime.date(2010, 11, 30)\u000a</code></pre>\u000a\u000a<p>Also, if you're not worried about hours, minutes and seconds you could use <code>date</code> rather than <code>datetime</code>.  If you are worried about hours, minutes and seconds you need to modify my code to use <code>datetime</code> and copy hours, minutes and seconds from the source to the result.</p>\u000a
p709
sVquestion_id
p710
I4130922
sVlast_activity_date
p711
I1439376001
sVcreation_date
p712
I1289284892
sVscore
p713
I84
sVowner
p714
(dp715
Vuser_id
p716
I3171
sVprofile_image
p717
Vhttps://www.gravatar.com/avatar/a780bab849bc39176f044f5effbba7da?s=128&d=identicon&r=PG
p718
sVuser_type
p719
Vregistered
p720
sVreputation
p721
I133854
sVlink
p722
Vhttp://stackoverflow.com/users/3171/dave-webb
p723
sVaccept_rate
p724
I92
sVdisplay_name
p725
VDave Webb
p726
ssVis_accepted
p727
I01
sVlast_edit_date
p728
I1439376001
sVanswer_id
p729
I4131114
sa(dp730
Vbody
p731
V<p>Apparently (having faced related 64- and 32-bit issues on OS X) there is a <a href="http://bugs.python.org/issue6792" rel="noreferrer">bug in the Windows installer</a>. I stumbled across <a href="http://selfsolved.com/problems/setuptools-06c11-fails-to-instal/s/63" rel="noreferrer">this workaround</a>, which might help - basically, you create your own registry value <code>HKEY_LOCAL_MACHINE\u005cSOFTWARE\u005cWow6432Node\u005cPython\u005cPythonCore\u005c2.6\u005cInstallPath</code> and copy over the InstallPath value from <code>HKEY_LOCAL_MACHINE\u005cSOFTWARE\u005cPython\u005cPythonCore\u005c2.6\u005cInstallPath</code>. See the answer below for more details.</p>\u000a\u000a<p>If you do this, beware that setuptools <strong>may only install 32-bit libraries</strong>.</p>\u000a\u000a<p>NOTE: the responses below offer more detail, so please read them too.</p>\u000a
p732
sVquestion_id
p733
I3652625
sVlast_activity_date
p734
I1439114246
sVcreation_date
p735
I1283787733
sVscore
p736
I92
sVowner
p737
(dp738
Vuser_id
p739
I123033
sVprofile_image
p740
Vhttps://www.gravatar.com/avatar/c94743fafb1114f9742bf7a16a2e11d7?s=128&d=identicon&r=PG
p741
sVuser_type
p742
Vregistered
p743
sVreputation
p744
I7579
sVlink
p745
Vhttp://stackoverflow.com/users/123033/dave-everitt
p746
sVaccept_rate
p747
I77
sVdisplay_name
p748
VDave Everitt
p749
ssVis_accepted
p750
I01
sVlast_edit_date
p751
I1439114246
sVanswer_id
p752
I3652674
sa(dp753
Vbody
p754
V<p><strong>Real solution</strong></p>\u000a\u000a<p>Ok, I managed to trace the problem down. It lies in the Javascript (as I suggested below) code.</p>\u000a\u000a<p>What you need is this:</p>\u000a\u000a<pre><code>$.ajaxSetup({ \u000a     beforeSend: function(xhr, settings) {\u000a         function getCookie(name) {\u000a             var cookieValue = null;\u000a             if (document.cookie &amp;&amp; document.cookie != '') {\u000a                 var cookies = document.cookie.split(';');\u000a                 for (var i = 0; i &lt; cookies.length; i++) {\u000a                     var cookie = jQuery.trim(cookies[i]);\u000a                     // Does this cookie string begin with the name we want?\u000a                     if (cookie.substring(0, name.length + 1) == (name + '=')) {\u000a                         cookieValue = decodeURIComponent(cookie.substring(name.length + 1));\u000a                         break;\u000a                     }\u000a                 }\u000a             }\u000a             return cookieValue;\u000a         }\u000a         if (!(/^http:.*/.test(settings.url) || /^https:.*/.test(settings.url))) {\u000a             // Only send the token to relative URLs i.e. locally.\u000a             xhr.setRequestHeader("X-CSRFToken", getCookie('csrftoken'));\u000a         }\u000a     } \u000a});\u000a</code></pre>\u000a\u000a<p>instead of the code posted in the official docs:\u000a<a href="http://docs.djangoproject.com/en/1.2/ref/contrib/csrf/#ajax">http://docs.djangoproject.com/en/1.2/ref/contrib/csrf/#ajax</a></p>\u000a\u000a<p>The working code, comes from this Django entry: <a href="http://www.djangoproject.com/weblog/2011/feb/08/security/">http://www.djangoproject.com/weblog/2011/feb/08/security/</a></p>\u000a\u000a<p>So the general solution is: "use ajaxSetup handler instead of ajaxSend handler". I don't know why it works. But it works for me :)</p>\u000a\u000a<p><strong>Previous post (without answer)</strong></p>\u000a\u000a<p>I'm experiencing the same problem actually.</p>\u000a\u000a<p>It occurs after updating to Django 1.2.5 - there were no errors with AJAX POST requests in Django 1.2.4 (AJAX wasn't protected in any way, but it worked just fine).</p>\u000a\u000a<p>Just like OP, I have tried the JavaScript snippet posted in Django documentation. I'm using jQuery 1.5. I'm also using the "django.middleware.csrf.CsrfViewMiddleware" middleware.</p>\u000a\u000a<p>I tried to follow the the middleware code and I know that it fails on this:</p>\u000a\u000a<pre><code>request_csrf_token = request.META.get('HTTP_X_CSRFTOKEN', '')\u000a</code></pre>\u000a\u000a<p>and then</p>\u000a\u000a<pre><code>if request_csrf_token != csrf_token:\u000a    return self._reject(request, REASON_BAD_TOKEN)\u000a</code></pre>\u000a\u000a<p>this "if" is true, because "request_csrf_token" is empty.</p>\u000a\u000a<p>Basically it means that the header is NOT set. So is there anything wrong with this JS line:</p>\u000a\u000a<pre><code>xhr.setRequestHeader("X-CSRFToken", getCookie('csrftoken'));\u000a</code></pre>\u000a\u000a<p>?</p>\u000a\u000a<p>I hope that provided details will help us in resolving the issue :)</p>\u000a
p755
sVquestion_id
p756
I5100539
sVlast_activity_date
p757
I1438641420
sVcreation_date
p758
I1298566742
sVscore
p759
I143
sVowner
p760
(dp761
Vuser_id
p762
I469514
sVprofile_image
p763
Vhttps://www.gravatar.com/avatar/23a4d2209e2355b5e3462677528a1995?s=128&d=identicon&r=PG
p764
sVuser_type
p765
Vregistered
p766
sVreputation
p767
I2379
sVlink
p768
Vhttp://stackoverflow.com/users/469514/jakub-goc%c5%82awski
p769
sVdisplay_name
p770
VJakub Goc\u0142awski
p771
ssVis_accepted
p772
I01
sVlast_edit_date
p773
I1438641420
sVanswer_id
p774
I5107878
sa(dp775
Vbody
p776
V<p>You could say <code>defaultdict</code> is useful for settings defaults <em>before filling the dict</em> and <code>setdefault</code> is useful for setting defaults <em>while or after filling the dict</em>. </p>\u000a\u000a<p>Probably the most common use case: Grouping items (in unsorted data, else use <code>itertools.groupby</code>)</p>\u000a\u000a<pre><code># really verbose\u000anew = {}\u000afor (key, value) in data:\u000a    if key in new:\u000a        new[key].append( value )\u000a    else:\u000a        new[key] = [value]\u000a\u000a\u000a# easy with setdefault\u000anew = {}\u000afor (key, value) in data:\u000a    group = new.setdefault(key, []) # key might exist already\u000a    group.append( value )\u000a\u000a\u000a# even simpler with defaultdict \u000anew = defaultdict(list)\u000afor (key, value) in data:\u000a    new[key].append( value ) # all keys have a default already\u000a</code></pre>\u000a\u000a<p>Sometimes you want to make sure that specific keys exist after creating a dict. <code>defaultdict</code> doesn't work in this case, because it only creates keys on explicit access. Think you use something HTTP-ish with many headers -- some are optional, but you want defaults for them:</p>\u000a\u000a<pre><code>headers = parse_headers( msg ) # parse the message, get a dict\u000a# now add all the optional headers\u000afor headername, defaultvalue in optional_headers:\u000a    headers.setdefault( headername, defaultvalue )\u000a</code></pre>\u000a
p777
sVquestion_id
p778
I3483520
sVlast_activity_date
p779
I1438264785
sVcreation_date
p780
I1281794751
sVscore
p781
I132
sVowner
p782
(dp783
Vuser_id
p784
I95612
sVprofile_image
p785
Vhttps://www.gravatar.com/avatar/e2166d0ea599ad4b0c57054b55f0600f?s=128&d=identicon&r=PG
p786
sVuser_type
p787
Vregistered
p788
sVreputation
p789
I63439
sVlink
p790
Vhttp://stackoverflow.com/users/95612/jochen-ritzel
p791
sVaccept_rate
p792
I80
sVdisplay_name
p793
VJochen Ritzel
p794
ssVis_accepted
p795
I01
sVlast_edit_date
p796
I1438264785
sVanswer_id
p797
I3483652
sa(dp798
Vbody
p799
V<p>As @bmu <a href="http://stackoverflow.com/a/11708664/623735">mentioned</a>, pandas auto detects (by default) the size of the display area, a summary view will be used when an object repr does not fit on the display. You mentioned resizing the IDLE window, to no effect. If you do <code>print df.describe().to_string()</code> does it fit on the IDLE window?</p>\u000a\u000a<p>The terminal size is determined by <code>pandas.util.terminal.get_terminal_size()</code>, this returns a tuple containing the <code>(width, height)</code> of the display. Does the output match the size of your IDLE window? There might be an issue (there was one before when running a terminal in emacs).</p>\u000a\u000a<p>Note that it is possible to bypass the autodetect, <code>pandas.set_printoptions(max_rows=200, max_columns=10)</code> will never switch to summary view if number of rows, columns does not exceed the given limits.</p>\u000a\u000a<hr>\u000a\u000a<p><strong>Update: Pandas 0.11.0 onwards</strong></p>\u000a\u000a<p><code>pandas.set_printoptions(...)</code> is depracted. Instead, use <code>pandas.set_option</code>. Like:</p>\u000a\u000a<pre><code>import pandas as pd\u000apd.set_option('display.height', 1000)\u000apd.set_option('display.max_rows', 500)\u000apd.set_option('display.max_columns', 500)\u000apd.set_option('display.width', 1000)\u000a</code></pre>\u000a\u000a<p>Here is the help:</p>\u000a\u000a<pre>\u000aset_option(pat,value) - Sets the value of the specified option\u000a\u000aAvailable options:\u000adisplay.[chop_threshold, colheader_justify, column_space, date_dayfirst,\u000a         date_yearfirst, encoding, expand_frame_repr, float_format, height,\u000a         line_width, max_columns, max_colwidth, max_info_columns, max_info_rows,\u000a         max_rows, max_seq_items, mpl_style, multi_sparse, notebook_repr_html,\u000a         pprint_nest_depth, precision, width]\u000amode.[sim_interactive, use_inf_as_null]\u000a\u000aParameters\u000a----------\u000apat - str/regexp which should match a single option.\u000a\u000aNote: partial matches are supported for convenience, but unless you use the\u000afull option name (e.g. x.y.z.option_name), your code may break in future\u000aversions if new options with similar names are introduced.\u000a\u000avalue - new value of option.\u000a\u000aReturns\u000a-------\u000aNone\u000a\u000aRaises\u000a------\u000aKeyError if no such option exists\u000a\u000adisplay.chop_threshold: [default: None] [currently: None]\u000a: float or None\u000a        if set to a float value, all float values smaller then the given threshold\u000a        will be displayed as exactly 0 by repr and friends.\u000adisplay.colheader_justify: [default: right] [currently: right]\u000a: 'left'/'right'\u000a        Controls the justification of column headers. used by DataFrameFormatter.\u000adisplay.column_space: [default: 12] [currently: 12]No description available.\u000a\u000adisplay.date_dayfirst: [default: False] [currently: False]\u000a: boolean\u000a        When True, prints and parses dates with the day first, eg 20/01/2005\u000adisplay.date_yearfirst: [default: False] [currently: False]\u000a: boolean\u000a        When True, prints and parses dates with the year first, eg 2005/01/20\u000adisplay.encoding: [default: UTF-8] [currently: UTF-8]\u000a: str/unicode\u000a        Defaults to the detected encoding of the console.\u000a        Specifies the encoding to be used for strings returned by to_string,\u000a        these are generally strings meant to be displayed on the console.\u000adisplay.expand_frame_repr: [default: True] [currently: True]\u000a: boolean\u000a        Whether to print out the full DataFrame repr for wide DataFrames\u000a        across multiple lines, `max_columns` is still respected, but the output will\u000a        wrap-around across multiple "pages" if it's width exceeds `display.width`.\u000adisplay.float_format: [default: None] [currently: None]\u000a: callable\u000a        The callable should accept a floating point number and return\u000a        a string with the desired format of the number. This is used\u000a        in some places like SeriesFormatter.\u000a        See core.format.EngFormatter for an example.\u000adisplay.height: [default: 60] [currently: 1000]\u000a: int\u000a        Deprecated.\u000a        (Deprecated, use `display.height` instead.)\u000a\u000adisplay.line_width: [default: 80] [currently: 1000]\u000a: int\u000a        Deprecated.\u000a        (Deprecated, use `display.width` instead.)\u000a\u000adisplay.max_columns: [default: 20] [currently: 500]\u000a: int\u000a        max_rows and max_columns are used in __repr__() methods to decide if\u000a        to_string() or info() is used to render an object to a string.  In case\u000a        python/IPython is running in a terminal this can be set to 0 and pandas\u000a        will correctly auto-detect the width the terminal and swap to a smaller\u000a        format in case all columns would not fit vertically. The IPython notebook,\u000a        IPython qtconsole, or IDLE do not run in a terminal and hence it is not\u000a        possible to do correct auto-detection.\u000a        'None' value means unlimited.\u000adisplay.max_colwidth: [default: 50] [currently: 50]\u000a: int\u000a        The maximum width in characters of a column in the repr of\u000a        a pandas data structure. When the column overflows, a "..."\u000a        placeholder is embedded in the output.\u000adisplay.max_info_columns: [default: 100] [currently: 100]\u000a: int\u000a        max_info_columns is used in DataFrame.info method to decide if\u000a        per column information will be printed.\u000adisplay.max_info_rows: [default: 1690785] [currently: 1690785]\u000a: int or None\u000a        max_info_rows is the maximum number of rows for which a frame will\u000a        perform a null check on its columns when repr'ing To a console.\u000a        The default is 1,000,000 rows. So, if a DataFrame has more\u000a        1,000,000 rows there will be no null check performed on the\u000a        columns and thus the representation will take much less time to\u000a        display in an interactive session. A value of None means always\u000a        perform a null check when repr'ing.\u000adisplay.max_rows: [default: 60] [currently: 500]\u000a: int\u000a        This sets the maximum number of rows pandas should output when printing\u000a        out various output. For example, this value determines whether the repr()\u000a        for a dataframe prints out fully or just a summary repr.\u000a        'None' value means unlimited.\u000adisplay.max_seq_items: [default: None] [currently: None]\u000a: int or None\u000a\u000a        when pretty-printing a long sequence, no more then `max_seq_items`\u000a        will be printed. If items are ommitted, they will be denoted by the addition\u000a        of "..." to the resulting string.\u000a\u000a        If set to None, the number of items to be printed is unlimited.\u000adisplay.mpl_style: [default: None] [currently: None]\u000a: bool\u000a\u000a        Setting this to 'default' will modify the rcParams used by matplotlib\u000a        to give plots a more pleasing visual style by default.\u000a        Setting this to None/False restores the values to their initial value.\u000adisplay.multi_sparse: [default: True] [currently: True]\u000a: boolean\u000a        "sparsify" MultiIndex display (don't display repeated\u000a        elements in outer levels within groups)\u000adisplay.notebook_repr_html: [default: True] [currently: True]\u000a: boolean\u000a        When True, IPython notebook will use html representation for\u000a        pandas objects (if it is available).\u000adisplay.pprint_nest_depth: [default: 3] [currently: 3]\u000a: int\u000a        Controls the number of nested levels to process when pretty-printing\u000adisplay.precision: [default: 7] [currently: 7]\u000a: int\u000a        Floating point output precision (number of significant digits). This is\u000a        only a suggestion\u000adisplay.width: [default: 80] [currently: 1000]\u000a: int\u000a        Width of the display in characters. In case python/IPython is running in\u000a        a terminal this can be set to None and pandas will correctly auto-detect the\u000a        width.\u000a        Note that the IPython notebook, IPython qtconsole, or IDLE do not run in a\u000a        terminal and hence it is not possible to correctly detect the width.\u000amode.sim_interactive: [default: False] [currently: False]\u000a: boolean\u000a        Whether to simulate interactive mode for purposes of testing\u000amode.use_inf_as_null: [default: False] [currently: False]\u000a: boolean\u000a        True means treat None, NaN, INF, -INF as null (old way),\u000a        False means None and NaN are null, but INF, -INF are not null\u000a        (new way).\u000aCall def:   pd.set_option(self, *args, **kwds)\u000a</pre>\u000a
p800
sVquestion_id
p801
I11707586
sVlast_activity_date
p802
I1436901881
sVcreation_date
p803
I1343584922
sVscore
p804
I193
sVowner
p805
(dp806
Vuser_id
p807
I1548051
sVprofile_image
p808
Vhttps://www.gravatar.com/avatar/468f540caebe33dee286d9e09603e462?s=128&d=identicon&r=PG
p809
sVuser_type
p810
Vregistered
p811
sVreputation
p812
I16612
sVlink
p813
Vhttp://stackoverflow.com/users/1548051/wouter-overmeire
p814
sVdisplay_name
p815
VWouter Overmeire
p816
ssVis_accepted
p817
I01
sVlast_edit_date
p818
I1436901881
sVanswer_id
p819
I11711637
sa(dp820
Vbody
p821
V<p>Using <a href="https://docs.python.org/2/library/dis.html" rel="noreferrer"><code>dis</code></a> to look at the bytecode generated for the two versions:</p>\u000a\u000a<p><strong><code>not ==</code></strong></p>\u000a\u000a<pre><code>  4           0 LOAD_FAST                0 (foo)\u000a              3 LOAD_FAST                1 (bar)\u000a              6 COMPARE_OP               2 (==)\u000a              9 UNARY_NOT           \u000a             10 RETURN_VALUE   \u000a</code></pre>\u000a\u000a<p><strong><code>!=</code></strong></p>\u000a\u000a<pre><code>  4           0 LOAD_FAST                0 (foo)\u000a              3 LOAD_FAST                1 (bar)\u000a              6 COMPARE_OP               3 (!=)\u000a              9 RETURN_VALUE   \u000a</code></pre>\u000a\u000a<p>The latter has fewer operations, and is therefore likely to be slightly more efficient. </p>\u000a\u000a<hr>\u000a\u000a<p>It was pointed out <a href="http://stackoverflow.com/questions/31026754/python-if-not-vs-if/31026976#comment50099324_31026976">in the commments</a> (thanks, <a href="http://stackoverflow.com/users/1896169/quincunx">@Quincunx</a>) that where you have <code>if foo != bar</code> vs. <code>if not foo == bar</code> the number of operations is exactly the same, it's just that the <code>COMPARE_OP</code> changes and <code>POP_JUMP_IF_TRUE</code> switches to <code>POP_JUMP_IF_FALSE</code>:</p>\u000a\u000a<p><strong><code>not ==</code></strong>:</p>\u000a\u000a<pre><code>  2           0 LOAD_FAST                0 (foo)\u000a              3 LOAD_FAST                1 (bar)\u000a              6 COMPARE_OP               2 (==)\u000a              9 POP_JUMP_IF_TRUE        16\u000a</code></pre>\u000a\u000a<p><strong><code>!=</code></strong></p>\u000a\u000a<pre><code>  2           0 LOAD_FAST                0 (foo)\u000a              3 LOAD_FAST                1 (bar)\u000a              6 COMPARE_OP               3 (!=)\u000a              9 POP_JUMP_IF_FALSE       16\u000a</code></pre>\u000a\u000a<p>In this case, unless there was a difference in the amount of work required for each comparison, it's unlikely you'd see any performance difference at all.</p>\u000a\u000a<hr>\u000a\u000a<p>However, note that the two versions <strong>won't always be logically identical</strong>, as it will depend on the implementations of <code>__eq__</code> and <code>__ne__</code> for the objects in question. Per <a href="https://docs.python.org/2/reference/datamodel.html#object.__lt__" rel="noreferrer">the data model documentation</a>:</p>\u000a\u000a<blockquote>\u000a  <p>There are no implied relationships among the comparison operators. The\u000a  truth of <code>x==y</code> does not imply that <code>x!=y</code> is false.</p>\u000a</blockquote>\u000a\u000a<p>For example:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; class Dummy(object):\u000a    def __eq__(self, other):\u000a        return True\u000a    def __ne__(self, other):\u000a        return True\u000a\u000a\u000a&gt;&gt;&gt; not Dummy() == Dummy()\u000aFalse\u000a&gt;&gt;&gt; Dummy() != Dummy()\u000aTrue\u000a</code></pre>\u000a\u000a<hr>\u000a\u000a<p>Finally, and perhaps most importantly: in general, where the two <em>are</em> logically identical, <strong><code>x != y</code> is much more readable than <code>not x == y</code></strong>.</p>\u000a
p822
sVquestion_id
p823
I31026754
sVlast_activity_date
p824
I1435227029
sVcreation_date
p825
I1435149934
sVscore
p826
I179
sVowner
p827
(dp828
Vuser_id
p829
I3001761
sVprofile_image
p830
Vhttps://i.stack.imgur.com/feZwC.jpg?s=128&g=1
p831
sVuser_type
p832
Vregistered
p833
sVreputation
p834
I64731
sVlink
p835
Vhttp://stackoverflow.com/users/3001761/jonrsharpe
p836
sVdisplay_name
p837
Vjonrsharpe
p838
ssVis_accepted
p839
I01
sVlast_edit_date
p840
I1435227029
sVanswer_id
p841
I31026976
sa(dp842
Vbody
p843
V<p>That means it is timezone naive, so you can't use it with <code>datetime.astimezone</code></p>\u000a\u000a<p>you can give it a timezone like this</p>\u000a\u000a<pre><code>import pytz  # 3rd party: $ pip install pytz\u000a\u000au = datetime.utcnow()\u000au = u.replace(tzinfo=pytz.utc) #NOTE: it works only with a fixed utc offset\u000a</code></pre>\u000a\u000a<p>now you can change timezones</p>\u000a\u000a<pre><code>print(u.astimezone(pytz.timezone("America/New_York")))\u000a</code></pre>\u000a\u000a<p>To get the current time in a given timezone, you could pass tzinfo to <code>datetime.now()</code> directly:</p>\u000a\u000a<pre><code>#!/usr/bin/env python\u000afrom datetime import datetime\u000aimport pytz # $ pip install pytz\u000a\u000aprint(datetime.now(pytz.timezone("America/New_York")))\u000a</code></pre>\u000a\u000a<p>It works for any timezone including those that observe daylight saving time (DST) i.e., it works for timezones that may have different utc offsets at different times (non-fixed utc offset). Don't use <code>tz.localize(datetime.now())</code> -- it may fail during end-of-DST transition when the local time is ambiguous.</p>\u000a
p844
sVquestion_id
p845
I2331592
sVlast_activity_date
p846
I1434352150
sVcreation_date
p847
I1267072133
sVscore
p848
I120
sVowner
p849
(dp850
Vuser_id
p851
I174728
sVprofile_image
p852
Vhttps://i.stack.imgur.com/eRO75.jpg?s=128&g=1
p853
sVuser_type
p854
Vregistered
p855
sVreputation
p856
I167078
sVlink
p857
Vhttp://stackoverflow.com/users/174728/john-la-rooy
p858
sVaccept_rate
p859
I100
sVdisplay_name
p860
VJohn La Rooy
p861
ssVis_accepted
p862
I01
sVlast_edit_date
p863
I1434352150
sVanswer_id
p864
I2331640
sa(dp865
Vbody
p866
V<p><code>map</code> isn't particularly pythonic. I would recommend using list comprehensions instead:</p>\u000a\u000a<pre><code>map(f, iterable)\u000a</code></pre>\u000a\u000a<p>is basically equivalent to:</p>\u000a\u000a<pre><code>[f(x) for x in iterable]\u000a</code></pre>\u000a\u000a<p><code>map</code> on its own can't do a Cartesian product, because the length of its output list is always the same as its input list. You can trivially do a Cartesian product with a list comprehension though:</p>\u000a\u000a<pre><code>[(a, b) for a in iterable_a for b in iterable_b]\u000a</code></pre>\u000a\u000a<p>The syntax is a little confusing -- that's basically equivalent to:</p>\u000a\u000a<pre><code>result = []\u000afor a in iterable_a:\u000a    for b in iterable_b:\u000a        result.append((a, b))\u000a</code></pre>\u000a
p867
sVquestion_id
p868
I10973766
sVlast_activity_date
p869
I1433337369
sVcreation_date
p870
I1339379502
sVscore
p871
I190
sVowner
p872
(dp873
Vuser_id
p874
I452240
sVprofile_image
p875
Vhttps://www.gravatar.com/avatar/b7e7aa9be1e2efb557174c34a47ec801?s=128&d=identicon&r=PG
p876
sVuser_type
p877
Vregistered
p878
sVreputation
p879
I6408
sVlink
p880
Vhttp://stackoverflow.com/users/452240/dave
p881
sVdisplay_name
p882
Vdave
p883
ssVis_accepted
p884
I01
sVlast_edit_date
p885
I1433337369
sVanswer_id
p886
I10973817
sa(dp887
Vbody
p888
V<p>The only difference on a bytecode level is that the <a href="https://docs.python.org/2/library/array.html?#array.array.extend" rel="noreferrer"><code>.extend</code></a> way involves a function call, which is slightly more expensive in Python than the <a href="https://docs.python.org/2/library/dis.html?highlight=inplace_add#opcode-INPLACE_ADD" rel="noreferrer"><code>INPLACE_ADD</code></a>.</p>\u000a\u000a<p>It's really nothing you should be worrying about, unless you're performing this operation billions of times. It is likely, however, that the bottleneck would lie some place else.</p>\u000a
p889
sVquestion_id
p890
I3653298
sVlast_activity_date
p891
I1431476808
sVcreation_date
p892
I1283795110
sVscore
p893
I134
sVowner
p894
(dp895
Vuser_id
p896
I12855
sVprofile_image
p897
Vhttps://www.gravatar.com/avatar/e6488132d206883770017ba97d0f521f?s=128&d=identicon&r=PG
p898
sVuser_type
p899
Vregistered
p900
sVreputation
p901
I142797
sVlink
p902
Vhttp://stackoverflow.com/users/12855/silentghost
p903
sVaccept_rate
p904
I86
sVdisplay_name
p905
VSilentGhost
p906
ssVis_accepted
p907
I01
sVlast_edit_date
p908
I1431476808
sVanswer_id
p909
I3653339
sa(dp910
Vbody
p911
V<p>The only way to deal with this non-intrusively is to:</p>\u000a\u000a<ol>\u000a<li>Spawn each worker process such that its log goes to <strong>a different file descriptor</strong> (to disk or to pipe.)  Ideally, all log entries should be timestamped.  </li>\u000a<li>Your controller process can then do <em>one</em> of the following:\u000a\u000a<ul>\u000a<li><strong>If using disk files:</strong> Coalesce the log files at the end of the run, sorted by timestamp</li>\u000a<li><strong>If using pipes (recommended):</strong> Coalesce log entries on-the-fly from all pipes, into a central log file. (E.g., Periodically <a href="http://docs.python.org/library/select.html" rel="noreferrer"><code>select</code></a> from the pipes' file descriptors, perform merge-sort on the available log entries, and flush to centralized log. Repeat.)</li>\u000a</ul></li>\u000a</ol>\u000a
p912
sVquestion_id
p913
I641420
sVlast_activity_date
p914
I1429536518
sVcreation_date
p915
I1236919182
sVscore
p916
I45
sVowner
p917
(dp918
Vuser_id
p919
I66516
sVprofile_image
p920
Vhttps://www.gravatar.com/avatar/7dca2696010cb52fe09f80667bc3e085?s=128&d=identicon&r=PG
p921
sVuser_type
p922
Vregistered
p923
sVreputation
p924
I49184
sVlink
p925
Vhttp://stackoverflow.com/users/66516/vladr
p926
sVdisplay_name
p927
Vvladr
p928
ssVis_accepted
p929
I01
sVlast_edit_date
p930
I1429536518
sVanswer_id
p931
I641488
sa(dp932
Vbody
p933
V<p>Your install is failing because you don't have the python development headers installed. You can do this through apt on ubuntu/debian with:</p>\u000a\u000a<pre><code>sudo apt-get install python-dev \u000a</code></pre>\u000a\u000a<p>for python3 use:</p>\u000a\u000a<pre><code>sudo apt-get install python3-dev\u000a</code></pre>\u000a\u000a<p>For eventlet you might also need the libevent libraries installed so if you get an error talking about that you can install libevent with:</p>\u000a\u000a<pre><code>sudo apt-get install libevent-dev\u000a</code></pre>\u000a
p934
sVquestion_id
p935
I11094718
sVlast_activity_date
p936
I1428270557
sVcreation_date
p937
I1340082913
sVscore
p938
I280
sVowner
p939
(dp940
Vuser_id
p941
I1339459
sVprofile_image
p942
Vhttps://www.gravatar.com/avatar/a740c0f08be3933cc241f8c4251aa458?s=128&d=identicon&r=PG
p943
sVuser_type
p944
Vregistered
p945
sVreputation
p946
I6886
sVlink
p947
Vhttp://stackoverflow.com/users/1339459/trevor
p948
sVdisplay_name
p949
VTrevor
p950
ssVis_accepted
p951
I01
sVlast_edit_date
p952
I1428270557
sVanswer_id
p953
I11094752
sa(dp954
Vbody
p955
V<p><strong>How WSGI, CGI, and the frameworks are all connected ?</strong></p>\u000a\u000a<p>Apache listens on port 80.  It gets an HTTP request.  It parses the request to find a way to respond.  Apache has a LOT of choices for responding.   One way to respond is to use CGI to run a script.  Another way to respond is to simply serve a file.  </p>\u000a\u000a<p>In the case of CGI, Apache prepares an environment and invokes the script through the CGI protocol.  This is a standard Unix Fork/Exec situation -- the CGI subprocess inherits an OS environment including the socket and stdout.  The CGI subprocess writes a response, which goes back to Apache; Apache sends this response to the browser.</p>\u000a\u000a<p>CGI is primitive and annoying.  Mostly because it forks a subprocess for every request, and subprocess must exit or close stdout and stderr to signify end of response.</p>\u000a\u000a<p>WSGI is an interface that is based on the CGI design pattern.  It is not necessarily CGI -- it does not have to fork a subprocess for each request.  It can be CGI, but it doesn't have to be.</p>\u000a\u000a<p>WSGI adds to the CGI design pattern in several important ways.  It parses the HTTP Request Headers for you and adds these to the environment.  It supplies any POST-oriented input as a file-like object in the environment.  It also provides you a function that will formulate the response, saving you from a lot of formatting details.</p>\u000a\u000a<p><strong>What do I need to know / install / do if I want to run a web framework (say web.py or cherrypy) on my basic CGI configuration ?</strong></p>\u000a\u000a<p>Recall that forking a subprocess is expensive.  There are two ways to work around this.</p>\u000a\u000a<ol>\u000a<li><p><strong>Embedded</strong> <code>mod_wsgi</code> or <code>mod_python</code> embeds Python inside Apache; no process is forked.  Apache runs the Django application directly.</p></li>\u000a<li><p><strong>Daemon</strong> <code>mod_wsgi</code> or <code>mod_fastcgi</code> allows Apache to interact with a separate daemon (or "long-running process"), using the WSGI protocol.  You start your long-running Django process, then you configure Apache's mod_fastcgi to communicate with this process.</p></li>\u000a</ol>\u000a\u000a<p>Note that <code>mod_wsgi</code> can work in either mode: embedded or daemon.</p>\u000a\u000a<p>When you read up on mod_fastcgi, you'll see that Django uses <a href="http://pypi.python.org/pypi/flup/" rel="noreferrer">flup</a> to create a WSGI-compatible interface from the information provided by mod_fastcgi.  The pipeline works like this.</p>\u000a\u000a<pre><code>Apache -&gt; mod_fastcgi -&gt; FLUP (via FastCGI protocol) -&gt; Django (via WSGI protocol)\u000a</code></pre>\u000a\u000a<p>Django has several "django.core.handlers" for the various interfaces.</p>\u000a\u000a<p>For mod_fastcgi, Django provides a <code>manage.py runfcgi</code> that integrates FLUP and the handler.</p>\u000a\u000a<p>For mod_wsgi, there's a core handler for this.</p>\u000a\u000a<p><strong>How to install WSGI support ?</strong></p>\u000a\u000a<p>Follow these instructions.</p>\u000a\u000a<p><a href="http://code.google.com/p/modwsgi/wiki/IntegrationWithDjango" rel="noreferrer">http://code.google.com/p/modwsgi/wiki/IntegrationWithDjango</a></p>\u000a\u000a<p>For background see this</p>\u000a\u000a<p><a href="http://docs.djangoproject.com/en/dev/howto/deployment/#howto-deployment-index" rel="noreferrer">http://docs.djangoproject.com/en/dev/howto/deployment/#howto-deployment-index</a></p>\u000a
p956
sVquestion_id
p957
I219110
sVlast_activity_date
p958
I1424685368
sVcreation_date
p959
I1233925452
sVscore
p960
I210
sVowner
p961
(dp962
Vuser_id
p963
I10661
sVprofile_image
p964
Vhttps://www.gravatar.com/avatar/c2c732bbf13dc96670b210b3c0c1ead5?s=128&d=identicon&r=PG
p965
sVuser_type
p966
Vregistered
p967
sVreputation
p968
I277525
sVlink
p969
Vhttp://stackoverflow.com/users/10661/s-lott
p970
sVaccept_rate
p971
I92
sVdisplay_name
p972
VS.Lott
p973
ssVis_accepted
p974
I01
sVlast_edit_date
p975
I1424685368
sVanswer_id
p976
I520194
sa(dp977
Vbody
p978
V<p>I am assuming Linux experience in my answer; I found that there are three prerequisites to getting <code>pip install scipy</code> to proceed nicely.</p>\u000a\u000a<p>Go here: <a href="http://www.scipy.org/Installing_SciPy/BuildingGeneral">Installing SciPY</a></p>\u000a\u000a<p>Follow the instructions to download, build and export the env variable for <a href="http://en.wikipedia.org/wiki/Basic_Linear_Algebra_Subprograms">BLAS</a> and then <a href="http://en.wikipedia.org/wiki/LAPACK">LAPACK</a>. Be careful to not just blindly cut'n'paste the shell commands - there will be a few lines you need to select depending on your architecture, etc., and you'll need to fix/add the correct directories that it incorrectly assumes as well.</p>\u000a\u000a<p>The third thing you may need is to <strong>yum install numpy-f2py</strong> or the equivalent.</p>\u000a\u000a<p>Oh, yes and lastly, you may need to <strong>yum install gcc-gfortran</strong> as the libraries above are <a href="http://en.wikipedia.org/wiki/Fortran">Fortran</a> source.</p>\u000a
p979
sVquestion_id
p980
I11114225
sVlast_activity_date
p981
I1423076065
sVcreation_date
p982
I1359694344
sVscore
p983
I30
sVowner
p984
(dp985
Vuser_id
p986
I544261
sVprofile_image
p987
Vhttps://i.stack.imgur.com/iU0qd.jpg?s=128&g=1
p988
sVuser_type
p989
Vregistered
p990
sVreputation
p991
I1182
sVlink
p992
Vhttp://stackoverflow.com/users/544261/dave-kierans
p993
sVaccept_rate
p994
I80
sVdisplay_name
p995
VDave Kierans
p996
ssVis_accepted
p997
I01
sVlast_edit_date
p998
I1423076065
sVanswer_id
p999
I14639949
sa(dp1000
Vbody
p1001
V<p>I am pretty sure that what you are looking for is called <code>--find-links</code> option.</p>\u000a\u000a<p>Though you might need to generate a dummy <code>index.html</code> for your local package index which lists the links to all packages. This tool helps:</p>\u000a\u000a<p><a href="https://github.com/wolever/pip2pi" rel="noreferrer">https://github.com/wolever/pip2pi</a></p>\u000a
p1002
sVquestion_id
p1003
I15031694
sVlast_activity_date
p1004
I1422664923
sVcreation_date
p1005
I1361561529
sVscore
p1006
I56
sVowner
p1007
(dp1008
Vuser_id
p1009
I315168
sVprofile_image
p1010
Vhttps://i.stack.imgur.com/UP7VJ.png?s=128&g=1
p1011
sVuser_type
p1012
Vregistered
p1013
sVreputation
p1014
I39160
sVlink
p1015
Vhttp://stackoverflow.com/users/315168/mikko-ohtamaa
p1016
sVaccept_rate
p1017
I70
sVdisplay_name
p1018
VMikko Ohtamaa
p1019
ssVis_accepted
p1020
I01
sVlast_edit_date
p1021
I1422664923
sVanswer_id
p1022
I15031843
sa(dp1023
Vbody
p1024
V<p>Look at the <a href="http://docs.djangoproject.com/en/dev/ref/forms/widgets/">widgets documentation</a>. Basically it would look like:</p>\u000a\u000a<pre><code>q = forms.CharField(label='search', \u000a                    widget=forms.TextInput(attrs={'placeholder': 'Search'}))\u000a</code></pre>\u000a\u000a<p>More writing, yes, but the separation allows for better abstraction of more complicated cases.</p>\u000a\u000a<p>You can also declare a <code>widgets</code> attribute containing a <code>&lt;field name&gt; =&gt; &lt;widget instance&gt;</code> mapping directly on the <code>Meta</code> of your <code>ModelForm</code> sub-class.</p>\u000a
p1025
sVquestion_id
p1026
I4101258
sVlast_activity_date
p1027
I1413225571
sVcreation_date
p1028
I1288904048
sVscore
p1029
I190
sVowner
p1030
(dp1031
Vuser_id
p1032
I1306477
sVprofile_image
p1033
Vhttps://www.gravatar.com/avatar/c2233920bcc1ab0f8a877474c0ccdc4b?s=128&d=identicon&r=PG
p1034
sVuser_type
p1035
Vregistered
p1036
sVreputation
p1037
I8261
sVlink
p1038
Vhttp://stackoverflow.com/users/1306477/mike-axiak
p1039
sVaccept_rate
p1040
I93
sVdisplay_name
p1041
VMike Axiak
p1042
ssVis_accepted
p1043
I01
sVlast_edit_date
p1044
I1413225571
sVanswer_id
p1045
I4101282
sa(dp1046
Vbody
p1047
V<p>Use dictionaries to accomplish this. Dictionaries are stores of keys and values. </p>\u000a\u000a<pre><code>&gt;&gt;&gt; dct = {'x': 1, 'y': 2, 'z': 3}\u000a&gt;&gt;&gt; dct\u000a{'y': 2, 'x': 1, 'z': 3}\u000a&gt;&gt;&gt; dct["y"]\u000a2\u000a</code></pre>\u000a\u000a<p>You can use variable key names to achieve the effect of variable variables without the security risk.</p>\u000a\u000a<pre><code>&gt;&gt;&gt; x = "spam"\u000a&gt;&gt;&gt; z = {x: "eggs"}\u000a&gt;&gt;&gt; z["spam"]\u000a'eggs'\u000a</code></pre>\u000a\u000a<p>Make sense?</p>\u000a
p1048
sVquestion_id
p1049
I1373164
sVlast_activity_date
p1050
I1411659562
sVcreation_date
p1051
I1251981665
sVscore
p1052
I115
sVowner
p1053
(dp1054
Vdisplay_name
p1055
Vc_harm
p1056
sVuser_type
p1057
Vdoes_not_exist
p1058
ssVis_accepted
p1059
I01
sVlast_edit_date
p1060
I1411659562
sVanswer_id
p1061
I1373185
sa(dp1062
Vbody
p1063
V<p>There are two ways to do it. The direct approach would be to simply call (and print) the strftime() method in your template, for example</p>\u000a\u000a<pre><code>{{ car.date_of_manufacture.strftime('%Y-%m-%d') }}\u000a</code></pre>\u000a\u000a<p>Another, sightly better approach would be to define your own filter, e.g.:</p>\u000a\u000a<pre><code>def format_datetime(value, format='medium'):\u000a    if format == 'full':\u000a        format="EEEE, d. MMMM y 'at' HH:mm"\u000a    elif format == 'medium':\u000a        format="EE dd.MM.y HH:mm"\u000a    return babel.dates.format_datetime(value, format)\u000a\u000ajinja_env.filters['datetime'] = format_datetime\u000a</code></pre>\u000a\u000a<p>(This filter is based on babel for reasons regarding i18n, but you can use strftime too). The advantage of the filter is, that you can write</p>\u000a\u000a<pre><code>{{ car.date_of_manufacture|datetime }}\u000a</code></pre>\u000a\u000a<p>which looks nicer and is more maintainable. Another common filter is also the "timedelta" filter, which evaluates to something like "written 8 minutes ago". You can use <code>babel.dates.format_timedelta</code> for that, and register it as filter similar to the datetime example given here.</p>\u000a
p1064
sVquestion_id
p1065
I4830535
sVlast_activity_date
p1066
I1411465936
sVcreation_date
p1067
I1296232186
sVscore
p1068
I218
sVowner
p1069
(dp1070
Vuser_id
p1071
I82219
sVprofile_image
p1072
Vhttps://www.gravatar.com/avatar/6ac2affc83317e12b56694ba7926d7f5?s=128&d=identicon&r=PG
p1073
sVuser_type
p1074
Vregistered
p1075
sVreputation
p1076
I37777
sVlink
p1077
Vhttp://stackoverflow.com/users/82219/tux21b
p1078
sVaccept_rate
p1079
I100
sVdisplay_name
p1080
Vtux21b
p1081
ssVis_accepted
p1082
I01
sVlast_edit_date
p1083
I1411465936
sVanswer_id
p1084
I4830620
sa(dp1085
Vbody
p1086
V<p>Clearing a list in place will affect all other references of the same list.</p>\u000a\u000a<p>For example, this method doesn't affect other references:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; a = [1, 2, 3]\u000a&gt;&gt;&gt; b = a\u000a&gt;&gt;&gt; a = []\u000a&gt;&gt;&gt; print(a)\u000a[]\u000a&gt;&gt;&gt; print(b)\u000a[1, 2, 3]\u000a</code></pre>\u000a\u000a<p>But this one does:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; a = [1, 2, 3]\u000a&gt;&gt;&gt; b = a\u000a&gt;&gt;&gt; del a[:]      # equivalent to   del a[0:len(a)]\u000a&gt;&gt;&gt; print(a)\u000a[]\u000a&gt;&gt;&gt; print(b)\u000a[]\u000a&gt;&gt;&gt; a is b\u000aTrue\u000a</code></pre>\u000a\u000a<p>You could also do:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; a[:] = []\u000a</code></pre>\u000a
p1087
sVquestion_id
p1088
I850795
sVlast_activity_date
p1089
I1407879004
sVcreation_date
p1090
I1242093796
sVscore
p1091
I268
sVowner
p1092
(dp1093
Vuser_id
p1094
I101883
sVprofile_image
p1095
Vhttps://www.gravatar.com/avatar/37f8541bb895fdf4742031e9632a0d32?s=128&d=identicon&r=PG
p1096
sVuser_type
p1097
Vregistered
p1098
sVreputation
p1099
I3902
sVlink
p1100
Vhttp://stackoverflow.com/users/101883/koba
p1101
sVdisplay_name
p1102
VKoba
p1103
ssVis_accepted
p1104
I01
sVlast_edit_date
p1105
I1407879004
sVanswer_id
p1106
I850831
sa(dp1107
Vbody
p1108
V<p>The <code>%s</code> specifier converts the object using <a href="https://docs.python.org/2/library/functions.html#str"><code>str()</code></a>, and <code>%r</code> converts it using <a href="https://docs.python.org/2/library/functions.html#repr"><code>repr()</code></a>.</p>\u000a\u000a<p>For some objects such as integers, they yield the same result, but <a href="https://docs.python.org/2/library/functions.html#repr"><code>repr()</code></a> is special in that (for types where this is possible) it conventionally returns a result that is valid Python syntax, which could be used to unambiguously recreate the object it represents.</p>\u000a\u000a<p>Here's an example, using a date:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; import datetime\u000a&gt;&gt;&gt; d = datetime.date.today()\u000a&gt;&gt;&gt; str(d)\u000a'2011-05-14'\u000a&gt;&gt;&gt; repr(d)\u000a'datetime.date(2011, 5, 14)'\u000a</code></pre>\u000a\u000a<p>Types for which <a href="https://docs.python.org/2/library/functions.html#repr"><code>repr()</code></a> doesn't produce Python syntax include those that point to external resources such as a <code>file</code>, which you can't guarantee to recreate in a different context.</p>\u000a
p1109
sVquestion_id
p1110
I6005159
sVlast_activity_date
p1111
I1399465401
sVcreation_date
p1112
I1305411983
sVscore
p1113
I245
sVowner
p1114
(dp1115
Vuser_id
p1116
I189179
sVprofile_image
p1117
Vhttps://www.gravatar.com/avatar/bab16b3716e0e72b8b1a7741d68f5ee2?s=128&d=identicon&r=PG
p1118
sVuser_type
p1119
Vregistered
p1120
sVreputation
p1121
I67771
sVlink
p1122
Vhttp://stackoverflow.com/users/189179/ben-james
p1123
sVdisplay_name
p1124
VBen James
p1125
ssVis_accepted
p1126
I01
sVlast_edit_date
p1127
I1399465401
sVanswer_id
p1128
I6005180
sa(dp1129
Vbody
p1130
V<p>To setup CNTLM for windows, follow this <a href="http://stormpoopersmith.com/2012/03/20/using-applications-behind-a-corporate-proxy/" rel="noreferrer">article</a>. For Ubuntu, read <a href="http://annelagang.blogspot.com/2012/11/installing-gems-in-ubuntu-1204-using.html" rel="noreferrer">my blog post</a>. </p>\u000a\u000a<p><strong>Edit:</strong></p>\u000a\u000a<p>Basically, to use CNTLM in any platform, you need to setup your username and <em>hashed</em> password, before using <code>http://127.0.0.1:3128</code> as a proxy to your parent proxy.</p>\u000a\u000a<ol>\u000a<li><p>Edit the config and add important information like domain, username, password and parent proxy. </p></li>\u000a<li><p>Generate hashed password.</p>\u000a\u000a<p><strong>Windows</strong> <code>cntlm \u2013c cntlm.ini \u2013H</code></p>\u000a\u000a<p><strong>Ubuntu/Linux</strong> <code>cntlm -v -H -c /etc/cntlm.conf</code></p></li>\u000a<li><p>Remove plain text password from the config and replace them with the generated passwords.</p></li>\u000a</ol>\u000a\u000a<p>To check if working:</p>\u000a\u000a<p><strong>Windows</strong> <code>cntlm \u2013M http://www.google.com</code></p>\u000a\u000a<p><strong>Ubuntu/Linux</strong> <code>sudo cntlm -M http://www.google.com/</code></p>\u000a\u000a<p>For more detailed instructions, see links above.</p>\u000a\u000a<p><strong>Update:</strong> </p>\u000a\u000a<p>Just for completeness sake, I was able to configure and use CNTLM in Windows recently. I encountered a problem during the syncing process of Kindle for PC because of our proxy and installing and configuring CNTLM for Windows fixed that issue for me. Refer to <a href="http://annelagang.blogspot.com/2014/01/register-and-download-books-using.html" rel="noreferrer">my article</a> for more details. </p>\u000a
p1131
sVquestion_id
p1132
I14149422
sVlast_activity_date
p1133
I1396511660
sVcreation_date
p1134
I1357516948
sVscore
p1135
I34
sVowner
p1136
(dp1137
Vuser_id
p1138
I906815
sVprofile_image
p1139
Vhttps://www.gravatar.com/avatar/c510cd86e5379c4adb03ed46dbce1d85?s=128&d=identicon&r=PG
p1140
sVuser_type
p1141
Vregistered
p1142
sVreputation
p1143
I2001
sVlink
p1144
Vhttp://stackoverflow.com/users/906815/anne-lagang
p1145
sVaccept_rate
p1146
I100
sVdisplay_name
p1147
VAnne Lagang
p1148
ssVis_accepted
p1149
I01
sVlast_edit_date
p1150
I1396511660
sVanswer_id
p1151
I14188155
sa(dp1152
Vbody
p1153
V<p>That's an excellent question.</p>\u000a\u000a<p>The key insight is that tuples have no way of knowing whether the objects inside them are mutable.  The only thing that makes an object mutable is to have a method that alters its data.  In general, there is no way to detect this.</p>\u000a\u000a<p>Another insight is that Python's containers don't actually contain anything.  Instead, they keep references to other objects.  Likewise, Python's variables aren't like variables in compiled languages; instead the variable names are just keys in a namespace dictionary where they are associated with a corresponding object. Ned Batchhelder explains this nicely in his <a href="http://nedbatchelder.com/text/names.html">blog post</a>.  Either way, objects only know their reference count; they don't know what those references are (variables, containers, or the Python internals).</p>\u000a\u000a<p>Together, these two insights explain your mystery (why an immutable tuple "containing" a list seems to change when the underlying list changes).  In fact, the tuple did not change (it still has the same references to other objects that it did before).  The tuple could not change (because it did not have mutating methods).  When the list changed, the tuple didn't get notified of the change (the list doesn't know whether it is referred to by a variable, a tuple, or another list).</p>\u000a\u000a<p>While we're on the topic, here are a few other thoughts to help complete your mental model of what tuples are, how they work, and their intended use:</p>\u000a\u000a<ol>\u000a<li><p>Tuples are characterized less by their immutability and more by their intended purpose.<br>\u000aTuples are Python's way of collecting heterogeneous pieces of information under one roof.  For example, \u000a<code>s = ('www.python.org', 80)</code> \u000abrings together a string and a number so that the host/port pair can be passed around as a socket, a composite object.  Viewed in that light, it is perfectly reasonable to have mutable components.</p></li>\u000a<li><p>Immutability goes hand-in-hand with another property, <a href="http://docs.python.org/3.3/glossary.html#term-hashable">hashability</a>.  But hashability isn't an absolute property.  If one of the tuple's components isn't hashable, then the overall tuple isn't hashable either. For example, <code>t = ('red', [10, 20, 30])</code> isn't hashable.</p></li>\u000a</ol>\u000a\u000a<p>The last example shows a 2-tuple that contains a string and a list. The tuple itself isn't mutable (i.e. it doesn't have any methods that for changing its contents).  Likewise, the string is immutable because strings don't have any mutating methods.  The list object does have mutating methods, so it can be changed.   This shows that mutability is a property of an object type -- some objects have mutating methods and some don't.  This doesn't change just because the objects are nested.</p>\u000a\u000a<p>Remember two things.  First, immutability is not magic -- it is merely the absence of mutating methods.  Second, objects don't know what variables or containers refer to them -- they only know the reference count.</p>\u000a\u000a<p>Hope, this was useful to you :-)</p>\u000a
p1154
sVquestion_id
p1155
I9755990
sVlast_activity_date
p1156
I1394007471
sVcreation_date
p1157
I1332045402
sVscore
p1158
I148
sVowner
p1159
(dp1160
Vuser_id
p1161
I1001643
sVprofile_image
p1162
Vhttps://www.gravatar.com/avatar/60cac87fb9e2b5689242622999656cb0?s=128&d=identicon&r=PG
p1163
sVuser_type
p1164
Vregistered
p1165
sVreputation
p1166
I94640
sVlink
p1167
Vhttp://stackoverflow.com/users/1001643/raymond-hettinger
p1168
sVaccept_rate
p1169
I75
sVdisplay_name
p1170
VRaymond Hettinger
p1171
ssVis_accepted
p1172
I01
sVlast_edit_date
p1173
I1394007471
sVanswer_id
p1174
I9756028
sa(dp1175
Vbody
p1176
V<p>It depends on how you want to access the import when you refer to it.</p>\u000a\u000a<pre><code>from urllib import request\u000a# access request directly.\u000amine = request()\u000a\u000aimport urllib.request\u000a# used as urllib.request\u000amine = urllib.request()\u000a</code></pre>\u000a\u000a<p>You can also alias things yourself when you import for simplicity or to avoid masking built ins:</p>\u000a\u000a<pre><code>from os import open as open_\u000a# lets you use os.open without destroying the \u000a# built in open() which returns file handles.\u000a</code></pre>\u000a
p1177
sVquestion_id
p1178
I9439480
sVlast_activity_date
p1179
I1390977613
sVcreation_date
p1180
I1330126103
sVscore
p1181
I124
sVowner
p1182
(dp1183
Vuser_id
p1184
I351031
sVprofile_image
p1185
Vhttps://www.gravatar.com/avatar/d495a914ca38eca81f0143e62706775d?s=128&d=identicon&r=PG&f=1
p1186
sVuser_type
p1187
Vregistered
p1188
sVreputation
p1189
I28284
sVlink
p1190
Vhttp://stackoverflow.com/users/351031/g-d-d-c
p1191
sVaccept_rate
p1192
I100
sVdisplay_name
p1193
Vg.d.d.c
p1194
ssVis_accepted
p1195
I01
sVlast_edit_date
p1196
I1390977613
sVanswer_id
p1197
I9439518
sa(dp1198
Vbody
p1199
V<p>Following worked for me:</p>\u000a\u000a<pre><code>ln -s  /Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.9.sdk/System/Library/Frameworks/Tk.framework/Versions/8.5/Headers/X11 /usr/local/include/X11\u000asudo pip install pil\u000a</code></pre>\u000a\u000a<p>UPDATE:</p>\u000a\u000a<p>But there is more correct solution below, provided by Will.</p>\u000a\u000a<blockquote>\u000a  <p>open your terminal and execute:\u000a  <code>xcode-select --install</code></p>\u000a</blockquote>\u000a
p1200
sVquestion_id
p1201
I19532125
sVlast_activity_date
p1202
I1386617422
sVcreation_date
p1203
I1382540707
sVscore
p1204
I204
sVowner
p1205
(dp1206
Vuser_id
p1207
I198905
sVprofile_image
p1208
Vhttps://www.gravatar.com/avatar/f8f168c70c921ef0a96ce1bf504bb259?s=128&d=identicon&r=PG&f=1
p1209
sVuser_type
p1210
Vregistered
p1211
sVreputation
p1212
I3037
sVlink
p1213
Vhttp://stackoverflow.com/users/198905/dmitry-demidenko
p1214
sVaccept_rate
p1215
I71
sVdisplay_name
p1216
VDmitry Demidenko
p1217
ssVis_accepted
p1218
I01
sVlast_edit_date
p1219
I1386617422
sVanswer_id
p1220
I19545473
sa(dp1221
Vbody
p1222
V<p>Your <code>''.join()</code> expression is <em>filtering</em>, removing anything non-ASCII; you could use a conditional expression instead:</p>\u000a\u000a<pre><code>return ''.join([i if ord(i) &lt; 128 else ' ' for i in text])\u000a</code></pre>\u000a\u000a<p>This handles characters one by one and would still use one space per character replaced.</p>\u000a\u000a<p>Your regular expression should just replace <em>consecutive</em> non-ASCII characters with a space:</p>\u000a\u000a<pre><code>re.sub(r'[^\u005cx00-\u005cx7F]+',' ', text)\u000a</code></pre>\u000a\u000a<p>Note the <code>+</code> there.</p>\u000a
p1223
sVquestion_id
p1224
I20078816
sVlast_activity_date
p1225
I1384884695
sVcreation_date
p1226
I1384884695
sVscore
p1227
I119
sVowner
p1228
(dp1229
Vuser_id
p1230
I100297
sVprofile_image
p1231
Vhttps://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG
p1232
sVuser_type
p1233
Vmoderator
p1234
sVreputation
p1235
I554877
sVlink
p1236
Vhttp://stackoverflow.com/users/100297/martijn-pieters
p1237
sVdisplay_name
p1238
VMartijn Pieters
p1239
ssVis_accepted
p1240
I01
sVanswer_id
p1241
I20078869
sa(dp1242
Vbody
p1243
V<p>The <code>decode</code> method of unicode strings really doesn't have any applications at all (unless you have some non-text data in a unicode string for some reason -- see below). It is mainly there for historical reasons, i think. In Python 3 it is completely gone.</p>\u000a\u000a<p><code>unicode().decode()</code> will perform an implicit <em>encoding</em> of <code>s</code> using the default (ascii) codec. Verify this like so:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; s = u''\u000a&gt;&gt;&gt; s.decode()\u000aTraceback (most recent call last):\u000a  File "&lt;stdin&gt;", line 1, in &lt;module&gt;\u000aUnicodeEncodeError: 'ascii' codec can't encode character u'\u005cxf6' in position 0:\u000aordinal not in range(128)\u000a\u000a&gt;&gt;&gt; s.encode('ascii')\u000aTraceback (most recent call last):\u000a  File "&lt;stdin&gt;", line 1, in &lt;module&gt;\u000aUnicodeEncodeError: 'ascii' codec can't encode character u'\u005cxf6' in position 0:\u000aordinal not in range(128)\u000a</code></pre>\u000a\u000a<p>The error messages are exactly the same.</p>\u000a\u000a<p>For <code>str().encode()</code> it's the other way around -- it attempts an implicit <em>decoding</em> of <code>s</code> with the default encoding:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; s = ''\u000a&gt;&gt;&gt; s.decode('utf-8')\u000au'\u005cxf6'\u000a&gt;&gt;&gt; s.encode()\u000aTraceback (most recent call last):\u000a  File "&lt;stdin&gt;", line 1, in &lt;module&gt;\u000aUnicodeDecodeError: 'ascii' codec can't decode byte 0xc3 in position 0:\u000aordinal not in range(128)\u000a</code></pre>\u000a\u000a<p>Used like this, <code>str().encode()</code> is also superfluous.</p>\u000a\u000a<p><strong>But</strong> there is another application of the latter method that is useful: there are <a href="http://docs.python.org/library/codecs.html#standard-encodings" rel="noreferrer">encodings</a> that have nothing to do with character sets, and thus can be applied to 8-bit strings in a meaningful way:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; s.encode('zip')\u000a'x\u005cx9c;\u005cxbc\u005cr\u005cx00\u005cx02&gt;\u005cx01z'\u000a</code></pre>\u000a\u000a<p>You are right, though: the ambiguous usage of "encoding" for both these applications is... awkard. Again, with separate <code>byte</code> and <code>string</code> types in Python 3, this is no longer an issue.</p>\u000a
p1244
sVquestion_id
p1245
I447107
sVlast_activity_date
p1246
I1383846804
sVcreation_date
p1247
I1232071593
sVscore
p1248
I86
sVowner
p1249
(dp1250
Vuser_id
p1251
I3850
sVprofile_image
p1252
Vhttps://www.gravatar.com/avatar/0c6524ce20ccace7c2f65e31e7f52ba7?s=128&d=identicon&r=PG
p1253
sVuser_type
p1254
Vregistered
p1255
sVreputation
p1256
I23725
sVlink
p1257
Vhttp://stackoverflow.com/users/3850/hop
p1258
sVdisplay_name
p1259
Vhop
p1260
ssVis_accepted
p1261
I01
sVlast_edit_date
p1262
I1383846804
sVanswer_id
p1263
I449281
sa(dp1264
Vbody
p1265
V<p>You could try the search feature in pip, </p>\u000a\u000a<pre><code>$ pip search yaml\u000a</code></pre>\u000a\u000a<p>which looks for packages in PyPI with yaml in the short description.  That reveals various packages, including PyYaml, yamltools, and PySyck, among others (Note that <a href="http://pyyaml.org/wiki/PySyck" rel="noreferrer">PySyck docs</a> recommend using PyYaml, since syck is out of date).  Now you know a specific package name, you can install it:</p>\u000a\u000a<pre><code>$ pip install pyyaml\u000a</code></pre>\u000a\u000a<p>If you want to install python yaml system-wide in linux, you can also use a package manager, like <code>aptitude</code> or <code>yum</code>:</p>\u000a\u000a<pre><code>$ sudo apt-get install python-yaml\u000a$ sudo yum install python-yaml\u000a</code></pre>\u000a
p1266
sVquestion_id
p1267
I14261614
sVlast_activity_date
p1268
I1378903828
sVcreation_date
p1269
I1357834919
sVscore
p1270
I230
sVowner
p1271
(dp1272
Vuser_id
p1273
I1643946
sVprofile_image
p1274
Vhttps://www.gravatar.com/avatar/799d43bdc55d1098d2f02de64ace2a39?s=128&d=identicon&r=PG
p1275
sVuser_type
p1276
Vregistered
p1277
sVreputation
p1278
I6550
sVlink
p1279
Vhttp://stackoverflow.com/users/1643946/bonlenfum
p1280
sVdisplay_name
p1281
VBonlenfum
p1282
ssVis_accepted
p1283
I01
sVlast_edit_date
p1284
I1378903828
sVanswer_id
p1285
I14262462
sa(dp1286
Vbody
p1287
V<p>Because it's more common to call <code>range(0, 10)</code> which returns <code>[0,1,2,3,4,5,6,7,8,9]</code> which contains 10 elements which equals <code>len(range(0, 10))</code>. Remember that programmers prefer 0-based indexing.</p>\u000a\u000a<p>Also, consider the following common code snippet:</p>\u000a\u000a<pre><code>for i in range(len(li)):\u000a  pass\u000a</code></pre>\u000a\u000a<p>Could you see that if <code>range()</code> went up to exactly <code>len(li)</code> that this would be problematic? The programmer would need to explicitly subtract 1. This also follows the common trend of programmers preferring <code>for(int i = 0; i &lt; 10; i++)</code> over <code>for(int i = 0; i &lt;= 9; i++)</code>.</p>\u000a\u000a<p>If you are calling range with a start of 1 frequently, you might want to define your own function:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; range1 = lambda start, end: range(start, end+1)\u000a&gt;&gt;&gt; range1(1, 10)\u000a[1, 2, 3, 4, 5, 6, 7, 8, 9, 10]\u000a</code></pre>\u000a\u000a\u000a
p1288
sVquestion_id
p1289
I4504662
sVlast_activity_date
p1290
I1373379844
sVcreation_date
p1291
I1292971696
sVscore
p1292
I110
sVowner
p1293
(dp1294
Vuser_id
p1295
I89806
sVprofile_image
p1296
Vhttps://www.gravatar.com/avatar/89cff7a629a2782ebc5805675fcb09f0?s=128&d=identicon&r=PG
p1297
sVuser_type
p1298
Vregistered
p1299
sVreputation
p1300
I67328
sVlink
p1301
Vhttp://stackoverflow.com/users/89806/marcog
p1302
sVaccept_rate
p1303
I58
sVdisplay_name
p1304
Vmarcog
p1305
ssVis_accepted
p1306
I01
sVlast_edit_date
p1307
I1373379844
sVanswer_id
p1308
I4504677
sa(dp1309
Vbody
p1310
V<p>Please note that newer versions of MPL have a shortcut for this task. An example is shown in the other answer to this question: <a href="http://stackoverflow.com/a/11386056/42346">http://stackoverflow.com/a/11386056/42346</a></p>\u000a\u000a<p>The code below is for illustrative purposes and may not necessarily be optimized.</p>\u000a\u000a<pre><code>import matplotlib.pyplot as plt\u000aimport numpy as np\u000a\u000adef xticklabels_example():\u000a    fig = plt.figure() \u000a\u000a    x = np.arange(20)\u000a    y1 = np.cos(x)\u000a    y2 = (x**2)\u000a    y3 = (x**3)\u000a    yn = (y1,y2,y3)\u000a    COLORS = ('b','g','k')\u000a\u000a    for i,y in enumerate(yn):\u000a        ax = fig.add_subplot(len(yn),1,i+1)\u000a\u000a        ax.plot(x, y, ls='solid', color=COLORS[i]) \u000a\u000a        if i != len(yn) - 1:\u000a            # all but last \u000a            ax.set_xticklabels( () )\u000a        else:\u000a            for tick in ax.xaxis.get_major_ticks():\u000a                tick.label.set_fontsize(14) \u000a                # specify integer or one of preset strings, e.g.\u000a                #tick.label.set_fontsize('x-small') \u000a                tick.label.set_rotation('vertical')\u000a\u000a    fig.suptitle('Matplotlib xticklabels Example')\u000a    plt.show()\u000a\u000aif __name__ == '__main__':\u000a    xticklabels_example()\u000a</code></pre>\u000a\u000a<p><img src="https://i.stack.imgur.com/lRp5U.png" alt="enter image description here"></p>\u000a
p1311
sVquestion_id
p1312
I6390393
sVlast_activity_date
p1313
I1371746384
sVcreation_date
p1314
I1308337564
sVscore
p1315
I63
sVowner
p1316
(dp1317
Vuser_id
p1318
I42346
sVprofile_image
p1319
Vhttps://i.stack.imgur.com/ZikEw.jpg?s=128&g=1
p1320
sVuser_type
p1321
Vregistered
p1322
sVreputation
p1323
I84007
sVlink
p1324
Vhttp://stackoverflow.com/users/42346/bernie
p1325
sVdisplay_name
p1326
Vbernie
p1327
ssVis_accepted
p1328
I01
sVlast_edit_date
p1329
I1371746384
sVanswer_id
p1330
I6390584
sa(dp1331
Vbody
p1332
V<p>Actually, <code>pywin32</code> and <code>ctypes</code> seem to be an overkill for this simple task. <code>Tkinter</code> is a cross-platform GUI framework, which ships with Python by default and has clipboard accessing methods along with other cool stuff.</p>\u000a\u000a<p>If all you need is to put some text to system clipboard, this will do it:</p>\u000a\u000a<pre><code>from Tkinter import Tk\u000ar = Tk()\u000ar.withdraw()\u000ar.clipboard_clear()\u000ar.clipboard_append('i can has clipboardz?')\u000ar.destroy()\u000a</code></pre>\u000a\u000a<p>And that's all, no need to mess around with platform-specific third-party libraries.</p>\u000a
p1333
sVquestion_id
p1334
I579687
sVlast_activity_date
p1335
I1366122910
sVcreation_date
p1336
I1289993466
sVscore
p1337
I217
sVowner
p1338
(dp1339
Vuser_id
p1340
I449571
sVprofile_image
p1341
Vhttps://www.gravatar.com/avatar/4c585efcf892bce228e80f9460d4c7a8?s=128&d=identicon&r=PG
p1342
sVuser_type
p1343
Vregistered
p1344
sVreputation
p1345
I2738
sVlink
p1346
Vhttp://stackoverflow.com/users/449571/atomizer
p1347
sVdisplay_name
p1348
Vatomizer
p1349
ssVis_accepted
p1350
I01
sVlast_edit_date
p1351
I1366122910
sVanswer_id
p1352
I4203897
sa(dp1353
Vbody
p1354
V<p>You have a few options:</p>\u000a\u000a<ol>\u000a<li><p>Put different URLs in the action for the two forms.  Then you'll have two different view functions to deal with the two different forms.</p></li>\u000a<li><p>Read the submit button values from the POST data.  You can tell which submit button was clicked: <a href="http://stackoverflow.com/questions/866272/how-can-i-build-multiple-submit-buttons-django-form">How can I build multiple submit buttons django form?</a></p></li>\u000a</ol>\u000a
p1355
sVquestion_id
p1356
I1395807
sVlast_activity_date
p1357
I1363633173
sVcreation_date
p1358
I1252438150
sVscore
p1359
I91
sVowner
p1360
(dp1361
Vuser_id
p1362
I14343
sVprofile_image
p1363
Vhttps://www.gravatar.com/avatar/75e9a11371cbe1566607180863efdf4c?s=128&d=identicon&r=PG
p1364
sVuser_type
p1365
Vregistered
p1366
sVreputation
p1367
I193903
sVlink
p1368
Vhttp://stackoverflow.com/users/14343/ned-batchelder
p1369
sVaccept_rate
p1370
I80
sVdisplay_name
p1371
VNed Batchelder
p1372
ssVis_accepted
p1373
I01
sVlast_edit_date
p1374
I1363633173
sVanswer_id
p1375
I1395866
sa(dp1376
Vbody
p1377
V<p>Here is a short example that should do the trick with regular expressions:</p>\u000a\u000a<pre><code>import re\u000a\u000arep = {"condition1": "", "condition2": "text"} # define desired replacements here\u000a\u000a# use these three lines to do the replacement\u000arep = dict((re.escape(k), v) for k, v in rep.iteritems())\u000apattern = re.compile("|".join(rep.keys()))\u000atext = pattern.sub(lambda m: rep[re.escape(m.group(0))], text)\u000a</code></pre>\u000a\u000a<p>For example:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; pattern.sub(lambda m: rep[re.escape(m.group(0))], "(condition1) and --condition2--")\u000a'() and --text--'\u000a</code></pre>\u000a
p1378
sVquestion_id
p1379
I6116978
sVlast_activity_date
p1380
I1362502602
sVcreation_date
p1381
I1306272414
sVscore
p1382
I130
sVowner
p1383
(dp1384
Vuser_id
p1385
I505154
sVprofile_image
p1386
Vhttps://www.gravatar.com/avatar/2e8b69989251cfc746626b802f610a2c?s=128&d=identicon&r=PG
p1387
sVuser_type
p1388
Vregistered
p1389
sVreputation
p1390
I114239
sVlink
p1391
Vhttp://stackoverflow.com/users/505154/andrew-clark
p1392
sVaccept_rate
p1393
I100
sVdisplay_name
p1394
VAndrew Clark
p1395
ssVis_accepted
p1396
I01
sVlast_edit_date
p1397
I1362502602
sVanswer_id
p1398
I6117124
sa(dp1399
Vbody
p1400
V<p>Some performance measurements, using <code>timeit</code> instead of trying to do it manually with <code>time</code>.</p>\u000a\u000a<p>First, Apple 2.7.2 64-bit:</p>\u000a\u000a<pre><code>In [37]: %timeit collections.deque((x for x in xrange(10000000) if x%4 == 0), maxlen=0)\u000a1 loops, best of 3: 1.05 s per loop\u000a</code></pre>\u000a\u000a<p>Now, python.org 3.3.0 64-bit:</p>\u000a\u000a<pre><code>In [83]: %timeit collections.deque((x for x in range(10000000) if x%4 == 0), maxlen=0)\u000a1 loops, best of 3: 1.32 s per loop\u000a\u000aIn [84]: %timeit collections.deque((x for x in xrange(10000000) if x%4 == 0), maxlen=0)\u000a1 loops, best of 3: 1.31 s per loop\u000a\u000aIn [85]: %timeit collections.deque((x for x in iter(range(10000000)) if x%4 == 0), maxlen=0) \u000a1 loops, best of 3: 1.33 s per loop\u000a</code></pre>\u000a\u000a<p>Apparently, 3.x <code>range</code> really is a bit slower than 2.x <code>xrange</code>. And the OP's <code>xrange</code> function has nothing to do with it. (Not surprising, as a one-time call to the <code>__iter__</code> slot isn't likely to be visible among 10000000 calls to whatever happens in the loop, but someone brought it up as a possibility.)</p>\u000a\u000a<p>But it's only 30% slower. How did the OP get 2x as slow? Well, if I repeat the same tests with 32-bit Python, I get 1.58 vs. 3.12. So my guess is that this is yet another of those cases where 3.x has been optimized for 64-bit performance in ways that hurt 32-bit.</p>\u000a\u000a<p>But does it really matter? Check this out, with 3.3.0 64-bit again:</p>\u000a\u000a<pre><code>In [86]: %timeit [x for x in range(10000000) if x%4 == 0]\u000a1 loops, best of 3: 3.65 s per loop\u000a</code></pre>\u000a\u000a<p>So, building the <code>list</code> takes more than twice as long than the entire iteration. </p>\u000a\u000a<p>And as for "consumes much more resources than Python 2.6+", from my tests, it looks like a 3.x <code>range</code> is exactly the same size as a 2.x <code>xrange</code>\u2014and, even if it were 10x as big, building the unnecessary list is still about 10000000x more of a problem than anything the range iteration could possibly do.</p>\u000a\u000a<p>And what about an explicit <code>for</code> loop instead of the C loop inside <code>deque</code>?</p>\u000a\u000a<pre><code>In [87]: def consume(x):\u000a   ....:     for i in x:\u000a   ....:         pass\u000aIn [88]: %timeit consume(x for x in range(10000000) if x%4 == 0)\u000a1 loops, best of 3: 1.85 s per loop\u000a</code></pre>\u000a\u000a<p>So, almost as much time wasted in the <code>for</code> statement as in the actual work of iterating the <code>range</code>.</p>\u000a\u000a<p>If you're worried about optimizing the iteration of a range object, you're probably looking in the wrong place.</p>\u000a\u000a<hr>\u000a\u000a<p>Meanwhile, you keep asking why <code>xrange</code> was removed, no matter how many times people tell you the same thing, but I'll repeat it again: It was not removed: it was renamed to <code>range</code>, and the 2.x <code>range</code> is what was removed.</p>\u000a\u000a<p>Here's some proof that the 3.3 <code>range</code> object is a direct descendant of the 2.x <code>xrange</code> object (and not of the 2.x <code>range</code> function): the source to <a href="http://hg.python.org/cpython/file/3.3/Objects/rangeobject.c" rel="noreferrer">3.3 <code>range</code></a> and <a href="http://hg.python.org/cpython/file/2.7/Objects/rangeobject.c" rel="noreferrer">2.7 <code>xrange</code></a>. You can even see the <a href="http://hg.python.org/cpython/diff/a6eb6acfe04a/Objects/rangeobject.c" rel="noreferrer">change history</a> (linked to, I believe, the change that replaced the last instance of the string "xrange" anywhere in the file).</p>\u000a\u000a<p>So, why is it slower?</p>\u000a\u000a<p>Well, for one, they've added a lot of new features. For another, they've done all kinds of changes all over the place (especially inside iteration) that have minor side effects. And there'd been a lot of work to dramatically optimize various important cases, even if it sometimes slightly pessimizes less important cases. Add this all up, and I'm not surprised that iterating a <code>range</code> as fast as possible is now a bit slower. It's one of those less-important cases that nobody would ever care enough to focus on. No one is likely to ever have a real-life use case where this performance difference is the hotspot in their code.</p>\u000a
p1401
sVquestion_id
p1402
I15014310
sVlast_activity_date
p1403
I1361493029
sVcreation_date
p1404
I1361491390
sVscore
p1405
I96
sVowner
p1406
(dp1407
Vuser_id
p1408
I908494
sVprofile_image
p1409
Vhttps://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG
p1410
sVuser_type
p1411
Vregistered
p1412
sVreputation
p1413
I178780
sVlink
p1414
Vhttp://stackoverflow.com/users/908494/abarnert
p1415
sVaccept_rate
p1416
I25
sVdisplay_name
p1417
Vabarnert
p1418
ssVis_accepted
p1419
I01
sVlast_edit_date
p1420
I1361493029
sVanswer_id
p1421
I15014576
sa(dp1422
Vbody
p1423
V<pre><code>import sys, os\u000a\u000atry:\u000a    raise NotImplementedError("No error")\u000aexcept Exception as e:\u000a    exc_type, exc_obj, exc_tb = sys.exc_info()\u000a    fname = os.path.split(exc_tb.tb_frame.f_code.co_filename)[1]\u000a    print(exc_type, fname, exc_tb.tb_lineno)\u000a</code></pre>\u000a
p1424
sVquestion_id
p1425
I1278705
sVlast_activity_date
p1426
I1361386296
sVcreation_date
p1427
I1250266145
sVscore
p1428
I184
sVowner
p1429
(dp1430
Vuser_id
p1431
I107366
sVprofile_image
p1432
Vhttps://www.gravatar.com/avatar/a664d7ca2f3788c22a3aafeedd1c9339?s=128&d=identicon&r=PG
p1433
sVuser_type
p1434
Vregistered
p1435
sVreputation
p1436
I32850
sVlink
p1437
Vhttp://stackoverflow.com/users/107366/ants-aasma
p1438
sVdisplay_name
p1439
VAnts Aasma
p1440
ssVis_accepted
p1441
I01
sVlast_edit_date
p1442
I1361386296
sVanswer_id
p1443
I1278740
sa(dp1444
Vbody
p1445
V<p>It's a <a href="http://www.python.org/dev/peps/pep-3107/" rel="noreferrer">function annotation</a>.</p>\u000a\u000a<p>In more detail, Python 2.x has docstrings, which allow you to attach a metadata string to various types of object. This is amazingly handy, so Python 3 extends the feature by allowing you to attach metadata to functions describing their parameters and return values.</p>\u000a\u000a<p>There's no preconceived use case, but the PEP suggests several. One very handy one is to allow you to annotate parameters with their expected types; it would then be easy to write a decorator that verifies the annotations or coerces the arguments to the right type. Another is to allow parameter-specific documentation instead of encoding it into the docstring.</p>\u000a
p1446
sVquestion_id
p1447
I14379753
sVlast_activity_date
p1448
I1358427897
sVcreation_date
p1449
I1358427897
sVscore
p1450
I108
sVowner
p1451
(dp1452
Vuser_id
p1453
I398968
sVprofile_image
p1454
Vhttps://graph.facebook.com/619530723/picture?type=large
p1455
sVuser_type
p1456
Vregistered
p1457
sVreputation
p1458
I66281
sVlink
p1459
Vhttp://stackoverflow.com/users/398968/katrielalex
p1460
sVaccept_rate
p1461
I75
sVdisplay_name
p1462
Vkatrielalex
p1463
ssVis_accepted
p1464
I01
sVanswer_id
p1465
I14379780
sa(dp1466
Vcommunity_owned_date
p1467
I1354249323
sVbody
p1468
V<p>You can read about the changes in <a href="http://docs.python.org/3.0/whatsnew/3.0.html">What's New In Python 3.0</a>. You should read it thoroughly when you move from 2.x to 3.x since a lot has been changed.</p>\u000a\u000a<p>The whole answer here are quotes from the documentation.</p>\u000a\u000a<p><strong><a href="http://docs.python.org/3.0/whatsnew/3.0.html#views-and-iterators-instead-of-lists">Views And Iterators Instead Of Lists</a></strong></p>\u000a\u000a<blockquote>\u000a  <p>Some well-known APIs no longer return lists:</p>\u000a  \u000a  <ul>\u000a  <li>[...]</li>\u000a  <li><a href="http://docs.python.org/3.0/library/functions.html#map"><code>map()</code></a> and <a href="http://docs.python.org/3.0/library/functions.html#filter"><code>filter()</code></a> return iterators. If you really need a list, a quick fix is e.g. <code>list(map(...))</code>, but a better fix is often to use a list comprehension (especially when the original code uses lambda), or rewriting the code so it doesn\u2019t need a list at all. Particularly tricky is <code>map()</code> invoked for the side effects of the function; the correct transformation is to use a regular <code>for</code> loop (since creating a list would just be wasteful).</li>\u000a  <li>[...]</li>\u000a  </ul>\u000a</blockquote>\u000a\u000a<p><strong><a href="http://docs.python.org/3.0/whatsnew/3.0.html#builtins">Builtins</a></strong></p>\u000a\u000a<blockquote>\u000a  <ul>\u000a  <li>[...]</li>\u000a  <li>Removed <code>reduce()</code>. Use <a href="http://docs.python.org/3.0/library/functools.html#functools.reduce"><code>functools.reduce()</code></a> if you really need it; however, 99 percent of the time an explicit <code>for</code> loop is more readable.</li>\u000a  <li>[...]</li>\u000a  </ul>\u000a</blockquote>\u000a
p1469
sVquestion_id
p1470
I13638898
sVlast_activity_date
p1471
I1354249323
sVcreation_date
p1472
I1354249323
sVscore
p1473
I157
sVowner
p1474
(dp1475
Vuser_id
p1476
I1400768
sVprofile_image
p1477
Vhttps://i.stack.imgur.com/tM0N8.png?s=128&g=1
p1478
sVuser_type
p1479
Vregistered
p1480
sVreputation
p1481
I42128
sVlink
p1482
Vhttp://stackoverflow.com/users/1400768/nhahtdh
p1483
sVdisplay_name
p1484
Vnhahtdh
p1485
ssVis_accepted
p1486
I01
sVanswer_id
p1487
I13638960
sa(dp1488
Vbody
p1489
V<p>You can view a full example here:</p>\u000a\u000a<ul>\u000a<li><a href="http://www.diveintopython.net/power_of_introspection/index.html" rel="noreferrer">http://www.diveintopython.net/power_of_introspection/index.html</a></li>\u000a</ul>\u000a\u000a<p>Introspection can be used for different purpose, the one presented in 'Dive Into Python' is simply a way to add functionality (plug-in) dynamically in your application.</p>\u000a\u000a<p>By <strong>dynamically</strong> I mean without doing modification in the core application to add a new feature.</p>\u000a\u000a<p>Taking the 'Dive Into Python' example - <em>a simple app to extract attribute from file of different file</em> - you can add the handling of a new file format without doing modification to the original application.</p>\u000a\u000a<p><em>I recommend you finishing the book, everything become increasingly clear during that...</em></p>\u000a
p1490
sVquestion_id
p1491
I4075190
sVlast_activity_date
p1492
I1354111158
sVcreation_date
p1493
I1288676916
sVscore
p1494
I38
sVowner
p1495
(dp1496
Vuser_id
p1497
I304024
sVprofile_image
p1498
Vhttps://www.gravatar.com/avatar/5fd58f622fd5fae841f8d78a07eb8328?s=128&d=identicon&r=PG
p1499
sVuser_type
p1500
Vregistered
p1501
sVreputation
p1502
I7076
sVlink
p1503
Vhttp://stackoverflow.com/users/304024/alois-cochard
p1504
sVaccept_rate
p1505
I100
sVdisplay_name
p1506
VAlois Cochard
p1507
ssVis_accepted
p1508
I01
sVlast_edit_date
p1509
I1354111158
sVanswer_id
p1510
I4075211
sa(dp1511
Vbody
p1512
V<p><a href="http://rvm.io/" rel="noreferrer">RVM</a> works closer to how virtualenv works since it lets you sandbox different ruby versions and their gems, etc.</p>\u000a
p1513
sVquestion_id
p1514
I486995
sVlast_activity_date
p1515
I1352460467
sVcreation_date
p1516
I1285572031
sVscore
p1517
I68
sVowner
p1518
(dp1519
Vuser_id
p1520
I53894
sVprofile_image
p1521
Vhttps://www.gravatar.com/avatar/1842800aeae16263cc400189411ee9df?s=128&d=identicon&r=PG
p1522
sVuser_type
p1523
Vregistered
p1524
sVreputation
p1525
I2579
sVlink
p1526
Vhttp://stackoverflow.com/users/53894/van-nguyen
p1527
sVdisplay_name
p1528
VVan Nguyen
p1529
ssVis_accepted
p1530
I01
sVlast_edit_date
p1531
I1352460467
sVanswer_id
p1532
I3801789
sa(dp1533
Vbody
p1534
V<p>Go ahead and use <code>isinstance</code> if you need it.  It is somewhat evil, as it excludes custom sequences, iterators, and other things that you might actually need.  However, sometimes you need to behave differently if someone, for instance, passes a string.  My preference there would be to explicitly check for <code>str</code> or <code>unicode</code> like so:</p>\u000a\u000a<pre><code>import types\u000aisinstance(var, types.StringTypes)\u000a</code></pre>\u000a\u000a<p>N.B. Don't mistake <code>types.StringType</code> for <code>types.StringTypes</code>.  The latter incorporates <code>str</code> and <code>unicode</code> objects.</p>\u000a\u000a<p>The <code>types</code> module is considered by many to be obsolete in favor of just checking directly against the object's type, so if you'd rather not use the above, you can alternatively check explicitly against <code>str</code> and <code>unicode</code>, like this:</p>\u000a\u000a<pre><code>isinstance(var, (str, unicode)):\u000a</code></pre>\u000a\u000a<p><strong>Edit:</strong></p>\u000a\u000a<p>Better still is:</p>\u000a\u000a<pre><code>isinstance(var, basestring)\u000a</code></pre>\u000a\u000a<p><strong>End edit</strong></p>\u000a\u000a<p>After either of these, you can fall back to behaving as if you're getting a normal sequence, letting non-sequences raise appropriate exceptions.</p>\u000a\u000a<p>See the thing that's "evil" about type checking is not that you might want to behave differently for a certain type of object, it's that you artificially restrict your function from doing the right thing with unexpected object types that would otherwise do the right thing.  If you have a final fallback that is not type-checked, you remove this restriction.  It should be noted that too much type checking is a code smell that indicates that you might want to do some refactoring, but that doesn't necessarily mean you should avoid it from the getgo.</p>\u000a
p1535
sVquestion_id
p1536
I2184955
sVlast_activity_date
p1537
I1349139332
sVcreation_date
p1538
I1265124598
sVscore
p1539
I58
sVowner
p1540
(dp1541
Vuser_id
p1542
I131084
sVprofile_image
p1543
Vhttps://www.gravatar.com/avatar/b5129079df8199b730d06eec3c944f38?s=128&d=identicon&r=PG
p1544
sVuser_type
p1545
Vregistered
p1546
sVreputation
p1547
I11865
sVlink
p1548
Vhttp://stackoverflow.com/users/131084/jcdyer
p1549
sVdisplay_name
p1550
Vjcdyer
p1551
ssVis_accepted
p1552
I01
sVlast_edit_date
p1553
I1349139332
sVanswer_id
p1554
I2185198
sa(dp1555
Vbody
p1556
V<p>As you have it, the argument w is expecting a value after -w on the command line. If you are just looking to flip a switch by setting a variable <code>True</code> or <code>False</code>, have a look at <a href="http://docs.python.org/dev/library/argparse.html#action" rel="noreferrer">http://docs.python.org/dev/library/argparse.html#action</a> (specifically store_true and store_false)</p>\u000a\u000a<pre><code>parser.add_argument('-w', action='store_true')\u000a</code></pre>\u000a\u000a<p><strong>Edit:</strong> As Sven points out, a default value in this case is superfluous.</p>\u000a
p1557
sVquestion_id
p1558
I8259001
sVlast_activity_date
p1559
I1342439239
sVcreation_date
p1560
I1322146917
sVscore
p1561
I185
sVowner
p1562
(dp1563
Vuser_id
p1564
I771631
sVprofile_image
p1565
Vhttps://i.stack.imgur.com/4imK7.jpg?s=128&g=1
p1566
sVuser_type
p1567
Vregistered
p1568
sVreputation
p1569
I2872
sVlink
p1570
Vhttp://stackoverflow.com/users/771631/jdog
p1571
sVaccept_rate
p1572
I100
sVdisplay_name
p1573
VJdog
p1574
ssVis_accepted
p1575
I01
sVlast_edit_date
p1576
I1342439239
sVanswer_id
p1577
I8259080
sa(dp1578
Vbody
p1579
V<p>The bug is probably somewhere else in your code, because it should work fine:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; 3 not in [2, 3, 4]\u000aFalse\u000a&gt;&gt;&gt; 3 not in [4, 5, 6]\u000aTrue\u000a</code></pre>\u000a\u000a<p>Or with tuples:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; (2, 3) not in [(2, 3), (5, 6), (9, 1)]\u000aFalse\u000a&gt;&gt;&gt; (2, 3) not in [(2, 7), (7, 3), "hi"]\u000aTrue\u000a</code></pre>\u000a
p1580
sVquestion_id
p1581
I10406130
sVlast_activity_date
p1582
I1335917922
sVcreation_date
p1583
I1335917922
sVscore
p1584
I195
sVowner
p1585
(dp1586
Vuser_id
p1587
I565635
sVprofile_image
p1588
Vhttps://www.gravatar.com/avatar/7b4b3e7c9ac68b7d2c93ad02d0b9c79d?s=128&d=identicon&r=PG
p1589
sVuser_type
p1590
Vregistered
p1591
sVreputation
p1592
I57002
sVlink
p1593
Vhttp://stackoverflow.com/users/565635/orlp
p1594
sVaccept_rate
p1595
I89
sVdisplay_name
p1596
Vorlp
p1597
ssVis_accepted
p1598
I01
sVanswer_id
p1599
I10406143
sa(dp1600
Vbody
p1601
V<p>Python has a built-in datatype for an unordered collection of (hashable) things, called a <code>set</code>. If you convert both lists to sets, the comparison will be unordered.</p>\u000a\u000a<pre><code>set(x) == set(y)\u000a</code></pre>\u000a\u000a<p><a href="http://docs.python.org/library/stdtypes.html#set" rel="noreferrer">Documentation on <code>set</code></a></p>\u000a\u000a<hr>\u000a\u000a<p>EDIT: @mdwhatcott points out that you want to check for duplicates. <code>set</code> ignores these, so you need a similar data structure that also keeps track of the number of items in each list. This is called a <a href="http://en.wikipedia.org/wiki/Multiset" rel="noreferrer">multiset</a>; the best approximation in the standard library is a <a href="http://docs.python.org/dev/library/collections.html#collections.Counter" rel="noreferrer"><code>collections.Counter</code></a>:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; import collections\u000a&gt;&gt;&gt; compare = lambda x, y: collections.Counter(x) == collections.Counter(y)\u000a&gt;&gt;&gt; \u000a&gt;&gt;&gt; compare([1,2,3], [1,2,3,3])\u000aFalse\u000a&gt;&gt;&gt; compare([1,2,3], [1,2,3])\u000aTrue\u000a&gt;&gt;&gt; compare([1,2,3,3], [1,2,2,3])\u000aFalse\u000a&gt;&gt;&gt; \u000a</code></pre>\u000a
p1602
sVquestion_id
p1603
I9623114
sVlast_activity_date
p1604
I1331233464
sVcreation_date
p1605
I1331232691
sVscore
p1606
I224
sVowner
p1607
(dp1608
Vuser_id
p1609
I398968
sVprofile_image
p1610
Vhttps://graph.facebook.com/619530723/picture?type=large
p1611
sVuser_type
p1612
Vregistered
p1613
sVreputation
p1614
I66281
sVlink
p1615
Vhttp://stackoverflow.com/users/398968/katrielalex
p1616
sVaccept_rate
p1617
I75
sVdisplay_name
p1618
Vkatrielalex
p1619
ssVis_accepted
p1620
I01
sVlast_edit_date
p1621
I1331233464
sVanswer_id
p1622
I9623147
sa(dp1623
Vbody
p1624
V<pre><code>import traceback\u000atraceback.print_exc()\u000a</code></pre>\u000a\u000a<p>When doing this inside an <code>except ...:</code> block it will automatically use the current exception. See <a href="http://docs.python.org/library/traceback.html">http://docs.python.org/library/traceback.html</a> for more information.</p>\u000a
p1625
sVquestion_id
p1626
I9555133
sVlast_activity_date
p1627
I1330866919
sVcreation_date
p1628
I1330866919
sVscore
p1629
I192
sVowner
p1630
(dp1631
Vuser_id
p1632
I298479
sVprofile_image
p1633
Vhttps://www.gravatar.com/avatar/bc66db28aa7c3fa8e4ce4238b696dee9?s=128&d=identicon&r=PG
p1634
sVuser_type
p1635
Vmoderator
p1636
sVreputation
p1637
I202168
sVlink
p1638
Vhttp://stackoverflow.com/users/298479/thiefmaster
p1639
sVaccept_rate
p1640
I86
sVdisplay_name
p1641
VThiefMaster
p1642
ssVis_accepted
p1643
I01
sVanswer_id
p1644
I9555145
sa(dp1645
Vbody
p1646
V<pre><code>import urllib, urllib2, cookielib\u000a\u000ausername = 'myuser'\u000apassword = 'mypassword'\u000a\u000acj = cookielib.CookieJar()\u000aopener = urllib2.build_opener(urllib2.HTTPCookieProcessor(cj))\u000alogin_data = urllib.urlencode({'username' : username, 'j_password' : password})\u000aopener.open('http://www.example.com/login.php', login_data)\u000aresp = opener.open('http://www.example.com/hiddenpage.php')\u000aprint resp.read()\u000a</code></pre>\u000a\u000a<p><code>resp.read()</code> is the straight html of the page you want to open, and you can use <code>opener</code> to view any page using your session cookie.</p>\u000a
p1647
sVquestion_id
p1648
I189555
sVlast_activity_date
p1649
I1316392823
sVcreation_date
p1650
I1223594679
sVscore
p1651
I139
sVowner
p1652
(dp1653
Vuser_id
p1654
I1057
sVprofile_image
p1655
Vhttps://www.gravatar.com/avatar/e5778b659d144e38ed982c3f4e566089?s=128&d=identicon&r=PG
p1656
sVuser_type
p1657
Vregistered
p1658
sVreputation
p1659
I78416
sVlink
p1660
Vhttp://stackoverflow.com/users/1057/harley-holcombe
p1661
sVaccept_rate
p1662
I80
sVdisplay_name
p1663
VHarley Holcombe
p1664
ssVis_accepted
p1665
I01
sVlast_edit_date
p1666
I1316392823
sVanswer_id
p1667
I189580
sa(dp1668
Vbody
p1669
V<p>You should be able to do this by using the <code>python</code> in your virtual environment:</p>\u000a\u000a<pre><code>/home/my/virtual/bin/python /home/my/project/manage.py command arg\u000a</code></pre>\u000a\u000a<p>EDIT: If your django project isn't in the PYTHONPATH, then you'll need to switch to the right directory:</p>\u000a\u000a<pre><code>cd /home/my/project &amp;&amp; /home/my/virtual/bin/python ...\u000a</code></pre>\u000a\u000a<p>You can also try to log the failure from cron:</p>\u000a\u000a<pre><code>cd /home/my/project &amp;&amp; /home/my/virtual/bin/python /home/my/project/manage.py &gt; /tmp/cronlog.txt 2&gt;&amp;1\u000a</code></pre>\u000a\u000a<p>Another thing to try is to make the same change in your <code>manage.py</code> script at the very top:</p>\u000a\u000a<pre><code>#!/home/my/virtual/bin/python\u000a</code></pre>\u000a
p1670
sVquestion_id
p1671
I3287038
sVlast_activity_date
p1672
I1315607252
sVcreation_date
p1673
I1279600858
sVscore
p1674
I145
sVowner
p1675
(dp1676
Vuser_id
p1677
I2611
sVprofile_image
p1678
Vhttps://www.gravatar.com/avatar/3d9b2df0d1610c9418ba9e9013dbd418?s=128&d=identicon&r=PG
p1679
sVuser_type
p1680
Vregistered
p1681
sVreputation
p1682
I64105
sVlink
p1683
Vhttp://stackoverflow.com/users/2611/ars
p1684
sVdisplay_name
p1685
Vars
p1686
ssVis_accepted
p1687
I01
sVlast_edit_date
p1688
I1315607252
sVanswer_id
p1689
I3287063
sa(dp1690
Vbody
p1691
V<p>Use pythons <a href="http://docs.python.org/library/hashlib.html#module-hashlib" rel="noreferrer">hashlib</a></p>\u000a\u000a<pre><code>import hashlib\u000am = hashlib.md5()\u000am.update("000005fab4534d05api_key9a0554259914a86fb9e7eb014e4e5d52permswrite")\u000aprint m.hexdigest()\u000a</code></pre>\u000a\u000a<p>Output: <code>a02506b31c1cd46c2e0b6380fb94eb3d</code></p>\u000a
p1692
sVquestion_id
p1693
I5297448
sVlast_activity_date
p1694
I1300099401
sVcreation_date
p1695
I1300099401
sVscore
p1696
I147
sVowner
p1697
(dp1698
Vuser_id
p1699
I20261
sVprofile_image
p1700
Vhttps://www.gravatar.com/avatar/ebcaa713662b559e37478c94683e8616?s=128&d=identicon&r=PG
p1701
sVuser_type
p1702
Vregistered
p1703
sVreputation
p1704
I56865
sVlink
p1705
Vhttp://stackoverflow.com/users/20261/ikke
p1706
sVaccept_rate
p1707
I82
sVdisplay_name
p1708
VIkke
p1709
ssVis_accepted
p1710
I01
sVanswer_id
p1711
I5297495
sa(dp1712
Vbody
p1713
V<pre><code>&gt;&gt;&gt; d = { 'a': 1, 'b': 2, 'c': 3 }\u000a&gt;&gt;&gt; d.items()\u000a[('a', 1), ('c', 3), ('b', 2)]\u000a&gt;&gt;&gt; [(v, k) for k, v in d.iteritems()]\u000a[(1, 'a'), (3, 'c'), (2, 'b')]\u000a</code></pre>\u000a\u000a<p>It's not in the order you want, but dicts don't have any specific order anyway. Sort it or organize it as necessary.</p>\u000a\u000a<p>See: <a href="http://docs.python.org/library/stdtypes.html#dict.items" rel="noreferrer">items()</a>, <a href="http://docs.python.org/library/stdtypes.html#dict.iteritems" rel="noreferrer">iteritems()</a></p>\u000a\u000a<hr>\u000a\u000a<p>In Python 3.x, you would not use <code>iteritems</code> (which no longer exists), but instead use <code>items</code>, which now returns a "view" into the dictionary items. See the <a href="http://docs.python.org/release/3.0.1/whatsnew/3.0.html#views-and-iterators-instead-of-lists" rel="noreferrer">What's New</a> document for Python 3.0, and the new <a href="http://docs.python.org/py3k/library/stdtypes.html#dictionary-view-objects" rel="noreferrer">documentation on views</a>.</p>\u000a
p1714
sVquestion_id
p1715
I674519
sVlast_activity_date
p1716
I1298293449
sVcreation_date
p1717
I1237831298
sVscore
p1718
I246
sVowner
p1719
(dp1720
Vuser_id
p1721
I18515
sVprofile_image
p1722
Vhttps://www.gravatar.com/avatar/f9375b447dd668a10c19891379b9db2a?s=128&d=identicon&r=PG
p1723
sVuser_type
p1724
Vregistered
p1725
sVreputation
p1726
I44272
sVlink
p1727
Vhttp://stackoverflow.com/users/18515/devin-jeanpierre
p1728
sVaccept_rate
p1729
I54
sVdisplay_name
p1730
VDevin Jeanpierre
p1731
ssVis_accepted
p1732
I01
sVlast_edit_date
p1733
I1298293449
sVanswer_id
p1734
I674531
sa(dp1735
Vbody
p1736
V<p><a href="http://docs.python.org/library/json.html#json.loads" rel="noreferrer"><code>json.loads()</code></a></p>\u000a\u000a<pre><code>d = json.loads(j)\u000aprint d['glossary']['title']\u000a</code></pre>\u000a
p1737
sVquestion_id
p1738
I4528099
sVlast_activity_date
p1739
I1293220307
sVcreation_date
p1740
I1293220307
sVscore
p1741
I267
sVowner
p1742
(dp1743
Vuser_id
p1744
I20862
sVprofile_image
p1745
Vhttps://www.gravatar.com/avatar/2343ae368d3241278581ce6c87f62a25?s=128&d=identicon&r=PG
p1746
sVuser_type
p1747
Vregistered
p1748
sVreputation
p1749
I481008
sVlink
p1750
Vhttp://stackoverflow.com/users/20862/ignacio-vazquez-abrams
p1751
sVaccept_rate
p1752
I60
sVdisplay_name
p1753
VIgnacio Vazquez-Abrams
p1754
ssVis_accepted
p1755
I01
sVanswer_id
p1756
I4528110
sa(dp1757
Vbody
p1758
V<p>How to design a class.</p>\u000a\u000a<ol>\u000a<li><p>Write down the words.  You started to do this.  Some people don't and wonder why they have problems.</p></li>\u000a<li><p>Expand your set of words into simple statements about what these objects will be doing.  That is to say, write down the various calculations you'll be doing on these things.  Your short list of 30 dogs, 24 measurements, 4 contacts, and several "parameters" per contact is interesting, but only part of the story.  Your "locations of each paw" and "compare all the paws of the same dog to determine which contact belongs to which paw" are the next step in object design.</p></li>\u000a<li><p>Underline the nouns.  Seriously.  Some folks debate the value of this, but I find that for first-time OO developers it helps.  Underline the nouns.</p></li>\u000a<li><p>Review the nouns.  Generic nouns like "parameter" and "measurement" need to be replaced with specific, concrete nouns that apply to your problem in your problem domain.  Specifics help clarify the problem.  Generics simply elide details.</p></li>\u000a<li><p>For each noun ("contact", "paw", "dog", etc.) write down the attributes of that noun and the actions in which that object engages.  Don't short-cut this.  Every attribute.  "Data Set contains 30 Dogs" for example is important.</p></li>\u000a<li><p>For each attribute, identify if this is a relationship to a defined noun, or some other kind of "primitive" or "atomic" data like a string or a float or something irreducible.</p></li>\u000a<li><p>For each action or operation, you have to identify which noun has the responsibility, and which nouns merely participate.  It's a  question of "mutability".  Some objects get updated, others don't.  Mutable objects must own total responsibility for their mutations. </p></li>\u000a<li><p>At this point, you can start to transform nouns into class definitions.  Some collective nouns are lists, dictionaries, tuples, sets or namedtuples, and you don't need to do very much work.  Other classes are more complex, either because of complex derived data or because of some update/mutation which is performed.</p></li>\u000a</ol>\u000a\u000a<p>Don't forget to test each class in isolation using unittest.</p>\u000a\u000a<p>Also, there's no law that says classes must be mutable.  In your case, for example, you have almost no mutable data.  What you have is derived data, created by transformation functions from the source dataset.   </p>\u000a
p1759
sVquestion_id
p1760
I4203163
sVlast_activity_date
p1761
I1289992911
sVcreation_date
p1762
I1289992911
sVscore
p1763
I421
sVowner
p1764
(dp1765
Vuser_id
p1766
I10661
sVprofile_image
p1767
Vhttps://www.gravatar.com/avatar/c2c732bbf13dc96670b210b3c0c1ead5?s=128&d=identicon&r=PG
p1768
sVuser_type
p1769
Vregistered
p1770
sVreputation
p1771
I277525
sVlink
p1772
Vhttp://stackoverflow.com/users/10661/s-lott
p1773
sVaccept_rate
p1774
I92
sVdisplay_name
p1775
VS.Lott
p1776
ssVis_accepted
p1777
I01
sVanswer_id
p1778
I4203836
sa(dp1779
Vbody
p1780
V<p>All integers that can be represented by floating point numbers have an exact representation. So you can safely use <code>int</code> on the result. Inexact representations occur only if you are trying to represent a rational number with a denominator that is not a power of two.</p>\u000a\u000a<p>That this works is not trivial at all! It's a property of the IEEE floating point representation that int\u2218floor = \u230a\u22c5\u230b if the magnitude of the numbers in question is small enough, but different representations are possible where int(floor(2.3)) might be 1.</p>\u000a\u000a<p>To quote from <a href="http://en.wikipedia.org/w/index.php?title=Floating_point&amp;oldid=376101741#IEEE_754:_floating_point_in_modern_computers" rel="noreferrer">Wikipedia</a>,</p>\u000a\u000a<blockquote>\u000a  <p>Any integer with absolute value less than or equal to 2<sup>24</sup> can be exactly represented in the single precision format, and any integer with absolute value less than or equal to 2<sup>53</sup> can be exactly represented in the double precision format.</p>\u000a</blockquote>\u000a
p1781
sVquestion_id
p1782
I3387655
sVlast_activity_date
p1783
I1280752388
sVcreation_date
p1784
I1280751950
sVscore
p1785
I122
sVowner
p1786
(dp1787
Vuser_id
p1788
I178761
sVprofile_image
p1789
Vhttps://www.gravatar.com/avatar/1687da90f2a29a38d00d32c6848f93b7?s=128&d=identicon&r=PG
p1790
sVuser_type
p1791
Vregistered
p1792
sVreputation
p1793
I31435
sVlink
p1794
Vhttp://stackoverflow.com/users/178761/philipp
p1795
sVaccept_rate
p1796
I75
sVdisplay_name
p1797
VPhilipp
p1798
ssVis_accepted
p1799
I01
sVlast_edit_date
p1800
I1280752388
sVanswer_id
p1801
I3387715
sa(dp1802
Vcommunity_owned_date
p1803
I1279556486
sVbody
p1804
V<p>Best: <code>min(d, key=d.get)</code> -- no reason to interpose a useless <code>lambda</code> indirection layer or extract items or keys!</p>\u000a
p1805
sVquestion_id
p1806
I3282823
sVlast_activity_date
p1807
I1279556486
sVcreation_date
p1808
I1279556486
sVscore
p1809
I263
sVowner
p1810
(dp1811
Vuser_id
p1812
I95810
sVprofile_image
p1813
Vhttps://www.gravatar.com/avatar/e8d5fe90f1fe2148bf130cccd4dc311c?s=128&d=identicon&r=PG
p1814
sVuser_type
p1815
Vregistered
p1816
sVreputation
p1817
I516079
sVlink
p1818
Vhttp://stackoverflow.com/users/95810/alex-martelli
p1819
sVaccept_rate
p1820
I80
sVdisplay_name
p1821
VAlex Martelli
p1822
ssVis_accepted
p1823
I01
sVanswer_id
p1824
I3282904
sa(dp1825
Vbody
p1826
V<p>The answer is explained <a href="http://jaredgrubb.blogspot.com/2009/04/python-is-none-vs-none.html" rel="noreferrer">here</a>.</p>\u000a\u000a<p>To quote:</p>\u000a\u000a<blockquote>\u000a  <p>A class is free to implement\u000a  comparison any way it chooses, and it\u000a  can choose to make comparison against\u000a  None mean something (which actually\u000a  makes sense; if someone told you to\u000a  implement the None object from\u000a  scratch, how else would you get it to\u000a  compare True against itself?).</p>\u000a</blockquote>\u000a\u000a<p>Practically-speaking, there is not much difference since custom comparison operators are rare.  But you should use <code>is None</code> as a general rule.</p>\u000a
p1827
sVquestion_id
p1828
I3257919
sVlast_activity_date
p1829
I1279212939
sVcreation_date
p1830
I1279212939
sVscore
p1831
I138
sVowner
p1832
(dp1833
Vuser_id
p1834
I4482
sVprofile_image
p1835
Vhttps://www.gravatar.com/avatar/6d420afab45ed2cc6e50dd5ae571434c?s=128&d=identicon&r=PG
p1836
sVuser_type
p1837
Vregistered
p1838
sVreputation
p1839
I72969
sVlink
p1840
Vhttp://stackoverflow.com/users/4482/ben-hoffstein
p1841
sVdisplay_name
p1842
VBen Hoffstein
p1843
ssVis_accepted
p1844
I01
sVanswer_id
p1845
I3257957
sa(dp1846
Vbody
p1847
V<p>I've come up with the following method, which works for me because in every case the model will have a ModelForm associated with it.</p>\u000a\u000a<pre><code>def GetModelData(form, fields):\u000a    """\u000a    Extract data from the bound form model instance and return a\u000a    dictionary that is easily usable in templates with the actual\u000a    field verbose name as the label, e.g.\u000a\u000a    model_data{"Address line 1": "32 Memory lane",\u000a               "Address line 2": "Brainville",\u000a               "Phone": "0212378492"}\u000a\u000a    This way, the template has an ordered list that can be easily\u000a    presented in tabular form.\u000a    """\u000a    model_data = {}\u000a    for field in fields:\u000a        model_data[form[field].label] = eval("form.data.%s" % form[field].name)\u000a    return model_data\u000a\u000a@login_required\u000adef clients_view(request, client_id):\u000a    client = Client.objects.get(id=client_id)\u000a    form = AddClientForm(client)\u000a\u000a    fields = ("address1", "address2", "address3", "address4",\u000a              "phone", "fax", "mobile", "email")\u000a    model_data = GetModelData(form, fields)\u000a\u000a    template_vars = RequestContext(request,\u000a        {\u000a            "client": client,\u000a            "model_data": model_data\u000a        }\u000a    )\u000a    return render_to_response("clients-view.html", template_vars)\u000a</code></pre>\u000a\u000a<p>Here is an extract from the template I am using for this particular view:</p>\u000a\u000a<pre><code>&lt;table class="client-view"&gt;\u000a    &lt;tbody&gt;\u000a    {% for field, value in model_data.items %}\u000a        &lt;tr&gt;\u000a            &lt;td class="field-name"&gt;{{ field }}&lt;/td&gt;&lt;td&gt;{{ value }}&lt;/td&gt;\u000a        &lt;/tr&gt;\u000a    {% endfor %}\u000a    &lt;/tbody&gt;\u000a&lt;/table&gt;\u000a</code></pre>\u000a\u000a<p>The nice thing about this method is that I can choose on a template-by-template basis the order in which I would like to display the field labels, using the tuple passed in to GetModelData and specifying the field names.  This also allows me to exclude certain fields (e.g. a User foreign key) as only the field names passed in via the tuple are built into the final dictionary.</p>\u000a\u000a<p>I'm not going to accept this as the answer because I'm sure someone can come up with something more "Djangonic" :-)</p>\u000a\u000a<p><strong>Update:</strong> I'm choosing this as the final answer because it is the simplest out of those given that does what I need.  Thanks to everyone who contributed answers.</p>\u000a
p1848
sVquestion_id
p1849
I2170228
sVlast_activity_date
p1850
I1266059005
sVcreation_date
p1851
I1265002365
sVscore
p1852
I4
sVowner
p1853
(dp1854
Vuser_id
p1855
I38403
sVprofile_image
p1856
Vhttps://i.stack.imgur.com/o7LtJ.jpg?s=128&g=1
p1857
sVuser_type
p1858
Vregistered
p1859
sVreputation
p1860
I6266
sVlink
p1861
Vhttp://stackoverflow.com/users/38403/wayne-koorts
p1862
sVaccept_rate
p1863
I89
sVdisplay_name
p1864
VWayne Koorts
p1865
ssVis_accepted
p1866
I01
sVlast_edit_date
p1867
I1266059005
sVanswer_id
p1868
I2174843
sa(dp1869
Vbody
p1870
V<p><a href="http://docs.python.org/library/glob.html#glob.glob" rel="noreferrer"><code>glob.glob('145592*.jpg')</code></a></p>\u000a
p1871
sVquestion_id
p1872
I2225564
sVlast_activity_date
p1873
I1265670318
sVcreation_date
p1874
I1265670318
sVscore
p1875
I186
sVowner
p1876
(dp1877
Vuser_id
p1878
I20862
sVprofile_image
p1879
Vhttps://www.gravatar.com/avatar/2343ae368d3241278581ce6c87f62a25?s=128&d=identicon&r=PG
p1880
sVuser_type
p1881
Vregistered
p1882
sVreputation
p1883
I481008
sVlink
p1884
Vhttp://stackoverflow.com/users/20862/ignacio-vazquez-abrams
p1885
sVaccept_rate
p1886
I60
sVdisplay_name
p1887
VIgnacio Vazquez-Abrams
p1888
ssVis_accepted
p1889
I01
sVanswer_id
p1890
I2225582
sa(dp1891
Vbody
p1892
V<p>Use <a href="http://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.tolist.html"><code>tolist()</code></a>:</p>\u000a\u000a<pre><code>import numpy as np\u000a&gt;&gt;&gt; np.array([[1,2,3],[4,5,6]]).tolist()\u000a[[1, 2, 3], [4, 5, 6]]\u000a</code></pre>\u000a
p1893
sVquestion_id
p1894
I1966207
sVlast_activity_date
p1895
I1261928184
sVcreation_date
p1896
I1261927879
sVscore
p1897
I198
sVowner
p1898
(dp1899
Vuser_id
p1900
I221537
sVprofile_image
p1901
Vhttps://www.gravatar.com/avatar/64e12c52680644f0557961c931e50f7d?s=128&d=identicon&r=PG
p1902
sVuser_type
p1903
Vregistered
p1904
sVreputation
p1905
I12554
sVlink
p1906
Vhttp://stackoverflow.com/users/221537/peter-hansen
p1907
sVaccept_rate
p1908
I100
sVdisplay_name
p1909
VPeter Hansen
p1910
ssVis_accepted
p1911
I01
sVlast_edit_date
p1912
I1261928184
sVanswer_id
p1913
I1966210
sa(dp1914
Vbody
p1915
V<p>That would be the <a href="http://docs.python.org/library/tempfile.html" rel="noreferrer">tempfile</a> module.</p>\u000a\u000a<p>It has functions to get the temporary directory, and also has some shortcuts to create temporary files and directories in it, either named or unnamed.</p>\u000a\u000a<p>Example:</p>\u000a\u000a<pre><code>import tempfile\u000a\u000aprint tempfile.gettempdir() # prints the current temporary directory\u000a\u000af = tempfile.TemporaryFile()\u000af.write('something on temporaryfile')\u000af.seek(0) # return to beginning of file\u000aprint f.read() # reads data back from the file\u000af.close() # temporary file is automatically deleted here\u000a</code></pre>\u000a\u000a<p>For completeness, here's how it searches for the temporary directory, according to the documentation:</p>\u000a\u000a<ol>\u000a<li>The directory named by the <code>TMPDIR</code> environment variable.</li>\u000a<li>The directory named by the <code>TEMP</code> environment variable.</li>\u000a<li>The directory named by the <code>TMP</code> environment variable.</li>\u000a<li>A platform-specific location:\u000a\u000a<ul>\u000a<li>On <em>RiscOS</em>, the directory named by the <code>Wimp$ScrapDir</code> environment variable.</li>\u000a<li>On <em>Windows</em>, the directories <code>C:\u005cTEMP</code>, <code>C:\u005cTMP</code>, <code>\u005cTEMP</code>, and <code>\u005cTMP</code>, in that order.</li>\u000a<li>On all other platforms, the directories <code>/tmp</code>, <code>/var/tmp</code>, and <code>/usr/tmp</code>, in that order.</li>\u000a</ul></li>\u000a<li>As a last resort, the current working directory.</li>\u000a</ol>\u000a
p1916
sVquestion_id
p1917
I847850
sVlast_activity_date
p1918
I1242045068
sVcreation_date
p1919
I1242044718
sVscore
p1920
I203
sVowner
p1921
(dp1922
Vuser_id
p1923
I17160
sVprofile_image
p1924
Vhttps://www.gravatar.com/avatar/81cb50f5fe868629a680c16a56781f01?s=128&d=identicon&r=PG
p1925
sVuser_type
p1926
Vregistered
p1927
sVreputation
p1928
I118064
sVlink
p1929
Vhttp://stackoverflow.com/users/17160/nosklo
p1930
sVaccept_rate
p1931
I78
sVdisplay_name
p1932
Vnosklo
p1933
ssVis_accepted
p1934
I01
sVlast_edit_date
p1935
I1242045068
sVanswer_id
p1936
I847866
sa(dp1937
Vbody
p1938
V<p>You can use the <code>zfill()</code> method to pad a string with zeros:</p>\u000a\u000a<pre><code>In [3]: str(1).zfill(2)\u000aOut[3]: '01'\u000a</code></pre>\u000a
p1939
sVquestion_id
p1940
I733454
sVlast_activity_date
p1941
I1239269003
sVcreation_date
p1942
I1239269003
sVscore
p1943
I336
sVowner
p1944
(dp1945
Vdisplay_name
p1946
Vunbeknown
p1947
sVuser_type
p1948
Vdoes_not_exist
p1949
ssVis_accepted
p1950
I01
sVanswer_id
p1951
I733478
sa(dp1952
Vbody
p1953
V<p>The code I ended up using.  I think this is the best so far:</p>\u000a\u000a<pre><code>def tail(f, n, offset=None):\u000a    """Reads a n lines from f with an offset of offset lines.  The return\u000a    value is a tuple in the form ``(lines, has_more)`` where `has_more` is\u000a    an indicator that is `True` if there are more lines in the file.\u000a    """\u000a    avg_line_length = 74\u000a    to_read = n + (offset or 0)\u000a\u000a    while 1:\u000a        try:\u000a            f.seek(-(avg_line_length * to_read), 2)\u000a        except IOError:\u000a            # woops.  apparently file is smaller than what we want\u000a            # to step back, go to the beginning instead\u000a            f.seek(0)\u000a        pos = f.tell()\u000a        lines = f.read().splitlines()\u000a        if len(lines) &gt;= to_read or pos == 0:\u000a            return lines[-to_read:offset and -offset or None], \u005c\u000a                   len(lines) &gt; to_read or pos &gt; 0\u000a        avg_line_length *= 1.3\u000a</code></pre>\u000a
p1954
sVquestion_id
p1955
I136168
sVlast_activity_date
p1956
I1238238824
sVcreation_date
p1957
I1238238824
sVscore
p1958
I17
sVowner
p1959
(dp1960
Vuser_id
p1961
I19990
sVprofile_image
p1962
Vhttps://www.gravatar.com/avatar/181de1fb11dffe39774f3e2e23cda3b6?s=128&d=identicon&r=PG
p1963
sVuser_type
p1964
Vregistered
p1965
sVreputation
p1966
I24012
sVlink
p1967
Vhttp://stackoverflow.com/users/19990/armin-ronacher
p1968
sVaccept_rate
p1969
I50
sVdisplay_name
p1970
VArmin Ronacher
p1971
ssVis_accepted
p1972
I01
sVanswer_id
p1973
I692616
sa(dp1974
Vbody
p1975
V<p>Why not just do this:</p>\u000a\u000a<pre><code>var = None\u000a</code></pre>\u000a\u000a<p>Python is dynamic, so you don't need to declare things; they exist automatically in the first scope where they're assigned.  So, all you need is a regular old assignment statement as above.</p>\u000a\u000a<p>This is nice, because you'll never end up with an uninitialized variable.  But be careful -- this doesn't mean that you won't end up with <em>incorrectly</em> initialized variables.  If you init something to <code>None</code>, make sure that's what you really want, and assign something more meaningful if you can.</p>\u000a
p1976
sVquestion_id
p1977
I664294
sVlast_activity_date
p1978
I1237503019
sVcreation_date
p1979
I1237501385
sVscore
p1980
I176
sVowner
p1981
(dp1982
Vuser_id
p1983
I9122
sVprofile_image
p1984
Vhttps://www.gravatar.com/avatar/8f17a68d55e7741045ad5d73207b5751?s=128&d=identicon&r=PG
p1985
sVuser_type
p1986
Vregistered
p1987
sVreputation
p1988
I39967
sVlink
p1989
Vhttp://stackoverflow.com/users/9122/tgamblin
p1990
sVdisplay_name
p1991
Vtgamblin
p1992
ssVis_accepted
p1993
I01
sVlast_edit_date
p1994
I1237503019
sVanswer_id
p1995
I664297
sa(dp1996
Vbody
p1997
V<p>Make sure you are not keeping global references to data. That prevents the python garbage collector from releasing the memory.</p>\u000a\u000a<p>Don't use <code>mod_python</code>. It loads an interpreter inside apache. If you need to use apache, use <a href="http://code.google.com/p/modwsgi/" rel="noreferrer"><code>mod_wsgi</code></a> instead. It is not tricky to switch. It is very easy. <code>mod_wsgi</code> is way easier to <a href="http://code.google.com/p/modwsgi/wiki/IntegrationWithDjango" rel="noreferrer">configure for django</a> than brain-dead <code>mod_python</code>.</p>\u000a\u000a<p>If you can remove apache from your requirements, that would be even better to your memory. <a href="http://pypi.python.org/pypi/Spawning/0.7" rel="noreferrer"><code>spawning</code></a> seems to be the new fast scalable way to run python web applications.</p>\u000a\u000a<p><strong>EDIT</strong>: I don't see how switching to mod_wsgi could be "<em>tricky</em>". It should be a very easy task. Please elaborate on the problem you are having with the switch.</p>\u000a
p1998
sVquestion_id
p1999
I487224
sVlast_activity_date
p2000
I1233226553
sVcreation_date
p2001
I1233141074
sVscore
p2002
I44
sVowner
p2003
(dp2004
Vuser_id
p2005
I17160
sVprofile_image
p2006
Vhttps://www.gravatar.com/avatar/81cb50f5fe868629a680c16a56781f01?s=128&d=identicon&r=PG
p2007
sVuser_type
p2008
Vregistered
p2009
sVreputation
p2010
I118064
sVlink
p2011
Vhttp://stackoverflow.com/users/17160/nosklo
p2012
sVaccept_rate
p2013
I78
sVdisplay_name
p2014
Vnosklo
p2015
ssVis_accepted
p2016
I01
sVlast_edit_date
p2017
I1233226553
sVanswer_id
p2018
I487261
sa(dp2019
Vbody
p2020
V<p>A virtual machine is a virtual computing environment with a specific set of atomic well defined instructions that are supported independent of any specific language and it is generally thought of as a sandbox unto itself. The VM is analogous to an instruction set of a specific CPU and tends to work at a more fundamental level with very basic building blocks of such instructions (or byte codes) that are independent of the next. An instruction executes deterministically based only on the current state of the virtual machine and does not depend on information elsewhere in the instruction stream at that point in time.</p>\u000a\u000a<p>An interpreter on the other hand is more sophisticated in that it is tailored to parse a stream of some syntax that is of a specific language and of a specific grammer that must be decoded in the context of the surrounding tokens. You can't look at each byte or even each line in isolation and know exactly what to do next. The tokens in the language can't be taken in isolation like they can relative to the instructions (byte codes) of a VM.</p>\u000a\u000a<p>A Java compiler converts Java language into a byte-code stream no different than a C compiler converts C Language programs into assembly code. An interpreter on the other hand doesn't really convert the program into any well defined intermediate form, it just takes the program actions as a matter of the process of interpreting the source.</p>\u000a\u000a<p>Another test of the difference between a VM and an interpreter is whether you think of it as being language independent. What we know as the Java VM is not really Java specific. You could make a compiler from other languages that result in byte codes that can be run on the JVM. On the other hand, I don't think we would really think of "compiling" some other language other than Python into Python for interpretation by the Python interpreter.</p>\u000a\u000a<p>Because of the sophistication of the interpretation process, this can be a relatively slow process....specifically parsing and identifying the language tokens, etc. and understanding the context of the source to be able to undertake the execution process within the interpreter. To help accelerate such interpreted languages, this is where we can define intermediate forms of pre-parsed, pre-tokenized source code that is more readily directly interpreted. This sort of binary form is still interpreted at execution time, it is just starting from a much less human readable form to improve performance. However, the logic executing that form is not a virtual machine, because those codes still can't be taken in isolation - the context of the surrounding tokens still matter, they are just now in a different more computer efficient form.</p>\u000a
p2021
sVquestion_id
p2022
I441824
sVlast_activity_date
p2023
I1231953385
sVcreation_date
p2024
I1231909607
sVscore
p2025
I95
sVowner
p2026
(dp2027
Vuser_id
p2028
I1553
sVprofile_image
p2029
Vhttps://www.gravatar.com/avatar/3c7db1077ce759e22c54d235054182dc?s=128&d=identicon&r=PG
p2030
sVuser_type
p2031
Vmoderator
p2032
sVreputation
p2033
I7446
sVlink
p2034
Vhttp://stackoverflow.com/users/1553/tall-jeff
p2035
sVaccept_rate
p2036
I100
sVdisplay_name
p2037
VTall Jeff
p2038
ssVis_accepted
p2039
I01
sVlast_edit_date
p2040
I1231953385
sVanswer_id
p2041
I441973
sa(dp2042
Vbody
p2043
V<p>Answered my own question. <em>Sigh</em></p>\u000a\u000a<p><a href="http://docs.djangoproject.com/en/dev/ref/forms/widgets/#django.forms.Widget.attrs" rel="noreferrer">http://docs.djangoproject.com/en/dev/ref/forms/widgets/#django.forms.Widget.attrs</a></p>\u000a\u000a<p>I didn't realize it was passed into the widget constructor.</p>\u000a
p2044
sVquestion_id
p2045
I401025
sVlast_activity_date
p2046
I1230661228
sVcreation_date
p2047
I1230661228
sVscore
p2048
I70
sVowner
p2049
(dp2050
Vuser_id
p2051
I22306
sVprofile_image
p2052
Vhttps://www.gravatar.com/avatar/0ba94480bf4840a6957fa83303be919e?s=128&d=identicon&r=PG
p2053
sVuser_type
p2054
Vregistered
p2055
sVreputation
p2056
I7297
sVlink
p2057
Vhttp://stackoverflow.com/users/22306/ashchristopher
p2058
sVaccept_rate
p2059
I79
sVdisplay_name
p2060
Vashchristopher
p2061
ssVis_accepted
p2062
I01
sVanswer_id
p2063
I401030
sa(dp2064
Vbody
p2065
V<pre><code>def is_ascii(s):\u000a    return all(ord(c) &lt; 128 for c in s)\u000a</code></pre>\u000a
p2066
sVquestion_id
p2067
I196345
sVlast_activity_date
p2068
I1223857843
sVcreation_date
p2069
I1223857843
sVscore
p2070
I98
sVowner
p2071
(dp2072
Vuser_id
p2073
I712
sVprofile_image
p2074
Vhttps://www.gravatar.com/avatar/bd319cfb666b090230d12d3d3284d018?s=128&d=identicon&r=PG
p2075
sVuser_type
p2076
Vregistered
p2077
sVreputation
p2078
I13016
sVlink
p2079
Vhttp://stackoverflow.com/users/712/alexander-kojevnikov
p2080
sVdisplay_name
p2081
VAlexander Kojevnikov
p2082
ssVis_accepted
p2083
I01
sVanswer_id
p2084
I196392
sasVquota_max
p2085
I300
sVquota_remaining
p2086
I229
s.