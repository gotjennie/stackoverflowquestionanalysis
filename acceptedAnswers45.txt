(dp0
Vhas_more
p1
I00
sVitems
p2
(lp3
(dp4
Vbody
p5
V<p><em>TL;DR: there's a method <code>_asdict</code> provided for this.</em></p>\u000a\u000a<p>Here is a demonstration of the usage:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; fields = ['name', 'population', 'coordinates', 'capital', 'state_bird']\u000a&gt;&gt;&gt; Town = collections.namedtuple('Town', fields)\u000a&gt;&gt;&gt; funkytown = Town('funky', 300, 'somewhere', 'lipps', 'chicken')\u000a&gt;&gt;&gt; funkytown._asdict()\u000aOrderedDict([('name', 'funky'),\u000a             ('population', 300),\u000a             ('coordinates', 'somewhere'),\u000a             ('capital', 'lipps'),\u000a             ('state_bird', 'chicken')])\u000a</code></pre>\u000a\u000a<p>This is a <a href="https://docs.python.org/3/library/collections.html#collections.somenamedtuple._asdict">documented method</a> of namedtuples, i.e. unlike the usual convention in python <strong>the leading underscore on the method name isn't there to discourage use</strong>.  Along with the other methods added to namedtuples, <code>_make</code>, <code>_replace</code>, <code>_source</code>, <code>_fields</code>, it has the underscore only to try and prevent conflicts with possible field names.</p>\u000a\u000a<hr>\u000a\u000a<p><em>Note:</em>  For some 2.7.5 &lt; python version &lt; 3.5.0 code out in the wild, you might see this version:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; vars(funkytown)\u000aOrderedDict([('name', 'funky'),\u000a             ('population', 300),\u000a             ('coordinates', 'somewhere'),\u000a             ('capital', 'lipps'),\u000a             ('state_bird', 'chicken')])\u000a</code></pre>\u000a\u000a<p>For a while the documentation had mentioned that <code>_asdict</code> was obsolete (see <a href="https://docs.python.org/3.3/library/collections.html#collections.somenamedtuple._asdict">here</a>), and suggested to use the built-in method <a href="https://docs.python.org/3/library/functions.html#vars">vars</a>.  That advice is now outdated; in order to fix <a href="http://bugs.python.org/issue24931">a bug</a> related to subclassing, the <code>__dict__</code> property which was present on namedtuples has again been removed by <a href="https://hg.python.org/cpython/rev/fa3ac31cfa44">this commit</a>.  </p>\u000a
p6
sVquestion_id
p7
I26180528
sVlast_activity_date
p8
I1486082285
sVcreation_date
p9
I1412345576
sVscore
p10
I86
sVowner
p11
(dp12
Vuser_id
p13
I674039
sVprofile_image
p14
Vhttps://i.stack.imgur.com/leoFi.gif?s=128&g=1
p15
sVuser_type
p16
Vregistered
p17
sVreputation
p18
I97604
sVlink
p19
Vhttp://stackoverflow.com/users/674039/wim
p20
sVaccept_rate
p21
I95
sVdisplay_name
p22
Vwim
p23
ssVis_accepted
p24
I01
sVlast_edit_date
p25
I1486082285
sVanswer_id
p26
I26180604
sa(dp27
Vbody
p28
V<p>Python reuses string literals fairly aggressively. The rules by which it does so are implementation-dependent, but CPython uses two that I'm aware of:</p>\u000a\u000a<ul>\u000a<li>Strings that contain only characters valid in Python identifiers are <em>interned,</em> which means they are stored in a big table and reused wherever they occur. So, no matter where you use <code>"cat"</code>, it always refers to the same string object. </li>\u000a<li>String literals in the same code block are reused regardless of their content and length. If you put a string literal of the entire Gettysburg Address in a function, twice, it's the same string object both times. In separate functions, they are different objects:<code>\u000adef foo(): return "pack my box with five dozen liquor jugs"\u000adef bar(): return "pack my box with five dozen liquor jugs"\u000aassert foo() is bar()     # AssertionError</code></li>\u000a</ul>\u000a\u000a<p>Both optimizations are done at compile time (that is, when the bytecode is generated).</p>\u000a\u000a<p>On the other hand, something like <code>chr(99) + chr(97) + chr(116)</code> is a string <em>expression</em> that evaluates to the string <code>"cat"</code>. In a dynamic language like Python, its value can't be known at compile time (<code>chr()</code> is a built-in function, but you might have reassigned it) so it normally isn't interned. Thus its <code>id()</code> is different from that of <code>"cat"</code>. However, you can force a string to be interned using the <code>intern()</code> function. Thus:</p>\u000a\u000a<pre><code>id(intern(chr(99) + chr(97) + chr(116))) == id("cat")   # True\u000a</code></pre>\u000a\u000a<p>As others have mentioned, interning is possible because strings are immutable. It isn't possible to change <code>"cat"</code> to <code>"dog"</code>, in other words. You have to generate a new string object, which means that there's no danger that other names pointing to the same string will be affected.</p>\u000a\u000a<p>Just as an aside, Python also converts expressions containing only constants (like <code>"c" + "a" + "t"</code>) to constants at compile time, as the below disassembly shows. These will be optimized to point to identical string objects per the rules above.</p>\u000a\u000a<pre><code>&gt;&gt;&gt; def foo(): "c" + "a" + "t"\u000a...\u000a&gt;&gt;&gt; from dis import dis; dis(foo)\u000a  1           0 LOAD_CONST               5 ('cat')\u000a              3 POP_TOP\u000a              4 LOAD_CONST               0 (None)\u000a              7 RETURN_VALUE\u000a</code></pre>\u000a
p29
sVquestion_id
p30
I6931880
sVlast_activity_date
p31
I1486076320
sVcreation_date
p32
I1312399772
sVscore
p33
I52
sVowner
p34
(dp35
Vuser_id
p36
I416467
sVprofile_image
p37
Vhttps://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG
p38
sVuser_type
p39
Vregistered
p40
sVreputation
p41
I102771
sVlink
p42
Vhttp://stackoverflow.com/users/416467/kindall
p43
sVaccept_rate
p44
I100
sVdisplay_name
p45
Vkindall
p46
ssVis_accepted
p47
I01
sVlast_edit_date
p48
I1486076320
sVanswer_id
p49
I6932143
sa(dp50
Vbody
p51
V<p>The correct answer is, use the <code>validatecommand</code> attribute of the widget. Unfortunately this feature is severely under-documented in the Tkinter world, though it is quite sufficiently documented in the Tk world. Even though it's not documented well, it has everything you need to do validation without resorting to bindings or tracing variables, or modifying the widget from within the validation procedure.</p>\u000a\u000a<p>The trick is to know that you can have Tkinter pass in special values to your validate command. These values give you all the information you need to know to decide on whether the data is valid or not: the value prior to the edit, the value after the edit if the edit is valid, and several other bits of information. To use these, though, you need to do a little voodoo to get this information passed to your validate command.</p>\u000a\u000a<p>Note: it's important that the validation command returns either <code>True</code> or <code>False</code>. Anything else will cause the validation to be turned off for the widget.</p>\u000a\u000a<p>Here's an example that only allows lowercase (and prints all those funky values):</p>\u000a\u000a<pre><code>import tkinter as tk  # python 3.x\u000a# import Tkinter as tk # python 2.x\u000a\u000aclass Example(tk.Frame):\u000a\u000a    def __init__(self, parent):\u000a        tk.Frame.__init__(self, parent)\u000a\u000a        # valid percent substitutions (from the Tk entry man page)\u000a        # note: you only have to register the ones you need; this\u000a        # example registers them all for illustrative purposes\u000a        #\u000a        # %d = Type of action (1=insert, 0=delete, -1 for others)\u000a        # %i = index of char string to be inserted/deleted, or -1\u000a        # %P = value of the entry if the edit is allowed\u000a        # %s = value of entry prior to editing\u000a        # %S = the text string being inserted or deleted, if any\u000a        # %v = the type of validation that is currently set\u000a        # %V = the type of validation that triggered the callback\u000a        #      (key, focusin, focusout, forced)\u000a        # %W = the tk name of the widget\u000a\u000a        vcmd = (self.register(self.onValidate),\u000a                '%d', '%i', '%P', '%s', '%S', '%v', '%V', '%W')\u000a        self.entry = tk.Entry(self, validate="key", validatecommand=vcmd)\u000a        self.text = tk.Text(self, height=10, width=40)\u000a        self.entry.pack(side="top", fill="x")\u000a        self.text.pack(side="bottom", fill="both", expand=True)\u000a\u000a    def onValidate(self, d, i, P, s, S, v, V, W):\u000a        self.text.delete("1.0", "end")\u000a        self.text.insert("end","OnValidate:\u005cn")\u000a        self.text.insert("end","d='%s'\u005cn" % d)\u000a        self.text.insert("end","i='%s'\u005cn" % i)\u000a        self.text.insert("end","P='%s'\u005cn" % P)\u000a        self.text.insert("end","s='%s'\u005cn" % s)\u000a        self.text.insert("end","S='%s'\u005cn" % S)\u000a        self.text.insert("end","v='%s'\u005cn" % v)\u000a        self.text.insert("end","V='%s'\u005cn" % V)\u000a        self.text.insert("end","W='%s'\u005cn" % W)\u000a\u000a        # Disallow anything but lowercase letters\u000a        if S == S.lower():\u000a            return True\u000a        else:\u000a            self.bell()\u000a            return False\u000a\u000aif __name__ == "__main__":\u000a    root = tk.Tk()\u000a    Example(root).pack(fill="both", expand=True)\u000a    root.mainloop()\u000a</code></pre>\u000a
p52
sVquestion_id
p53
I4140437
sVlast_activity_date
p54
I1484831340
sVcreation_date
p55
I1289359741
sVscore
p56
I102
sVowner
p57
(dp58
Vuser_id
p59
I7432
sVprofile_image
p60
Vhttps://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG
p61
sVuser_type
p62
Vregistered
p63
sVreputation
p64
I155022
sVlink
p65
Vhttp://stackoverflow.com/users/7432/bryan-oakley
p66
sVaccept_rate
p67
I94
sVdisplay_name
p68
VBryan Oakley
p69
ssVis_accepted
p70
I01
sVlast_edit_date
p71
I1484831340
sVanswer_id
p72
I4140988
sa(dp73
Vbody
p74
V<p>Here is a solution subclassing Normalize. To use it</p>\u000a\u000a<pre><code>norm = MidPointNorm(midpoint=3)\u000aimshow(X, norm=norm)\u000a</code></pre>\u000a\u000a<p>Here is the Class:</p>\u000a\u000a<pre><code>from numpy import ma\u000afrom matplotlib import cbook\u000afrom matplotlib.colors import Normalize\u000a\u000aclass MidPointNorm(Normalize):    \u000a    def __init__(self, midpoint=0, vmin=None, vmax=None, clip=False):\u000a        Normalize.__init__(self,vmin, vmax, clip)\u000a        self.midpoint = midpoint\u000a\u000a    def __call__(self, value, clip=None):\u000a        if clip is None:\u000a            clip = self.clip\u000a\u000a        result, is_scalar = self.process_value(value)\u000a\u000a        self.autoscale_None(result)\u000a        vmin, vmax, midpoint = self.vmin, self.vmax, self.midpoint\u000a\u000a        if not (vmin &lt; midpoint &lt; vmax):\u000a            raise ValueError("midpoint must be between maxvalue and minvalue.")       \u000a        elif vmin == vmax:\u000a            result.fill(0) # Or should it be all masked? Or 0.5?\u000a        elif vmin &gt; vmax:\u000a            raise ValueError("maxvalue must be bigger than minvalue")\u000a        else:\u000a            vmin = float(vmin)\u000a            vmax = float(vmax)\u000a            if clip:\u000a                mask = ma.getmask(result)\u000a                result = ma.array(np.clip(result.filled(vmax), vmin, vmax),\u000a                                  mask=mask)\u000a\u000a            # ma division is very slow; we can take a shortcut\u000a            resdat = result.data\u000a\u000a            #First scale to -1 to 1 range, than to from 0 to 1.\u000a            resdat -= midpoint            \u000a            resdat[resdat&gt;0] /= abs(vmax - midpoint)            \u000a            resdat[resdat&lt;0] /= abs(vmin - midpoint)\u000a\u000a            resdat /= 2.\u000a            resdat += 0.5\u000a            result = ma.array(resdat, mask=result.mask, copy=False)                \u000a\u000a        if is_scalar:\u000a            result = result[0]            \u000a        return result\u000a\u000a    def inverse(self, value):\u000a        if not self.scaled():\u000a            raise ValueError("Not invertible until scaled")\u000a        vmin, vmax, midpoint = self.vmin, self.vmax, self.midpoint\u000a\u000a        if cbook.iterable(value):\u000a            val = ma.asarray(value)\u000a            val = 2 * (val-0.5)  \u000a            val[val&gt;0]  *= abs(vmax - midpoint)\u000a            val[val&lt;0] *= abs(vmin - midpoint)\u000a            val += midpoint\u000a            return val\u000a        else:\u000a            val = 2 * (val - 0.5)\u000a            if val &lt; 0: \u000a                return  val*abs(vmin-midpoint) + midpoint\u000a            else:\u000a                return  val*abs(vmax-midpoint) + midpoint\u000a</code></pre>\u000a
p75
sVquestion_id
p76
I7404116
sVlast_activity_date
p77
I1478633269
sVcreation_date
p78
I1318451174
sVscore
p79
I14
sVowner
p80
(dp81
Vuser_id
p82
I235617
sVprofile_image
p83
Vhttps://www.gravatar.com/avatar/468f182e9d98bb9d3545dd87faf5d8c2?s=128&d=identicon&r=PG
p84
sVuser_type
p85
Vregistered
p86
sVreputation
p87
I4786
sVlink
p88
Vhttp://stackoverflow.com/users/235617/tillsten
p89
sVaccept_rate
p90
I75
sVdisplay_name
p91
Vtillsten
p92
ssVis_accepted
p93
I01
sVlast_edit_date
p94
I1478633269
sVanswer_id
p95
I7746125
sa(dp96
Vbody
p97
V<p>Create a custom ModelForm for your ModelAdmin and add 'widgets' to its Meta class, like so:</p>\u000a\u000a<pre><code>class StopAdminForm(forms.ModelForm):\u000a  class Meta:\u000a    model = Stop\u000a    widgets = {\u000a      'approve_ts': ApproveStopWidget(),\u000a    }\u000a    fields = '__all__'\u000a\u000aclass StopAdmin(admin.ModelAdmin):\u000a  form = StopAdminForm\u000a</code></pre>\u000a\u000a<p>Done!</p>\u000a\u000a<p>Documentation for this is sort of non-intuitively placed in the ModelForm docs, without any mention to it given in the admin docs. See: <a href="http://docs.djangoproject.com/en/dev/topics/forms/modelforms/#overriding-the-default-field-types-or-widgets" rel="noreferrer">Creating forms from models</a></p>\u000a
p98
sVquestion_id
p99
I4176613
sVlast_activity_date
p100
I1476455479
sVcreation_date
p101
I1299778933
sVscore
p102
I101
sVowner
p103
(dp104
Vuser_id
p105
I654031
sVprofile_image
p106
Vhttps://www.gravatar.com/avatar/9d0a45dd92ecc2cb15cdbc5f80befb15?s=128&d=identicon&r=PG
p107
sVuser_type
p108
Vregistered
p109
sVreputation
p110
I114900
sVlink
p111
Vhttp://stackoverflow.com/users/654031/chris-pratt
p112
sVaccept_rate
p113
I77
sVdisplay_name
p114
VChris Pratt
p115
ssVis_accepted
p116
I01
sVlast_edit_date
p117
I1476455479
sVanswer_id
p118
I5263578
sa(dp119
Vbody
p120
V<pre><code>from flask import request\u000arequest.headers.get('your-header-name')\u000a</code></pre>\u000a\u000a<p><code>request.headers</code> is a dictionary, so you can also get your header like you would any dictionary:</p>\u000a\u000a<pre><code>request.headers['your-header-name']\u000a</code></pre>\u000a
p121
sVquestion_id
p122
I29386995
sVlast_activity_date
p123
I1476240938
sVcreation_date
p124
I1427880348
sVscore
p125
I68
sVowner
p126
(dp127
Vuser_id
p128
I578998
sVprofile_image
p129
Vhttps://www.gravatar.com/avatar/5b6c4513c30e4070cab5c987e9ed9cd1?s=128&d=identicon&r=PG
p130
sVuser_type
p131
Vregistered
p132
sVreputation
p133
I1659
sVlink
p134
Vhttp://stackoverflow.com/users/578998/sanyi
p135
sVaccept_rate
p136
I100
sVdisplay_name
p137
Vsanyi
p138
ssVis_accepted
p139
I01
sVlast_edit_date
p140
I1476240938
sVanswer_id
p141
I29387151
sa(dp142
Vbody
p143
V<p>This has to do with Flask's <a href="http://flask.pocoo.org/docs/appcontext/">application context</a>. When initialized with <code>db.init_app(app)</code>, Flask-SQLAlchemy doesn't know which app is the "current" app (remember, Flask allows for <a href="http://flask.pocoo.org/docs/patterns/appdispatch/">multiple apps</a> in the same interpreter). You could have multiple apps using the same <code>SQLAlchemy</code> instance in the same process, and Flask-SQLAlchemy would need to know which is the "current" one (due to Flask's <a href="http://flask.pocoo.org/docs/quickstart/#context-locals">context local</a> nature of everything).</p>\u000a\u000a<p>If you need to do this during runtime, you must explicitly say which app is the "current" app for all calls. You can do this by changing your code to do the following:</p>\u000a\u000a<pre><code>def create_app():\u000a    app = flask.Flask("app")\u000a    app.config['SQLALCHEMY_DATABASE_URI'] = 'sqlite://'\u000a    app.register_blueprint(api)\u000a    db.init_app(app)\u000a    with app.app_context():\u000a        # Extensions like Flask-SQLAlchemy now know what the "current" app\u000a        # is while within this block. Therefore, you can now run........\u000a        db.create_all()\u000a\u000a    return app\u000a</code></pre>\u000a\u000a<hr>\u000a\u000a<p>If you are writing a standalone script that needs the app context, you can push the context at the beginning rather than putting everything in a <code>with</code> block.</p>\u000a\u000a<pre><code>create_app().app_context().push()\u000a</code></pre>\u000a\u000a<p>If you write a command for Flask's <a href="http://flask.pocoo.org/docs/0.11/cli/#custom-commands">cli</a> the command will automatically have access to the context.</p>\u000a
p144
sVquestion_id
p145
I19437883
sVlast_activity_date
p146
I1471793094
sVcreation_date
p147
I1382047112
sVscore
p148
I98
sVowner
p149
(dp150
Vuser_id
p151
I272520
sVprofile_image
p152
Vhttps://i.stack.imgur.com/SZ2YT.jpg?s=128&g=1
p153
sVuser_type
p154
Vregistered
p155
sVreputation
p156
I20810
sVlink
p157
Vhttp://stackoverflow.com/users/272520/mark-hildreth
p158
sVaccept_rate
p159
I86
sVdisplay_name
p160
VMark Hildreth
p161
ssVis_accepted
p162
I01
sVlast_edit_date
p163
I1471793094
sVanswer_id
p164
I19438054
sa(dp165
Vbody
p166
V<pre><code>In [1]: import numpy as np\u000a\u000aIn [2]: a = np.array([[1, 2, 3], [4, 5, 6]])\u000a\u000aIn [3]: b = np.array([[9, 8, 7], [6, 5, 4]])\u000a\u000aIn [4]: np.concatenate((a, b))\u000aOut[4]: \u000aarray([[1, 2, 3],\u000a       [4, 5, 6],\u000a       [9, 8, 7],\u000a       [6, 5, 4]])\u000a</code></pre>\u000a\u000a<p>or this:</p>\u000a\u000a<pre><code>In [1]: a = np.array([1, 2, 3])\u000a\u000aIn [2]: b = np.array([4, 5, 6])\u000a\u000aIn [3]: np.vstack((a, b))\u000aOut[3]: \u000aarray([[1, 2, 3],\u000a       [4, 5, 6]])\u000a</code></pre>\u000a
p167
sVquestion_id
p168
I9775297
sVlast_activity_date
p169
I1470158822
sVcreation_date
p170
I1332180097
sVscore
p171
I66
sVowner
p172
(dp173
Vuser_id
p174
I125507
sVprofile_image
p175
Vhttps://www.gravatar.com/avatar/2a59853d36056b7a088f33c96e3a1619?s=128&d=identicon&r=PG
p176
sVuser_type
p177
Vregistered
p178
sVreputation
p179
I7566
sVlink
p180
Vhttp://stackoverflow.com/users/125507/endolith
p181
sVaccept_rate
p182
I69
sVdisplay_name
p183
Vendolith
p184
ssVis_accepted
p185
I01
sVlast_edit_date
p186
I1470158822
sVanswer_id
p187
I9775378
sa(dp188
Vbody
p189
V<p>I have a reasonable solution for the problem, at least for debugging purposes. I do not currently have a solution that will raise the exception back in the main processes. My first thought was to use a decorator, but you can only pickle <a href="http://docs.python.org/library/pickle.html#what-can-be-pickled-and-unpickled" rel="nofollow noreferrer">functions defined at the top level of a module</a>, so that's right out.</p>\u000a\u000a<p>Instead, a simple wrapping class and a Pool subclass that uses this for <code>apply_async</code> (and hence <code>apply</code>). I'll leave <code>map_async</code> as an exercise for the reader.</p>\u000a\u000a<pre><code>import traceback\u000afrom multiprocessing.pool import Pool\u000aimport multiprocessing\u000a\u000a# Shortcut to multiprocessing's logger\u000adef error(msg, *args):\u000a    return multiprocessing.get_logger().error(msg, *args)\u000a\u000aclass LogExceptions(object):\u000a    def __init__(self, callable):\u000a        self.__callable = callable\u000a\u000a    def __call__(self, *args, **kwargs):\u000a        try:\u000a            result = self.__callable(*args, **kwargs)\u000a\u000a        except Exception as e:\u000a            # Here we add some debugging help. If multiprocessing's\u000a            # debugging is on, it will arrange to log the traceback\u000a            error(traceback.format_exc())\u000a            # Re-raise the original exception so the Pool worker can\u000a            # clean up\u000a            raise\u000a\u000a        # It was fine, give a normal answer\u000a        return result\u000a\u000aclass LoggingPool(Pool):\u000a    def apply_async(self, func, args=(), kwds={}, callback=None):\u000a        return Pool.apply_async(self, LogExceptions(func), args, kwds, callback)\u000a\u000adef go():\u000a    print(1)\u000a    raise Exception()\u000a    print(2)\u000a\u000amultiprocessing.log_to_stderr()\u000ap = LoggingPool(processes=1)\u000a\u000ap.apply_async(go)\u000ap.close()\u000ap.join()\u000a</code></pre>\u000a\u000a<p>This gives me:</p>\u000a\u000a<pre><code>1\u000a[ERROR/PoolWorker-1] Traceback (most recent call last):\u000a  File "mpdebug.py", line 24, in __call__\u000a    result = self.__callable(*args, **kwargs)\u000a  File "mpdebug.py", line 44, in go\u000a    raise Exception()\u000aException\u000a</code></pre>\u000a
p190
sVquestion_id
p191
I6728236
sVlast_activity_date
p192
I1468543292
sVcreation_date
p193
I1317921837
sVscore
p194
I18
sVowner
p195
(dp196
Vuser_id
p197
I193291
sVprofile_image
p198
Vhttps://www.gravatar.com/avatar/a58c929caa03c8f0e54817141815a507?s=128&d=identicon&r=PG
p199
sVuser_type
p200
Vregistered
p201
sVreputation
p202
I762
sVlink
p203
Vhttp://stackoverflow.com/users/193291/rupert-nash
p204
sVdisplay_name
p205
VRupert Nash
p206
ssVis_accepted
p207
I01
sVlast_edit_date
p208
I1468543292
sVanswer_id
p209
I7678125
sa(dp210
Vbody
p211
V<p>How about a <a href="http://www.python.org/dev/peps/pep-0274/">dict comprehension</a>:</p>\u000a\u000a<pre><code>filtered_dict = {k:v for k,v in d.iteritems() if filter_string in k}\u000a</code></pre>\u000a\u000a<p>One you see it, it should be self-explanatory, as it reads like English pretty well.</p>\u000a\u000a<p>This syntax requires Python 2.7 or greater.</p>\u000a\u000a<p>In Python 3, there is only <a href="https://docs.python.org/3/library/stdtypes.html#dict.items"><code>dict.items()</code></a>, not <code>iteritems()</code> so you would use:</p>\u000a\u000a<pre><code>filtered_dict = {k:v for (k,v) in d.items() if filter_string in k}\u000a</code></pre>\u000a
p212
sVquestion_id
p213
I23862406
sVlast_activity_date
p214
I1467303900
sVcreation_date
p215
I1401076192
sVscore
p216
I80
sVowner
p217
(dp218
Vuser_id
p219
I119527
sVprofile_image
p220
Vhttps://i.stack.imgur.com/lTjBL.png?s=128&g=1
p221
sVuser_type
p222
Vregistered
p223
sVreputation
p224
I72554
sVlink
p225
Vhttp://stackoverflow.com/users/119527/jonathon-reinhart
p226
sVaccept_rate
p227
I88
sVdisplay_name
p228
VJonathon Reinhart
p229
ssVis_accepted
p230
I01
sVlast_edit_date
p231
I1467303900
sVanswer_id
p232
I23862438
sa(dp233
Vbody
p234
V<p>You can use the <code>with_entities()</code> method to restrict which columns you'd like to return in the result. (<a href="http://docs.sqlalchemy.org/en/latest/orm/query.html#sqlalchemy.orm.query.Query.with_entities" rel="noreferrer">documentation</a>) </p>\u000a\u000a<pre><code>result = SomeModel.query.with_entities(SomeModel.col1, SomeModel.col2)\u000a</code></pre>\u000a\u000a<p>Depending on your requirements, you may also find <a href="http://docs.sqlalchemy.org/en/latest/orm/loading_columns.html#deferred" rel="noreferrer" title="SQLAlchemy deferred column loading">deferreds</a> useful.  They allow you to return the full object but restrict the columns that come over the wire.</p>\u000a
p235
sVquestion_id
p236
I11530196
sVlast_activity_date
p237
I1466070328
sVcreation_date
p238
I1345552182
sVscore
p239
I84
sVowner
p240
(dp241
Vuser_id
p242
I589362
sVprofile_image
p243
Vhttps://www.gravatar.com/avatar/3314a6754749e7eee4da610fb7fbd70f?s=128&d=identicon&r=PG
p244
sVuser_type
p245
Vregistered
p246
sVreputation
p247
I1027
sVlink
p248
Vhttp://stackoverflow.com/users/589362/david-mckeone
p249
sVdisplay_name
p250
VDavid McKeone
p251
ssVis_accepted
p252
I01
sVlast_edit_date
p253
I1466070328
sVanswer_id
p254
I12054872
sa(dp255
Vbody
p256
V<p><strong>Please note that this only work with python 2.x</strong></p>\u000a\u000a<p>You should try using the PyTTSx package since PyTTS is outdated. PyTTSx works with the lastest python version. </p>\u000a\u000a<p><a href="http://pypi.python.org/pypi/pyttsx/1.0" rel="noreferrer">http://pypi.python.org/pypi/pyttsx/1.0</a> -> The package</p>\u000a\u000a<p>Hope it helps</p>\u000a
p257
sVquestion_id
p258
I1614059
sVlast_activity_date
p259
I1458690270
sVcreation_date
p260
I1259688643
sVscore
p261
I32
sVowner
p262
(dp263
Vuser_id
p264
I1613940
sVprofile_image
p265
Vhttps://www.gravatar.com/avatar/0af1dc41c620f6eaf27cc2c2fa6f7988?s=128&d=identicon&r=PG
p266
sVuser_type
p267
Vregistered
p268
sVreputation
p269
I561
sVlink
p270
Vhttp://stackoverflow.com/users/1613940/masterloki
p271
sVaccept_rate
p272
I80
sVdisplay_name
p273
VmasterLoki
p274
ssVis_accepted
p275
I01
sVlast_edit_date
p276
I1458690270
sVanswer_id
p277
I1827700
sa(dp278
Vbody
p279
V<p>It's only worth trying to do this in-place if you are under significant space constraints. If that's the case, it is possible to speed up your code a little bit by iterating over a flattened view of the array. Since <code>reshape</code> returns a new view <a href="http://docs.scipy.org/doc/numpy/reference/generated/numpy.reshape.html" rel="noreferrer">when possible</a>, the data itself isn't copied (unless the original has unusual structure). </p>\u000a\u000a<p>I don't know of a better way to achieve bona fide in-place application of an arbitrary Python function.</p>\u000a\u000a<pre><code>&gt;&gt;&gt; def flat_for(a, f):\u000a...     a = a.reshape(-1)\u000a...     for i, v in enumerate(a):\u000a...         a[i] = f(v)\u000a... \u000a&gt;&gt;&gt; a = numpy.arange(25).reshape(5, 5)\u000a&gt;&gt;&gt; flat_for(a, lambda x: x + 5)\u000a&gt;&gt;&gt; a\u000a\u000aarray([[ 5,  6,  7,  8,  9],\u000a       [10, 11, 12, 13, 14],\u000a       [15, 16, 17, 18, 19],\u000a       [20, 21, 22, 23, 24],\u000a       [25, 26, 27, 28, 29]])\u000a</code></pre>\u000a\u000a<p>Some timings:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; a = numpy.arange(2500).reshape(50, 50)\u000a&gt;&gt;&gt; f = lambda x: x + 5\u000a&gt;&gt;&gt; %timeit flat_for(a, f)\u000a1000 loops, best of 3: 1.86 ms per loop\u000a</code></pre>\u000a\u000a<p>It's about twice as fast as the nested loop version:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; a = numpy.arange(2500).reshape(50, 50)\u000a&gt;&gt;&gt; def nested_for(a, f):\u000a...     for i in range(len(a)):\u000a...         for j in range(len(a[0])):\u000a...             a[i][j] = f(a[i][j])\u000a... \u000a&gt;&gt;&gt; %timeit nested_for(a, f)\u000a100 loops, best of 3: 3.79 ms per loop\u000a</code></pre>\u000a\u000a<p>Of course vectorize is still faster, so if you can make a copy, use that:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; a = numpy.arange(2500).reshape(50, 50)\u000a&gt;&gt;&gt; g = numpy.vectorize(lambda x: x + 5)\u000a&gt;&gt;&gt; %timeit g(a)\u000a1000 loops, best of 3: 584 us per loop\u000a</code></pre>\u000a\u000a<p>And if you can rewrite <code>dim</code> using built-in ufuncs, then please, please, don't <code>vectorize</code>:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; a = numpy.arange(2500).reshape(50, 50)\u000a&gt;&gt;&gt; %timeit a + 5\u000a100000 loops, best of 3: 4.66 us per loop\u000a</code></pre>\u000a\u000a<p><code>numpy</code> does operations like <code>+=</code> in place, just as you might expect -- so you can get the speed of a ufunc with in-place application at no cost. Sometimes it's even faster! See <a href="http://stackoverflow.com/a/10149508/577088">here</a> for an example.</p>\u000a\u000a<hr>\u000a\u000a<p>By the way, my original answer to this question, which can be viewed in its edit history, is ridiculous, and involved vectorizing over indices into <code>a</code>. Not only did it have to do some funky stuff to bypass <code>vectorize</code>'s <a href="http://docs.scipy.org/doc/numpy/reference/generated/numpy.vectorize.html#numpy.vectorize" rel="noreferrer">type-detection mechanism</a>, it turned out to be just as slow as the nested loop version. So much for cleverness!</p>\u000a
p280
sVquestion_id
p281
I6824122
sVlast_activity_date
p282
I1455885748
sVcreation_date
p283
I1311644893
sVscore
p284
I44
sVowner
p285
(dp286
Vuser_id
p287
I577088
sVprofile_image
p288
Vhttps://i.stack.imgur.com/5UZyo.jpg?s=128&g=1
p289
sVuser_type
p290
Vregistered
p291
sVreputation
p292
I67900
sVlink
p293
Vhttp://stackoverflow.com/users/577088/senderle
p294
sVdisplay_name
p295
Vsenderle
p296
ssVis_accepted
p297
I01
sVlast_edit_date
p298
I1455885748
sVanswer_id
p299
I6824389
sa(dp300
Vbody
p301
V<p>Maybe you want <a href="https://docs.python.org/library/stdtypes.html#str.istitle" rel="noreferrer"><code>str.istitle</code></a></p>\u000a\u000a<pre><code>&gt;&gt;&gt; help(str.istitle)\u000aHelp on method_descriptor:\u000a\u000aistitle(...)\u000a    S.istitle() -&gt; bool\u000a\u000a    Return True if S is a titlecased string and there is at least one\u000a    character in S, i.e. uppercase characters may only follow uncased\u000a    characters and lowercase characters only cased ones. Return False\u000a    otherwise.\u000a\u000a&gt;&gt;&gt; "Alpha_beta_Gamma".istitle()\u000aFalse\u000a&gt;&gt;&gt; "Alpha_Beta_Gamma".istitle()\u000aTrue\u000a&gt;&gt;&gt; "Alpha_Beta_GAmma".istitle()\u000aFalse\u000a</code></pre>\u000a
p302
sVquestion_id
p303
I3668964
sVlast_activity_date
p304
I1455829527
sVcreation_date
p305
I1283958042
sVscore
p306
I46
sVowner
p307
(dp308
Vuser_id
p309
I95612
sVprofile_image
p310
Vhttps://www.gravatar.com/avatar/e2166d0ea599ad4b0c57054b55f0600f?s=128&d=identicon&r=PG
p311
sVuser_type
p312
Vregistered
p313
sVreputation
p314
I63439
sVlink
p315
Vhttp://stackoverflow.com/users/95612/jochen-ritzel
p316
sVaccept_rate
p317
I80
sVdisplay_name
p318
VJochen Ritzel
p319
ssVis_accepted
p320
I01
sVlast_edit_date
p321
I1455829527
sVanswer_id
p322
I3669077
sa(dp323
Vbody
p324
V<p>Yes, and there are also statistical studies that prove that dogs are more productive than cats. Both are equally valid. ;-)</p>\u000a\u000a<p>by popular demand, here are a couple of "studies" - take them with a block of salt!</p>\u000a\u000a<ol>\u000a<li><a href="http://page.mi.fu-berlin.de/prechelt/Biblio/jccpprt_computer2000.pdf" rel="nofollow noreferrer">An empirical comparison of C, C++, Java, Perl, Python, Rexx, and Tcl</a> PDF warning!</li>\u000a<li><a href="http://www.connellybarnes.com/documents/language_productivity.pdf" rel="nofollow noreferrer">Programming Language Productivity</a> PDF warning! Note that these statistics are for a "string processing problem", so one might expect the winner to be...Perl of course!</li>\u000a</ol>\u000a\u000a<p>and <a href="http://blog.codinghorror.com/are-all-programming-languages-the-same/" rel="nofollow noreferrer">Jeff Atwood's musings</a> are interesting as well</p>\u000a\u000a<p>the issues of programmer productivity are far more complex than what language is being used. Productivity among programmers can vary wildly, and is affected by the problem domain plus many other factors. Thus no "study" can ever be "definitive". See <a href="http://www.usc.edu/dept/ATRIUM/Papers/Software_Productivity.html" rel="nofollow noreferrer">Understanding Software Productivity</a> and <a href="http://forums.construx.com/blogs/stevemcc/archive/2008/03/27/productivity-variations-among-software-developers-and-teams-the-origin-of-quot-10x-quot.aspx" rel="nofollow noreferrer">Productivity Variations Among Software Developers and Teams</a> for additional information.</p>\u000a\u000a<p>Finally, <strong>the right tool for the right job</strong> is still the rule. No exceptions.</p>\u000a
p325
sVquestion_id
p326
I354124
sVlast_activity_date
p327
I1455128730
sVcreation_date
p328
I1228859445
sVscore
p329
I29
sVowner
p330
(dp331
Vuser_id
p332
I9345
sVprofile_image
p333
Vhttps://www.gravatar.com/avatar/4c263fe87d408564a9e5f6d1e519aed4?s=128&d=identicon&r=PG
p334
sVuser_type
p335
Vregistered
p336
sVreputation
p337
I49128
sVlink
p338
Vhttp://stackoverflow.com/users/9345/steven-a-lowe
p339
sVaccept_rate
p340
I91
sVdisplay_name
p341
VSteven A. Lowe
p342
ssVis_accepted
p343
I01
sVlast_edit_date
p344
I1455128730
sVanswer_id
p345
I354361
sa(dp346
Vbody
p347
V<p>The Werkzeug reloader spawns a child process so that it can restart that process each time your code changes. Werkzeug is the library that supplies Flask with the development server when you call <code>app.run()</code>.</p>\u000a\u000a<p>See the <a href="https://github.com/mitsuhiko/werkzeug/blob/49ee2786630a0307631f4184c3c58d56996cb2b4/werkzeug/_reloader.py#L90-L110"><code>restart_with_reloader()</code> function code</a>; your script is run <em>again</em> with <code>subprocess.call()</code>.</p>\u000a\u000a<p>If you set <code>use_reloader</code> to <code>False</code> you'll see the behaviour go away, but then you also lose the reloading functionality:</p>\u000a\u000a<pre><code>app.run(port=4004, debug=config.DEBUG, host='0.0.0.0', use_reloader=False)\u000a</code></pre>\u000a\u000a<p>You can look for the <code>WERKZEUG_RUN_MAIN</code> environment variable if you wanted to detect when you are in the reloading child process:</p>\u000a\u000a<pre><code>if __name__ == '__main__':\u000a    import os\u000a    if os.environ.get('WERKZEUG_RUN_MAIN') == 'true':\u000a        print '################### Restarting @ {} ###################'.format(\u000a            datetime.utcnow())\u000a    app.run(port=4004, debug=config.DEBUG, host='0.0.0.0')\u000a</code></pre>\u000a\u000a<p>However, if you need to set up module globals, then you should instead use the <a href="http://flask.pocoo.org/docs/0.10/api/#flask.Flask.before_first_request"><code>@app.before_first_request</code> decorator</a> on a function and have that function set up such globals. It'll be called just once after every reload when the first request comes in:</p>\u000a\u000a<pre><code>@app.before_first_request\u000adef before_first_request():\u000a    print '########### Restarted, first request @ {} ############'.format(\u000a        datetime.utcnow())\u000a</code></pre>\u000a\u000a<p>Do take into account that if you run this in a full-scale WSGI server that uses forking or new subprocesses to handle requests, that <code>before_first_request</code> handlers <em>may</em> be invoked for each new subprocess.</p>\u000a
p348
sVquestion_id
p349
I25504149
sVlast_activity_date
p350
I1454084613
sVcreation_date
p351
I1409050827
sVscore
p352
I69
sVowner
p353
(dp354
Vuser_id
p355
I100297
sVprofile_image
p356
Vhttps://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG
p357
sVuser_type
p358
Vmoderator
p359
sVreputation
p360
I554897
sVlink
p361
Vhttp://stackoverflow.com/users/100297/martijn-pieters
p362
sVdisplay_name
p363
VMartijn Pieters
p364
ssVis_accepted
p365
I01
sVlast_edit_date
p366
I1454084613
sVanswer_id
p367
I25504196
sa(dp368
Vbody
p369
V<p>You are coming across <a href="https://github.com/celery/kombu/issues/545">this issue</a>, which affects Python 2.7.11 (Kombu is required by Celery).</p>\u000a\u000a<p>The issue is fixed in  Kombu 3.0.30.</p>\u000a
p370
sVquestion_id
p371
I34198538
sVlast_activity_date
p372
I1450114282
sVcreation_date
p373
I1449743123
sVscore
p374
I91
sVowner
p375
(dp376
Vuser_id
p377
I113962
sVprofile_image
p378
Vhttps://www.gravatar.com/avatar/b80ae1d65878cf68a4b1a00848467527?s=128&d=identicon&r=PG
p379
sVuser_type
p380
Vregistered
p381
sVreputation
p382
I112517
sVlink
p383
Vhttp://stackoverflow.com/users/113962/alasdair
p384
sVaccept_rate
p385
I87
sVdisplay_name
p386
VAlasdair
p387
ssVis_accepted
p388
I01
sVlast_edit_date
p389
I1450114282
sVanswer_id
p390
I34199367
sa(dp391
Vbody
p392
V<p>Some notes in addition to Ned's answer (which hits on the core problem):</p>\u000a\u000a<p>Distutils does not install Python packages and modules inside a per-project subdirectory within <code>site-packages</code> (or <code>dist-packages</code> on Debian/Ubuntu): they are installed directly into <code>site-packages</code>, as you've seen. So the containing <code>whyteboard-xx</code> directory in your sdist will not exist in the final installed form.</p>\u000a\u000a<p>One implication of this is that you should be careful to name your <code>data_files</code> in a way that clarifies what project they belong to, because those files/directories are installed directly into the global <code>site-packages</code> directory, not inside any containing <code>whyteboard</code> directory.</p>\u000a\u000a<p>Or you could instead make your data <code>package_data</code> of the <code>whyteboard</code> package (which means it needs to live inside that package, i.e. next to <code>__init__.py</code>), and then this isn't a problem.</p>\u000a\u000a<p>Lastly, it doesn't make much sense to have both a <code>whyteboard.py</code> module in <code>py_modules</code> and a <code>whyteboard/__init__.py</code> package in <code>packages</code>. The two are mutually exclusive, and if you have both, the <code>whyteboard.py</code> module will be ignored by imports in favor of the package of the same name.</p>\u000a\u000a<p>If <code>whyteboard.py</code> is just a script, and is not intended to be imported, then you should use the <a href="http://docs.python.org/distutils/setupscript.html#installing-scripts" rel="nofollow noreferrer">scripts</a> option for it, and remove it from <code>py_modules</code>.</p>\u000a
p393
sVquestion_id
p394
I3596979
sVlast_activity_date
p395
I1448917045
sVcreation_date
p396
I1283175942
sVscore
p397
I19
sVowner
p398
(dp399
Vuser_id
p400
I3207
sVprofile_image
p401
Vhttps://www.gravatar.com/avatar/b1f36e554be0e1ae19f9a74d6ece9107?s=128&d=identicon&r=PG
p402
sVuser_type
p403
Vregistered
p404
sVreputation
p405
I47592
sVlink
p406
Vhttp://stackoverflow.com/users/3207/carl-meyer
p407
sVaccept_rate
p408
I100
sVdisplay_name
p409
VCarl Meyer
p410
ssVis_accepted
p411
I01
sVlast_edit_date
p412
I1448917045
sVanswer_id
p413
I3600913
sa(dp414
Vbody
p415
V<p>There are a number of "is methods" on strings. <a href="https://docs.python.org/library/stdtypes.html#str.islower"><code>islower()</code></a> and <a href="https://docs.python.org/library/stdtypes.html#str.isupper"><code>isupper()</code></a> should meet your needs:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; 'hello'.islower()\u000aTrue\u000a\u000a&gt;&gt;&gt; [m for m in dir(str) if m.startswith('is')]\u000a['isalnum', 'isalpha', 'isdigit', 'islower', 'isspace', 'istitle', 'isupper']\u000a</code></pre>\u000a\u000a<p>Here's an example of how to use those methods to classify a list of strings:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; words = ['The', 'quick', 'BROWN', 'Fox', 'jumped', 'OVER', 'the', 'Lazy', 'DOG']\u000a&gt;&gt;&gt; [word for word in words if word.islower()]\u000a['quick', 'jumped', 'the']\u000a&gt;&gt;&gt; [word for word in words if word.isupper()]\u000a['BROWN', 'OVER', 'DOG']\u000a&gt;&gt;&gt; [word for word in words if not word.islower() and not word.isupper()]\u000a['The', 'Fox', 'Lazy']\u000a</code></pre>\u000a
p416
sVquestion_id
p417
I8222855
sVlast_activity_date
p418
I1447949155
sVcreation_date
p419
I1321943519
sVscore
p420
I82
sVowner
p421
(dp422
Vuser_id
p423
I1001643
sVprofile_image
p424
Vhttps://www.gravatar.com/avatar/60cac87fb9e2b5689242622999656cb0?s=128&d=identicon&r=PG
p425
sVuser_type
p426
Vregistered
p427
sVreputation
p428
I94640
sVlink
p429
Vhttp://stackoverflow.com/users/1001643/raymond-hettinger
p430
sVaccept_rate
p431
I75
sVdisplay_name
p432
VRaymond Hettinger
p433
ssVis_accepted
p434
I01
sVlast_edit_date
p435
I1447949155
sVanswer_id
p436
I8222878
sa(dp437
Vbody
p438
V<p>As suggested by Mark Ransom, I found the right encoding for that problem. The encoding was "ISO-8859-1", so replacing <code>open("u.item", encoding="utf-8")</code> with <code>open('u.item', encoding = "ISO-8859-1")</code> will solve the problem.</p>\u000a
p439
sVquestion_id
p440
I19699367
sVlast_activity_date
p441
I1444187957
sVcreation_date
p442
I1383222945
sVscore
p443
I105
sVowner
p444
(dp445
Vuser_id
p446
I2925295
sVprofile_image
p447
Vhttps://i.stack.imgur.com/phStt.jpg?s=128&g=1
p448
sVuser_type
p449
Vregistered
p450
sVreputation
p451
I1780
sVlink
p452
Vhttp://stackoverflow.com/users/2925295/sujits
p453
sVaccept_rate
p454
I76
sVdisplay_name
p455
VSujitS
p456
ssVis_accepted
p457
I01
sVlast_edit_date
p458
I1444187957
sVanswer_id
p459
I19706723
sa(dp460
Vbody
p461
V<p>You can directly access the <code>year</code> and <code>month</code> attributes, or request a <code>datetime.datetime</code>:</p>\u000a\u000a<pre><code>In [15]: t = pandas.tslib.Timestamp.now()\u000a\u000aIn [16]: t\u000aOut[16]: Timestamp('2014-08-05 14:49:39.643701', tz=None)\u000a\u000aIn [17]: t.to_datetime()\u000aOut[17]: datetime.datetime(2014, 8, 5, 14, 49, 39, 643701)\u000a\u000aIn [18]: t.day\u000aOut[18]: 5\u000a\u000aIn [19]: t.month\u000aOut[19]: 8\u000a\u000aIn [20]: t.year\u000aOut[20]: 2014\u000a</code></pre>\u000a\u000a<p>One way to combine year and month is to make an integer encoding them, such as: <code>201408</code> for August, 2014. Along a whole column, you could do this as:</p>\u000a\u000a<pre><code>df['YearMonth'] = df['ArrivalDate'].map(lambda x: 1000*x.year + x.month)\u000a</code></pre>\u000a\u000a<p>or many variants thereof.</p>\u000a\u000a<p>I'm not a big fan of doing this, though, since it makes date alignment and arithmetic painful later and especially painful for others who come upon your code or data without this same convention. A better way is to choose a day-of-month convention, such as final non-US-holiday weekday, or first day, etc., and leave the data in a date/time format with the chosen date convention.</p>\u000a\u000a<p>The <code>calendar</code> module is useful for obtaining the number value of certain days such as the final weekday. Then you could do something like:</p>\u000a\u000a<pre><code>import calendar\u000aimport datetime\u000adf['AdjustedDateToEndOfMonth'] = df['ArrivalDate'].map(\u000a    lambda x: datetime.datetime(\u000a        x.year,\u000a        x.month,\u000a        max(calendar.monthcalendar(x.year, x.month)[-1][:5])\u000a    )\u000a)\u000a</code></pre>\u000a\u000a<p>If you happen to be looking for a way to solve the simpler problem of just formatting the datetime column into some stringified representation, for that you can just make use of the <a href="http://strftime.org/"><code>strftime</code></a> function from the <code>datetime.datetime</code> class, like this:</p>\u000a\u000a<pre><code>In [5]: df\u000aOut[5]: \u000a            date_time\u000a0 2014-10-17 22:00:03\u000a\u000aIn [6]: df.date_time\u000aOut[6]: \u000a0   2014-10-17 22:00:03\u000aName: date_time, dtype: datetime64[ns]\u000a\u000aIn [7]: df.date_time.map(lambda x: x.strftime('%Y-%m-%d'))\u000aOut[7]: \u000a0    2014-10-17\u000aName: date_time, dtype: object\u000a</code></pre>\u000a
p462
sVquestion_id
p463
I25146121
sVlast_activity_date
p464
I1443060669
sVcreation_date
p465
I1407265183
sVscore
p466
I34
sVowner
p467
(dp468
Vuser_id
p469
I567620
sVprofile_image
p470
Vhttps://i.stack.imgur.com/g8HIM.jpg?s=128&g=1
p471
sVuser_type
p472
Vregistered
p473
sVreputation
p474
I22654
sVlink
p475
Vhttp://stackoverflow.com/users/567620/ely
p476
sVaccept_rate
p477
I71
sVdisplay_name
p478
Vely
p479
ssVis_accepted
p480
I01
sVlast_edit_date
p481
I1443060669
sVanswer_id
p482
I25146337
sa(dp483
Vbody
p484
V<p>The <a href="http://celery.readthedocs.org/en/latest/userguide/tasks.html#context"><code>task.request.retries</code></a> attribute contains the number of tries so far,\u000aso you can use this to implement exponential back-off:</p>\u000a\u000a<pre><code>from celery.task import task\u000a\u000a@task(bind=True, max_retries=3)\u000adef update_status(self, auth, status):\u000a    try:\u000a        Twitter(auth).update_status(status)\u000a    except Twitter.WhaleFail as exc:\u000a        self.retry(exc=exc, countdown=2 ** self.request.retries)\u000a</code></pre>\u000a\u000a<p>To prevent a <a href="https://en.wikipedia.org/wiki/Thundering_herd_problem">Thundering Herd Problem</a>, you may consider adding a random jitter to your exponential backoff:</p>\u000a\u000a<pre><code>import random\u000aself.retry(exc=exc, countdown=int(random.uniform(2, 4) ** self.request.retries))\u000a</code></pre>\u000a
p485
sVquestion_id
p486
I9731435
sVlast_activity_date
p487
I1442344931
sVcreation_date
p488
I1332010480
sVscore
p489
I72
sVowner
p490
(dp491
Vuser_id
p492
I5577
sVprofile_image
p493
Vhttps://www.gravatar.com/avatar/7e8b501f7f579c66ddac7e65cb7962b4?s=128&d=identicon&r=PG
p494
sVuser_type
p495
Vregistered
p496
sVreputation
p497
I14317
sVlink
p498
Vhttp://stackoverflow.com/users/5577/asksol
p499
sVdisplay_name
p500
Vasksol
p501
ssVis_accepted
p502
I01
sVlast_edit_date
p503
I1442344931
sVanswer_id
p504
I9752811
sa(dp505
Vbody
p506
V<p>The <a href="https://github.com/boto/boto" rel="noreferrer">boto</a> package is the hand-coded Python library that has been around since 2006.  It is very popular and is fully supported by AWS but because it is hand-coded and there are so many services available (with more appearing all the time) it is difficult to maintain.</p>\u000a\u000a<p>So, <a href="https://github.com/boto/boto3" rel="noreferrer">boto3</a> is a new version of the boto library based on <a href="https://github.com/boto/botocore" rel="noreferrer">botocore</a>.  All of the low-level interfaces to AWS are driven from JSON service descriptions that are generated automatically from the canonical descriptions of the services.  So, the interfaces are always correct and always up to date.  There is a resource layer on top of the client-layer that provides a nicer, more Pythonic interface.</p>\u000a\u000a<p>The boto3 library is being actively developed by AWS and is the one I would recommend people use if they are starting new development.</p>\u000a
p507
sVquestion_id
p508
I32322503
sVlast_activity_date
p509
I1441081061
sVcreation_date
p510
I1441081061
sVscore
p511
I65
sVowner
p512
(dp513
Vuser_id
p514
I653643
sVprofile_image
p515
Vhttps://www.gravatar.com/avatar/8c68c82ba38c3f2cb3927e92f98f29ef?s=128&d=identicon&r=PG
p516
sVuser_type
p517
Vregistered
p518
sVreputation
p519
I20837
sVlink
p520
Vhttp://stackoverflow.com/users/653643/garnaat
p521
sVdisplay_name
p522
Vgarnaat
p523
ssVis_accepted
p524
I01
sVanswer_id
p525
I32323454
sa(dp526
Vbody
p527
V<p>You can examine the url through several <a href="http://flask.pocoo.org/docs/api/#flask.Request.path" rel="noreferrer"><code>Request</code> fields</a>:</p>\u000a\u000a<blockquote>\u000a  <p>A user requests the following URL:</p>\u000a\u000a<pre><code>    http://www.example.com/myapplication/page.html?x=y\u000a</code></pre>\u000a  \u000a  <p>In this case the values of the above mentioned attributes would be the following:</p>\u000a\u000a<pre><code>    path             /page.html\u000a    script_root      /myapplication\u000a    base_url         http://www.example.com/myapplication/page.html\u000a    url              http://www.example.com/myapplication/page.html?x=y\u000a    url_root         http://www.example.com/myapplication/\u000a</code></pre>\u000a</blockquote>\u000a\u000a<p>You can easily extract the host part with the appropriate splits.</p>\u000a
p528
sVquestion_id
p529
I15974730
sVlast_activity_date
p530
I1438116655
sVcreation_date
p531
I1365779760
sVscore
p532
I95
sVowner
p533
(dp534
Vuser_id
p535
I451980
sVprofile_image
p536
Vhttps://www.gravatar.com/avatar/1841c9660d949d4f975ab3abd02a953f?s=128&d=identicon&r=PG
p537
sVuser_type
p538
Vregistered
p539
sVreputation
p540
I39452
sVlink
p541
Vhttp://stackoverflow.com/users/451980/icecrime
p542
sVaccept_rate
p543
I75
sVdisplay_name
p544
Vicecrime
p545
ssVis_accepted
p546
I01
sVlast_edit_date
p547
I1438116655
sVanswer_id
p548
I15975041
sa(dp549
Vbody
p550
V<p>Keep in mind that in Mongo 3.x <a href="http://docs.mongodb.org/manual/reference/method/db.collection.ensureIndex/" rel="noreferrer">ensureIndex</a> is deprecated and should be discouraged.</p>\u000a\u000a<blockquote>\u000a  <p>Deprecated since version 3.0.0: db.collection.ensureIndex() is now an alias for db.collection.createIndex().</p>\u000a</blockquote>\u000a\u000a<p>The same is in <a href="http://api.mongodb.org/python/current/api/pymongo/collection.html#pymongo.collection.Collection.ensure_index" rel="noreferrer">pymongo</a>:</p>\u000a\u000a<blockquote>\u000a  <p>DEPRECATED - Ensures that an index exists on this collection.</p>\u000a</blockquote>\u000a\u000a<p>Which means that you should always use <code>create_index</code>.</p>\u000a
p551
sVquestion_id
p552
I5912661
sVlast_activity_date
p553
I1431995916
sVcreation_date
p554
I1431995916
sVscore
p555
I9
sVowner
p556
(dp557
Vuser_id
p558
I1090562
sVprofile_image
p559
Vhttps://www.gravatar.com/avatar/d675b3e6225683ba6432496ec23ed806?s=128&d=identicon&r=PG
p560
sVuser_type
p561
Vregistered
p562
sVreputation
p563
I62562
sVlink
p564
Vhttp://stackoverflow.com/users/1090562/salvador-dali
p565
sVaccept_rate
p566
I78
sVdisplay_name
p567
VSalvador Dali
p568
ssVis_accepted
p569
I01
sVanswer_id
p570
I30314946
sa(dp571
Vbody
p572
V<p>Have you tried <a href="https://github.com/mitsuhiko/ponyguruma/" rel="nofollow noreferrer">Ponyguruma</a>, a Python binding to the <a href="http://www.geocities.jp/kosako3/oniguruma/" rel="nofollow noreferrer">Oniguruma</a> regular expression engine? In that engine you can simply say <code>\u005cp{Armenian}</code> to match Armenian characters. <code>\u005cp{Ll}</code> or <code>\u005cp{Zs}</code> work too.</p>\u000a
p573
sVquestion_id
p574
I1832893
sVlast_activity_date
p575
I1429782423
sVcreation_date
p576
I1259792529
sVscore
p577
I21
sVowner
p578
(dp579
Vuser_id
p580
I36330
sVprofile_image
p581
Vhttps://www.gravatar.com/avatar/087bc3a6b2fe0dbbf39ca49f40e2bac1?s=128&d=identicon&r=PG
p582
sVuser_type
p583
Vregistered
p584
sVreputation
p585
I20580
sVlink
p586
Vhttp://stackoverflow.com/users/36330/joeforker
p587
sVaccept_rate
p588
I78
sVdisplay_name
p589
Vjoeforker
p590
ssVis_accepted
p591
I01
sVlast_edit_date
p592
I1429782423
sVanswer_id
p593
I1836283
sa(dp594
Vbody
p595
V<p>Because it's a <code>HyperlinkedModelSerializer</code> your serializer is trying to resolve the URL for the related <code>User</code> on your <code>Bottle</code>.<br>\u000aAs you don't have the user detail view it can't do this. Hence the exception.</p>\u000a\u000a<ol>\u000a<li>Would not just registering the <code>UserViewSet</code> with the router solve your issue?</li>\u000a<li>You could define the user field on your <code>BottleSerializer</code> to explicitly use the <code>UserSerializer</code> rather than trying to resolve the URL. See the <a href="http://www.django-rest-framework.org/api-guide/serializers/#dealing-with-nested-objects">serializer docs on dealing with nested objects for that</a>. </li>\u000a</ol>\u000a
p596
sVquestion_id
p597
I20550598
sVlast_activity_date
p598
I1429184695
sVcreation_date
p599
I1386881301
sVscore
p600
I48
sVowner
p601
(dp602
Vuser_id
p603
I102260
sVprofile_image
p604
Vhttps://www.gravatar.com/avatar/dded210cf1b572f6f8208695b2fc6eb3?s=128&d=identicon&r=PG
p605
sVuser_type
p606
Vregistered
p607
sVreputation
p608
I4596
sVlink
p609
Vhttp://stackoverflow.com/users/102260/carlton-gibson
p610
sVaccept_rate
p611
I100
sVdisplay_name
p612
VCarlton Gibson
p613
ssVis_accepted
p614
I01
sVlast_edit_date
p615
I1429184695
sVanswer_id
p616
I20553926
sa(dp617
Vbody
p618
V<p>The docstring is stored in the module's <code>__doc__</code> global.</p>\u000a\u000a<pre><code>print(__doc__)\u000a</code></pre>\u000a\u000a<p>By the way, this goes for any module: <code>import sys; print(sys.__doc__)</code>. Docstrings of functions and classes are also in their <code>__doc__</code> attribute.</p>\u000a
p619
sVquestion_id
p620
I7791574
sVlast_activity_date
p621
I1424513493
sVcreation_date
p622
I1318842611
sVscore
p623
I51
sVowner
p624
(dp625
Vuser_id
p626
I99057
sVprofile_image
p627
Vhttps://www.gravatar.com/avatar/c50e5892d79fb240b2c870d458505eea?s=128&d=identicon&r=PG
p628
sVuser_type
p629
Vregistered
p630
sVreputation
p631
I29855
sVlink
p632
Vhttp://stackoverflow.com/users/99057/petr-viktorin
p633
sVdisplay_name
p634
VPetr Viktorin
p635
ssVis_accepted
p636
I01
sVlast_edit_date
p637
I1424513493
sVanswer_id
p638
I7791595
sa(dp639
Vbody
p640
V<p>You need to replace the /usr/lib/libpq.5.dylib library because its version is too old.<br>\u000aHere's my solution to this problem:</p>\u000a\u000a<pre><code>$ sudo mv /usr/lib/libpq.5.dylib /usr/lib/libpq.5.dylib.old  \u000a$ sudo ln -s /Library/PostgreSQL/9.4/lib/libpq.5.dylib /usr/lib\u000a</code></pre>\u000a
p641
sVquestion_id
p642
I28515972
sVlast_activity_date
p643
I1424388144
sVcreation_date
p644
I1424388144
sVscore
p645
I73
sVowner
p646
(dp647
Vuser_id
p648
I3547218
sVprofile_image
p649
Vhttps://graph.facebook.com/1224502046/picture?type=large
p650
sVuser_type
p651
Vregistered
p652
sVreputation
p653
I738
sVlink
p654
Vhttp://stackoverflow.com/users/3547218/kungfulucky7
p655
sVdisplay_name
p656
VKungFuLucky7
p657
ssVis_accepted
p658
I01
sVanswer_id
p659
I28618942
sa(dp660
Vbody
p661
V<p>As long as all the arrays are the same length, you can use <a href="http://php.net/manual/en/function.array-map.php" rel="noreferrer"><code>array_map</code></a> with <code>null</code> as the first argument.</p>\u000a\u000a<pre><code>array_map(null, $a, $b, $c, ...);\u000a</code></pre>\u000a\u000a<p>If some of the arrays are shorter, they will be padded with nulls to the length of the longest, unlike python where the returned result is the length of the shortest array.</p>\u000a
p662
sVquestion_id
p663
I2815162
sVlast_activity_date
p664
I1421424468
sVcreation_date
p665
I1273627035
sVscore
p666
I57
sVowner
p667
(dp668
Vuser_id
p669
I10999
sVprofile_image
p670
Vhttps://www.gravatar.com/avatar/2c2f9d59e797ad575432d1da7681ce78?s=128&d=identicon&r=PG
p671
sVuser_type
p672
Vregistered
p673
sVreputation
p674
I6106
sVlink
p675
Vhttp://stackoverflow.com/users/10999/habnabit
p676
sVdisplay_name
p677
Vhabnabit
p678
ssVis_accepted
p679
I01
sVlast_edit_date
p680
I1421424468
sVanswer_id
p681
I2815567
sa(dp682
Vbody
p683
V<p>flask sessions expire once you close the browser unless you have a permanent session. You can possibly try the following:</p>\u000a\u000a<pre><code>from datetime import timedelta\u000afrom flask import session, app\u000a\u000a@app.before_request\u000adef make_session_permanent():\u000a    session.permanent = True\u000a    app.permanent_session_lifetime = timedelta(minutes=5)\u000a</code></pre>\u000a\u000a<p>By default in Flask, permanent_session_lifetime is set to 31 days. </p>\u000a
p684
sVquestion_id
p685
I11783025
sVlast_activity_date
p686
I1417790742
sVcreation_date
p687
I1343941313
sVscore
p688
I65
sVowner
p689
(dp690
Vuser_id
p691
I1572562
sVprofile_image
p692
Vhttps://i.stack.imgur.com/iASbm.jpg?s=128&g=1
p693
sVuser_type
p694
Vregistered
p695
sVreputation
p696
I11350
sVlink
p697
Vhttp://stackoverflow.com/users/1572562/codegeek
p698
sVdisplay_name
p699
Vcodegeek
p700
ssVis_accepted
p701
I01
sVlast_edit_date
p702
I1417790742
sVanswer_id
p703
I11785722
sa(dp704
Vbody
p705
V<p>I've recently had to make a similar transition for work reasons, and it's been pretty painful. For better or worse, Python has a very different philosophy and way of working than Perl, and getting used to that can be frustrating. The things I've found most useful have been</p>\u000a\u000a<ul>\u000a<li>Spend a few hours going through all the basics. I found the <a href="http://docs.python.org/tutorial/" rel="noreferrer">official tutorial</a> quite good, if a little dry.</li>\u000a<li>A good reference book to look up basic stuff ("how do I get the length of a string again?"). The ones I've found most useful are the <a href="http://rads.stackoverflow.com/amzn/click/0596158084" rel="noreferrer">Python Pocket Reference</a> and <a href="http://rads.stackoverflow.com/amzn/click/0672329786" rel="noreferrer">Python Essential Reference</a>.</li>\u000a<li>Take a look at this handy <a href="http://wiki.python.org/moin/PerlPhrasebook" rel="noreferrer">Perl&lt;->Python phrasebook</a> (common tasks, side by side, in both languages).</li>\u000a<li>A reference for the Python approach to "common tasks". I use the <a href="http://oreilly.com/catalog/9780596001674" rel="noreferrer">Python Cookbook</a>.</li>\u000a<li>An <a href="http://ipython.scipy.org/moin/" rel="noreferrer">ipython</a> terminal open at all times to test syntax, introspect object methods etc.</li>\u000a<li>Get <a href="http://pypi.python.org/pypi/pip" rel="noreferrer">pip</a> and <a href="http://pypi.python.org/pypi/setuptools" rel="noreferrer">easy-install</a> (to install Python modules easily).</li>\u000a<li>Learn about unit tests fast. This is because without <code>use strict</code> you will feel crippled, and you will make many elementary mistakes which will appear as runtime errors. I recommend <a href="https://nose.readthedocs.org/en/latest/" rel="noreferrer">nose</a> rather than the <a href="http://docs.python.org/library/unittest.html" rel="noreferrer">unittest</a> framework that comes with the core install. unittest is very verbose if you're used to <a href="http://search.cpan.org/~mschwern/Test-Simple-0.94/lib/Test/More.pm" rel="noreferrer">Test::More</a>.</li>\u000a<li>Check out Python questions on Stack Overflow. In particular, <a href="http://stackoverflow.com/questions/1011431/python-things-one-must-avoid/">Python - Things one MUST avoid</a> and <a href="http://stackoverflow.com/questions/530530/python-2-x-gotchas-and-landmines">Python 2.x gotcha\u2019s and landmines</a> are well worth a read.</li>\u000a</ul>\u000a\u000a<p>Personally, I found <a href="http://www.diveintopython.net/toc/index.html" rel="noreferrer">Dive Into Python</a> annoying and patronising, but it's freely available online, so you can form your own judgment on that.</p>\u000a
p706
sVquestion_id
p707
I2283034
sVlast_activity_date
p708
I1414586288
sVcreation_date
p709
I1266430747
sVscore
p710
I58
sVowner
p711
(dp712
Vuser_id
p713
I143804
sVprofile_image
p714
Vhttps://www.gravatar.com/avatar/42d46e3315293e801832c87d54c96eb3?s=128&d=identicon&r=PG
p715
sVuser_type
p716
Vregistered
p717
sVreputation
p718
I48065
sVlink
p719
Vhttp://stackoverflow.com/users/143804/ire-and-curses
p720
sVaccept_rate
p721
I75
sVdisplay_name
p722
Vire_and_curses
p723
ssVis_accepted
p724
I01
sVlast_edit_date
p725
I1414586288
sVanswer_id
p726
I2283300
sa(dp727
Vbody
p728
V<p>In python >= 2.7 :</p>\u000a\u000a<ul>\u000a<li>if you don't care of the order of the content, you have the <a href="http://docs.python.org/library/unittest.html?highlight=assertequal#unittest.TestCase.assertItemsEqual" rel="noreferrer">assertItemsEqual(actual_iterable, expected_iterable)</a> method </li>\u000a<li>if you care about the order of the content, you have the <a href="http://docs.python.org/library/unittest.html?highlight=assertequal#unittest.TestCase.assertSequenceEqual" rel="noreferrer">assertSequenceEqual(actual_iterable, expected_iterable)</a> method </li>\u000a</ul>\u000a\u000a<p>In python 3 <strong>assertItemsEqual</strong> method is named <a href="http://docs.python.org/3/library/unittest.html?highlight=assertcountequal#unittest.TestCase.assertCountEqual" rel="noreferrer">assertCountEqual</a>.</p>\u000a
p729
sVquestion_id
p730
I7473071
sVlast_activity_date
p731
I1394885059
sVcreation_date
p732
I1316445189
sVscore
p733
I68
sVowner
p734
(dp735
Vuser_id
p736
I718618
sVprofile_image
p737
Vhttps://www.gravatar.com/avatar/9878e99dc2bbd256050b7dc4ffea820b?s=128&d=identicon&r=PG
p738
sVuser_type
p739
Vregistered
p740
sVreputation
p741
I40180
sVlink
p742
Vhttp://stackoverflow.com/users/718618/c%c3%a9dric-julien
p743
sVdisplay_name
p744
VC&#233;dric Julien
p745
ssVis_accepted
p746
I01
sVlast_edit_date
p747
I1394885059
sVanswer_id
p748
I7473137
sa(dp749
Vbody
p750
V<p><a href="http://docs.python.org/2/library/functools.html#functools.partial" rel="noreferrer" title="Python 2 Documentation: functools module: partial function"><code>functools.partial</code></a> returns a callable wrapping a function with some or all of the arguments frozen.</p>\u000a\u000a<pre class="lang-py prettyprint-override"><code>import sys\u000aimport functools\u000a\u000aprint_hello = functools.partial(sys.stdout.write, "Hello world\u005cn")\u000a\u000aprint_hello()\u000a</code></pre>\u000a\u000a<pre class="lang-none prettyprint-override"><code>Hello world\u000a</code></pre>\u000a\u000a<p>The above usage is equivalent to the following <code>lambda</code>.</p>\u000a\u000a<pre><code>print_hello = lambda *a, **kw: sys.stdout.write("Hello world\u005cn", *a, **kw)\u000a</code></pre>\u000a
p751
sVquestion_id
p752
I277922
sVlast_activity_date
p753
I1391727551
sVcreation_date
p754
I1226326007
sVscore
p755
I61
sVowner
p756
(dp757
Vuser_id
p758
I1114
sVprofile_image
p759
Vhttps://i.stack.imgur.com/xMJTK.png?s=128&g=1
p760
sVuser_type
p761
Vmoderator
p762
sVreputation
p763
I59672
sVlink
p764
Vhttp://stackoverflow.com/users/1114/jeremy-banks
p765
sVaccept_rate
p766
I69
sVdisplay_name
p767
VJeremy Banks
p768
ssVis_accepted
p769
I01
sVlast_edit_date
p770
I1391727551
sVanswer_id
p771
I277932
sa(dp772
Vbody
p773
V<p>When you run <code>pip</code> with <code>sudo</code>, you run <code>setup.py</code> with <code>sudo</code>. In other words, you run arbitrary Python  code from the Internet as root. If someone puts up a malicious project on PyPI and you install it, you give an attacker root access to your machine. Prior to some recent fixes to <code>pip</code> and PyPI, an attacker could also run a man in the middle attack to inject their code when you download a trustworthy project.</p>\u000a
p774
sVquestion_id
p775
I21055859
sVlast_activity_date
p776
I1389394607
sVcreation_date
p777
I1389394607
sVscore
p778
I46
sVowner
p779
(dp780
Vuser_id
p781
I395760
sVprofile_image
p782
Vhttps://www.gravatar.com/avatar/ce3278f4dfbb7287c89d749c95d6f805?s=128&d=identicon&r=PG
p783
sVuser_type
p784
Vregistered
p785
sVreputation
p786
I75808
sVlink
p787
Vhttp://stackoverflow.com/users/395760/delnan
p788
sVaccept_rate
p789
I75
sVdisplay_name
p790
Vdelnan
p791
ssVis_accepted
p792
I01
sVanswer_id
p793
I21056000
sa(dp794
Vbody
p795
V<p>All three versions do different things.</p>\u000a\u000a<ol>\u000a<li><p>This binds a new name <code>B</code> to the existing object already named <code>A</code>. Afterwards they refer to the same object, so if you modify one in place, you'll see the change through the other one too.</p></li>\u000a<li><p>This copies the values from <code>A</code> into an existing array <code>B</code>. The two arrays must have the same shape for this to work. <code>B[:] = A[:]</code> does the same thing (but <code>B = A[:]</code> would do something more like 1).</p></li>\u000a<li><p>This is not legal syntax. You probably meant <code>B = numpy.copy(A)</code>. This is almost the same as 2, but it creates a new array, rather than reusing the <code>B</code> array. If there were no other references to the previous <code>B</code> value, the end result would be the same as 2, but it will use more memory temporarily during the copy.</p>\u000a\u000a<p>Edit: or maybe you meant <code>numpy.copyto(B, A)</code>, which is legal, and is equivalent to 2?</p></li>\u000a</ol>\u000a
p796
sVquestion_id
p797
I19676538
sVlast_activity_date
p798
I1383119978
sVcreation_date
p799
I1383119978
sVscore
p800
I49
sVowner
p801
(dp802
Vuser_id
p803
I1405065
sVprofile_image
p804
Vhttps://www.gravatar.com/avatar/e5c422b239ab1f49d3f4fcff9e5df3cf?s=128&d=identicon&r=PG
p805
sVuser_type
p806
Vregistered
p807
sVreputation
p808
I46373
sVlink
p809
Vhttp://stackoverflow.com/users/1405065/blckknght
p810
sVdisplay_name
p811
VBlckknght
p812
ssVis_accepted
p813
I01
sVanswer_id
p814
I19676762
sa(dp815
Vbody
p816
V<p>Yes. Instead of passing in the instance attribute at class definition time, check it at runtime:</p>\u000a\u000a<pre><code>def check_authorization(f):\u000a    def wrapper(*args):\u000a        print args[0].url\u000a        return f(*args)\u000a    return wrapper\u000a\u000aclass Client(object):\u000a    def __init__(self, url):\u000a        self.url = url\u000a\u000a    @check_authorization\u000a    def get(self):\u000a        print 'get'\u000a\u000a&gt;&gt;&gt; Client('http://www.google.com').get()\u000ahttp://www.google.com\u000aget\u000a</code></pre>\u000a\u000a<p>The decorator intercepts the method arguments; the first argument is the instance, so it reads the attribute off of that. You can pass in the attribute name as a string to the decorator and use <code>getattr</code> if you don't want to hardcode the attribute name:</p>\u000a\u000a<pre><code>def check_authorization(attribute):\u000a    def _check_authorization(f):\u000a        def wrapper(self, *args):\u000a            print getattr(self, attribute)\u000a            return f(self, *args)\u000a        return wrapper\u000a    return _check_authorization\u000a</code></pre>\u000a
p817
sVquestion_id
p818
I11731136
sVlast_activity_date
p819
I1382224644
sVcreation_date
p820
I1343691533
sVscore
p821
I74
sVowner
p822
(dp823
Vuser_id
p824
I262727
sVprofile_image
p825
Vhttps://www.gravatar.com/avatar/503f2737e5df22b2bf7727e4b401a1dc?s=128&d=identicon&r=PG
p826
sVuser_type
p827
Vregistered
p828
sVreputation
p829
I6033
sVlink
p830
Vhttp://stackoverflow.com/users/262727/li-davidm
p831
sVdisplay_name
p832
Vli.davidm
p833
ssVis_accepted
p834
I01
sVlast_edit_date
p835
I1382224644
sVanswer_id
p836
I11731208
sa(dp837
Vbody
p838
V<p>Calling <code>read()</code> reads through the entire file and leaves the read cursor at the end of the file (with nothing more to read). If you are looking to read a certain number of lines at a time you could use  <code>readline()</code>, <code>readlines()</code> or iterate through lines with <code>for line in handle:</code>.</p>\u000a\u000a<p>To answer your question directly, once a file has been read, with <code>read()</code> you can use <code>seek(0)</code> to return the read cursor to the start of the file (docs are <a href="http://docs.python.org/2.4/lib/bltin-file-objects.html" rel="noreferrer">here</a>). If you know the file isn't going to be too large, you can also save the <code>read()</code> output to a variable, using it in your findall expressions.</p>\u000a\u000a<p>Ps. Dont forget to close the file after you are done with it ;)</p>\u000a
p839
sVquestion_id
p840
I3906137
sVlast_activity_date
p841
I1377562815
sVcreation_date
p842
I1286800039
sVscore
p843
I67
sVowner
p844
(dp845
Vuser_id
p846
I263467
sVprofile_image
p847
Vhttps://www.gravatar.com/avatar/cb947f0ebdde8d0f973741b366a51ed6?s=128&d=identicon&r=PG
p848
sVuser_type
p849
Vregistered
p850
sVreputation
p851
I3381
sVlink
p852
Vhttp://stackoverflow.com/users/263467/tim
p853
sVaccept_rate
p854
I100
sVdisplay_name
p855
VTim
p856
ssVis_accepted
p857
I01
sVlast_edit_date
p858
I1377562815
sVanswer_id
p859
I3906148
sa(dp860
Vbody
p861
V<p>I'd say your question has nothing to do with flask at all. For example, you don't have a problem with the templates, routes, views or logon decorators.</p>\u000a\u000a<p>Where you struggle at is at SQLAlchemy.</p>\u000a\u000a<p>So my suggestion is to ignore Flask for a while and get used to SQLAlchemy first. You need to get used to your existing database and how to access it from SQLAlchemy. Use some MySQL documentation tool to find your way around this. The start with something like this (note that it has nothing to do with Flask ask all ... yet):</p>\u000a\u000a<pre><code>#!/usr/bin/python\u000a# -*- mode: python -*-\u000a\u000afrom sqlalchemy import create_engine\u000afrom sqlalchemy.ext.declarative import declarative_base\u000a\u000aengine = create_engine('sqlite:///webmgmt.db', convert_unicode=True, echo=False)\u000aBase = declarative_base()\u000aBase.metadata.reflect(engine)\u000a\u000a\u000afrom sqlalchemy.orm import relationship, backref\u000a\u000aclass Users(Base):\u000a    __table__ = Base.metadata.tables['users']\u000a\u000a\u000aif __name__ == '__main__':\u000a    from sqlalchemy.orm import scoped_session, sessionmaker, Query\u000a    db_session = scoped_session(sessionmaker(bind=engine))\u000a    for item in db_session.query(Users.id, Users.name):\u000a        print item\u000a</code></pre>\u000a\u000a<p>In the line "<code>engine =</code>" you need to provide your path to your MySQL database, so that SQLAlchemy finds it. In my case I used a pre-existing sqlite3 database.</p>\u000a\u000a<p>In the line "<code>class Users(Base)</code>" you need to use one of existing tables in your MySQL database. I knew that my sqlite3 database had a table named "users".</p>\u000a\u000a<p>After this point, SQLalchemy knows how to connect to your MySQL database and it knows about one of the tables. You need now to add all the other tables that you care for. Finally, you need to specify relationships to SQLalchemy. Here I mean things like one-to-one, one-to-many, many-to-many, parent-chip and so on. The SQLAlchemy web site contains a rather lenghty section about this.</p>\u000a\u000a<p>After the line "<code>if __name__ == '__main__'</code>" just comes some test code. It will be executed if I don't import my python script, but run. Here you see that I create a DB session and is that for a very simply query.</p>\u000a\u000a<p>My suggestion is that you first read about the important parts of SQLAlchemy's documentation, for example the descriptive table definition, the relationship model and how to query. Once you know this, you can change the last part of my example into a controller (e.g. using Python's <code>yield</code> method) and write a view that uses that controller.</p>\u000a
p862
sVquestion_id
p863
I17652937
sVlast_activity_date
p864
I1373890289
sVcreation_date
p865
I1373890289
sVscore
p866
I55
sVowner
p867
(dp868
Vuser_id
p869
I2554244
sVprofile_image
p870
Vhttps://i.stack.imgur.com/8fDGF.jpg?s=128&g=1
p871
sVuser_type
p872
Vregistered
p873
sVreputation
p874
I1260
sVlink
p875
Vhttp://stackoverflow.com/users/2554244/holgerschurig
p876
sVdisplay_name
p877
VHolgerSchurig
p878
ssVis_accepted
p879
I01
sVanswer_id
p880
I17653975
sa(dp881
Vbody
p882
V<p>Try this:</p>\u000a\u000a<pre><code>class TestingClass(unittest.TestCase):\u000a\u000a    def __init__(self, *args, **kwargs):\u000a        super(TestingClass, self).__init__(*args, **kwargs)\u000a        self.gen_stubs()\u000a</code></pre>\u000a\u000a<p>You are overriding the <code>TestCase</code>'s <code>__init__</code>, so you might want to let the base class handle the arguments for you. </p>\u000a
p883
sVquestion_id
p884
I17353213
sVlast_activity_date
p885
I1372368373
sVcreation_date
p886
I1372367480
sVscore
p887
I62
sVowner
p888
(dp889
Vuser_id
p890
I1628832
sVprofile_image
p891
Vhttps://www.gravatar.com/avatar/090ce0cca74f8cc6766366460b956a0f?s=128&d=identicon&r=PG&f=1
p892
sVuser_type
p893
Vregistered
p894
sVreputation
p895
I57885
sVlink
p896
Vhttp://stackoverflow.com/users/1628832/karthikr
p897
sVdisplay_name
p898
Vkarthikr
p899
ssVis_accepted
p900
I01
sVlast_edit_date
p901
I1372368373
sVanswer_id
p902
I17353262
sa(dp903
Vbody
p904
V<p><strong>Direct answer, no it doesn't.</strong></p>\u000a\u000a<p><a href="http://stackoverflow.com/a/1947993/20774">joshperry's answer</a> is a good explanation of what it does instead.</p>\u000a\u000a<p>From <a href="http://stackoverflow.com/questions/2424531/does-the-mysqldb-module-support-prepared-statements/2425500#2425500">eugene y answer to a similar question</a>,</p>\u000a\u000a<blockquote>\u000a  <p>Check the MySQLdb <a href="http://pypi.python.org/pypi/MySQL-python/">Package Comments</a>:</p>\u000a  \u000a  <blockquote>\u000a    <p>"Parameterization" is done in MySQLdb by escaping strings and then blindly interpolating them into the query, instead of using the\u000a    MYSQL_STMT API. As a result unicode strings have to go through two\u000a    intermediate representations (encoded string, escaped encoded string)\u000a    before they're received by the database.</p>\u000a  </blockquote>\u000a  \u000a  <p>So the answer is: No, it doesn't.</p>\u000a</blockquote>\u000a
p905
sVquestion_id
p906
I1947750
sVlast_activity_date
p907
I1371824299
sVcreation_date
p908
I1371824299
sVscore
p909
I10
sVowner
p910
(dp911
Vuser_id
p912
I20774
sVprofile_image
p913
Vhttps://www.gravatar.com/avatar/3e32e31d4c24c1558abd6567f2ab60ba?s=128&d=identicon&r=PG
p914
sVuser_type
p915
Vregistered
p916
sVreputation
p917
I25076
sVlink
p918
Vhttp://stackoverflow.com/users/20774/james-mcmahon
p919
sVaccept_rate
p920
I92
sVdisplay_name
p921
VJames McMahon
p922
ssVis_accepted
p923
I01
sVanswer_id
p924
I17237567
sa(dp925
Vbody
p926
V<p>The first part is similar to Constantine, you can get the boolean of which rows are empty*:</p>\u000a\u000a<pre><code>In [21]: ne = (df1 != df2).any(1)\u000a\u000aIn [22]: ne\u000aOut[22]:\u000a0    False\u000a1     True\u000a2     True\u000adtype: bool\u000a</code></pre>\u000a\u000a<p>Then we can see which entries have changed:</p>\u000a\u000a<pre><code>In [23]: ne_stacked = (df1 != df2).stack()\u000a\u000aIn [24]: changed = ne_stacked[ne_stacked]\u000a\u000aIn [25]: changed.index.names = ['id', 'col']\u000a\u000aIn [26]: changed\u000aOut[26]:\u000aid  col\u000a1   score         True\u000a2   isEnrolled    True\u000a    Comment       True\u000adtype: bool\u000a</code></pre>\u000a\u000a<p><em>Here the first entry is the index and the second the columns which has been changed.</em></p>\u000a\u000a<pre><code>In [27]: difference_locations = np.where(df1 != df2)\u000a\u000aIn [28]: changed_from = df1.values[difference_locations]\u000a\u000aIn [29]: changed_to = df2.values[difference_locations]\u000a\u000aIn [30]: pd.DataFrame({'from': changed_from, 'to': changed_to}, index=changed.index)\u000aOut[30]:\u000a               from           to\u000aid col\u000a1  score       1.11         1.21\u000a2  isEnrolled  True        False\u000a   Comment     None  On vacation\u000a</code></pre>\u000a\u000a<p>* Note: it's important that <code>df1</code> and <code>df2</code> share the same index here. To overcome this ambiguity, you can ensure you only look at the shared labels using <code>df1.index &amp; df2.index</code>, but I think I'll leave that as an exercise.</p>\u000a
p927
sVquestion_id
p928
I17095101
sVlast_activity_date
p929
I1371157011
sVcreation_date
p930
I1371152384
sVscore
p931
I48
sVowner
p932
(dp933
Vuser_id
p934
I1240268
sVprofile_image
p935
Vhttps://i.stack.imgur.com/RN9Mw.jpg?s=128&g=1
p936
sVuser_type
p937
Vregistered
p938
sVreputation
p939
I108899
sVlink
p940
Vhttp://stackoverflow.com/users/1240268/andy-hayden
p941
sVaccept_rate
p942
I90
sVdisplay_name
p943
VAndy Hayden
p944
ssVis_accepted
p945
I01
sVlast_edit_date
p946
I1371157011
sVanswer_id
p947
I17095620
sa(dp948
Vbody
p949
V<p>Unicode is not equal to UTF-8. The latter is just an <em>encoding</em> for the former.</p>\u000a\u000a<p>You are doing it the wrong way around. You are <em>reading</em> UTF-8-<em>encoded</em> data, so you have to <em>decode</em> the UTF-8-encoded String into a unicode string.</p>\u000a\u000a<p>So just replace <code>.encode</code> with <code>.decode</code>, and it should work (if your .csv is UTF-8-encoded).</p>\u000a\u000a<p>Nothing to be ashamed of, though. I bet 3 in 5 programmers had trouble at first understanding this, if not more ;)</p>\u000a\u000a<p>Update:\u000aIf your input data is <em>not</em> UTF-8 encoded, then you have to <code>.decode()</code> with the appropriate encoding, of course. If nothing is given, python assumes ASCII, which obviously fails on non-ASCII-characters.</p>\u000a
p950
sVquestion_id
p951
I10406135
sVlast_activity_date
p952
I1370797848
sVcreation_date
p953
I1335918061
sVscore
p954
I99
sVowner
p955
(dp956
Vuser_id
p957
I1324545
sVprofile_image
p958
Vhttps://www.gravatar.com/avatar/db9d8f99066876291fdf08a2ebe01caf?s=128&d=identicon&r=PG
p959
sVuser_type
p960
Vregistered
p961
sVreputation
p962
I6292
sVlink
p963
Vhttp://stackoverflow.com/users/1324545/ch3ka
p964
sVdisplay_name
p965
Vch3ka
p966
ssVis_accepted
p967
I01
sVlast_edit_date
p968
I1370797848
sVanswer_id
p969
I10406161
sa(dp970
Vbody
p971
V<p>Here's a "real-world" example from the <code>decimal</code> package:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; from decimal import Decimal\u000a&gt;&gt;&gt; obj = Decimal('3.1415926535897932384626433832795028841971')\u000a&gt;&gt;&gt; +obj != obj  # The __pos__ function rounds back to normal precision\u000aTrue\u000a&gt;&gt;&gt; obj\u000aDecimal('3.1415926535897932384626433832795028841971')\u000a&gt;&gt;&gt; +obj\u000aDecimal('3.141592653589793238462643383')\u000a</code></pre>\u000a
p972
sVquestion_id
p973
I16819023
sVlast_activity_date
p974
I1369847647
sVcreation_date
p975
I1369844966
sVscore
p976
I28
sVowner
p977
(dp978
Vuser_id
p979
I546084
sVprofile_image
p980
Vhttps://i.stack.imgur.com/wMoWk.jpg?s=128&g=1
p981
sVuser_type
p982
Vregistered
p983
sVreputation
p984
I34036
sVlink
p985
Vhttp://stackoverflow.com/users/546084/chris-taylor
p986
sVaccept_rate
p987
I94
sVdisplay_name
p988
VChris Taylor
p989
ssVis_accepted
p990
I01
sVlast_edit_date
p991
I1369847647
sVanswer_id
p992
I16819334
sa(dp993
Vbody
p994
V<p>Yes. <code>sys.exit</code> raises <code>SystemExit</code>, so you can check it with <a href="http://docs.python.org/2/library/unittest.html#unittest.TestCase.assertRaises" rel="noreferrer"><code>assertRaises</code></a>:</p>\u000a\u000a<pre><code>with self.assertRaises(SystemExit):\u000a    your_method()\u000a</code></pre>\u000a\u000a<p>Instances of <code>SystemExit</code> have an attribute <code>code</code> which is set to the proposed exit status, and the context manager returned by <code>assertRaises</code> has the caught exception instance as <code>exception</code>, so checking the exit status is easy:</p>\u000a\u000a<pre><code>with self.assertRaises(SystemExit) as cm:\u000a    your_method()\u000a\u000aself.assertEqual(cm.exception.code, 1)\u000a</code></pre>\u000a\u000a<p>&nbsp;</p>\u000a\u000a<p><a href="http://docs.python.org/2/library/sys.html#sys.exit" rel="noreferrer">sys.exit Documentation</a>:</p>\u000a\u000a<blockquote>\u000a  <p>Exit from Python. This is implemented by raising the <code>SystemExit</code> exception ... it is possible to intercept the exit attempt at an outer level.</p>\u000a</blockquote>\u000a
p995
sVquestion_id
p996
I15672151
sVlast_activity_date
p997
I1364431402
sVcreation_date
p998
I1364430649
sVscore
p999
I70
sVowner
p1000
(dp1001
Vuser_id
p1002
I830012
sVprofile_image
p1003
Vhttps://i.stack.imgur.com/7ALrL.jpg?s=128&g=1
p1004
sVuser_type
p1005
Vregistered
p1006
sVreputation
p1007
I34795
sVlink
p1008
Vhttp://stackoverflow.com/users/830012/pavel-anossov
p1009
sVdisplay_name
p1010
VPavel Anossov
p1011
ssVis_accepted
p1012
I01
sVlast_edit_date
p1013
I1364431402
sVanswer_id
p1014
I15672165
sa(dp1015
Vbody
p1016
V<p><strong>EDIT 1</strong> Seen the comment that you have 1 virtual core, adding commentary through on all relavant points</p>\u000a\u000a<p><strong>EDIT 2</strong> More information from Maverick, so I'm eliminating ideas ruled out and developing the confirmed issues.</p>\u000a\u000a<p><strong>EDIT 3</strong> Filled out more details about uwsgi request queue and scaling options. Improved grammar.</p>\u000a\u000a<p><strong>EDIT 4</strong> Updates from Maverick and minor improvements</p>\u000a\u000a<p>Comments are too small, so here are some thoughts:</p>\u000a\u000a<ol>\u000a<li>Load average is basically how many processes are running on or waiting for CPU attention. For a perfectly loaded system with 1 CPU core, the load average should be 1.0; for a 4 core system, it should be 4.0. The moment you run the web test, the threading rockets and you have a <em>lot</em> of processes waiting for CPU. Unless the load average exceeds the number of CPU cores by a significant margin, it is not a concern</li>\u000a<li>The first 'Time per request' value of 4s correlates to the length of the request queue - 1000 requests dumped on Django nearly instantaneously and took on average 4s to service, about 3.4s of which were waiting in a queue. This is due to the very heavy mismatch between the number of requests (100) vs. the number of processors (16) causing 84 of the requests to be waiting for a processor at any one moment.</li>\u000a<li><p>Running at a concurrency of 100, the tests take 41 seconds at 24 requests/sec. You have 16 processes (threads), so each request is processed about 700ms. Given your type of transaction, that is a <em>long</em> time per request. This may be because:</p>\u000a\u000a<ol>\u000a<li><strike>The CPU cost of each request is high in Django (which is highly unlikely given the low CPU value from the debug toolbar)</strike></li>\u000a<li>The OS is task switching a lot (especially if the load average is higher than 4-8), and the latency is purely down to having too many processes.</li>\u000a<li><strike>There are not enough DB connections serving the 16 processes so processes are waiting to have one come available. Do you have at least one connection available per process?</strike></li>\u000a<li><p><strike>There is <em>considerable</em> latency around the DB, either</strike>:</p>\u000a\u000a<ol>\u000a<li><strike>Tens of small requests each taking, say, 10ms, most of which is networking overhead. If so, can you introducing caching or reduce the SQL calls to a smaller number. Or</strike></li>\u000a<li><strike>One or a couple of requests are taking 100's of ms. To check this, run profiling on the DB. If so, you need to optimise that request.</strike></li>\u000a</ol></li>\u000a</ol></li>\u000a<li><p>The split between system and user CPU cost is unusually high in system, although the total CPU is low. This implies that most of the work in Django is kernel related, such as networking or disk. In this scenario, it might be network costs (eg receiving and sending HTTP requests and receiving and sending requests to the DB). Sometimes this will be high because of <em>paging</em>. If there's no paging going on, then you probably don't have to worry about this at all. </p></li>\u000a<li>You have set the processes at 16, but have a high load average <strike>(how high you don't state)</strike>. Ideally you should always have at least <em>one</em> process waiting for CPU (so that CPUs don't spin idly). Processes here don't seem CPU bound, but have a significant latency, so you need more processes than cores. How many more? Try running the uwsgi with different numbers of processors (1, 2, 4, 8, 12, 16, 24, etc) until you have the best throughput. If you change latency of the average process, you will need to adjust this again.</li>\u000a<li>The 500 concurrency level definitely is a problem<strike>, but is it the client or the server? The report says 50 (out of 100) had the incorrect content-length which implies a server problem. The non-2xx also seems to point there. Is it possible to capture the non-2xx responses for debugging - stack traces or the specific error message would be incredibly useful</strike> (EDIT) and is caused by the uwsgi request queue running with it's default value of 100.</li>\u000a</ol>\u000a\u000a<p>So, in summary:</p>\u000a\u000a<p><img src="https://i.stack.imgur.com/hIK9U.png" alt="enter image description here"></p>\u000a\u000a<ol>\u000a<li>Django seems fine</li>\u000a<li>Mismatch between concurrency of load test (100 or 500) vs. processes (16): You're pushing way too many concurrent requests into the system for the number of processes to handle. Once you are above the number of processes, all that will happen is that you will lengthen the HTTP Request queue in the web server</li>\u000a<li><p>There is a large latency, so either</p>\u000a\u000a<ol>\u000a<li><p>Mismatch between processes (16) and CPU cores (1): If the load average is >3, then it's probably too many processes. Try again with a smaller number of processes</p>\u000a\u000a<ol>\u000a<li><strike>Load average > 2 -> try 8 processes</strike></li>\u000a<li><strike>Load average > 4 -> try 4 processes</strike></li>\u000a<li>Load average > 8 -> try 2 processes</li>\u000a</ol></li>\u000a<li><p><strike>If the load average &lt;3, it may be in the DB, so profile the DB to see whether there are loads of small requests (additively causing the latency) or one or two SQL statements are the problem </p></li>\u000a</ol></li>\u000a<li>Without capturing the failed response, there's not much I can say about the failures at 500 concurrency</strike></li>\u000a</ol>\u000a\u000a<p><strong>Developing ideas</strong></p>\u000a\u000a<p>Your load averages >10 on a single cored machine is <em>really</em> nasty and (as you observe) leads to a lot of task switching and general slow behaviour. I personally don't remember seeing a machine with a load average of 19 (which you have for 16 processes) - congratulations for getting it so high ;)</p>\u000a\u000a<p>The DB performance is great, so I'd give that an all-clear right now.</p>\u000a\u000a<p><strong>Paging</strong>: To answer you question on how to see paging - you can detect OS paging in several ways. For example, in top, the header has page-ins and outs (see the last line):</p>\u000a\u000a<pre>Processes: 170 total, 3 running, 4 stuck, 163 sleeping, 927 threads                                                                                                        15:06:31\u000aLoad Avg: 0.90, 1.19, 1.94  CPU usage: 1.37% user, 2.97% sys, 95.65% idle  SharedLibs: 144M resident, 0B data, 24M linkedit.\u000aMemRegions: 31726 total, 2541M resident, 120M private, 817M shared. PhysMem: 1420M wired, 3548M active, 1703M inactive, 6671M used, 1514M free.\u000aVM: 392G vsize, 1286M framework vsize, 1534241(0) pageins, 0(0) pageouts. Networks: packets: 789684/288M in, 912863/482M out. Disks: 739807/15G read, 996745/24G written.</pre>\u000a\u000a<p><strong>Number of processes</strong>: In your current configuration, the number of processes is <em>way</em> too high. <strong>Scale the number of processes back to a 2</strong>. We might bring this value up later, depending on shifting further load off this server. </p>\u000a\u000a<p><strong>Location of Apache Benchmark</strong>: The load average of 1.85 for one process suggests to me that you are running the load generator on the same machine as uwsgi - is that correct? </p>\u000a\u000a<p>If so, you really need to run this from another machine otherwise the test runs are not representative of actual load - you're taking memory and CPU from the web processes for use in the load generator. In addition, the load generator's 100 or 500 threads will generally stress your server in a way that does not happen in real life. Indeed this might be the reason the whole test fails.</p>\u000a\u000a<p><strong>Location of the DB</strong>: The load average for one process also suggest that you are running the DB on the same machine as the web processes - is this correct? </p>\u000a\u000a<p>If I'm correct about the DB, then the first and best way to start scaling is to move the DB to another machine. We do this for a couple of reasons:</p>\u000a\u000a<ol>\u000a<li><p>A DB server needs a different hardware profile from a processing node:</p>\u000a\u000a<ol>\u000a<li>Disk: DB needs a lot of fast, redundant, backed up disk, and a processing node needs just a basic disk</li>\u000a<li>CPU: A processing node needs the fastest CPU you can afford whereas a DB machine can often make do without (often its performance is gated on disk and RAM)</li>\u000a<li>RAM: a DB machine generally needs as much RAM as possible (and the fastest DB has <em>all</em> its data in RAM), whereas many processing nodes need much less (yours needs about 20MB per process - very small</li>\u000a<li>Scaling: <strong>Atomic</strong> DBs scale best by having monster machines with many CPUs whereas the web tier (not having state) can scale by plugging in many identical small boxen.</li>\u000a</ol></li>\u000a<li><p>CPU affinity: It's better for the CPU to have a load average of 1.0 and processes to have affinity to a single core. Doing so maximizes the use of the CPU cache and minimizes task switching overheads. By separating the DB and processing nodes, you are enforcing this affinity in HW.</p></li>\u000a</ol>\u000a\u000a<p><strong>500 concurrency with exceptions</strong> The request queue in the diagram above is at most 100 - if uwsgi receives a request when the queue is full, the request is rejected with a 5xx error. I think this was happening in your 500 concurrency load test - basically the queue filled up with the first 100 or so threads, then the other 400 threads issued the remaining 900 requests and received immediate 5xx errors. </p>\u000a\u000a<p>To handle 500 requests per second you need to ensure two things:</p>\u000a\u000a<ol>\u000a<li>The Request Queue size is configured to handle the burst: Use the <code>--listen</code> argument to <code>uwsgi</code></li>\u000a<li>The system can handle a throughput at above 500 requests per second if 500 is a normal condition, or a bit below if 500 is a peak. See scaling notes below.</li>\u000a</ol>\u000a\u000a<p>I imagine that uwsgi has the queue set to a smaller number to better handle DDoS attacks; if placed under huge load, most requests immediately fail with almost no processing allowing the box as a whole to still be responsive to the administrators. </p>\u000a\u000a<p><strong>General advice for scaling a system</strong></p>\u000a\u000a<p>Your most important consideration is probably to <strong>maximize throughput</strong>. Another possible need to minimize response time, but I won't discuss this here. In maximising throughput, you are trying to maximize the <em>system</em>, not individual components; some local decreases might improve overall system throughput (for example, making a change that happens to add latency in the web tier <em>in order to improve performance of the DB</em> is a net gain).</p>\u000a\u000a<p>Onto specifics:</p>\u000a\u000a<ol>\u000a<li><strong>Move the DB to a separate machine</strong>. After this, profile the DB during your load test by running <code>top</code> and your favorite MySQL monitoring tool. You need to be able to profile . Moving the DB to a separate machine will introduce some additional latency (several ms) per request, so expect to slightly increase the number of processes at the web tier to keep the same throughput.</li>\u000a<li>Ensure that <code>uswgi</code> request queue is large enough to handle a burst of traffic using the <code>--listen</code> argument. This should be several times the maximum steady-state requests-per-second your system can handle.</li>\u000a<li><p>On the web/app tier: <strong>Balance the number of processes with the number of CPU cores</strong> and the inherent latency in the process. Too many processes slows performance, too few means that you'll never fully utilize the system resources. There is no fixed balancing point, as every application and usage pattern is different, so benchmark and adjust. As a guide, use the processes' latency, if each task has:</p>\u000a\u000a<ul>\u000a<li>0% latency, then you need 1 process per core</li>\u000a<li>50% latency (i.e. the CPU time is half the actual time), then you need 2 processes per core</li>\u000a<li>67% latency, then you need 3 processes per core</li>\u000a</ul></li>\u000a<li><p>Check <code>top</code> during the test to ensure that you are above 90% cpu utilisation (for every core) <em>and</em> you have a load average a little above 1.0. If the load average is higher, scale back the processes. If all goes well, at some point you won't be able to achieve this target, and DB might now be the bottleneck</p></li>\u000a<li>At some point you will need more power in the web tier. You can either choose to add more CPU to the machine (relatively easy) and so add more processes, <strong>and/or</strong> you can add in more processing nodes (horizontal scaleability). The latter can be achieved in uwsgi using the method discussed <a href="http://stackoverflow.com/a/15050495/1395668">here</a> by <a href="http://stackoverflow.com/users/1154047/ukasz-mierzwa">\u0141ukasz Mierzwa</a></li>\u000a</ol>\u000a
p1017
sVquestion_id
p1018
I14962289
sVlast_activity_date
p1019
I1361750690
sVcreation_date
p1020
I1361602394
sVscore
p1021
I119
sVowner
p1022
(dp1023
Vuser_id
p1024
I1395668
sVprofile_image
p1025
Vhttps://www.gravatar.com/avatar/dc42953355397d15696e7b9c52a5cebe?s=128&d=identicon&r=PG
p1026
sVuser_type
p1027
Vregistered
p1028
sVreputation
p1029
I15263
sVlink
p1030
Vhttp://stackoverflow.com/users/1395668/andrew-alcock
p1031
sVdisplay_name
p1032
VAndrew Alcock
p1033
ssVis_accepted
p1034
I01
sVlast_edit_date
p1035
I1361750690
sVanswer_id
p1036
I15037998
sa(dp1037
Vbody
p1038
V<p>I haven't used it, but the <a href="http://springpython.webfactional.com/" rel="noreferrer">Spring Python</a> framework is based on Spring and implements <a href="http://static.springsource.org/spring-python/1.2.x/sphinx/html/objects.html" rel="noreferrer">Inversion of Control</a>.</p>\u000a\u000a<p>There also appears to be a Guice in Python project: <a href="http://code.google.com/p/snake-guice/" rel="noreferrer">snake-guice</a></p>\u000a
p1039
sVquestion_id
p1040
I156230
sVlast_activity_date
p1041
I1358958875
sVcreation_date
p1042
I1222845648
sVscore
p1043
I13
sVowner
p1044
(dp1045
Vuser_id
p1046
I11265
sVprofile_image
p1047
Vhttps://www.gravatar.com/avatar/b446c38567d41cfdb05262892556fad8?s=128&d=identicon&r=PG
p1048
sVuser_type
p1049
Vregistered
p1050
sVreputation
p1051
I7888
sVlink
p1052
Vhttp://stackoverflow.com/users/11265/matthew-trevor
p1053
sVaccept_rate
p1054
I78
sVdisplay_name
p1055
VMatthew Trevor
p1056
ssVis_accepted
p1057
I01
sVlast_edit_date
p1058
I1358958875
sVanswer_id
p1059
I156553
sa(dp1060
Vbody
p1061
V<p>What about a basic</p>\u000a\u000a<pre><code>your_string.strip("0")\u000a</code></pre>\u000a\u000a<p>to remove both trailing and leading zeros ? If you're only interested in removing trailing zeros, use <code>.rstrip</code> instead (and <code>.lstrip</code> for only the leading ones).</p>\u000a\u000a<p>[More info in the <a href="http://docs.python.org/2/library/stdtypes.html?highlight=split#str.strip">doc</a>.]</p>\u000a\u000a<p>You could use some list comprehension to get the sequences you want like so:</p>\u000a\u000a<pre><code>trailing_removed = [s.rstrip("0") for s in listOfNum]\u000aleading_removed = [s.lstrip("0") for s in listOfNum]\u000aboth_removed = [s.strip("0") for s in listOfNum]\u000a</code></pre>\u000a
p1062
sVquestion_id
p1063
I13142347
sVlast_activity_date
p1064
I1351611035
sVcreation_date
p1065
I1351611035
sVscore
p1066
I91
sVowner
p1067
(dp1068
Vuser_id
p1069
I1491200
sVprofile_image
p1070
Vhttps://www.gravatar.com/avatar/ce07ae2ea6eca139e4f7369791894f25?s=128&d=identicon&r=PG
p1071
sVuser_type
p1072
Vregistered
p1073
sVreputation
p1074
I11268
sVlink
p1075
Vhttp://stackoverflow.com/users/1491200/pierre-gm
p1076
sVaccept_rate
p1077
I60
sVdisplay_name
p1078
VPierre GM
p1079
ssVis_accepted
p1080
I01
sVanswer_id
p1081
I13142375
sa(dp1082
Vbody
p1083
V<p>You want</p>\u000a\u000a<pre><code>if 'errormessage' in kwargs:\u000a    print("found it")\u000a</code></pre>\u000a\u000a<p>In this way, <code>kwargs</code> is just another <code>dict</code>.  Your first example, <code>if kwargs['errormessage']</code>, means "get the value associated with the key "errormessage" in kwargs, and then check its bool value".  So if there's no such key, you'll get a <code>KeyError</code>.</p>\u000a\u000a<p>Your second example, <code>if errormessage in kwargs:</code>, means "if <code>kwargs</code> contains the element named by "<code>errormessage</code>", and unless "<code>errormessage</code>" is the name of a variable, you'll get a <code>NameError</code>.</p>\u000a\u000a<p>I should mention that dictionaries also have a method <code>.get()</code> which accepts a default parameter (itself defaulting to <code>None</code>), so that <code>kwargs.get("errormessage")</code> returns the value if that key exists and <code>None</code> otherwise (similarly <code>kwargs.get("errormessage", 17)</code> does what you might think it does).  When you don't care about the difference between the key existing and having <code>None</code> as a value or the key not existing, this can be handy.</p>\u000a
p1084
sVquestion_id
p1085
I12399803
sVlast_activity_date
p1086
I1347513940
sVcreation_date
p1087
I1347513465
sVscore
p1088
I72
sVowner
p1089
(dp1090
Vuser_id
p1091
I487339
sVprofile_image
p1092
Vhttps://i.stack.imgur.com/wbe4o.png?s=128&g=1
p1093
sVuser_type
p1094
Vregistered
p1095
sVreputation
p1096
I147176
sVlink
p1097
Vhttp://stackoverflow.com/users/487339/dsm
p1098
sVdisplay_name
p1099
VDSM
p1100
ssVis_accepted
p1101
I01
sVlast_edit_date
p1102
I1347513940
sVanswer_id
p1103
I12399836
sa(dp1104
Vbody
p1105
V<p>If you read the source you will see that only the port can be overridden on the command line.  If you want to change the host it is served on, you will need to implement the <code>test()</code> method of the <code>SimpleHTTPServer</code> and <code>BaseHTTPServer</code> yourself.  But that should be really easy.</p>\u000a\u000a<p>Here is how you can do it, pretty easily:</p>\u000a\u000a<pre><code>import sys\u000afrom SimpleHTTPServer import SimpleHTTPRequestHandler\u000aimport BaseHTTPServer\u000a\u000a\u000adef test(HandlerClass=SimpleHTTPRequestHandler,\u000a         ServerClass=BaseHTTPServer.HTTPServer):\u000a\u000a    protocol = "HTTP/1.0"\u000a    host = ''\u000a    port = 8000\u000a    if len(sys.argv) &gt; 1:\u000a        arg = sys.argv[1]\u000a        if ':' in arg:\u000a            host, port = arg.split(':')\u000a            port = int(port)\u000a        else:\u000a            try:\u000a                port = int(sys.argv[1])\u000a            except:\u000a                host = sys.argv[1]\u000a\u000a    server_address = (host, port)\u000a\u000a    HandlerClass.protocol_version = protocol\u000a    httpd = ServerClass(server_address, HandlerClass)\u000a\u000a    sa = httpd.socket.getsockname()\u000a    print "Serving HTTP on", sa[0], "port", sa[1], "..."\u000a    httpd.serve_forever()\u000a\u000a\u000aif __name__ == "__main__":\u000a    test()\u000a</code></pre>\u000a\u000a<p>And to use it:  </p>\u000a\u000a<pre><code>&gt; python server.py 127.0.0.1     \u000aServing HTTP on 127.0.0.1 port 8000 ...\u000a\u000a&gt; python server.py 127.0.0.1:9000\u000aServing HTTP on 127.0.0.1 port 9000 ...\u000a\u000a&gt; python server.py 8080          \u000aServing HTTP on 0.0.0.0 port 8080 ...\u000a</code></pre>\u000a
p1106
sVquestion_id
p1107
I12268835
sVlast_activity_date
p1108
I1346781909
sVcreation_date
p1109
I1346781379
sVscore
p1110
I37
sVowner
p1111
(dp1112
Vuser_id
p1113
I141555
sVprofile_image
p1114
Vhttps://i.stack.imgur.com/g7wWn.jpg?s=128&g=1
p1115
sVuser_type
p1116
Vregistered
p1117
sVreputation
p1118
I61957
sVlink
p1119
Vhttp://stackoverflow.com/users/141555/sberry
p1120
sVaccept_rate
p1121
I91
sVdisplay_name
p1122
Vsberry
p1123
ssVis_accepted
p1124
I01
sVlast_edit_date
p1125
I1346781909
sVanswer_id
p1126
I12268922
sa(dp1127
Vbody
p1128
V<p>Relying on Django's built-in functionality and passing named parameters would be the simplest way to go.</p>\u000a\u000a<pre><code>p = User(name="Fred", email="fred@example.com")\u000a</code></pre>\u000a\u000a<p>But if you're set on saving some keystrokes, I'd suggest adding a static convenience method to the class instead of messing with the initializer.</p>\u000a\u000a<pre><code># In User class declaration\u000a@classmethod\u000adef create(cls, name, email):\u000a  return cls(name=name, email=email)\u000a\u000a# Use it\u000ap = User.create("Fred", "fred@example.com")\u000a</code></pre>\u000a
p1129
sVquestion_id
p1130
I843580
sVlast_activity_date
p1131
I1346238291
sVcreation_date
p1132
I1241891747
sVscore
p1133
I73
sVowner
p1134
(dp1135
Vuser_id
p1136
I102537
sVprofile_image
p1137
Vhttps://www.gravatar.com/avatar/65435ed21341b4d7638e5a2058328462?s=128&d=identicon&r=PG
p1138
sVuser_type
p1139
Vregistered
p1140
sVreputation
p1141
I4624
sVlink
p1142
Vhttp://stackoverflow.com/users/102537/baldu
p1143
sVdisplay_name
p1144
VBaldu
p1145
ssVis_accepted
p1146
I01
sVlast_edit_date
p1147
I1346238291
sVanswer_id
p1148
I843740
sa(dp1149
Vbody
p1150
V<pre><code>&gt;&gt;&gt; from itertools import chain\u000a&gt;&gt;&gt; f = lambda x: x + 2\u000a&gt;&gt;&gt; g = lambda x: x ** 2\u000a&gt;&gt;&gt; list(chain.from_iterable((f(x), g(x)) for x in range(3)))\u000a[2, 0, 3, 1, 4, 4]\u000a</code></pre>\u000a\u000a<p>Timings:</p>\u000a\u000a<pre><code>from timeit import timeit\u000a\u000af = lambda x: x + 2\u000ag = lambda x: x ** 2\u000a\u000adef fg(x):\u000a    yield f(x)\u000a    yield g(x)\u000a\u000aprint timeit(stmt='list(chain.from_iterable((f(x), g(x)) for x in range(3)))',\u000a             setup='gc.enable(); from itertools import chain; f = lambda x: x + 2; g = lambda x: x ** 2')\u000a\u000aprint timeit(stmt='list(chain.from_iterable(fg(x) for x in range(3)))',\u000a             setup='gc.enable(); from itertools import chain; from __main__ import fg; f = lambda x: x + 2; g = lambda x: x ** 2')\u000a\u000aprint timeit(stmt='[func(x) for x in range(3) for func in (f, g)]',\u000a             setup='gc.enable(); f = lambda x: x + 2; g = lambda x: x ** 2')\u000a\u000a\u000aprint timeit(stmt='list(chain.from_iterable((f(x), g(x)) for x in xrange(10**6)))',\u000a             setup='gc.enable(); from itertools import chain; f = lambda x: x + 2; g = lambda x: x ** 2',\u000a             number=20)\u000a\u000aprint timeit(stmt='list(chain.from_iterable(fg(x) for x in xrange(10**6)))',\u000a             setup='gc.enable(); from itertools import chain; from __main__ import fg; f = lambda x: x + 2; g = lambda x: x ** 2',\u000a             number=20)\u000a\u000aprint timeit(stmt='[func(x) for x in xrange(10**6) for func in (f, g)]',\u000a             setup='gc.enable(); f = lambda x: x + 2; g = lambda x: x ** 2',\u000a             number=20)\u000a</code></pre>\u000a\u000a<blockquote>\u000a  <p>2.69210777094</p>\u000a  \u000a  <p>3.13900787874</p>\u000a  \u000a  <p>1.62461071932</p>\u000a  \u000a  <p>25.5944058287</p>\u000a  \u000a  <p>29.2623711793</p>\u000a  \u000a  <p>25.7211849286</p>\u000a</blockquote>\u000a
p1151
sVquestion_id
p1152
I11868964
sVlast_activity_date
p1153
I1344446742
sVcreation_date
p1154
I1344443384
sVscore
p1155
I34
sVowner
p1156
(dp1157
Vuser_id
p1158
I1219006
sVprofile_image
p1159
Vhttps://i.stack.imgur.com/M1ZlR.jpg?s=128&g=1
p1160
sVuser_type
p1161
Vregistered
p1162
sVreputation
p1163
I62408
sVlink
p1164
Vhttp://stackoverflow.com/users/1219006/jamylak
p1165
sVaccept_rate
p1166
I100
sVdisplay_name
p1167
Vjamylak
p1168
ssVis_accepted
p1169
I01
sVlast_edit_date
p1170
I1344446742
sVanswer_id
p1171
I11868996
sa(dp1172
Vbody
p1173
V<p>Here's code for Python 3.x:</p>\u000a\u000a<pre><code>print(os.path.getsize(file_name)/1024+'KB / '+size+' KB downloaded!', end='\u005cr')\u000a</code></pre>\u000a\u000a<p>The <code>end=</code> keyword is what does the work here -- by default, <code>print()</code> ends in a newline (<code>\u005cn</code>) character, but this can be replaced with a different string. In this case, ending the line with a carriage return instead returns the cursor to the start of the current line. Thus, there's no need to import the <code>sys</code> module for this sort of simple usage. <code>print()</code> actually has <a href="http://docs.python.org/py3k/library/functions.html#print" rel="noreferrer">a number of keyword arguments</a> which can be used to greatly simplify code.</p>\u000a\u000a<p>To use the same code on Python 2.6+, put the following line at the top of the file:</p>\u000a\u000a<pre><code>from __future__ import print_function\u000a</code></pre>\u000a
p1174
sVquestion_id
p1175
I4897359
sVlast_activity_date
p1176
I1343125203
sVcreation_date
p1177
I1323374162
sVscore
p1178
I67
sVowner
p1179
(dp1180
Vuser_id
p1181
I1034386
sVprofile_image
p1182
Vhttps://www.gravatar.com/avatar/ecfe214bcba8d9649a5bbc59f2d47958?s=128&d=identicon&r=PG
p1183
sVuser_type
p1184
Vregistered
p1185
sVreputation
p1186
I917
sVlink
p1187
Vhttp://stackoverflow.com/users/1034386/kudzu
p1188
sVaccept_rate
p1189
I78
sVdisplay_name
p1190
VKudzu
p1191
ssVis_accepted
p1192
I01
sVlast_edit_date
p1193
I1343125203
sVanswer_id
p1194
I8436827
sa(dp1195
Vbody
p1196
V<p>To convert any string into a SQLite identifier:</p>\u000a\u000a<ul>\u000a<li>Ensure the string can be encoded as UTF-8.</li>\u000a<li>Ensure the string does not include any NUL characters.</li>\u000a<li>Replace all <code>"</code> with <code>""</code>.</li>\u000a<li>Wrap the entire thing in double quotes.</li>\u000a</ul>\u000a\u000a<h3>Implementation</h3>\u000a\u000a<pre class="lang-python prettyprint-override"><code>import codecs\u000a\u000adef quote_identifier(s, errors="strict"):\u000a    encodable = s.encode("utf-8", errors).decode("utf-8")\u000a\u000a    nul_index = encodable.find("\u005cx00")\u000a\u000a    if nul_index &gt;= 0:\u000a        error = UnicodeEncodeError("NUL-terminated utf-8", encodable,\u000a                                   nul_index, nul_index + 1, "NUL not allowed")\u000a        error_handler = codecs.lookup_error(errors)\u000a        replacement, _ = error_handler(error)\u000a        encodable = encodable.replace("\u005cx00", replacement)\u000a\u000a    return "\u005c"" + encodable.replace("\u005c"", "\u005c"\u005c"") + "\u005c""\u000a</code></pre>\u000a\u000a<p>Given a string single argument, it will escape and quote it correctly or raise an exception. The second argument can be used to specify any error handler registered in <a href="http://docs.python.org/library/codecs.html" rel="noreferrer">the <code>codecs</code> module</a>. The built-in ones are:</p>\u000a\u000a<blockquote>\u000a  <ul>\u000a  <li><code>'strict'</code>: raise an exception in case of an encoding error</li>\u000a  <li><code>'replace'</code>: replace malformed data with a suitable replacement marker, such as <code>'?'</code> or <code>'\u005cufffd'</code></li>\u000a  <li><code>'ignore'</code>: ignore malformed data and continue without further notice</li>\u000a  <li><code>'xmlcharrefreplace'</code>: replace with the appropriate XML character reference (for encoding only)</li>\u000a  <li><code>'backslashreplace'</code>: replace with backslashed escape sequences (for encoding only)</li>\u000a  </ul>\u000a</blockquote>\u000a\u000a<p>This doesn't check for reserved identifiers, so if you try to create a new <code>SQLITE_MASTER</code> table it won't stop you.</p>\u000a\u000a<h3>Example Usage</h3>\u000a\u000a<pre class="lang-python prettyprint-override"><code>import sqlite3\u000a\u000adef test_identifier(identifier):\u000a    "Tests an identifier to ensure it's handled properly."\u000a\u000a    with sqlite3.connect(":memory:") as c:\u000a        c.execute("CREATE TABLE " + quote_identifier(identifier) + " (foo)")\u000a        assert identifier == c.execute("SELECT name FROM SQLITE_MASTER").fetchone()[0]\u000a\u000atest_identifier("'Hllo?'\u005c\u005c\u005cn\u005cr\u005ct\u005c"Hello!\u005c" -\u2603") # works\u000atest_identifier("\u5317\u65b9\u8bdd") # works\u000atest_identifier(chr(0x20000)) # works\u000a\u000aprint(quote_identifier("Fo\u005cx00o!", "replace")) # prints "Fo?o!"\u000aprint(quote_identifier("Fo\u005cx00o!", "ignore")) # prints "Foo!"\u000aprint(quote_identifier("Fo\u005cx00o!")) # raises UnicodeEncodeError\u000aprint(quote_identifier(chr(0xD800))) # raises UnicodeEncodeError\u000a</code></pre>\u000a\u000a<h3>Observations and References</h3>\u000a\u000a<ul>\u000a<li>SQLite identifiers are <a href="http://www.sqlite.org/datatype3.html#storageclasses" rel="noreferrer"><code>TEXT</code></a>, not binary.\u000a\u000a<ul>\u000a<li><a href="http://www.sqlite.org/faq.html#q7" rel="noreferrer"><code>SQLITE_MASTER</code> schema in the FAQ</a></li>\u000a<li>Python 2 SQLite API yelled at me when I gave it bytes it couldn't decode as text.</li>\u000a<li>Python 3 SQLite API requires queries be <code>str</code>s, not <code>bytes</code>.</li>\u000a</ul></li>\u000a</ul>\u000a\u000a\u000a\u000a<ul>\u000a<li>SQLite identifiers are quoted using double-quotes.\u000a\u000a<ul>\u000a<li><a href="http://www.sqlite.org/lang_keywords.html" rel="noreferrer">SQL as Understood by SQLite</a></li>\u000a</ul></li>\u000a</ul>\u000a\u000a\u000a\u000a<ul>\u000a<li>Double-quotes in SQLite identifiers are escaped as two double quotes.</li>\u000a</ul>\u000a\u000a\u000a\u000a<ul>\u000a<li>SQLite identifiers preserve case, but they are case-insensitive towards ASCII letters. It is possible to enable unicode-aware case-insensitivity.\u000a\u000a<ul>\u000a<li><a href="http://www.sqlite.org/faq.html#q18" rel="noreferrer">SQLite FAQ Question #18</a></li>\u000a</ul></li>\u000a</ul>\u000a\u000a\u000a\u000a<ul>\u000a<li>SQLite does not support the <a href="http://en.wikipedia.org/wiki/Null_character" rel="noreferrer">NUL character</a> in strings or identifiers.\u000a\u000a<ul>\u000a<li><a href="http://www.sqlite.org/src/tktview?name=57c971fc74" rel="noreferrer">SQLite Ticket 57c971fc74</a></li>\u000a</ul></li>\u000a</ul>\u000a\u000a\u000a\u000a<ul>\u000a<li><code>sqlite3</code> can handle any other unicode string as long as it can be properly encoded to UTF-8. Invalid strings could cause crashes between Python 3.0 and Python 3.1.2 or thereabouts. Python 2 accepted these invalid strings, but this is considered a bug.\u000a\u000a<ul>\u000a<li><a href="http://bugs.python.org/issue12569" rel="noreferrer">Python Issue #12569</a></li>\u000a<li><a href="http://hg.python.org/cpython/file/42ec507815d2/Modules/_sqlite/cursor.c" rel="noreferrer">Modules/_sqlite/cursor.c</a></li>\u000a<li>I tested it a bunch.</li>\u000a</ul></li>\u000a</ul>\u000a
p1197
sVquestion_id
p1198
I6514274
sVlast_activity_date
p1199
I1341097072
sVcreation_date
p1200
I1310691520
sVscore
p1201
I28
sVowner
p1202
(dp1203
Vuser_id
p1204
I1114
sVprofile_image
p1205
Vhttps://i.stack.imgur.com/xMJTK.png?s=128&g=1
p1206
sVuser_type
p1207
Vmoderator
p1208
sVreputation
p1209
I59672
sVlink
p1210
Vhttp://stackoverflow.com/users/1114/jeremy-banks
p1211
sVaccept_rate
p1212
I69
sVdisplay_name
p1213
VJeremy Banks
p1214
ssVis_accepted
p1215
I01
sVlast_edit_date
p1216
I1341097072
sVanswer_id
p1217
I6701665
sa(dp1218
Vbody
p1219
V<p>There's a file called idle.py in your Python installation directory in Lib\u005cidlelib\u005cidle.py</p>\u000a\u000a<p>If you run that file with Python, then IDLE should start.</p>\u000a\u000a<blockquote>\u000a  <p>c:\u005cPython25\u005cpythonw.exe c:\u005cPython25\u005cLib\u005cidlelib\u005cidle.py</p>\u000a</blockquote>\u000a
p1220
sVquestion_id
p1221
I118260
sVlast_activity_date
p1222
I1335441160
sVcreation_date
p1223
I1222127351
sVscore
p1224
I59
sVowner
p1225
(dp1226
Vuser_id
p1227
I19435
sVprofile_image
p1228
Vhttps://www.gravatar.com/avatar/c193b9e5822e9c38cb8cf0781fb04820?s=128&d=identicon&r=PG
p1229
sVuser_type
p1230
Vregistered
p1231
sVreputation
p1232
I18629
sVlink
p1233
Vhttp://stackoverflow.com/users/19435/florian-b%c3%b6sch
p1234
sVaccept_rate
p1235
I20
sVdisplay_name
p1236
VFlorian B&#246;sch
p1237
ssVis_accepted
p1238
I01
sVlast_edit_date
p1239
I1335441160
sVanswer_id
p1240
I118275
sa(dp1241
Vbody
p1242
V<p>Convert to item pairs and check for containment.</p>\u000a\u000a<pre><code>all(item in superset.items() for item in subset.items())\u000a</code></pre>\u000a\u000a<p>Optimization is left as an exercise for the reader.</p>\u000a
p1243
sVquestion_id
p1244
I9323749
sVlast_activity_date
p1245
I1329459514
sVcreation_date
p1246
I1329459514
sVscore
p1247
I51
sVowner
p1248
(dp1249
Vuser_id
p1250
I20862
sVprofile_image
p1251
Vhttps://www.gravatar.com/avatar/2343ae368d3241278581ce6c87f62a25?s=128&d=identicon&r=PG
p1252
sVuser_type
p1253
Vregistered
p1254
sVreputation
p1255
I481018
sVlink
p1256
Vhttp://stackoverflow.com/users/20862/ignacio-vazquez-abrams
p1257
sVaccept_rate
p1258
I60
sVdisplay_name
p1259
VIgnacio Vazquez-Abrams
p1260
ssVis_accepted
p1261
I01
sVanswer_id
p1262
I9323769
sa(dp1263
Vbody
p1264
V<p>Read the binary file content like this:</p>\u000a\u000a<pre><code>with open(fileName, mode='rb') as file: # b is important -&gt; binary\u000a    fileContent = file.read()\u000a</code></pre>\u000a\u000a<p>then "unpack" binary data using <a href="http://docs.python.org/library/struct.html#struct.unpack">struct.unpack</a>:</p>\u000a\u000a<p>The start bytes: <code>struct.unpack("iiiii", fileContent[:20])</code></p>\u000a\u000a<p>The body: ignore the heading bytes and the trailing byte (= 24); The remaining part forms the body, to know the number of bytes in the body do an integer division by 4; The obtained quotient is multiplied by the string <code>'i'</code> to create the correct format for the unpack method:</p>\u000a\u000a<pre><code>struct.unpack("i" * ((len(fileContent) -24) // 4), fileContent[20:-4])\u000a</code></pre>\u000a\u000a<p>The end byte: <code>struct.unpack("i", fileContent[-4:])</code></p>\u000a
p1265
sVquestion_id
p1266
I8710456
sVlast_activity_date
p1267
I1325589344
sVcreation_date
p1268
I1325587579
sVscore
p1269
I53
sVowner
p1270
(dp1271
Vuser_id
p1272
I672848
sVprofile_image
p1273
Vhttps://www.gravatar.com/avatar/5924c8e4454ded34ef02ccbf8fd46ebc?s=128&d=identicon&r=PG
p1274
sVuser_type
p1275
Vregistered
p1276
sVreputation
p1277
I7680
sVlink
p1278
Vhttp://stackoverflow.com/users/672848/gecco
p1279
sVaccept_rate
p1280
I78
sVdisplay_name
p1281
Vgecco
p1282
ssVis_accepted
p1283
I01
sVlast_edit_date
p1284
I1325589344
sVanswer_id
p1285
I8711061
sa(dp1286
Vbody
p1287
V<p>After the operations you performed, you'll see:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; req.headers['content-type']\u000a'text/html; charset=windows-1251'\u000a</code></pre>\u000a\u000a<p>and so:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; encoding=req.headers['content-type'].split('charset=')[-1]\u000a&gt;&gt;&gt; ucontent = unicode(content, encoding)\u000a</code></pre>\u000a\u000a<p><code>ucontent</code> is now a Unicode string (of 140655 characters) -- so for example to display a part of it, if your terminal is UTF-8:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; print ucontent[76:110].encode('utf-8')\u000a&lt;title&gt;Lenta.ru: \u0413\u043b\u0430\u0432\u043d\u043e\u0435: &lt;/title&gt;\u000a</code></pre>\u000a\u000a<p>and you can search, etc, etc.</p>\u000a\u000a<p>Edit: Unicode I/O is usually tricky (this may be what's holding up the original asker) but I'm going to bypass the difficult problem of inputting Unicode strings to an interactive Python interpreter (completely unrelated to the original question) to show how, once a Unicode string IS correctly input (I'm doing it by codepoints -- goofy but not tricky;-), search is absolutely a no-brainer (and thus hopefully the original question has been thoroughly answered).  Again assuming a UTF-8 terminal:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; x=u'\u005cu0413\u005cu043b\u005cu0430\u005cu0432\u005cu043d\u005cu043e\u005cu0435'\u000a&gt;&gt;&gt; print x.encode('utf-8')\u000a\u0413\u043b\u0430\u0432\u043d\u043e\u0435\u000a&gt;&gt;&gt; x in ucontent\u000aTrue\u000a&gt;&gt;&gt; ucontent.find(x)\u000a93\u000a</code></pre>\u000a\u000a<p><strong>Note</strong>: Keep in mind that this method may not work for all sites, since some sites only specify character encoding inside the served documents (using http-equiv meta tags, for example).</p>\u000a
p1288
sVquestion_id
p1289
I1020892
sVlast_activity_date
p1290
I1324291669
sVcreation_date
p1291
I1245471461
sVscore
p1292
I93
sVowner
p1293
(dp1294
Vuser_id
p1295
I95810
sVprofile_image
p1296
Vhttps://www.gravatar.com/avatar/e8d5fe90f1fe2148bf130cccd4dc311c?s=128&d=identicon&r=PG
p1297
sVuser_type
p1298
Vregistered
p1299
sVreputation
p1300
I516089
sVlink
p1301
Vhttp://stackoverflow.com/users/95810/alex-martelli
p1302
sVaccept_rate
p1303
I80
sVdisplay_name
p1304
VAlex Martelli
p1305
ssVis_accepted
p1306
I01
sVlast_edit_date
p1307
I1324291669
sVanswer_id
p1308
I1020931
sa(dp1309
Vbody
p1310
V<p>Use <code>copy()</code> instead, which is willing to overwrite destination files. If you then want the first tree to go away, just <code>rmtree()</code> it separately once you are done iterating over it.</p>\u000a\u000a<p><a href="http://docs.python.org/library/shutil.html#shutil.copy">http://docs.python.org/library/shutil.html#shutil.copy</a></p>\u000a\u000a<p><a href="http://docs.python.org/library/shutil.html#shutil.rmtree">http://docs.python.org/library/shutil.html#shutil.rmtree</a></p>\u000a\u000a<p><strong>Update:</strong></p>\u000a\u000a<p>Do an <code>os.walk()</code> over the source tree. For each directory, check if it exists on the destination side, and <code>os.makedirs()</code> it if it is missing. For each file, simply <code>shutil.copy()</code> and the file will be created or overwritten, whichever is appropriate.</p>\u000a
p1311
sVquestion_id
p1312
I7419665
sVlast_activity_date
p1313
I1316020693
sVcreation_date
p1314
I1316019258
sVscore
p1315
I28
sVowner
p1316
(dp1317
Vuser_id
p1318
I85360
sVprofile_image
p1319
Vhttps://www.gravatar.com/avatar/424a8f03889e3ffbf9ed57adb1fc41cc?s=128&d=identicon&r=PG
p1320
sVuser_type
p1321
Vregistered
p1322
sVreputation
p1323
I40098
sVlink
p1324
Vhttp://stackoverflow.com/users/85360/brandon-rhodes
p1325
sVaccept_rate
p1326
I45
sVdisplay_name
p1327
VBrandon Rhodes
p1328
ssVis_accepted
p1329
I01
sVlast_edit_date
p1330
I1316020693
sVanswer_id
p1331
I7420040
sa(dp1332
Vbody
p1333
V<p>Specify the <code>default=</code> parameter <sup>(<a href="http://docs.python.org/library/json.html#json.dump" rel="noreferrer">doc</a>)</sup>:</p>\u000a\u000a<pre><code>json.dumps(c, default=lambda o: o.__dict__)\u000a</code></pre>\u000a
p1334
sVquestion_id
p1335
I7408647
sVlast_activity_date
p1336
I1315954757
sVcreation_date
p1337
I1315954757
sVscore
p1338
I74
sVowner
p1339
(dp1340
Vuser_id
p1341
I35070
sVprofile_image
p1342
Vhttps://www.gravatar.com/avatar/6f92354195e8874dbee44d5c8714d506?s=128&d=identicon&r=PG
p1343
sVuser_type
p1344
Vregistered
p1345
sVreputation
p1346
I151504
sVlink
p1347
Vhttp://stackoverflow.com/users/35070/phihag
p1348
sVaccept_rate
p1349
I77
sVdisplay_name
p1350
Vphihag
p1351
ssVis_accepted
p1352
I01
sVanswer_id
p1353
I7409526
sa(dp1354
Vbody
p1355
V<p>This is pretty tricky, since <code>namedtuple()</code> is a factory which returns a new type derived from <code>tuple</code>. One approach would be to have your class also inherit from <code>UserDict.DictMixin</code>, but <code>tuple.__getitem__</code> is already defined and expects an integer denoting the position of the element, not the name of its attribute:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; f = foobar('a', 1)\u000a&gt;&gt;&gt; f[0]\u000a'a'\u000a</code></pre>\u000a\u000a<p>At its heart the namedtuple is an odd fit for JSON, since it is really a <strong>custom-built type whose key names are fixed as part of the type definition</strong>, unlike a dictionary where key names are stored inside the instance.  This prevents you from "round-tripping" a namedtuple, e.g. you cannot decode a dictionary back into a namedtuple without some other a piece of information, like an app-specific type marker in the dict <code>{'a': 1, '#_type': 'foobar'}</code>, which is a bit hacky.</p>\u000a\u000a<p>This is not ideal, but <strong>if you only need to encode</strong> namedtuples into dictionaries, another approach is to extend or modify your JSON encoder to special-case these types.  Here is an example of subclassing the Python <code>json.JSONEncoder</code>. This tackles the problem of ensuring that nested namedtuples are properly converted to dictionaries:</p>\u000a\u000a<pre><code>from collections import namedtuple\u000afrom json import JSONEncoder\u000a\u000aclass MyEncoder(JSONEncoder):\u000a\u000a    def _iterencode(self, obj, markers=None):\u000a        if isinstance(obj, tuple) and hasattr(obj, '_asdict'):\u000a            gen = self._iterencode_dict(obj._asdict(), markers)\u000a        else:\u000a            gen = JSONEncoder._iterencode(self, obj, markers)\u000a        for chunk in gen:\u000a            yield chunk\u000a\u000aclass foobar(namedtuple('f', 'foo, bar')):\u000a    pass\u000a\u000aenc = MyEncoder()\u000afor obj in (foobar('a', 1), ('a', 1), {'outer': foobar('x', 'y')}):\u000a    print enc.encode(obj)\u000a\u000a{"foo": "a", "bar": 1}\u000a["a", 1]\u000a{"outer": {"foo": "x", "bar": "y"}}\u000a</code></pre>\u000a
p1356
sVquestion_id
p1357
I5906831
sVlast_activity_date
p1358
I1304693568
sVcreation_date
p1359
I1304693568
sVscore
p1360
I33
sVowner
p1361
(dp1362
Vuser_id
p1363
I538718
sVprofile_image
p1364
Vhttps://www.gravatar.com/avatar/8ddd6dfe0f103ddc3c512f1f266597f9?s=128&d=identicon&r=PG
p1365
sVuser_type
p1366
Vregistered
p1367
sVreputation
p1368
I26212
sVlink
p1369
Vhttp://stackoverflow.com/users/538718/samplebias
p1370
sVdisplay_name
p1371
Vsamplebias
p1372
ssVis_accepted
p1373
I01
sVanswer_id
p1374
I5913148
sa(dp1375
Vbody
p1376
V<p>For some reason when I included 'docutils' in my google searches I stumbled across <a href="http://pypi.python.org/pypi?name=texttable&amp;:action=display" rel="noreferrer">texttable</a>, which seems to be what I'm looking for.</p>\u000a
p1377
sVquestion_id
p1378
I5909873
sVlast_activity_date
p1379
I1304679278
sVcreation_date
p1380
I1304679278
sVscore
p1381
I14
sVowner
p1382
(dp1383
Vuser_id
p1384
I99876
sVprofile_image
p1385
Vhttps://www.gravatar.com/avatar/2db549fb18d05e5ff8f9bc7fd32164c4?s=128&d=identicon&r=PG
p1386
sVuser_type
p1387
Vregistered
p1388
sVreputation
p1389
I11088
sVlink
p1390
Vhttp://stackoverflow.com/users/99876/kdt
p1391
sVaccept_rate
p1392
I78
sVdisplay_name
p1393
Vkdt
p1394
ssVis_accepted
p1395
I01
sVanswer_id
p1396
I5910332
sa(dp1397
Vbody
p1398
V<p>Here's an example of create using your dictionary d:</p>\u000a\u000a<pre><code>Book.objects.create(**d)\u000a</code></pre>\u000a\u000a<p>To update an existing model, you will need to use the QuerySet <code>filter</code> method.  Assuming you know the <code>pk</code> of the Book you want to update:</p>\u000a\u000a<pre><code>Book.objects.filter(pk=pk).update(**d)\u000a</code></pre>\u000a
p1399
sVquestion_id
p1400
I5503925
sVlast_activity_date
p1401
I1301608457
sVcreation_date
p1402
I1301608457
sVscore
p1403
I60
sVowner
p1404
(dp1405
Vuser_id
p1406
I117642
sVprofile_image
p1407
Vhttps://www.gravatar.com/avatar/1614f2124df75e3924e2b5472ce5594d?s=128&d=identicon&r=PG
p1408
sVuser_type
p1409
Vregistered
p1410
sVreputation
p1411
I14574
sVlink
p1412
Vhttp://stackoverflow.com/users/117642/thierry-lam
p1413
sVaccept_rate
p1414
I96
sVdisplay_name
p1415
VThierry Lam
p1416
ssVis_accepted
p1417
I01
sVanswer_id
p1418
I5506790
sa(dp1419
Vbody
p1420
V<p><code>_</code> is a standard placeholder name for ignored members in a for-loop and tuple assignment, e.g.</p>\u000a\u000a<pre><code>['' for _ in myList]\u000a\u000a[a+d for a, _, _, d, _ in fiveTuples]\u000a</code></pre>\u000a\u000a<p>BTW your list could be written without list comprehension (assuming you want to make a list of  immutable members like strings, integers etc.).</p>\u000a\u000a<pre><code>[''] * len(myList)\u000a</code></pre>\u000a
p1421
sVquestion_id
p1422
I5477134
sVlast_activity_date
p1423
I1301423591
sVcreation_date
p1424
I1301423263
sVscore
p1425
I68
sVowner
p1426
(dp1427
Vuser_id
p1428
I224671
sVprofile_image
p1429
Vhttps://www.gravatar.com/avatar/c90de868a7e95d75bdfd6a906dfedac7?s=128&d=identicon&r=PG
p1430
sVuser_type
p1431
Vregistered
p1432
sVreputation
p1433
I346173
sVlink
p1434
Vhttp://stackoverflow.com/users/224671/kennytm
p1435
sVaccept_rate
p1436
I67
sVdisplay_name
p1437
Vkennytm
p1438
ssVis_accepted
p1439
I01
sVlast_edit_date
p1440
I1301423591
sVanswer_id
p1441
I5477153
sa(dp1442
Vbody
p1443
V<p>The call</p>\u000a\u000a<pre><code>e.extractAll("th")\u000a</code></pre>\u000a\u000a<p>for a regular method <code>extractAll()</code> is indeed equivalent to</p>\u000a\u000a<pre><code>Extractor.extractAll(e, "th")\u000a</code></pre>\u000a\u000a<p>These two calls are treated the same in all regards, including the error messages you get.</p>\u000a\u000a<p>If you don't need to pass the instance to a method, you <em>can</em> use a <code>staticmethod</code>:</p>\u000a\u000a<pre><code>@staticmethod\u000adef extractAll(tag):\u000a    ...\u000a</code></pre>\u000a\u000a<p>which can be called as <code>e.extractAll("th")</code>.  But I wonder why this is a method on a class at all if you don't need to access any instance.</p>\u000a
p1444
sVquestion_id
p1445
I4909585
sVlast_activity_date
p1446
I1296939731
sVcreation_date
p1447
I1296939329
sVscore
p1448
I66
sVowner
p1449
(dp1450
Vuser_id
p1451
I279627
sVprofile_image
p1452
Vhttps://www.gravatar.com/avatar/2dceea858ad8f1577bec6ddaa0485d15?s=128&d=identicon&r=PG
p1453
sVuser_type
p1454
Vregistered
p1455
sVreputation
p1456
I252330
sVlink
p1457
Vhttp://stackoverflow.com/users/279627/sven-marnach
p1458
sVaccept_rate
p1459
I78
sVdisplay_name
p1460
VSven Marnach
p1461
ssVis_accepted
p1462
I01
sVlast_edit_date
p1463
I1296939731
sVanswer_id
p1464
I4909591
sa(dp1465
Vbody
p1466
V<p>Raw string literals:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; r'abc\u005cdev\u005ct'\u000a'abc\u005c\u005cdev\u005c\u005ct'\u000a</code></pre>\u000a
p1467
sVquestion_id
p1468
I4703516
sVlast_activity_date
p1469
I1295146291
sVcreation_date
p1470
I1295146291
sVscore
p1471
I60
sVowner
p1472
(dp1473
Vuser_id
p1474
I12855
sVprofile_image
p1475
Vhttps://www.gravatar.com/avatar/e6488132d206883770017ba97d0f521f?s=128&d=identicon&r=PG
p1476
sVuser_type
p1477
Vregistered
p1478
sVreputation
p1479
I142797
sVlink
p1480
Vhttp://stackoverflow.com/users/12855/silentghost
p1481
sVaccept_rate
p1482
I86
sVdisplay_name
p1483
VSilentGhost
p1484
ssVis_accepted
p1485
I01
sVanswer_id
p1486
I4703526
sa(dp1487
Vbody
p1488
V<p>you can do it with <a href="http://docs.python.org/library/httplib.html" rel="noreferrer">httplib</a>:</p>\u000a\u000a<pre><code>import httplib \u000aconn = httplib.HTTPConnection('www.foo.com')\u000aconn.request('PUT', '/myurl', body) \u000aresp = conn.getresponse()\u000acontent = resp.read()\u000a</code></pre>\u000a\u000a<p>also, check out this <a href="http://stackoverflow.com/questions/111945/is-there-any-way-to-do-http-put-in-python">question</a>.  the accepted answer shows a way to add other methods to urllib2:</p>\u000a\u000a<pre><code>import urllib2\u000aopener = urllib2.build_opener(urllib2.HTTPHandler)\u000arequest = urllib2.Request('http://example.org', data='your_put_data')\u000arequest.add_header('Content-Type', 'your/contenttype')\u000arequest.get_method = lambda: 'PUT'\u000aurl = opener.open(request)\u000a</code></pre>\u000a
p1489
sVquestion_id
p1490
I4511598
sVlast_activity_date
p1491
I1293038784
sVcreation_date
p1492
I1293038455
sVscore
p1493
I65
sVowner
p1494
(dp1495
Vuser_id
p1496
I16148
sVprofile_image
p1497
Vhttps://www.gravatar.com/avatar/0a7bb11b0b414ca9b12250fd73150c94?s=128&d=identicon&r=PG
p1498
sVuser_type
p1499
Vregistered
p1500
sVreputation
p1501
I29197
sVlink
p1502
Vhttp://stackoverflow.com/users/16148/corey-goldberg
p1503
sVaccept_rate
p1504
I73
sVdisplay_name
p1505
VCorey Goldberg
p1506
ssVis_accepted
p1507
I01
sVlast_edit_date
p1508
I1293038784
sVanswer_id
p1509
I4511785
sa(dp1510
Vbody
p1511
V<p>Absolute imports. From PEP 8:</p>\u000a\u000a<blockquote>\u000a  <p>Relative imports for intra-package imports are highly\u000a  discouraged.\u000a        Always use the absolute package path for all imports.\u000a        Even now that PEP 328 [7] is fully implemented in Python 2.5,\u000a        its style of explicit relative imports is actively discouraged;\u000a        absolute imports are more portable and usually more readable.</p>\u000a</blockquote>\u000a\u000a<p>Explicit relative imports are a nice language feature (I guess), but they're not nearly as explicit as absolute imports. The more readable form is:</p>\u000a\u000a<pre><code>import A.A\u000aimport A.B.B\u000a</code></pre>\u000a\u000a<p>especially if you import several different namespaces. If you look at some well written projects/tutorials that include imports from within packages, they usually follow this style.</p>\u000a\u000a<p>The few extra keystrokes you take to be more explicit will save others (and perhaps you) plenty of time in the future when they're trying to figure out your namespace (especially if you migrate to 3.x, in which some of the package names have changed).</p>\u000a
p1512
sVquestion_id
p1513
I4209641
sVlast_activity_date
p1514
I1290032568
sVcreation_date
p1515
I1290032568
sVscore
p1516
I20
sVowner
p1517
(dp1518
Vuser_id
p1519
I399815
sVprofile_image
p1520
Vhttps://www.gravatar.com/avatar/45aaf2885832e62ad4864782daa914f9?s=128&d=identicon&r=PG
p1521
sVuser_type
p1522
Vregistered
p1523
sVreputation
p1524
I44854
sVlink
p1525
Vhttp://stackoverflow.com/users/399815/rafe-kettler
p1526
sVaccept_rate
p1527
I97
sVdisplay_name
p1528
VRafe Kettler
p1529
ssVis_accepted
p1530
I01
sVanswer_id
p1531
I4209771
sa(dp1532
Vcommunity_owned_date
p1533
I1285336378
sVbody
p1534
V<p>It's a function which is a member of a class:</p>\u000a\u000a<pre><code>class C:\u000a    def my_method(self):\u000a        print "I am a C"\u000a\u000ac = C()\u000ac.my_method()  # Prints "I am a C"\u000a</code></pre>\u000a\u000a<p>Simple as that!</p>\u000a\u000a<p>(There are also some alternative kinds of method, allowing you to control the relationship between the class and the function.  But I'm guessing from your question that you're not asking about that, but rather just the basics.)</p>\u000a
p1535
sVquestion_id
p1536
I3786881
sVlast_activity_date
p1537
I1285330466
sVcreation_date
p1538
I1285330136
sVscore
p1539
I56
sVowner
p1540
(dp1541
Vuser_id
p1542
I21886
sVprofile_image
p1543
Vhttps://www.gravatar.com/avatar/38750c50c11e6054c2123073b17b18fc?s=128&d=identicon&r=PG
p1544
sVuser_type
p1545
Vregistered
p1546
sVreputation
p1547
I160529
sVlink
p1548
Vhttp://stackoverflow.com/users/21886/richiehindle
p1549
sVaccept_rate
p1550
I87
sVdisplay_name
p1551
VRichieHindle
p1552
ssVis_accepted
p1553
I01
sVlast_edit_date
p1554
I1285330466
sVanswer_id
p1555
I3786900
sa(dp1556
Vbody
p1557
V<p>One way that is sort of idiomatic in Python is writing:</p>\u000a\u000a<pre><code>def main():\u000a    print Kerma()\u000a\u000adef Kerma():\u000a    return "energy / mass"    \u000a\u000aif __name__ == '__main__':\u000a    main()\u000a</code></pre>\u000a\u000a<p>This allows you to write you code in the order you like as long as you keep calling the function <code>main</code> at the end.</p>\u000a
p1558
sVquestion_id
p1559
I3754240
sVlast_activity_date
p1560
I1285007228
sVcreation_date
p1561
I1285007228
sVscore
p1562
I70
sVowner
p1563
(dp1564
Vuser_id
p1565
I336455
sVprofile_image
p1566
Vhttps://www.gravatar.com/avatar/bf99e9cac9b699222adb938e2c3db7a8?s=128&d=identicon&r=PG
p1567
sVuser_type
p1568
Vregistered
p1569
sVreputation
p1570
I11322
sVlink
p1571
Vhttp://stackoverflow.com/users/336455/muhammad-alkarouri
p1572
sVaccept_rate
p1573
I92
sVdisplay_name
p1574
VMuhammad Alkarouri
p1575
ssVis_accepted
p1576
I01
sVanswer_id
p1577
I3754284
sa(dp1578
Vbody
p1579
V<p>These are the most important two things to keep in mind when you are writing code:</p>\u000a\u000a<ol>\u000a<li>Don't write code that you've already written.</li>\u000a<li>Don't write code that you don't need to write.</li>\u000a</ol>\u000a
p1580
sVquestion_id
p1581
I3603858
sVlast_activity_date
p1582
I1283203868
sVcreation_date
p1583
I1283203868
sVscore
p1584
I20
sVowner
p1585
(dp1586
Vuser_id
p1587
I64290
sVprofile_image
p1588
Vhttps://www.gravatar.com/avatar/237d488fb44889ba4fd7472e37c438ce?s=128&d=identicon&r=PG
p1589
sVuser_type
p1590
Vregistered
p1591
sVreputation
p1592
I25633
sVlink
p1593
Vhttp://stackoverflow.com/users/64290/anthony
p1594
sVaccept_rate
p1595
I87
sVdisplay_name
p1596
Vanthony
p1597
ssVis_accepted
p1598
I01
sVanswer_id
p1599
I3604376
sa(dp1600
Vbody
p1601
V<p>".NET" is not a language. Perhaps it's Python vs. C# or Python/Django vs C#/ASP.NET (or pick whatever "webwork" you want; there are many, many different solutions for both Python and ".NET" and picking Django or MVC2 of the bat might severely limiting better viable options). As a counter to the Python vs. ".NET": There is <a href="http://ironpython.net/" rel="noreferrer">IronPython</a> (Python "in .NET")</p>\u000a\u000a<p>I would consider: <em>Developer comfort</em> with a language and, if they are equal in Python and ".NET", then I would consider turnaround times for development and choose the language/"webwork" that minimized this (again, it need not be previous constraints).</p>\u000a\u000a<p>While unit/integration-testing is a must for any [sizable] project, I find that a <em>statically typed language</em> (C#/F#) can <em>greatly reduce</em> the number of "stupid bugs" relating to types.</p>\u000a\u000a<p>Open up the playing field :-)</p>\u000a\u000a<p><strong>Edit for comment:</strong></p>\u000a\u000a<p>Then you're just comparing languages.</p>\u000a\u000a<p>In which case, C# is a very boring imperative statically typed language with Single-Inheritance/Interface Class-Based OO (but a few more neat tricks than Java, which is just downright stone-age). This is <em>the same basic type of OO as Python has</em> and excluding the static/dynamic bit, <em>both languages are strongly typed</em> (the mechanics are different, but the end result is quite similar in the language spectrum). Actually, python has MI, but that seems less accepted in python as the use of the 'lambda' keyword and since python is dynamically typed there is no compile-time support for determining interface/type contracts (there are, however, some modules that try to provide this).</p>\u000a\u000a<p><strong>If you can learn/know Python, then you can learn/known C#.</strong> It's not a paradigm shift. Some keywords here, braces there, need to say what type you mean there, a different base library... different environment (you have to fight some to get to a REPL, but it's doable in VS.) How developers like/learn/use it is another story. While I did call C# imperative before, it's nice to see the addition of some "functional-like" features such as LINQ/IEnumerable extensions and closures-without-delegates, even if the basic C# syntax is very procedural -- once again, pretty much like python (for-expressions, nested functions, statement/expression divide).</p>\u000a\u000a<p>While the new 'dynamic' does blur the line (there is very rarely a good use for it -- in about all the same places one might have had to fall back to reflection in prior C# versions -- this isn't true, but the point is it's generally "the wrong way", except in the few cases when it just happens to be "the best/only way"), 'var' does not. That is, the type of a 'var' variable is <em>known at compile-time</em> and <em>has nothing to do with dynamic typing</em>; it is all type inference. Some language like F#/SML and Haskell have much, much more powerful type inference removing the need for "all those ugly type declarations" (although explicitly annotating allowed types or set of types can make intent more clear) while preserving static typing.</p>\u000a\u000a<p>Personally, <em>everything else aside</em>, I would use a statically typed language. I'm not saying C# (and I'm definitely not saying Java!), but <strong>statically typed languages can push type errors to the top and require up-front explicit contracts</strong> (this is a big, big win for me). While you do miss out on some neat dynamic tricks, there is almost always a better way to perform the same action in the target language -- you just have to think in terms of that language and use a screwdriver for a screw and a hammer for a nail. E.g. don't expect to bring Python code relying on the (ab)use of local() or global() into C# as-is.</p>\u000a\u000a<p>On the "down-side", most statically typed languages (C# here) require an explicit compile-first (but this isn't so bad as it makes pretty assemblies) and tools like the "REPL" aren't taken as first-class citizens (it is a first-class citizen in F#/VS2010). Also, if you have an essential library for Python/C# (and it isn't available in the other language), that may be a deciding factor as to why to choose one language over the other.</p>\u000a
p1602
sVquestion_id
p1603
I3420594
sVlast_activity_date
p1604
I1281072392
sVcreation_date
p1605
I1281062506
sVscore
p1606
I32
sVowner
p1607
(dp1608
Vdisplay_name
p1609
Vuser166390
p1610
sVuser_type
p1611
Vdoes_not_exist
p1612
ssVis_accepted
p1613
I01
sVlast_edit_date
p1614
I1281072392
sVanswer_id
p1615
I3420674
sa(dp1616
Vbody
p1617
V<p>Restructure your code so that the <code>f()</code> function is defined before you create instance of Pool. Otherwise the worker cannot see your function.</p>\u000a\u000a<pre><code>#!/usr/bin/python\u000a# -*- coding: utf-8 -*-\u000a\u000afrom multiprocessing import Pool\u000a\u000adef f(x):\u000a    return x*x\u000a\u000ap = Pool(1)\u000ap.map(f, [1, 2, 3])\u000a</code></pre>\u000a
p1618
sVquestion_id
p1619
I2782961
sVlast_activity_date
p1620
I1273166150
sVcreation_date
p1621
I1273166150
sVscore
p1622
I81
sVowner
p1623
(dp1624
Vuser_id
p1625
I131658
sVprofile_image
p1626
Vhttps://www.gravatar.com/avatar/66b0d64c07b143d59ee5327d0617a01d?s=128&d=identicon&r=PG
p1627
sVuser_type
p1628
Vregistered
p1629
sVreputation
p1630
I3796
sVlink
p1631
Vhttp://stackoverflow.com/users/131658/bartosz
p1632
sVdisplay_name
p1633
VBartosz
p1634
ssVis_accepted
p1635
I01
sVanswer_id
p1636
I2783017
sa(dp1637
Vbody
p1638
V<p>Check this question out:</p>\u000a\u000a<p><a href="http://stackoverflow.com/questions/1213706/what-user-do-python-scripts-run-as-in-windows">What user do python scripts run as in windows?</a></p>\u000a\u000a<p>Apparently the answer is to change the file/folder to not be read-only and then remove it.</p>\u000a\u000a<p>Here's <code>onerror()</code> handler from <a href="http://www.voidspace.org.uk/downloads/pathutils.py" rel="noreferrer"><code>pathutils.py</code></a> mentioned by @Sridhar Ratnakumar in comments:</p>\u000a\u000a<pre><code>def onerror(func, path, exc_info):\u000a    """\u000a    Error handler for ``shutil.rmtree``.\u000a\u000a    If the error is due to an access error (read only file)\u000a    it attempts to add write permission and then retries.\u000a\u000a    If the error is for another reason it re-raises the error.\u000a\u000a    Usage : ``shutil.rmtree(path, onerror=onerror)``\u000a    """\u000a    import stat\u000a    if not os.access(path, os.W_OK):\u000a        # Is the error an access error ?\u000a        os.chmod(path, stat.S_IWUSR)\u000a        func(path)\u000a    else:\u000a        raise\u000a</code></pre>\u000a
p1639
sVquestion_id
p1640
I2656322
sVlast_activity_date
p1641
I1271457270
sVcreation_date
p1642
I1271456489
sVscore
p1643
I56
sVowner
p1644
(dp1645
Vuser_id
p1646
I254617
sVprofile_image
p1647
Vhttps://www.gravatar.com/avatar/b8ae9879d7a5fb62f238a019b272d66f?s=128&d=identicon&r=PG
p1648
sVuser_type
p1649
Vregistered
p1650
sVreputation
p1651
I29970
sVlink
p1652
Vhttp://stackoverflow.com/users/254617/justin-peel
p1653
sVaccept_rate
p1654
I80
sVdisplay_name
p1655
VJustin Peel
p1656
ssVis_accepted
p1657
I01
sVlast_edit_date
p1658
I1271457270
sVanswer_id
p1659
I2656405
sa(dp1660
Vbody
p1661
V<p><code>.findAll()</code> returns list of all found elements, so:</p>\u000a\u000a<pre><code>inputTag = soup.findAll(attrs={"name" : "stainfo"})\u000a</code></pre>\u000a\u000a<p><code>inputTag</code> is a list (probably containing only one element). Depending on what you want exactly you either should do:</p>\u000a\u000a<pre><code> output = inputTag[0]['value']\u000a</code></pre>\u000a\u000a<p>or use <code>.find()</code> method which returns only one (first) found element:</p>\u000a\u000a<pre><code> inputTag = soup.find(attrs={"name": "stainfo"})\u000a output = inputTag['value']\u000a</code></pre>\u000a
p1662
sVquestion_id
p1663
I2612548
sVlast_activity_date
p1664
I1270883188
sVcreation_date
p1665
I1270883188
sVscore
p1666
I66
sVowner
p1667
(dp1668
Vuser_id
p1669
I4999
sVprofile_image
p1670
Vhttps://www.gravatar.com/avatar/ae995fa03b218e7c27a608b5f14e68ae?s=128&d=identicon&r=PG
p1671
sVuser_type
p1672
Vregistered
p1673
sVreputation
p1674
I15812
sVlink
p1675
Vhttp://stackoverflow.com/users/4999/%c5%81ukasz
p1676
sVdisplay_name
p1677
V\u0141ukasz
p1678
ssVis_accepted
p1679
I01
sVanswer_id
p1680
I2612577
sa(dp1681
Vbody
p1682
V<p>If you declare your column with a type of timestamp, you're in clover:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; db = sqlite3.connect(':memory:', detect_types=sqlite3.PARSE_DECLTYPES)\u000a&gt;&gt;&gt; c = db.cursor()\u000a&gt;&gt;&gt; c.execute('create table foo (bar integer, baz timestamp)')\u000a&lt;sqlite3.Cursor object at 0x40fc50&gt;\u000a&gt;&gt;&gt; c.execute('insert into foo values(?, ?)', (23, datetime.datetime.now()))\u000a&lt;sqlite3.Cursor object at 0x40fc50&gt;\u000a&gt;&gt;&gt; c.execute('select * from foo')\u000a&lt;sqlite3.Cursor object at 0x40fc50&gt;\u000a&gt;&gt;&gt; c.fetchall()\u000a[(23, datetime.datetime(2009, 12, 1, 19, 31, 1, 40113))]\u000a</code></pre>\u000a\u000a<p>See? both int (for a column declared integer) and datetime (for a column declared timestamp) survive the round-trip with the type intact.</p>\u000a
p1683
sVquestion_id
p1684
I1829872
sVlast_activity_date
p1685
I1259724785
sVcreation_date
p1686
I1259724785
sVscore
p1687
I76
sVowner
p1688
(dp1689
Vuser_id
p1690
I95810
sVprofile_image
p1691
Vhttps://www.gravatar.com/avatar/e8d5fe90f1fe2148bf130cccd4dc311c?s=128&d=identicon&r=PG
p1692
sVuser_type
p1693
Vregistered
p1694
sVreputation
p1695
I516089
sVlink
p1696
Vhttp://stackoverflow.com/users/95810/alex-martelli
p1697
sVaccept_rate
p1698
I80
sVdisplay_name
p1699
VAlex Martelli
p1700
ssVis_accepted
p1701
I01
sVanswer_id
p1702
I1830499
sa(dp1703
Vbody
p1704
V<p>As others have mentioned, the sole reason for defining <code>__slots__</code> is to save some memory, when you have simple objects with a predefined set of attributes and don't want each to carry around a dictionary.  This is meaningful only for classes of which you plan to have many instances, of course.</p>\u000a\u000a<p>The savings may not be immediately obvious -- consider...:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; class NoSlots(object): pass\u000a... \u000a&gt;&gt;&gt; n = NoSlots()\u000a&gt;&gt;&gt; class WithSlots(object): __slots__ = 'a', 'b', 'c'\u000a... \u000a&gt;&gt;&gt; w = WithSlots()\u000a&gt;&gt;&gt; n.a = n.b = n.c = 23\u000a&gt;&gt;&gt; w.a = w.b = w.c = 23\u000a&gt;&gt;&gt; sys.getsizeof(n)\u000a32\u000a&gt;&gt;&gt; sys.getsizeof(w)\u000a36\u000a</code></pre>\u000a\u000a<p>From this, it would seem the with-slots size is <em>larger</em> than the no-slots size!  But that's a mistake, because <code>sys.getsizeof</code> doesn't consider "object contents" such as the dictionary:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; sys.getsizeof(n.__dict__)\u000a140\u000a</code></pre>\u000a\u000a<p>Since the dict alone takes 140 bytes, clearly the "32 bytes" object <code>n</code> is alleged to take are not considering all that's involved in each instance.  You can do a better job with third-party extensions such as <a href="http://code.google.com/p/pympler/" rel="noreferrer">pympler</a>:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; import pympler.asizeof\u000a&gt;&gt;&gt; pympler.asizeof.asizeof(w)\u000a96\u000a&gt;&gt;&gt; pympler.asizeof.asizeof(n)\u000a288\u000a</code></pre>\u000a\u000a<p>This shows much more clearly the memory footprint that's saved by <code>__slots__</code>: for a simple object such as this case, it's a bit less than 200 bytes, almost 2/3 of the object's overall footprint.  Now, since these days a megabyte more or less doesn't really matter all that much to most applications, this also tells you that <code>__slots__</code> is not worth the bother if you're going to have just a few thousand instances around at a time -- however, for millions of instances, it sure does make a very important difference. You can also get a microscopic speedup (partly due to better cache use for small objects with <code>__slots__</code>):</p>\u000a\u000a<pre><code>$ python -mtimeit -s'class S(object): __slots__="x","y"' -s's=S(); s.x=s.y=23' 's.x'\u000a10000000 loops, best of 3: 0.37 usec per loop\u000a$ python -mtimeit -s'class S(object): pass' -s's=S(); s.x=s.y=23' 's.x'\u000a1000000 loops, best of 3: 0.604 usec per loop\u000a$ python -mtimeit -s'class S(object): __slots__="x","y"' -s's=S(); s.x=s.y=23' 's.x=45'\u000a1000000 loops, best of 3: 0.28 usec per loop\u000a$ python -mtimeit -s'class S(object): pass' -s's=S(); s.x=s.y=23' 's.x=45'\u000a1000000 loops, best of 3: 0.332 usec per loop\u000a</code></pre>\u000a\u000a<p>but this is somewhat dependent on Python version (these are the numbers I measure repeatably with 2.5; with 2.6, I see a larger relative advantage to <code>__slots__</code> for <strong>setting</strong> an attribute, but none at all, indeed a tiny <strong>dis</strong>advantage, for <strong>getting</strong> it).</p>\u000a\u000a<p>Now, regarding inheritance: for an instance to be dict-less, <strong>all</strong> classes up its inheritance chain must also have dict-less instances.  Classes with dict-less instances are those which define <code>__slots__</code>, plus most built-in types (built-in types whose instances have dicts are those on whose instances you can set arbitrary attributes, such as functions). Overlaps in slot names are not forbidden, but they're useless and waste some memory, since slots are inherited:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; class A(object): __slots__='a'\u000a... \u000a&gt;&gt;&gt; class AB(A): __slots__='b'\u000a... \u000a&gt;&gt;&gt; ab=AB()\u000a&gt;&gt;&gt; ab.a = ab.b = 23\u000a&gt;&gt;&gt; \u000a</code></pre>\u000a\u000a<p>as you see, you can set attribute <code>a</code> on an <code>AB</code> instance -- <code>AB</code> itself only defines slot <code>b</code>, but it inherits slot <code>a</code> from <code>A</code>.  Repeating the inherited slot isn't forbidden:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; class ABRed(A): __slots__='a','b'\u000a... \u000a&gt;&gt;&gt; abr=ABRed()\u000a&gt;&gt;&gt; abr.a = abr.b = 23\u000a</code></pre>\u000a\u000a<p>but does waste a little memory:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; pympler.asizeof.asizeof(ab)\u000a88\u000a&gt;&gt;&gt; pympler.asizeof.asizeof(abr)\u000a96\u000a</code></pre>\u000a\u000a<p>so there's really no reason to do it.</p>\u000a
p1705
sVquestion_id
p1706
I1816483
sVlast_activity_date
p1707
I1259526043
sVcreation_date
p1708
I1259526043
sVscore
p1709
I84
sVowner
p1710
(dp1711
Vuser_id
p1712
I95810
sVprofile_image
p1713
Vhttps://www.gravatar.com/avatar/e8d5fe90f1fe2148bf130cccd4dc311c?s=128&d=identicon&r=PG
p1714
sVuser_type
p1715
Vregistered
p1716
sVreputation
p1717
I516089
sVlink
p1718
Vhttp://stackoverflow.com/users/95810/alex-martelli
p1719
sVaccept_rate
p1720
I80
sVdisplay_name
p1721
VAlex Martelli
p1722
ssVis_accepted
p1723
I01
sVanswer_id
p1724
I1816648
sa(dp1725
Vbody
p1726
V<p>It's perfectly possible to use an inline for a OneToOne relationship. However, the actual field defining the relationship has to be on the inline model, not the parent one - in just the same way as for a ForeignKey. Switch it over and it will work.</p>\u000a\u000a<p><strong>Edit after comment</strong>: you say the parent model is already registered with the admin: then unregister it and re-register.</p>\u000a\u000a<pre><code>from original.satchmo.admin import ProductAdmin\u000a\u000aclass MyProductInline(admin.StackedInline):\u000a    model = MyProduct\u000a\u000aclass ExtendedProductAdmin(ProductAdmin):\u000a    inlines = ProductAdmin.inlines + (MyProductInline,)\u000a\u000aadmin.site.unregister(Product)\u000aadmin.site.register(Product, ExtendedProductAdmin)\u000a</code></pre>\u000a
p1727
sVquestion_id
p1728
I1744203
sVlast_activity_date
p1729
I1258403409
sVcreation_date
p1730
I1258400989
sVscore
p1731
I58
sVowner
p1732
(dp1733
Vuser_id
p1734
I104349
sVprofile_image
p1735
Vhttps://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG
p1736
sVuser_type
p1737
Vregistered
p1738
sVreputation
p1739
I356767
sVlink
p1740
Vhttp://stackoverflow.com/users/104349/daniel-roseman
p1741
sVaccept_rate
p1742
I86
sVdisplay_name
p1743
VDaniel Roseman
p1744
ssVis_accepted
p1745
I01
sVlast_edit_date
p1746
I1258403409
sVanswer_id
p1747
I1744445
sa(dp1748
Vbody
p1749
V<p>There is no built-in expression in Python that lets you ignore an exception (or return alternate values &amp;c in case of exceptions), so it's impossible, literally speaking, to "handle exceptions in a list comprehension" because a list comprehension is an expression containing other expression, nothing more (i.e., <strong>no</strong> statements, and only statements can catch/ignore/handle exceptions).</p>\u000a\u000a<p>Function calls are expression, and the function bodies can include all the statements you want, so delegating the evaluation of the exception-prone sub-expression to a function, as you've noticed, is one feasible workaround (others, when feasible, are checks on values that might provoke exceptions, as also suggested in other answers).</p>\u000a\u000a<p>The correct responses to the question "how to handle exceptions in a list comprehension" are all expressing part of all of this truth: 1) literally, i.e. lexically IN the comprehension itself, you can't; 2) practically, you delegate the job to a function or check for error prone values when that's feasible. Your repeated claim that this is not an answer is thus unfounded.</p>\u000a
p1750
sVquestion_id
p1751
I1528237
sVlast_activity_date
p1752
I1254867027
sVcreation_date
p1753
I1254867027
sVscore
p1754
I46
sVowner
p1755
(dp1756
Vuser_id
p1757
I95810
sVprofile_image
p1758
Vhttps://www.gravatar.com/avatar/e8d5fe90f1fe2148bf130cccd4dc311c?s=128&d=identicon&r=PG
p1759
sVuser_type
p1760
Vregistered
p1761
sVreputation
p1762
I516089
sVlink
p1763
Vhttp://stackoverflow.com/users/95810/alex-martelli
p1764
sVaccept_rate
p1765
I80
sVdisplay_name
p1766
VAlex Martelli
p1767
ssVis_accepted
p1768
I01
sVanswer_id
p1769
I1528375
sa(dp1770
Vbody
p1771
V<p>Gmail provides the ability to connect over POP, which you can turn on in the gmail settings panel. Python can make connections over POP pretty easily:</p>\u000a\u000a<pre><code>import poplib\u000afrom email import parser\u000a\u000apop_conn = poplib.POP3_SSL('pop.gmail.com')\u000apop_conn.user('username')\u000apop_conn.pass_('password')\u000a#Get messages from server:\u000amessages = [pop_conn.retr(i) for i in range(1, len(pop_conn.list()[1]) + 1)]\u000a# Concat message pieces:\u000amessages = ["\u005cn".join(mssg[1]) for mssg in messages]\u000a#Parse message intom an email object:\u000amessages = [parser.Parser().parsestr(mssg) for mssg in messages]\u000afor message in messages:\u000a    print message['subject']\u000apop_conn.quit()\u000a</code></pre>\u000a\u000a<p>You would just need to run this script as a cron job. Not sure what platform you're on so YMMV as to how that's done.</p>\u000a
p1772
sVquestion_id
p1773
I1225586
sVlast_activity_date
p1774
I1249445044
sVcreation_date
p1775
I1249445044
sVscore
p1776
I66
sVowner
p1777
(dp1778
Vuser_id
p1779
I150770
sVprofile_image
p1780
Vhttps://www.gravatar.com/avatar/2e62fcde351346d700b2b69447e2adcb?s=128&d=identicon&r=PG&f=1
p1781
sVuser_type
p1782
Vregistered
p1783
sVreputation
p1784
I1776
sVlink
p1785
Vhttp://stackoverflow.com/users/150770/mazelife
p1786
sVdisplay_name
p1787
Vmazelife
p1788
ssVis_accepted
p1789
I01
sVanswer_id
p1790
I1231136
sa(dp1791
Vbody
p1792
V<p>Python <code>lists</code> translate to JSON <code>arrays</code>. What it is giving you is a perfectly valid JSON string that could be used in a Javascript application. To get what you expected, you would need to use a <code>dict</code>:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; json.dumps({'apple': 'cat', 'banana':'dog', 'pear':'fish'})\u000a'{"pear": "fish", "apple": "cat", "banana": "dog"}'\u000a</code></pre>\u000a
p1793
sVquestion_id
p1794
I983855
sVlast_activity_date
p1795
I1244756476
sVcreation_date
p1796
I1244756476
sVscore
p1797
I54
sVowner
p1798
(dp1799
Vuser_id
p1800
I16417
sVprofile_image
p1801
Vhttps://www.gravatar.com/avatar/80ae8ec34e9e3e66c5be50733afaa44e?s=128&d=identicon&r=PG
p1802
sVuser_type
p1803
Vregistered
p1804
sVreputation
p1805
I313646
sVlink
p1806
Vhttp://stackoverflow.com/users/16417/paolo-bergantino
p1807
sVaccept_rate
p1808
I93
sVdisplay_name
p1809
VPaolo Bergantino
p1810
ssVis_accepted
p1811
I01
sVanswer_id
p1812
I983879
sa(dp1813
Vbody
p1814
V<p>A better way:</p>\u000a\u000a<pre><code>import sys\u000asys.stdout.buffer.write(b"some binary data")\u000a</code></pre>\u000a
p1815
sVquestion_id
p1816
I908331
sVlast_activity_date
p1817
I1243296574
sVcreation_date
p1818
I1243296574
sVscore
p1819
I68
sVowner
p1820
(dp1821
Vuser_id
p1822
I33795
sVprofile_image
p1823
Vhttps://www.gravatar.com/avatar/8908c5b268ec837745907b173d3b573b?s=128&d=identicon&r=PG
p1824
sVuser_type
p1825
Vregistered
p1826
sVreputation
p1827
I8691
sVlink
p1828
Vhttp://stackoverflow.com/users/33795/benjamin-peterson
p1829
sVdisplay_name
p1830
VBenjamin Peterson
p1831
ssVis_accepted
p1832
I01
sVanswer_id
p1833
I908440
sa(dp1834
Vbody
p1835
V<p>Basically, you create a Function interface:</p>\u000a\u000a<pre><code>public interface Func&lt;In, Out&gt; {\u000a    public Out apply(In in);\u000a}\u000a</code></pre>\u000a\u000a<p>and then pass in an anonymous subclass to your method.</p>\u000a\u000a<p>Your method could either apply the function to each element in-place:</p>\u000a\u000a<pre><code>public static &lt;T&gt; void applyToListInPlace(List&lt;T&gt; list, Func&lt;T, T&gt; f) {\u000a    ListIterator&lt;T&gt; itr = list.listIterator();\u000a    while (itr.hasNext()) {\u000a        T output = f.apply(itr.next());\u000a        itr.set(output);\u000a    }\u000a}\u000a// ...\u000aList&lt;String&gt; myList = ...;\u000aapplyToListInPlace(myList, new Func&lt;String, String&gt;() {\u000a    public String apply(String in) {\u000a        return in.toLowerCase();\u000a    }\u000a});\u000a</code></pre>\u000a\u000a<p>or create a new <code>List</code> (basically creating a mapping from the input list to the output list):</p>\u000a\u000a<pre><code>public static &lt;In, Out&gt; List&lt;Out&gt; map(List&lt;In&gt; in, Func&lt;In, Out&gt; f) {\u000a    List&lt;Out&gt; out = new ArrayList&lt;Out&gt;(in.size());\u000a    for (In inObj : in) {\u000a        out.add(f.apply(inObj));\u000a    }\u000a    return out;\u000a}\u000a// ...\u000aList&lt;String&gt; myList = ...;\u000aList&lt;String&gt; lowerCased = map(myList, new Func&lt;String, String&gt;() {\u000a    public String apply(String in) {\u000a        return in.toLowerCase();\u000a    }\u000a});\u000a</code></pre>\u000a\u000a<p>Which one is preferable depends on your use case. If your list is extremely large, the in-place solution may be the only viable one; if you wish to apply many different functions to the same original list to make many derivative lists, you will want the <code>map</code> version.</p>\u000a
p1836
sVquestion_id
p1837
I899138
sVlast_activity_date
p1838
I1243018677
sVcreation_date
p1839
I1243015385
sVscore
p1840
I32
sVowner
p1841
(dp1842
Vuser_id
p1843
I13531
sVprofile_image
p1844
Vhttps://www.gravatar.com/avatar/49f3a2065659f5b4efa05ae29bd0856a?s=128&d=identicon&r=PG
p1845
sVuser_type
p1846
Vmoderator
p1847
sVreputation
p1848
I132377
sVlink
p1849
Vhttp://stackoverflow.com/users/13531/michael-myers
p1850
sVaccept_rate
p1851
I75
sVdisplay_name
p1852
VMichael Myers
p1853
ssVis_accepted
p1854
I01
sVlast_edit_date
p1855
I1243018677
sVanswer_id
p1856
I899172
sa(dp1857
Vbody
p1858
V<p>The best I could come up with:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; import os\u000a&gt;&gt;&gt; import sys\u000a&gt;&gt;&gt; unbuffered = os.fdopen(sys.stdout.fileno(), 'w', 0)\u000a&gt;&gt;&gt; unbuffered.write('test')\u000atest&gt;&gt;&gt; \u000a&gt;&gt;&gt; sys.stdout = unbuffered\u000a&gt;&gt;&gt; print 'test'\u000atest\u000a</code></pre>\u000a\u000a<p>Tested on GNU/Linux. It seems it should work on Windows too. If I knew how to reopen sys.stdout, it would be much easier:</p>\u000a\u000a<pre><code>sys.stdout = open('???', 'w', 0)\u000a</code></pre>\u000a\u000a<p>References:<br>\u000a<a href="http://docs.python.org/library/stdtypes.html#file-objects" rel="noreferrer">http://docs.python.org/library/stdtypes.html#file-objects</a><br>\u000a<a href="http://docs.python.org/library/functions.html#open" rel="noreferrer">http://docs.python.org/library/functions.html#open</a><br>\u000a<a href="http://docs.python.org/library/os.html#file-object-creation" rel="noreferrer">http://docs.python.org/library/os.html#file-object-creation</a></p>\u000a\u000a<p>[Edit]</p>\u000a\u000a<p>Note that it would be probably better to close sys.stdout before overwriting it.</p>\u000a
p1859
sVquestion_id
p1860
I881696
sVlast_activity_date
p1861
I1242737080
sVcreation_date
p1862
I1242730270
sVscore
p1863
I38
sVowner
p1864
(dp1865
Vuser_id
p1866
I88851
sVprofile_image
p1867
Vhttps://www.gravatar.com/avatar/f42db155847d3648bc14b86bf838af06?s=128&d=identicon&r=PG
p1868
sVuser_type
p1869
Vregistered
p1870
sVreputation
p1871
I34635
sVlink
p1872
Vhttp://stackoverflow.com/users/88851/bastien-l%c3%a9onard
p1873
sVaccept_rate
p1874
I73
sVdisplay_name
p1875
VBastien L&#233;onard
p1876
ssVis_accepted
p1877
I01
sVlast_edit_date
p1878
I1242737080
sVanswer_id
p1879
I882060
sa(dp1880
Vbody
p1881
V<p>I used to wonder a lot about the same!</p>\u000a\u000a<p>A GUI main loop looks like this, in pseudo-code:</p>\u000a\u000a<pre><code>void App::exec() {\u000a    for(;;) {\u000a        vector&lt;Waitable&gt; waitables;\u000a        waitables.push_back(m_networkSocket);\u000a        waitables.push_back(m_xConnection);\u000a        waitables.push_back(m_globalTimer);\u000a        Waitable* whatHappened = System::waitOnAll(waitables);\u000a        switch(whatHappened) {\u000a            case &amp;m_networkSocket: readAndDispatchNetworkEvent(); break;\u000a            case &amp;m_xConnection: readAndDispatchGuiEvent(); break;\u000a            case &amp;m_globalTimer: readAndDispatchTimerEvent(); break;\u000a        }\u000a    }\u000a}\u000a</code></pre>\u000a\u000a<p>What is a "Waitable"? Well, it's system dependant. On UNIX it's called a "file descriptor" and "waitOnAll" is the ::select system call. The so-called <code>vector&lt;Waitable&gt;</code> is a <code>::fd_set</code> on UNIX, and "whatHappened" is actually queried via <code>FD_ISSET</code>. The actual waitable-handles are acquired in various ways, for example <code>m_xConnection</code> can be taken from ::XConnectionNumber(). X11 also provides a high-level, portable API for this -- ::XNextEvent() -- but if you were to use that, you wouldn't be able to wait on several event sources <em>simultaneously</em>.</p>\u000a\u000a<p>How does the blocking work? "waitOnAll" is a syscall that tells the OS to put your process on a "sleep list". This means you are not given any CPU time until an event occurs on one of the waitables. This, then, means your process is idle, consuming 0% CPU. When an event occurs, your process will briefly react to it and then return to idle state. GUI apps spend almost <em>all</em> their time idling.</p>\u000a\u000a<p>What happens to all the CPU cycles while you're sleeping? Depends. Sometimes another process will have a use for them. If not, your OS will busy-loop the CPU, or put it into temporary low-power mode, etc.</p>\u000a\u000a<p>Please ask for further details!</p>\u000a
p1882
sVquestion_id
p1883
I658403
sVlast_activity_date
p1884
I1237388400
sVcreation_date
p1885
I1237386561
sVscore
p1886
I58
sVowner
p1887
(dp1888
Vdisplay_name
p1889
VIraimbilanja
p1890
sVuser_type
p1891
Vdoes_not_exist
p1892
ssVis_accepted
p1893
I01
sVlast_edit_date
p1894
I1237388400
sVanswer_id
p1895
I658495
sa(dp1896
Vbody
p1897
V<p>The solution is in <a href="http://bugs.python.org/issue1487389" rel="noreferrer">the link that you provided</a> in your question:</p>\u000a\u000a<pre><code>datetime.combine(date.today(), time()) + timedelta(hours=1)\u000a</code></pre>\u000a\u000a<p>Full example:</p>\u000a\u000a<pre><code>from datetime import date, datetime, time, timedelta\u000a\u000adt = datetime.combine(date.today(), time(23, 55)) + timedelta(minutes=30)\u000aprint dt.time()\u000a</code></pre>\u000a\u000a<p>Output:</p>\u000a\u000a<pre><code>00:25:00\u000a</code></pre>\u000a
p1898
sVquestion_id
p1899
I656297
sVlast_activity_date
p1900
I1237379333
sVcreation_date
p1901
I1237331674
sVscore
p1902
I79
sVowner
p1903
(dp1904
Vuser_id
p1905
I4279
sVprofile_image
p1906
Vhttps://www.gravatar.com/avatar/d92ce60d3a4cbe03598e27c2e8dee69d?s=128&d=identicon&r=PG
p1907
sVuser_type
p1908
Vregistered
p1909
sVreputation
p1910
I203089
sVlink
p1911
Vhttp://stackoverflow.com/users/4279/j-f-sebastian
p1912
sVaccept_rate
p1913
I94
sVdisplay_name
p1914
VJ.F. Sebastian
p1915
ssVis_accepted
p1916
I01
sVlast_edit_date
p1917
I1237379333
sVanswer_id
p1918
I656394
sa(dp1919
Vbody
p1920
V<p>I think you have to connect passing <code>cursorclass = MySQLdb.cursors.SSCursor</code>:</p>\u000a\u000a<pre><code> MySQLdb.connect(user="user", \u000a                 passwd="password",\u000a                 db="mydb",\u000a                 cursorclass = MySQLdb.cursors.SSCursor\u000a                )\u000a</code></pre>\u000a\u000a<p>The default cursor fetches all the data at once, even if you don't use <code>fetchall</code>.</p>\u000a\u000a<p>Edit: <code>SSCursor</code> or any other cursor class that supports server side resultsets - check the module docs on <code>MySQLdb.cursors</code>.</p>\u000a
p1921
sVquestion_id
p1922
I337479
sVlast_activity_date
p1923
I1228321559
sVcreation_date
p1924
I1228321032
sVscore
p1925
I46
sVowner
p1926
(dp1927
Vuser_id
p1928
I12166
sVprofile_image
p1929
Vhttps://www.gravatar.com/avatar/8ae44dc366eacfc7e7eede0ae0ac065c?s=128&d=identicon&r=PG
p1930
sVuser_type
p1931
Vregistered
p1932
sVreputation
p1933
I25538
sVlink
p1934
Vhttp://stackoverflow.com/users/12166/rafa%c5%82-dowgird
p1935
sVaccept_rate
p1936
I100
sVdisplay_name
p1937
VRafa\u0142 Dowgird
p1938
ssVis_accepted
p1939
I01
sVlast_edit_date
p1940
I1228321559
sVanswer_id
p1941
I337706
sa(dp1942
Vbody
p1943
V<p>Use <a href="http://labix.org/python-dateutil" rel="noreferrer">dateutil</a> and its rrule implementation, like so:</p>\u000a\u000a<pre><code>from dateutil import rrule\u000afrom datetime import datetime, timedelta\u000a\u000anow = datetime.now()\u000ahundredDaysLater = now + timedelta(days=100)\u000a\u000afor dt in rrule.rrule(rrule.MONTHLY, dtstart=now, until=hundredDaysLater):\u000a    print dt\u000a</code></pre>\u000a\u000a<p>Output is</p>\u000a\u000a<pre><code>2008-09-30 23:29:54\u000a2008-10-30 23:29:54\u000a2008-11-30 23:29:54\u000a2008-12-30 23:29:54\u000a</code></pre>\u000a\u000a<p>Replace MONTHLY with any of YEARLY, MONTHLY, WEEKLY, DAILY, HOURLY, MINUTELY, or SECONDLY.  Replace dtstart and until with whatever datetime object you want.</p>\u000a\u000a<p>This recipe has the advantage for working in all cases, including MONTHLY.  Only caveat I could find is that if you pass a day number that doesn't exist for all months, it skips those months.</p>\u000a
p1944
sVquestion_id
p1945
I153584
sVlast_activity_date
p1946
I1222810594
sVcreation_date
p1947
I1222810200
sVscore
p1948
I66
sVowner
p1949
(dp1950
Vuser_id
p1951
I2900
sVprofile_image
p1952
Vhttps://www.gravatar.com/avatar/f5dc647e1f30b6127527da3dbfdaba73?s=128&d=identicon&r=PG
p1953
sVuser_type
p1954
Vregistered
p1955
sVreputation
p1956
I25243
sVlink
p1957
Vhttp://stackoverflow.com/users/2900/thomas-vander-stichele
p1958
sVaccept_rate
p1959
I42
sVdisplay_name
p1960
VThomas Vander Stichele
p1961
ssVis_accepted
p1962
I01
sVlast_edit_date
p1963
I1222810594
sVanswer_id
p1964
I155172
sasVquota_max
p1965
I300
sVquota_remaining
p1966
I134
s.