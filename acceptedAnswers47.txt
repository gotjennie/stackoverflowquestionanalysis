(dp0
Vhas_more
p1
I00
sVitems
p2
(lp3
(dp4
Vbody
p5
V<p>Use <a href="https://docs.djangoproject.com/en/1.9/ref/models/querysets/#count" rel="nofollow noreferrer"><code>count()</code></a>:</p>\u000a\u000a<pre><code>sc=scorm.objects.filter(Header__id=qp.id)\u000a\u000aif sc.count() &gt; 0:\u000a   ...\u000a</code></pre>\u000a\u000a<p>The advantage over e.g. <code>len()</code> is, that the QuerySet is not yet evaluated:</p>\u000a\u000a<blockquote>\u000a  <p><code>count()</code> performs a <code>SELECT COUNT(*)</code> behind the scenes, so you should always use <code>count()</code>  rather than loading all of the record into Python objects and calling <code>len()</code>  on the result.</p>\u000a</blockquote>\u000a\u000a<p>Having this in mind, <a href="https://docs.djangoproject.com/en/1.9/ref/models/querysets/#s-when-querysets-are-evaluated" rel="nofollow noreferrer"><strong>When QuerySets are evaluated</strong></a> can be worth reading.</p>\u000a\u000a<hr>\u000a\u000a<p>If you use <code>get()</code>, e.g. <code>scorm.objects.get(pk=someid)</code>, and the object does not exists, an <code>ObjectDoesNotExist</code> exception is raised:</p>\u000a\u000a<pre><code>from django.core.exceptions import ObjectDoesNotExist\u000atry:\u000a    sc = scorm.objects.get(pk=someid)\u000aexcept ObjectDoesNotExist:\u000a    print ...\u000a</code></pre>\u000a\u000a<p><strong>Update:</strong>\u000ait's also possible to use <a href="https://docs.djangoproject.com/en/1.9/ref/models/querysets/#exists" rel="nofollow noreferrer"><code>exists()</code></a>:</p>\u000a\u000a<pre><code>if scorm.objects.filter(Header__id=qp.id).exists():\u000a    ....\u000a</code></pre>\u000a\u000a<blockquote>\u000a  <p>Returns <code>True</code> if the QuerySet contains any results, and <code>False</code> if not. This tries to perform the query <strong>in the simplest and fastest way</strong> possible, but it does execute nearly the same query as a normal QuerySet query.</p>\u000a</blockquote>\u000a
p6
sVquestion_id
p7
I2690521
sVlast_activity_date
p8
I1490096120
sVcreation_date
p9
I1271938036
sVscore
p10
I39
sVowner
p11
(dp12
Vuser_id
p13
I218196
sVprofile_image
p14
Vhttps://i.stack.imgur.com/4P5DY.jpg?s=128&g=1
p15
sVuser_type
p16
Vregistered
p17
sVreputation
p18
I434937
sVlink
p19
Vhttp://stackoverflow.com/users/218196/felix-kling
p20
sVaccept_rate
p21
I100
sVdisplay_name
p22
VFelix Kling
p23
ssVis_accepted
p24
I01
sVlast_edit_date
p25
I1490096120
sVanswer_id
p26
I2690573
sa(dp27
Vbody
p28
V<p>You misunderstood what the <code>is</code> operator tests. It tests if two variables point the <em>same object</em>, not if two variables have the same value.</p>\u000a\u000a<p>From the documentation for the <a href="http://docs.python.org/2/reference/expressions.html#is" rel="nofollow noreferrer"><code>is</code> operator</a>:</p>\u000a\u000a<blockquote>\u000a  <p>The operators <code>is</code> and <code>is not</code> test for object identity: <code>x is y</code> is true if and only if <code>x</code> and <code>y</code> are the same object.</p>\u000a</blockquote>\u000a\u000a<p>Use the <code>==</code> operator instead:</p>\u000a\u000a<pre><code>print x == y\u000a</code></pre>\u000a\u000a<p>This prints <code>True</code>. <code>x</code> and <code>y</code> are two <em>separate</em> lists:</p>\u000a\u000a<pre><code>x[0] = 4\u000aprint y  # prints [1, 2, 3]\u000aprint x == y  # prints False\u000a</code></pre>\u000a\u000a<p>If you use the <a href="http://docs.python.org/2/library/functions.html#id" rel="nofollow noreferrer"><code>id()</code> function</a> you'll see that <code>x</code> and <code>y</code> have different identifiers:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; id(x)\u000a4401064560\u000a&gt;&gt;&gt; id(y)\u000a4401098192\u000a</code></pre>\u000a\u000a<p>but if you were to assign <code>y</code> to <code>x</code> then both point to the same object:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; x = y\u000a&gt;&gt;&gt; id(x)\u000a4401064560\u000a&gt;&gt;&gt; id(y)\u000a4401064560\u000a&gt;&gt;&gt; x is y\u000aTrue\u000a</code></pre>\u000a\u000a<p>and <code>is</code> shows both are the same object, it returns <code>True</code>.</p>\u000a
p29
sVquestion_id
p30
I13650293
sVlast_activity_date
p31
I1487908257
sVcreation_date
p32
I1354297223
sVscore
p33
I77
sVowner
p34
(dp35
Vuser_id
p36
I100297
sVprofile_image
p37
Vhttps://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG
p38
sVuser_type
p39
Vmoderator
p40
sVreputation
p41
I554897
sVlink
p42
Vhttp://stackoverflow.com/users/100297/martijn-pieters
p43
sVdisplay_name
p44
VMartijn Pieters
p45
ssVis_accepted
p46
I01
sVlast_edit_date
p47
I1487908257
sVanswer_id
p48
I13650309
sa(dp49
Vbody
p50
V<p><strong>The poor performance you observe is caused by a bug in the Python garbage collector in the version you are using.</strong> Upgrade to Python 2.7,  or 3.1 or above to regain the amoritized 0(1) behavior expected of list appending in Python.</p>\u000a\u000a<p><em>If you cannot upgrade, disable garbage collection as you build the list and turn it on after you finish.</em> </p>\u000a\u000a<p>(You can also tweak the garbage collector's triggers or selectively call collect as you progress, but I do not explore these options in this answer because they are more complex and I suspect your use case is amenable to the above solution.)</p>\u000a\u000a<p>Background:</p>\u000a\u000a<p>See: <a href="https://bugs.python.org/issue4074" rel="nofollow noreferrer">https://bugs.python.org/issue4074</a> and also <a href="https://docs.python.org/release/2.5.2/lib/module-gc.html" rel="nofollow noreferrer">https://docs.python.org/release/2.5.2/lib/module-gc.html</a></p>\u000a\u000a<p>The reporter observes that appending complex objects (objects that aren't numbers or strings) to a list slows linearly as the list grows in length.</p>\u000a\u000a<p>The reason for this behavior is that the garbage collector is checking and rechecking every object in the list to see if they are eligible for garbage collection.  This behavior causes the linear increase in time to add objects to a list.  A fix is expected to land in py3k, so it should not apply to the interpreter you are using.</p>\u000a\u000a<p>Test:</p>\u000a\u000a<p>I ran a test to demonstrate this.  For 1k iterations I append 10k objects to a list, and record the runtime for each iteration.  The overall runtime difference is immediately obvious.  With garbage collection disabled during the inner loop of the test, runtime on my system is 18.6s.  With garbage collection enabled for the entire test, runtime is 899.4s.</p>\u000a\u000a<p>This is the test:</p>\u000a\u000a<pre><code>import time\u000aimport gc\u000a\u000aclass A:\u000a    def __init__(self):\u000a        self.x = 1\u000a        self.y = 2\u000a        self.why = 'no reason'\u000a\u000adef time_to_append(size, append_list, item_gen):\u000a    t0 = time.time()\u000a    for i in xrange(0, size):\u000a        append_list.append(item_gen())\u000a    return time.time() - t0\u000a\u000adef test():\u000a    x = []\u000a    count = 10000\u000a    for i in xrange(0,1000):\u000a        print len(x), time_to_append(count, x, lambda: A())\u000a\u000adef test_nogc():\u000a    x = []\u000a    count = 10000\u000a    for i in xrange(0,1000):\u000a        gc.disable()\u000a        print len(x), time_to_append(count, x, lambda: A())\u000a        gc.enable()\u000a</code></pre>\u000a\u000a<p>Full source: <a href="https://hypervolu.me/~erik/programming/python_lists/listtest.py.txt" rel="nofollow noreferrer">https://hypervolu.me/~erik/programming/python_lists/listtest.py.txt</a></p>\u000a\u000a<p>Graphical result:  Red is with gc on, blue is with gc off.  y-axis is seconds scaled logarithmically.</p>\u000a\u000a<p><a href="http://hypervolu.me/~erik/programming/python_lists/gc.png" rel="nofollow noreferrer">http://hypervolu.me/~erik/programming/python_lists/gc.png</a></p>\u000a\u000a<p>As the two plots differ by several orders of magnitude in the y component, here they are independently with the y-axis scaled linearly.</p>\u000a\u000a<p><a href="http://hypervolu.me/~erik/programming/python_lists/gc_on.png" rel="nofollow noreferrer">http://hypervolu.me/~erik/programming/python_lists/gc_on.png</a></p>\u000a\u000a<p><a href="http://hypervolu.me/~erik/programming/python_lists/gc_off.png" rel="nofollow noreferrer">http://hypervolu.me/~erik/programming/python_lists/gc_off.png</a></p>\u000a\u000a<p>Interestingly, with garbage collection off, we see only small spikes in runtime per 10k appends, which suggests that Python's list reallocation costs are relatively low.  In any case, they are many orders of magnitude lower than the garbage collection costs.</p>\u000a\u000a<p>The density of the above plots make it difficult to see that with the garbage collector on, most intervals actually have good performance; it's only when the garbage collector cycles that we encounter the pathological behavior.  You can observe this in this histogram of 10k append time.  Most of the datapoints fall around 0.02s per 10k appends.</p>\u000a\u000a<p><a href="http://hypervolu.me/~erik/programming/python_lists/gc_on.hist.png" rel="nofollow noreferrer">http://hypervolu.me/~erik/programming/python_lists/gc_on.hist.png</a></p>\u000a\u000a<p>The raw data used to produce these plots can be found at <a href="http://hypervolu.me/~erik/programming/python_lists/" rel="nofollow noreferrer">http://hypervolu.me/~erik/programming/python_lists/</a></p>\u000a
p51
sVquestion_id
p52
I2473783
sVlast_activity_date
p53
I1487295913
sVcreation_date
p54
I1269026421
sVscore
p55
I87
sVowner
p56
(dp57
Vuser_id
p58
I238609
sVprofile_image
p59
Vhttps://www.gravatar.com/avatar/0bf7a0beabd7f92c40986cae1a88324b?s=128&d=identicon&r=PG
p60
sVuser_type
p61
Vregistered
p62
sVreputation
p63
I1396
sVlink
p64
Vhttp://stackoverflow.com/users/238609/erik-garrison
p65
sVdisplay_name
p66
VErik Garrison
p67
ssVis_accepted
p68
I01
sVlast_edit_date
p69
I1487295913
sVanswer_id
p70
I2480015
sa(dp71
Vbody
p72
V<pre><code>import yaml\u000a\u000adata = dict(\u000a    A = 'a',\u000a    B = dict(\u000a        C = 'c',\u000a        D = 'd',\u000a        E = 'e',\u000a    )\u000a)\u000a\u000awith open('data.yml', 'w') as outfile:\u000a    yaml.dump(data, outfile, default_flow_style=False)\u000a</code></pre>\u000a\u000a<p>The <code>default_flow_style=False</code> parameter is necessary to produce the format you want (flow style), otherwise for nested collections it produces block style:</p>\u000a\u000a<pre><code>A: a\u000aB: {C: c, D: d, E: e}\u000a</code></pre>\u000a
p73
sVquestion_id
p74
I12470665
sVlast_activity_date
p75
I1485658930
sVcreation_date
p76
I1347948544
sVscore
p77
I55
sVowner
p78
(dp79
Vuser_id
p80
I11265
sVprofile_image
p81
Vhttps://www.gravatar.com/avatar/b446c38567d41cfdb05262892556fad8?s=128&d=identicon&r=PG
p82
sVuser_type
p83
Vregistered
p84
sVreputation
p85
I7888
sVlink
p86
Vhttp://stackoverflow.com/users/11265/matthew-trevor
p87
sVaccept_rate
p88
I78
sVdisplay_name
p89
VMatthew Trevor
p90
ssVis_accepted
p91
I01
sVlast_edit_date
p92
I1485658930
sVanswer_id
p93
I12471272
sa(dp94
Vbody
p95
V<p>Make sure you have the <code>python-dev</code> package installed (needed to compile packages with native bindings (thanks to @ravihemnani).</p>\u000a\u000a<p>Then you'll need to install the FreeTDS development package (<code>freetds-dev</code>) before trying to install <code>pymssql</code> with pip:</p>\u000a\u000a<pre><code>$ sudo apt-get install freetds-dev\u000a</code></pre>\u000a\u000a<p>and then, in your <em>virtualenv</em> or wherever you wish to install it:</p>\u000a\u000a<pre><code>$ pip install pymssql\u000a</code></pre>\u000a
p96
sVquestion_id
p97
I17368964
sVlast_activity_date
p98
I1483121310
sVcreation_date
p99
I1372499318
sVscore
p100
I97
sVowner
p101
(dp102
Vuser_id
p103
I1642530
sVprofile_image
p104
Vhttps://i.stack.imgur.com/3GTiS.jpg?s=128&g=1
p105
sVuser_type
p106
Vregistered
p107
sVreputation
p108
I6902
sVlink
p109
Vhttp://stackoverflow.com/users/1642530/pedro-romano
p110
sVaccept_rate
p111
I75
sVdisplay_name
p112
VPedro Romano
p113
ssVis_accepted
p114
I01
sVlast_edit_date
p115
I1483121310
sVanswer_id
p116
I17378879
sa(dp117
Vbody
p118
V<p>It is already there. Just not very obvious how to enable it. </p>\u000a\u000a<ol>\u000a<li>Set a breakpoint in your code and launch debug.</li>\u000a<li>When the breakpoint is reached, click the <em>Console</em> tab, and then click the <strong>Show command line</strong> icon (see screenshot).</li>\u000a</ol>\u000a\u000a<p>This will enable a python shell (notice the green <code>&gt;&gt;&gt;</code> on the screenshot) where you can access all the variables in the current scope, and do everything you usually do in the Python shell. Apparently you need to press Enter once in the console in order to initialize it.</p>\u000a\u000a<blockquote>\u000a  <p>In the recent pycharm versions you get the full ipython interpreter instead of the plain python shell (if ipython is installed).</p>\u000a</blockquote>\u000a\u000a<p><img src="https://i.stack.imgur.com/mTHDA.jpg" alt="Enabling Python shell for the debugged app"></p>\u000a\u000a<p>As a simpler alternative, if you only need to inspect some variables, access members or call methods on an object in scope, once a breakpoint is reached, select an expression in the current scope, right-click -> <em>Evaluate Expression</em> (or use the hotkey shown in the menu under <kbd>Run</kbd> &rarr; <kbd>Evaluate Expression...</kbd>), edit as needed (you can type <strong>any</strong> python expression, with auto-completion available) and then press <em>Enter</em> (or click <em>Evaluate</em>) to inspect the result. Multiple and multiline expressions are supported: to get a multiline version of the Inspect dialog click the <em>Code fragment mode</em> or select more than one line of code in the editor and then evaluate the expression. You can assign values to existing variables (new vars cannot be defined), and run entire chunks of code.\u000a<img src="https://i.stack.imgur.com/ZWsxL.png" alt="inspecting variables in the current scope"></p>\u000a
p119
sVquestion_id
p120
I19329601
sVlast_activity_date
p121
I1478152416
sVcreation_date
p122
I1396791260
sVscore
p123
I73
sVowner
p124
(dp125
Vuser_id
p126
I191246
sVprofile_image
p127
Vhttps://i.stack.imgur.com/zRo29.png?s=128&g=1
p128
sVuser_type
p129
Vregistered
p130
sVreputation
p131
I8107
sVlink
p132
Vhttp://stackoverflow.com/users/191246/ccpizza
p133
sVaccept_rate
p134
I86
sVdisplay_name
p135
Vccpizza
p136
ssVis_accepted
p137
I01
sVlast_edit_date
p138
I1478152416
sVanswer_id
p139
I22894745
sa(dp140
Vbody
p141
V<p><code>numpy.meshgrid</code> is modelled after Matlab's <code>meshgrid</code> command. It is used to vectorise functions of two variables, so that you can write</p>\u000a\u000a<pre><code>x = numpy.array([1, 2, 3])\u000ay = numpy.array([10, 20, 30]) \u000aXX, YY = numpy.meshgrid(x, y)\u000aZZ = XX + YY\u000a\u000aZZ =&gt; array([[11, 12, 13],\u000a             [21, 22, 23],\u000a             [31, 32, 33]])\u000a</code></pre>\u000a\u000a<p>So <code>ZZ</code> contains all the combinations of <code>x</code> and <code>y</code> put into the function. When you think about it, <code>meshgrid</code> is a bit superfluous for numpy arrays, as they broadcast. This means you can do</p>\u000a\u000a<pre><code>XX, YY = numpy.atleast_2d(x, y)\u000aYY = YY.T # transpose to allow broadcasting\u000aZZ = XX + YY\u000a</code></pre>\u000a\u000a<p>and get the same result.</p>\u000a\u000a<p><code>mgrid</code> and <code>ogrid</code> are helper classes which use index notation so that you can create <code>XX</code> and <code>YY</code> in the previous examples directly, without having to use something like <code>linspace</code>. The order in which the output are generated is reversed.</p>\u000a\u000a<pre><code>YY, XX = numpy.mgrid[10:40:10, 1:4]\u000aZZ = XX + YY # These are equivalent to the output of meshgrid\u000a\u000aYY, XX = numpy.ogrid[10:40:10, 1:4]\u000aZZ = XX + YY # These are equivalent to the atleast_2d example\u000a</code></pre>\u000a\u000a<p>I am not familiar with the scitools stuff, but <code>ndgrid</code> seems equivalent to <code>meshgrid</code>, while <code>BoxGrid</code> is actually a whole class to help with this kind of generation.</p>\u000a
p142
sVquestion_id
p143
I12402045
sVlast_activity_date
p144
I1477067300
sVcreation_date
p145
I1347532834
sVscore
p146
I56
sVowner
p147
(dp148
Vuser_id
p149
I1648033
sVprofile_image
p150
Vhttps://www.gravatar.com/avatar/9ebc39951f074abef926aa636ed33cd1?s=128&d=identicon&r=PG
p151
sVuser_type
p152
Vregistered
p153
sVreputation
p154
I8043
sVlink
p155
Vhttp://stackoverflow.com/users/1648033/chthonicdaemon
p156
sVaccept_rate
p157
I89
sVdisplay_name
p158
Vchthonicdaemon
p159
ssVis_accepted
p160
I01
sVlast_edit_date
p161
I1477067300
sVanswer_id
p162
I12404419
sa(dp163
Vbody
p164
V<p>My apologies for the length of this post, but I decided to opt for completeness.</p>\u000a\u000a<p>Once you know a few basic rules, it's not hard to generalize them. I'll do my best to explain with a few examples. Since you're talking about evaluating these "by hand," I'll suggest some simple substitution rules. Basically, you might find it easier to understand an expression if all the iterables are formatted in the same way.</p>\u000a\u000a<p>For the purposes of unpacking only, the following substitutions are valid on the right side of the <code>=</code> (i.e. for <em>rvalues</em>):</p>\u000a\u000a<pre><code>'XY' -&gt; ('X', 'Y')\u000a['X', 'Y'] -&gt; ('X', 'Y')\u000a</code></pre>\u000a\u000a<p>If you find that a value doesn't get unpacked, then you'll undo the substitution. (See below for further explanation.)</p>\u000a\u000a<p>Also, when you see "naked" commas, pretend there's a top-level tuple. Do this on both the left and the right side (i.e. for <em>lvalues</em> and <em>rvalues</em>):</p>\u000a\u000a<pre><code>'X', 'Y' -&gt; ('X', 'Y')\u000aa, b -&gt; (a, b)\u000a</code></pre>\u000a\u000a<p>With those simple rules in mind, here are some examples:    </p>\u000a\u000a<pre><code>(a,b), c = "XY", "Z"                 # a = 'X', b = 'Y', c = 'Z'\u000a</code></pre>\u000a\u000a<p>Applying the above rules, we convert <code>"XY"</code> to <code>('X', 'Y')</code>, and cover the naked commas in parens:</p>\u000a\u000a<pre><code>((a, b), c) = (('X', 'Y'), 'Z')\u000a</code></pre>\u000a\u000a<p>The visual correspondence here makes it fairly obvious how the assignment works. </p>\u000a\u000a<p>Here's an erroneous example:</p>\u000a\u000a<pre><code>(a,b), c = "XYZ"\u000a</code></pre>\u000a\u000a<p>Following the above substitution rules, we get the below:</p>\u000a\u000a<pre><code>((a, b), c) = ('X', 'Y', 'Z')\u000a</code></pre>\u000a\u000a<p>This is clearly erroneous; the nested structures don't match up. Now let's see how it works for a slightly more complex example:</p>\u000a\u000a<pre><code>(a,b), c, = [1,2],'this'             # a = '1', b = '2', c = 'this'\u000a</code></pre>\u000a\u000a<p>Applying the above rules, we get</p>\u000a\u000a<pre><code>((a, b), c) = ((1, 2), ('t', 'h', 'i', 's'))\u000a</code></pre>\u000a\u000a<p>But now it's clear from the structure that <code>'this'</code> won't be unpacked, but assigned directly to <code>c</code>. So we undo the substitution.</p>\u000a\u000a<pre><code>((a, b), c) = ((1, 2), 'this')\u000a</code></pre>\u000a\u000a<p>Now let's see what happens when we wrap <code>c</code> in a tuple:</p>\u000a\u000a<pre><code>(a,b), (c,) = [1,2],'this'           # ERROR -- too many values to unpack\u000a</code></pre>\u000a\u000a<p>Becomes</p>\u000a\u000a<pre><code>((a, b), (c,)) = ((1, 2), ('t', 'h', 'i', 's'))\u000a</code></pre>\u000a\u000a<p>Again, the error is obvious. <code>c</code> is no longer a naked variable, but a variable inside a sequence, and so the corresponding sequence on the right is unpacked into <code>(c,)</code>. But the sequences have a different length, so there's an error. </p>\u000a\u000a<p>Now for extended unpacking using the <code>*</code> operator. This is a bit more complex, but it's still fairly straightforward. A variable preceded by <code>*</code> becomes a list, which contains any items from the corresponding sequence that aren't assigned to variable names. Starting with a fairly simple example:</p>\u000a\u000a<pre><code>a, *b, c = "X...Y"                   # a = 'X', b = ['.','.','.'], c = 'Y'\u000a</code></pre>\u000a\u000a<p>This becomes</p>\u000a\u000a<pre><code>(a, *b, c) = ('X', '.', '.', '.', 'Y')\u000a</code></pre>\u000a\u000a<p>The simplest way to analyze this is to work from the ends. <code>'X'</code> is assigned to <code>a</code> and <code>'Y'</code> is assigned to <code>c</code>. The remaining values in the sequence are put in a list and assigned to <code>b</code>. </p>\u000a\u000a<p>Lvalues like <code>(*a, b)</code> and <code>(a, *b)</code> are just special cases of the above. You can't have two <code>*</code> operators inside one lvalue sequence because it would be ambiguous. Where would the values go in something like this <code>(a, *b, *c, d)</code> -- in <code>b</code> or <code>c</code>? I'll consider the nested case in a moment. </p>\u000a\u000a<pre><code>*a = 1                               # ERROR -- target must be in a list or tuple\u000a</code></pre>\u000a\u000a<p>Here the error is fairly self-explanatory. The target (<code>*a</code>) must be in a tuple. </p>\u000a\u000a<pre><code>*a, = (1,2)                          # a = [1,2]\u000a</code></pre>\u000a\u000a<p>This works because there's a naked comma. Applying the rules...</p>\u000a\u000a<pre><code>(*a,) = (1, 2)\u000a</code></pre>\u000a\u000a<p>Since there are no variables other than <code>*a</code>, <code>*a</code> slurps up all the values in the rvalue sequence. What if you replace the <code>(1, 2)</code> with a single value?</p>\u000a\u000a<pre><code>*a, = 1                              # ERROR -- 'int' object is not iterable\u000a</code></pre>\u000a\u000a<p>becomes</p>\u000a\u000a<pre><code>(*a,) = 1\u000a</code></pre>\u000a\u000a<p>Again, the error here is self-explanatory. You can't unpack something that isn't a sequence, and <code>*a</code> needs something to unpack. So we put it in a sequence</p>\u000a\u000a<pre><code>*a, = [1]                            # a = [1]\u000a</code></pre>\u000a\u000a<p>Which is eqivalent to </p>\u000a\u000a<pre><code>(*a,) = (1,)\u000a</code></pre>\u000a\u000a<p>Finally, this is a common point of confusion: <code>(1)</code> is the same as <code>1</code> -- you need a comma to distinguish a tuple from an arithmetic statement.</p>\u000a\u000a<pre><code>*a, = (1)                            # ERROR -- 'int' object is not \u000a</code></pre>\u000a\u000a<p>Now for nesting. Actually this example wasn't in your "NESTED" section; perhaps you didn't realize it was nested?</p>\u000a\u000a<pre><code>(a,b), *c = 'XY', 2, 3               # a = 'X', b = 'Y', c = [2,3]\u000a</code></pre>\u000a\u000a<p>Becomes</p>\u000a\u000a<pre><code>((a, b), *c) = (('X', 'Y'), 2, 3)\u000a</code></pre>\u000a\u000a<p>The first value in the top-level tuple gets assigned, and the remaining values in the top-level tuple (<code>2</code> and <code>3</code>) are assigned to <code>c</code> -- just as we should expect. </p>\u000a\u000a<pre><code>(a,b),c = 1,2,3                      # ERROR -- too many values to unpack\u000a*(a,b), c = 1,2,3                    # a = 1, b = 2, c = 3\u000a</code></pre>\u000a\u000a<p>I've already explained above why the first line throws an error. The second line is silly but here's why it works:</p>\u000a\u000a<pre><code>(*(a, b), c) = (1, 2, 3)\u000a</code></pre>\u000a\u000a<p>As previously explained, we work from the ends. <code>3</code> is assigned to <code>c</code>, and then the remaining values are assigned to the variable with the <code>*</code> preceding it, in this case, <code>(a, b)</code>. So that's equivalent to <code>(a, b) = (1, 2)</code>, which happens to work because there are the right number of elements. I can't think of any reason this would ever appear in working code. Similarly, </p>\u000a\u000a<pre><code>*(a, *b), c = 'this'                 # a = 't', b = ['h', 'i'], c = 's'\u000a</code></pre>\u000a\u000a<p>becomes</p>\u000a\u000a<pre><code>(*(a, *b), c) = ('t', 'h', 'i', 's')\u000a</code></pre>\u000a\u000a<p>Working from the ends, <code>'s'</code> is assigned to <code>c</code>, and <code>('t', 'h', 'i')</code> is assigned to <code>(a, *b)</code>. Working again from the ends, <code>'t'</code> is assigned to <code>a</code>, and <code>('h', 'i')</code> is assigned to b as a list. This is another silly example that should never appear in working code. </p>\u000a
p165
sVquestion_id
p166
I6967632
sVlast_activity_date
p167
I1475496921
sVcreation_date
p168
I1312651857
sVscore
p169
I45
sVowner
p170
(dp171
Vuser_id
p172
I577088
sVprofile_image
p173
Vhttps://i.stack.imgur.com/5UZyo.jpg?s=128&g=1
p174
sVuser_type
p175
Vregistered
p176
sVreputation
p177
I67900
sVlink
p178
Vhttp://stackoverflow.com/users/577088/senderle
p179
sVdisplay_name
p180
Vsenderle
p181
ssVis_accepted
p182
I01
sVlast_edit_date
p183
I1475496921
sVanswer_id
p184
I6968451
sa(dp185
Vbody
p186
V<p>You need to dig a bit deeper into the api to do this:</p>\u000a\u000a<pre><code>plt.plot(range(5))\u000aplt.xlim(-3, 3)\u000aplt.ylim(-3, 3)\u000aplt.gca().set_aspect('equal', adjustable='box')\u000aplt.draw()\u000a</code></pre>\u000a\u000a<p><a href="http://matplotlib.org/api/axes_api.html#matplotlib.axes.Axes.set_aspect">doc for set_aspect</a></p>\u000a
p187
sVquestion_id
p188
I17990845
sVlast_activity_date
p189
I1473272861
sVcreation_date
p190
I1375365382
sVscore
p191
I59
sVowner
p192
(dp193
Vuser_id
p194
I380231
sVprofile_image
p195
Vhttps://www.gravatar.com/avatar/8744048060e5931c500d3c9d1ecb997e?s=128&d=identicon&r=PG
p196
sVuser_type
p197
Vregistered
p198
sVreputation
p199
I41379
sVlink
p200
Vhttp://stackoverflow.com/users/380231/tacaswell
p201
sVaccept_rate
p202
I100
sVdisplay_name
p203
Vtacaswell
p204
ssVis_accepted
p205
I01
sVlast_edit_date
p206
I1473272861
sVanswer_id
p207
I17996099
sa(dp208
Vbody
p209
V<p>Here is what worked for me:</p>\u000a\u000a<pre><code>import mock\u000a@mock.patch('requests.get', mock.Mock(side_effect = lambda k:{'aurl': 'a response', 'burl' : 'b response'}.get(k, 'unhandled request %s'%k)))\u000a</code></pre>\u000a
p210
sVquestion_id
p211
I15753390
sVlast_activity_date
p212
I1472966426
sVcreation_date
p213
I1364939786
sVscore
p214
I23
sVowner
p215
(dp216
Vuser_id
p217
I835927
sVprofile_image
p218
Vhttps://www.gravatar.com/avatar/efad2a03abfb30cfba642e0711743246?s=128&d=identicon&r=PG
p219
sVuser_type
p220
Vregistered
p221
sVreputation
p222
I1268
sVlink
p223
Vhttp://stackoverflow.com/users/835927/kk1957
p224
sVaccept_rate
p225
I40
sVdisplay_name
p226
Vkk1957
p227
ssVis_accepted
p228
I01
sVlast_edit_date
p229
I1472966426
sVanswer_id
p230
I15775162
sa(dp231
Vbody
p232
V<p>I have been using Tkinter for a while now. Why don't you try this and let me know if it worked?</p>\u000a\u000a<pre><code>try:\u000a    # for Python2\u000a    from Tkinter import *   ## notice capitalized T in Tkinter \u000aexcept ImportError:\u000a    # for Python3\u000a    from tkinter import *   ## notice lowercase 't' in tkinter here\u000a</code></pre>\u000a\u000a<p>Here is the reference <a href="http://stackoverflow.com/questions/7498658/importerror-when-importing-tkinter-in-python">link</a> and here is the <a href="https://docs.python.org/2/library/tkinter.html">doc</a></p>\u000a
p233
sVquestion_id
p234
I25905540
sVlast_activity_date
p235
I1470636249
sVcreation_date
p236
I1411021604
sVscore
p237
I79
sVowner
p238
(dp239
Vuser_id
p240
I3811592
sVprofile_image
p241
Vhttps://i.stack.imgur.com/76q7x.jpg?s=128&g=1
p242
sVuser_type
p243
Vregistered
p244
sVreputation
p245
I1662
sVlink
p246
Vhttp://stackoverflow.com/users/3811592/d-coder
p247
sVaccept_rate
p248
I100
sVdisplay_name
p249
Vd-coder
p250
ssVis_accepted
p251
I01
sVlast_edit_date
p252
I1470636249
sVanswer_id
p253
I25905642
sa(dp254
Vbody
p255
V<p>The problem was that the package <code>libjpeg-dev</code> was not installed. To solve the problem you should do this:</p>\u000a\u000a<pre><code>sudo apt-get install libjpeg-dev\u000a</code></pre>\u000a
p256
sVquestion_id
p257
I32942861
sVlast_activity_date
p258
I1467363154
sVcreation_date
p259
I1444028630
sVscore
p260
I79
sVowner
p261
(dp262
Vuser_id
p263
I1858970
sVprofile_image
p264
Vhttps://www.gravatar.com/avatar/ee93257f3d2354ae4c2ed44f18fbc553?s=128&d=identicon&r=PG
p265
sVuser_type
p266
Vregistered
p267
sVreputation
p268
I1832
sVlink
p269
Vhttp://stackoverflow.com/users/1858970/navid777
p270
sVaccept_rate
p271
I89
sVdisplay_name
p272
VNavid777
p273
ssVis_accepted
p274
I01
sVlast_edit_date
p275
I1467363154
sVanswer_id
p276
I32942958
sa(dp277
Vbody
p278
V<p>The answer depends on how you are serving this application.</p>\u000a\u000a<h2>Sub-mounted inside of another WSGI container</h2>\u000a\u000a<p>Assuming that you are going to run this application inside of a WSGI container (mod_wsgi, uwsgi, gunicorn, etc); you need to actually <em>mount, at that prefix</em> the application as a sub-part of that WSGI container (anything that speaks WSGI will do) and to set your <a href="http://flask.pocoo.org/docs/config/#builtin-configuration-values" rel="noreferrer"><code>APPLICATION_ROOT</code></a> config value to your prefix:</p>\u000a\u000a<pre><code>app.config["APPLICATION_ROOT"] = "/abc/123"\u000a\u000a@app.route("/")\u000adef index():\u000a    return "The URL for this page is {}".format(url_for("index"))\u000a\u000a# Will return "The URL for this page is /abc/123/"\u000a</code></pre>\u000a\u000a<p>Setting the <a href="http://flask.pocoo.org/docs/config/#builtin-configuration-values" rel="noreferrer"><code>APPLICATION_ROOT</code></a> config value simply limit Flask's session cookie to that URL prefix.  Everything else will be automatically handled for you by Flask and Werkzeug's excellent WSGI handling capabilities.</p>\u000a\u000a<h3>An example of properly sub-mounting your app</h3>\u000a\u000a<p>If you are not sure what the first paragraph means, take a look at this example application with Flask mounted inside of it:</p>\u000a\u000a<pre><code>from flask import Flask, url_for\u000afrom werkzeug.serving import run_simple\u000afrom werkzeug.wsgi import DispatcherMiddleware\u000a\u000aapp = Flask(__name__)\u000aapp.config['APPLICATION_ROOT'] = '/abc/123'\u000a\u000a@app.route('/')\u000adef index():\u000a    return 'The URL for this page is {}'.format(url_for('index'))\u000a\u000adef simple(env, resp):\u000a    resp(b'200 OK', [(b'Content-Type', b'text/plain')])\u000a    return [b'Hello WSGI World']\u000a\u000aapp.wsgi_app = DispatcherMiddleware(simple, {'/abc/123': app.wsgi_app})\u000a\u000aif __name__ == '__main__':\u000a    app.run('localhost', 5000)\u000a</code></pre>\u000a\u000a<h2>Proxying requests to the app</h2>\u000a\u000a<p>If, on the other hand, you will be running your Flask application at the root of its WSGI container and proxying requests to it (for example, if it's being FastCGI'd to, or if nginx is <code>proxy_pass</code>-ing requests for a sub-endpoint to your stand-alone <code>uwsgi</code> / <code>gevent</code> server then you can either:</p>\u000a\u000a<ul>\u000a<li>Use a Blueprint, as Miguel points out in <a href="http://stackoverflow.com/a/18969161/135978">his answer</a>.</li>\u000a<li><em>or</em> use the <code>DispatcherMiddleware</code> from <code>werkzeug</code> (or the <code>PrefixMiddleware</code> from <a href="http://stackoverflow.com/a/36033627/135978">su27's answer</a>) to sub-mount your application in the stand-alone WSGI server you're using.  (See <em>An example of properly sub-mounting your app</em> above for the code to use).</li>\u000a</ul>\u000a
p279
sVquestion_id
p280
I18967441
sVlast_activity_date
p281
I1467174662
sVcreation_date
p282
I1379966267
sVscore
p283
I42
sVowner
p284
(dp285
Vuser_id
p286
I135978
sVprofile_image
p287
Vhttps://www.gravatar.com/avatar/8931e023c82f232d4d02a115710fb8fc?s=128&d=identicon&r=PG
p288
sVuser_type
p289
Vregistered
p290
sVreputation
p291
I90210
sVlink
p292
Vhttp://stackoverflow.com/users/135978/sean-vieira
p293
sVaccept_rate
p294
I100
sVdisplay_name
p295
VSean Vieira
p296
ssVis_accepted
p297
I01
sVlast_edit_date
p298
I1467174662
sVanswer_id
p299
I18967744
sa(dp300
Vbody
p301
V<p>Disclaimer: I'm mostly writing this post with syntactical considerations and general behaviour in mind. I'm not familiar with the memory and CPU aspect of the methods described, and I aim this answer at those who have reasonably small sets of data, such that the quality of the interpolation can be the main aspect to consider. I am aware that when working with very large data sets, the better-performing methods (namely <code>griddata</code> and <code>Rbf</code>) might not be feasible.</p>\u000a\u000a<p>I'm going to compare three kinds of multi-dimensional interpolation methods (<a href="http://docs.scipy.org/doc/scipy/reference/generated/scipy.interpolate.interp2d.html#scipy.interpolate.interp2d" rel="noreferrer"><code>interp2d</code></a>/splines, <a href="http://docs.scipy.org/doc/scipy/reference/generated/scipy.interpolate.griddata.html#scipy.interpolate.griddata" rel="noreferrer"><code>griddata</code></a> and <a href="http://docs.scipy.org/doc/scipy/reference/generated/scipy.interpolate.Rbf.html#scipy.interpolate.Rbf" rel="noreferrer"><code>Rbf</code></a>). I will subject them to two kinds of interpolation tasks and two kinds of underlying functions (points from which are to be interpolated). The specific examples will demonstrate two-dimensional interpolation, but the viable methods are applicable in arbitrary dimensions. Each method provides various kinds of interpolation; in all cases I will use cubic interpolation (or something close<sup>1</sup>). It's important to note that whenever you use interpolation you introduce bias compared to your raw data, and the specific methods used affect the artifacts that you will end up with. Always be aware of this, and interpolate responsibly.</p>\u000a\u000a<p>The two interpolation tasks will be</p>\u000a\u000a<ol>\u000a<li>upsampling (input data is on a rectangular grid, output data is on a denser grid)</li>\u000a<li>interpolation of scattered data onto a regular grid</li>\u000a</ol>\u000a\u000a<p>The two functions (over the domain <code>[x,y] in [-1,1]x[-1,1]</code>) will be</p>\u000a\u000a<ol>\u000a<li>a smooth and friendly function: <code>cos(pi*x)*sin(pi*y)</code>; range in <code>[-1, 1]</code></li>\u000a<li>an evil (and in particular, non-continuous) function: <code>x*y/(x^2+y^2)</code> with a value of 0.5 near the origin; range in <code>[-0.5, 0.5]</code></li>\u000a</ol>\u000a\u000a<p>Here's how they look:</p>\u000a\u000a<p><a href="https://i.stack.imgur.com/OcDcJ.png" rel="noreferrer"><img src="https://i.stack.imgur.com/OcDcJ.png" alt="fig1: test functions"></a></p>\u000a\u000a<p>I will first demonstrate how the three methods behave under these four tests, then I'll detail the syntax of all three. If you know what you should expect from a method, you might not want to waste your time learning its syntax (looking at you, <code>interp2d</code>).</p>\u000a\u000a<h1>Test data</h1>\u000a\u000a<p>For the sake of explicitness, here is the code with which I generated the input data. While in this specific case I'm obviously aware of the function underlying the data, I will only use this to generate input for the interpolation methods. I use numpy for convenience (and mostly for generating the data), but scipy alone would suffice too.</p>\u000a\u000a<pre><code>import numpy as np\u000aimport scipy.interpolate as interp\u000a\u000a# auxiliary function for mesh generation\u000adef gimme_mesh(n):\u000a    minval = -1\u000a    maxval =  1\u000a    # produce an asymmetric shape in order to catch issues with transpositions\u000a    return np.meshgrid(np.linspace(minval,maxval,n), np.linspace(minval,maxval,n+1))\u000a\u000a# set up underlying test functions, vectorized\u000adef fun_smooth(x, y):\u000a    return np.cos(np.pi*x)*np.sin(np.pi*y)\u000a\u000adef fun_evil(x, y):\u000a    # watch out for singular origin; function has no unique limit there\u000a    return np.where(x**2+y**2&gt;1e-10, x*y/(x**2+y**2), 0.5)\u000a\u000a# sparse input mesh, 6x7 in shape\u000aN_sparse = 6\u000ax_sparse,y_sparse = gimme_mesh(N_sparse)\u000az_sparse_smooth = fun_smooth(x_sparse, y_sparse)\u000az_sparse_evil = fun_evil(x_sparse, y_sparse)\u000a\u000a# scattered input points, 10^2 altogether (shape (100,))\u000aN_scattered = 10\u000ax_scattered,y_scattered = np.random.rand(2,N_scattered**2)*2 - 1\u000az_scattered_smooth = fun_smooth(x_scattered, y_scattered)\u000az_scattered_evil = fun_evil(x_scattered, y_scattered)\u000a\u000a# dense output mesh, 20x21 in shape\u000aN_dense = 20\u000ax_dense,y_dense = gimme_mesh(N_dense)\u000a</code></pre>\u000a\u000a<h1>Smooth function and upsampling</h1>\u000a\u000a<p>Let's start with the easiest task. Here's how an upsampling from a mesh of shape <code>[6,7]</code> to one of <code>[20,21]</code> works out for the smooth test function:</p>\u000a\u000a<p><a href="https://i.stack.imgur.com/tgy94.png" rel="noreferrer"><img src="https://i.stack.imgur.com/tgy94.png" alt="fig2: smooth upsampling"></a></p>\u000a\u000a<p>Even though this is a simple task, there are already subtle differences between the outputs. At a first glance all three outputs are reasonable. There are two features to note, based on our prior knowledge of the underlying function: the middle case of <code>griddata</code> distorts the data most. Note the <code>y==-1</code> boundary of the plot (nearest the <code>x</code> label): the function should be strictly zero (since <code>y==-1</code> is a nodal line for the smooth function), yet this is not the case for <code>griddata</code>. Also note the <code>x==-1</code> boundary of the plots (behind, to the left): the underlying function has a local maximum (implying zero gradient near the boundary) at <code>[-1, -0.5]</code>, yet the <code>griddata</code> output shows clearly non-zero gradient in this region. The effect is subtle, but it's a bias none the less. (The fidelity of <code>Rbf</code> is even better with the default choice of radial functions, dubbed <code>multiquadratic</code>.)</p>\u000a\u000a<h1>Evil function and upsampling</h1>\u000a\u000a<p>A bit harder task is to perform upsampling on our evil function:</p>\u000a\u000a<p><a href="https://i.stack.imgur.com/3Qyw1.png" rel="noreferrer"><img src="https://i.stack.imgur.com/3Qyw1.png" alt="fig3: evil upsampling"></a></p>\u000a\u000a<p>Clear differences are starting to show among the three methods. Looking at the surface plots, there are clear spurious extrema appearing in the output from <code>interp2d</code> (note the two humps on the right side of the plotted surface). While <code>griddata</code> and <code>Rbf</code> seem to produce similar results at first glance, the latter seems to produce a deeper minimum near <code>[0.4, -0.4]</code> that is absent from the underlying function.</p>\u000a\u000a<p>However, there is one crucial aspect in which <code>Rbf</code> is far superior: it respects the symmetry of the underlying function (which is of course also made possible by the symmetry of the sample mesh). The output from <code>griddata</code> breaks the symmetry of the sample points, which is already weakly visible in the smooth case.</p>\u000a\u000a<h1>Smooth function and scattered data</h1>\u000a\u000a<p>Most often one wants to perform interpolation on scattered data. For this reason I expect these tests to be more important. As shown above, the sample points were chosen pseudo-uniformly in the domain of interest. In realistic scenarios you might have additional noise with each measurement, and you should consider whether it makes sense to interpolate your raw data to begin with.</p>\u000a\u000a<p>Output for the smooth function:</p>\u000a\u000a<p><a href="https://i.stack.imgur.com/B6LLG.png" rel="noreferrer"><img src="https://i.stack.imgur.com/B6LLG.png" alt="fig4: smooth scattered interpolation"></a></p>\u000a\u000a<p>Now there's already a bit of a horror show going on. I clipped the output from <code>interp2d</code> to between <code>[-1, 1]</code> exclusively for plotting, in order to preserve at least a minimal amount of information. It's clear that while some of the underlying shape is present, there are huge noisy regions where the method completely breaks down. The second case of <code>griddata</code> reproduces the shape fairly nicely, but note the white regions at the border of the contour plot. This is due to the fact that <code>griddata</code> only works inside the convex hull of the input data points (in other words, it doesn't perform any <em>extrapolation</em>). I kept the default NaN value for output points lying outside the convex hull.<sup>2</sup> Considering these features, <code>Rbf</code> seems to perform best.</p>\u000a\u000a<h1>Evil function and scattered data</h1>\u000a\u000a<p>And the moment we've all been waiting for:</p>\u000a\u000a<p><a href="https://i.stack.imgur.com/Nyneb.png" rel="noreferrer"><img src="https://i.stack.imgur.com/Nyneb.png" alt="fig5: evil scattered interpolation"></a></p>\u000a\u000a<p>It's no huge surprise that <code>interp2d</code> gives up. In fact, during the call to <code>interp2d</code> you should expect some friendly <code>RuntimeWarning</code>s complaining about the impossibility of the spline to be constructed. As for the other two methods, <code>Rbf</code> seems to produce the best output, even near the borders of the domain where the result is extrapolated.</p>\u000a\u000a<hr>\u000a\u000a<p>So let me say a few words about the three methods, in decreasing order of preference (so that the worst is the least likely to be read by anybody).</p>\u000a\u000a<h1><code>scipy.interpolate.Rbf</code></h1>\u000a\u000a<p>The <code>Rbf</code> class stands for "radial basis functions". To be honest I've never considered this approach until I started researching for this post, but I'm pretty sure I'll be using these in the future.</p>\u000a\u000a<p>Just like the spline-based methods (see later), usage comes in two steps: first one creates a callable <code>Rbf</code> class instance based on the input data, and then calls this object for a given output mesh to obtain the interpolated result. Example from the smooth upsampling test:</p>\u000a\u000a<pre><code>import scipy.interpolate as interp\u000azfun_smooth_rbf = interp.Rbf(x_sparse, y_sparse, z_sparse_smooth, function='cubic', smooth=0)  # default smooth=0 for interpolation\u000az_dense_smooth_rbf = zfun_smooth_rbf(x_dense, y_dense)  # not really a function, but a callable class instance\u000a</code></pre>\u000a\u000a<p>Note that both input and output points were 2d arrays in this case, and the output <code>z_dense_smooth_rbf</code> has the same shape as <code>x_dense</code> and <code>y_dense</code> without any effort. Also note that <code>Rbf</code> supports arbitrary dimensions for interpolation.</p>\u000a\u000a<p>So, <code>scipy.interpolate.Rbf</code></p>\u000a\u000a<ul>\u000a<li>produces well-behaved output even for crazy input data</li>\u000a<li>supports interpolation in higher dimensions</li>\u000a<li>extrapolates outside the convex hull of the input points (of course extrapolation is always a gamble, and you should generally not rely on it at all)</li>\u000a<li>creates an interpolator as a first step, so evaluating it in various output points is less additional effort</li>\u000a<li>can have output points of arbitrary shape (as opposed to being constrained to rectangular meshes, see later)</li>\u000a<li>prone to preserving the symmetry of the input data</li>\u000a<li>supports multiple kinds of radial functions for keyword <code>function</code>: <code>multiquadric</code>, <code>inverse</code>, <code>gaussian</code>, <code>linear</code>, <code>cubic</code>, <code>quintic</code>, <code>thin_plate</code> and user-defined arbitrary</li>\u000a</ul>\u000a\u000a<h1><code>scipy.interpolate.griddata</code></h1>\u000a\u000a<p>My former favourite, <code>griddata</code>, is a general workhorse for interpolation in arbitrary dimensions. It doesn't perform extrapolation beyond setting a single preset value for points outside the convex hull of the nodal points, but since extrapolation is a very fickle and dangerous thing, this is not necessarily a con. Usage example:</p>\u000a\u000a<pre><code>z_dense_smooth_griddata = interp.griddata(np.array([x_sparse.ravel(),y_sparse.ravel()]).T,\u000a                                          z_sparse_smooth.ravel(),\u000a                                          (x_dense,y_dense), method='cubic')   # default method is linear\u000a</code></pre>\u000a\u000a<p>Note the slightly kludgy syntax. The input points have to be specified in an array of shape <code>[N, D]</code> in <code>D</code> dimensions. For this we first have to flatten our 2d coordinate arrays (using <code>ravel</code>), then concatenate the arrays and transpose the result. There are multiple ways to do this, but all of them seem to be bulky. The input <code>z</code> data also have to be flattened. We have a bit more freedom when it comes to the output points: for some reason these can also be specified as a tuple of multidimensional arrays. Note that the <code>help</code> of <code>griddata</code> is misleading, as it suggests that the same is true for the <em>input</em> points (at least for version 0.17.0):</p>\u000a\u000a<pre><code>griddata(points, values, xi, method='linear', fill_value=nan, rescale=False)\u000a    Interpolate unstructured D-dimensional data.\u000a\u000a    Parameters\u000a    ----------\u000a    points : ndarray of floats, shape (n, D)\u000a        Data point coordinates. Can either be an array of\u000a        shape (n, D), or a tuple of `ndim` arrays.\u000a    values : ndarray of float or complex, shape (n,)\u000a        Data values.\u000a    xi : ndarray of float, shape (M, D)\u000a        Points at which to interpolate data.\u000a</code></pre>\u000a\u000a<p>In a nutshell, <code>scipy.interpolate.griddata</code></p>\u000a\u000a<ul>\u000a<li>produces well-behaved output even for crazy input data</li>\u000a<li>supports interpolation in higher dimensions</li>\u000a<li>does not perform extrapolation, a single value can be set for the output outside the convex hull of the input points (see <code>fill_value</code>)</li>\u000a<li>computes the interpolated values in a single call, so probing multiple sets of output points starts from scratch</li>\u000a<li>can have output points of arbitrary shape</li>\u000a<li>supports nearest-neighbour and linear interpolation in arbitrary dimensions, cubic in 1d and 2d. Nearest-neighbour and linear interpolation use <code>NearestNDInterpolator</code> and <code>LinearNDInterpolator</code> under the hood, respectively. 1d cubic interpolation uses a spline, 2d cubic interpolation uses <code>CloughTocher2DInterpolator</code> to construct a continuously differentiable piecewise-cubic interpolator.</li>\u000a<li>might violate the symmetry of the input data</li>\u000a</ul>\u000a\u000a<h1><code>scipy.interpolate.interp2d</code>/<code>scipy.interpolate.bisplrep</code></h1>\u000a\u000a<p>The only reason I'm discussing <code>interp2d</code> and its relatives is that it has a deceptive name, and people are likely to try using it. Spoiler alert: don't use it (as of scipy version 0.17.0). It's already more special than the previous subjects in that it's specifically used for two-dimensional interpolation, but I suspect this is by far the most common case for multivariate interpolation.</p>\u000a\u000a<p>As far as syntax goes, <code>interp2d</code> is similar to <code>Rbf</code> in that it first needs constructing an interpolation instance, which can be called to provide the actual interpolated values. There's a catch, however: the output points have to be located on a rectangular mesh, so inputs going into the call to the interpolator have to be 1d vectors which span the output grid, as if from <code>numpy.meshgrid</code>:</p>\u000a\u000a<pre><code># reminder: x_sparse and y_sparse are of shape [6, 7] from numpy.meshgrid\u000azfun_smooth_interp2d = interp.interp2d(x_sparse, y_sparse, z_sparse_smooth, kind='cubic')   # default kind is 'linear'\u000a# reminder: x_dense and y_dense are of shape [20, 21] from numpy.meshgrid\u000axvec = x_dense[0,:] # 1d array of unique x values, 20 elements\u000ayvec = y_dense[:,0] # 1d array of unique y values, 21 elements\u000az_dense_smooth_interp2d = zfun_smooth_interp2d(xvec,yvec)   # output is [20, 21]-shaped array\u000a</code></pre>\u000a\u000a<p>One of the most common mistakes when using <code>interp2d</code> is putting your full 2d meshes into the interpolation call, which leads to explosive memory consumption, and hopefully to a hasty <code>MemoryError</code>.</p>\u000a\u000a<p>Now, the greatest problem with <code>interp2d</code> is that it often doesn't work. In order to understand this, we have to look under the hood. It turns out that <code>interp2d</code> is a wrapper for the lower-level functions <a href="http://docs.scipy.org/doc/scipy/reference/generated/scipy.interpolate.bisplrep.html#scipy.interpolate.bisplrep" rel="noreferrer"><code>bisplrep</code></a>+<a href="http://docs.scipy.org/doc/scipy/reference/generated/scipy.interpolate.bisplev.html#scipy.interpolate.bisplev" rel="noreferrer"><code>bisplev</code></a>, which are in turn wrappers for FITPACK routines (written in Fortran). The equivalent call to the previous example would be</p>\u000a\u000a<pre><code>kind = 'cubic'\u000aif kind=='linear':\u000a    kx=ky=1\u000aelif kind=='cubic':\u000a    kx=ky=3\u000aelif kind=='quintic':\u000a    kx=ky=5\u000a# bisplrep constructs a spline representation, bisplev evaluates the spline at given points\u000abisp_smooth = interp.bisplrep(x_sparse.ravel(),y_sparse.ravel(),z_sparse_smooth.ravel(),kx=kx,ky=ky,s=0)\u000az_dense_smooth_bisplrep = interp.bisplev(xvec,yvec,bisp_smooth).T  # note the transpose\u000a</code></pre>\u000a\u000a<p>Now, here's the thing about <code>interp2d</code>: (in scipy version 0.17.0) there is a nice <a href="https://github.com/scipy/scipy/blob/b9c3ef6efd9c5034aae0168fb0dce4e43ac351de/scipy/interpolate/interpolate.py#L223" rel="noreferrer">comment in <code>interpolate/interpolate.py</code></a> for <code>interp2d</code>:</p>\u000a\u000a<pre><code>if not rectangular_grid:\u000a    # TODO: surfit is really not meant for interpolation!\u000a    self.tck = fitpack.bisplrep(x, y, z, kx=kx, ky=ky, s=0.0)\u000a</code></pre>\u000a\u000a<p>and indeed in <code>interpolate/fitpack.py</code>, in <code>bisplrep</code> there's some setup and ultimately</p>\u000a\u000a<pre><code>tx, ty, c, o = _fitpack._surfit(x, y, z, w, xb, xe, yb, ye, kx, ky,\u000a                                task, s, eps, tx, ty, nxest, nyest,\u000a                                wrk, lwrk1, lwrk2)                 \u000a</code></pre>\u000a\u000a<p>And that's it. The routines underlying <code>interp2d</code> are not really meant to perform interpolation. They might suffice for sufficiently well-behaved data, but under realistic circumstances you will probably want to use something else.</p>\u000a\u000a<p>Just to conclude, <code>interpolate.interp2d</code></p>\u000a\u000a<ul>\u000a<li>can lead to artifacts even with well-tempered data</li>\u000a<li>is specifically for bivariate problems (although there's the limited <code>interpn</code> for input points defined on a grid)</li>\u000a<li>performs extrapolation</li>\u000a<li>creates an interpolator as a first step, so evaluating it in various output points is less additional effort</li>\u000a<li>can only produce output over a rectangular grid, for scattered output you would have to call the interpolator in a loop</li>\u000a<li>supports linear, cubic and quintic interpolation</li>\u000a<li>might violate the symmetry of the input data</li>\u000a</ul>\u000a\u000a<hr>\u000a\u000a<p><sup>1</sup>I'm fairly certain that the <code>cubic</code> and <code>linear</code> kind of basis functions of <code>Rbf</code> do not exactly correspond to the other interpolators of the same name.<br>\u000a<sup>2</sup>These NaNs are also the reason for why the surface plot seems so odd: matplotlib historically has difficulties with plotting complex 3d objects with proper depth information. The NaN values in the data confuse the renderer, so parts of the surface that should be in the back are plotted to be in the front. This is an issue with visualization, and not interpolation.</p>\u000a
p302
sVquestion_id
p303
I37872171
sVlast_activity_date
p304
I1466132129
sVcreation_date
p305
I1466130468
sVscore
p306
I53
sVowner
p307
(dp308
Vuser_id
p309
I5067311
sVprofile_image
p310
Vhttps://i.stack.imgur.com/qjltV.png?s=128&g=1
p311
sVuser_type
p312
Vregistered
p313
sVreputation
p314
I13723
sVlink
p315
Vhttp://stackoverflow.com/users/5067311/andras-deak
p316
sVdisplay_name
p317
VAndras Deak
p318
ssVis_accepted
p319
I01
sVlast_edit_date
p320
I1466132129
sVanswer_id
p321
I37872172
sa(dp322
Vbody
p323
V<p>If you want to get list of users by permission, look at this variant:</p>\u000a\u000a<pre><code>from django.contrib.auth.models import User, Permission\u000afrom django.db.models import Q\u000a\u000aperm = Permission.objects.get(codename='blogger')  \u000ausers = User.objects.filter(Q(groups__permissions=perm) | Q(user_permissions=perm)).distinct()\u000a</code></pre>\u000a
p324
sVquestion_id
p325
I378303
sVlast_activity_date
p326
I1465502795
sVcreation_date
p327
I1244962953
sVscore
p328
I52
sVowner
p329
(dp330
Vuser_id
p331
I49183
sVprofile_image
p332
Vhttps://www.gravatar.com/avatar/d3cb9eeb4c06ffa0f35cc7ff73b53193?s=128&d=identicon&r=PG
p333
sVuser_type
p334
Vregistered
p335
sVreputation
p336
I1291
sVlink
p337
Vhttp://stackoverflow.com/users/49183/glader
p338
sVdisplay_name
p339
VGlader
p340
ssVis_accepted
p341
I01
sVlast_edit_date
p342
I1465502795
sVanswer_id
p343
I992329
sa(dp344
Vbody
p345
V<p>The "best" way to share a Jupyter notebook is to simply to place it on GitHub (and view it directly) or some other public link and use the <a href="https://nbviewer.jupyter.org/">Jupyter Notebook Viewer</a>. When privacy is more of an issue then there are alternatives but it's certainly more complex, there's no built in way to do this in Jupyter alone but a couple of options are:</p>\u000a\u000a<h2>Host your own nbviewer</h2>\u000a\u000a<p>GitHub and the Jupyter Notebook Veiwer both use the same tool to render <code>.ipynb</code> files into static HTML, this tool is <a href="https://github.com/jupyter/nbviewer">nbviewer</a>.</p>\u000a\u000a<p>The installation instructions are more complex than I'm willing to go into here but if your company/team has a shared server that doesn't require password access then you could host the nbviewer on that server and direct it to load from your credentialed server. This will probably require some more advanced configuration than you're going to find in the docs.</p>\u000a\u000a<h2>Set up a deployment script</h2>\u000a\u000a<p>If you don't necessarily need <em>live</em> updating HTML then you could set up a script on your credentialed server that will simply use Jupyter's built in export options to create the static HTML files and then send those to a more publicly accessible server. </p>\u000a\u000a<p>Good luck!</p>\u000a
p346
sVquestion_id
p347
I31855794
sVlast_activity_date
p348
I1445386931
sVcreation_date
p349
I1445386931
sVscore
p350
I18
sVowner
p351
(dp352
Vuser_id
p353
I594173
sVprofile_image
p354
Vhttps://www.gravatar.com/avatar/31c93a9ca8d6e7ed662f3925a053a77b?s=128&d=identicon&r=PG
p355
sVuser_type
p356
Vregistered
p357
sVreputation
p358
I330
sVlink
p359
Vhttp://stackoverflow.com/users/594173/michael-leonard
p360
sVdisplay_name
p361
VMichael Leonard
p362
ssVis_accepted
p363
I01
sVanswer_id
p364
I33248969
sa(dp365
Vbody
p366
V<p>Curly braces create <a href="https://docs.python.org/3/library/stdtypes.html#mapping-types-dict">dictionaries</a> or <a href="https://docs.python.org/3/library/stdtypes.html#set-types-set-frozenset">sets</a>. Square brackets create <a href="https://docs.python.org/3/library/stdtypes.html#sequence-types-list-tuple-range">lists</a>.</p>\u000a\u000a<p>They are called <em>literals</em>; a set literal:</p>\u000a\u000a<pre><code>aset = {'foo', 'bar'}\u000a</code></pre>\u000a\u000a<p>or a dictionary literal:</p>\u000a\u000a<pre><code>adict = {'foo': 42, 'bar': 81}\u000aempty_dict = {}\u000a</code></pre>\u000a\u000a<p>or a list literal:</p>\u000a\u000a<pre><code>alist = ['foo', 'bar', 'bar']\u000aempty_list = []\u000a</code></pre>\u000a\u000a<p>To create an empty set, you can only use <code>set()</code>.</p>\u000a\u000a<p>Sets are collections of <em>unique</em> elements and you cannot order them. Lists are ordered sequences of elements, and values can be repeated. Dictionaries map keys to values, keys must be unique. Set and dictionary keys must meet other restrictions as well, so that Python can actually keep track of them efficiently and know they are and will remain unique.</p>\u000a\u000a<p>There is also the <a href="https://docs.python.org/3/library/stdtypes.html#tuple"><code>tuple</code> type</a>, using a comma for 1 or more elements, with parenthesis being optional in many contexts:</p>\u000a\u000a<pre><code>atuple = ('foo', 'bar')\u000aanother_tuple = 'spam',\u000aempty_tuple = ()\u000aWARNING_not_a_tuple = ('eggs')\u000a</code></pre>\u000a\u000a<p>Note the comma in the <code>another_tuple</code> definition; it is that comma that makes it a <code>tuple</code>, not the parenthesis. <code>WARNING_not_a_tuple</code> is not a tuple, it has no comma. Without the parentheses all you have left is a string, instead.</p>\u000a\u000a<p>See the <a href="http://docs.python.org/3/tutorial/datastructures.html">data structures chapter</a> of the Python tutorial for more details; lists are introduced in the <a href="http://docs.python.org/3/tutorial/introduction.html#lists">introduction chapter</a>.</p>\u000a\u000a<p>Literals for containers such as these are also called <a href="https://docs.python.org/3/reference/expressions.html#displays-for-lists-sets-and-dictionaries">displays</a> and the syntax allows for procedural creation of the contents based of looping, called <em>comprehensions</em>.</p>\u000a
p367
sVquestion_id
p368
I22391419
sVlast_activity_date
p369
I1444845831
sVcreation_date
p370
I1394746542
sVscore
p371
I63
sVowner
p372
(dp373
Vuser_id
p374
I100297
sVprofile_image
p375
Vhttps://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG
p376
sVuser_type
p377
Vmoderator
p378
sVreputation
p379
I554897
sVlink
p380
Vhttp://stackoverflow.com/users/100297/martijn-pieters
p381
sVdisplay_name
p382
VMartijn Pieters
p383
ssVis_accepted
p384
I01
sVlast_edit_date
p385
I1444845831
sVanswer_id
p386
I22391457
sa(dp387
Vbody
p388
V<p>The <code>drawMatches</code> Function is not part of the Python interface.<br>\u000aAs you can see in the <a href="http://docs.opencv.org/modules/features2d/doc/drawing_function_of_keypoints_and_matches.html#drawmatches" rel="noreferrer">docs</a>, it is only defined for <code>C++</code> at the moment.</p>\u000a\u000a<p>Excerpt from the docs:</p>\u000a\u000a<pre><code> C++: void drawMatches(const Mat&amp; img1, const vector&lt;KeyPoint&gt;&amp; keypoints1, const Mat&amp; img2, const vector&lt;KeyPoint&gt;&amp; keypoints2, const vector&lt;DMatch&gt;&amp; matches1to2, Mat&amp; outImg, const Scalar&amp; matchColor=Scalar::all(-1), const Scalar&amp; singlePointColor=Scalar::all(-1), const vector&lt;char&gt;&amp; matchesMask=vector&lt;char&gt;(), int flags=DrawMatchesFlags::DEFAULT )\u000a C++: void drawMatches(const Mat&amp; img1, const vector&lt;KeyPoint&gt;&amp; keypoints1, const Mat&amp; img2, const vector&lt;KeyPoint&gt;&amp; keypoints2, const vector&lt;vector&lt;DMatch&gt;&gt;&amp; matches1to2, Mat&amp; outImg, const Scalar&amp; matchColor=Scalar::all(-1), const Scalar&amp; singlePointColor=Scalar::all(-1), const vector&lt;vector&lt;char&gt;&gt;&amp; matchesMask=vector&lt;vector&lt;char&gt; &gt;(), int flags=DrawMatchesFlags::DEFAULT )\u000a</code></pre>\u000a\u000a<p>If the function had a Python interface, you would find something like this:</p>\u000a\u000a<pre><code> Python: cv2.drawMatches(img1, keypoints1, [...]) \u000a</code></pre>\u000a\u000a<p><strong>EDIT</strong>   </p>\u000a\u000a<p>There actually was a <a href="https://github.com/Itseez/opencv/commit/5d863f75160c345c1dbc15d00a88762f68c8b60f#diff-17a1c50caf639a7abe392c3dfb1a1fdb" rel="noreferrer">commit</a> that introduced this function 5 months ago. However, it is not (yet) in the official documentation.<br>\u000aMake sure you are using the newest OpenCV Version (2.4.7).\u000aFor sake of completeness the Functions interface for OpenCV 3.0.0 will looks like <a href="http://docs.opencv.org/trunk/modules/features2d/doc/drawing_function_of_keypoints_and_matches.html?highlight=drawmatch#cv2.drawMatches" rel="noreferrer">this</a>:</p>\u000a\u000a<pre><code>cv2.drawMatches(img1, keypoints1, img2, keypoints2, matches1to2[, outImg[, matchColor[, singlePointColor[, matchesMask[, flags]]]]]) \u2192 outImg\u000a</code></pre>\u000a
p389
sVquestion_id
p390
I20259025
sVlast_activity_date
p391
I1442866714
sVcreation_date
p392
I1385623396
sVscore
p393
I17
sVowner
p394
(dp395
Vuser_id
p396
I2927205
sVprofile_image
p397
Vhttps://i.stack.imgur.com/luWrX.jpg?s=128&g=1
p398
sVuser_type
p399
Vregistered
p400
sVreputation
p401
I3687
sVlink
p402
Vhttp://stackoverflow.com/users/2927205/mailerdaimon
p403
sVaccept_rate
p404
I100
sVdisplay_name
p405
VMailerdaimon
p406
ssVis_accepted
p407
I01
sVlast_edit_date
p408
I1442866714
sVanswer_id
p409
I20260048
sa(dp410
Vbody
p411
V<p><a href="http://docs.scipy.org/doc/scipy/reference/cluster.html" rel="noreferrer">Scipy's clustering</a> implementations work well, and they include a <a href="http://docs.scipy.org/doc/scipy/reference/cluster.vq.html" rel="noreferrer">k-means</a> implementation.</p>\u000a\u000a<p>There's also <a href="http://code.google.com/p/scipy-cluster/" rel="noreferrer">scipy-cluster</a>, which does agglomerative clustering; ths has the advantage that you don't need to decide on the number of clusters ahead of time.</p>\u000a
p412
sVquestion_id
p413
I1545606
sVlast_activity_date
p414
I1438728627
sVcreation_date
p415
I1255126257
sVscore
p416
I52
sVowner
p417
(dp418
Vuser_id
p419
I102302
sVprofile_image
p420
Vhttps://www.gravatar.com/avatar/edd9c8a33bbb45d398ad8777e619c7a3?s=128&d=identicon&r=PG
p421
sVuser_type
p422
Vregistered
p423
sVreputation
p424
I36165
sVlink
p425
Vhttp://stackoverflow.com/users/102302/tom10
p426
sVaccept_rate
p427
I80
sVdisplay_name
p428
Vtom10
p429
ssVis_accepted
p430
I01
sVlast_edit_date
p431
I1438728627
sVanswer_id
p432
I1546313
sa(dp433
Vbody
p434
V<p>Use <a href="http://docs.python.org/library/functions.html#isinstance" rel="noreferrer"><code>isinstance</code></a>:</p>\u000a\u000a<pre><code>if isinstance(e, list):\u000a</code></pre>\u000a\u000a<p>If you want to check that an object is a list or a tuple, pass several classes to <code>isinstance</code>:</p>\u000a\u000a<pre><code>if isinstance(e, (list, tuple)):\u000a</code></pre>\u000a
p435
sVquestion_id
p436
I9759930
sVlast_activity_date
p437
I1435473339
sVcreation_date
p438
I1332088005
sVscore
p439
I76
sVowner
p440
(dp441
Vuser_id
p442
I248296
sVprofile_image
p443
Vhttps://www.gravatar.com/avatar/ec020fe58f82e5b8e72544ee7108a825?s=128&d=identicon&r=PG
p444
sVuser_type
p445
Vregistered
p446
sVreputation
p447
I26605
sVlink
p448
Vhttp://stackoverflow.com/users/248296/warvariuc
p449
sVaccept_rate
p450
I72
sVdisplay_name
p451
Vwarvariuc
p452
ssVis_accepted
p453
I01
sVlast_edit_date
p454
I1435473339
sVanswer_id
p455
I9759963
sa(dp456
Vbody
p457
V<p>Here is how to open the user's default browser with a given url:</p>\u000a\u000a<pre><code>import webbrowser\u000a\u000awebbrowser.open(url[, new=0[, autoraise=True]])\u000a</code></pre>\u000a\u000a<p>Here is the documentation about this functionality. It's part of Python's stdlibs: </p>\u000a\u000a<p><a href="http://docs.python.org/library/webbrowser.html">http://docs.python.org/library/webbrowser.html</a></p>\u000a\u000a<p>I have tested this successfully on Linux, Ubuntu 10.10.</p>\u000a
p458
sVquestion_id
p459
I4216985
sVlast_activity_date
p460
I1433662718
sVcreation_date
p461
I1290097190
sVscore
p462
I61
sVowner
p463
(dp464
Vuser_id
p465
I371571
sVprofile_image
p466
Vhttps://www.gravatar.com/avatar/644503605d316932fe8966f2dc8c5343?s=128&d=identicon&r=PG
p467
sVuser_type
p468
Vregistered
p469
sVreputation
p470
I1481
sVlink
p471
Vhttp://stackoverflow.com/users/371571/kobrien
p472
sVaccept_rate
p473
I95
sVdisplay_name
p474
Vkobrien
p475
ssVis_accepted
p476
I01
sVlast_edit_date
p477
I1433662718
sVanswer_id
p478
I4217032
sa(dp479
Vbody
p480
V<p>Don't break the url:</p>\u000a\u000a<pre><code># A Foolish Consistency is the Hobgoblin of Little Minds [1]\u000a# [1]: http://www.python.org/dev/peps/pep-0008/#a-foolish-consistency-is-the-hobgoblin-of-little-minds\u000a</code></pre>\u000a
p481
sVquestion_id
p482
I10739843
sVlast_activity_date
p483
I1426615130
sVcreation_date
p484
I1337871380
sVscore
p485
I48
sVowner
p486
(dp487
Vuser_id
p488
I4279
sVprofile_image
p489
Vhttps://www.gravatar.com/avatar/d92ce60d3a4cbe03598e27c2e8dee69d?s=128&d=identicon&r=PG
p490
sVuser_type
p491
Vregistered
p492
sVreputation
p493
I203089
sVlink
p494
Vhttp://stackoverflow.com/users/4279/j-f-sebastian
p495
sVaccept_rate
p496
I94
sVdisplay_name
p497
VJ.F. Sebastian
p498
ssVis_accepted
p499
I01
sVlast_edit_date
p500
I1426615130
sVanswer_id
p501
I10740010
sa(dp502
Vbody
p503
V<p>See the <a href="https://docs.python.org/3/library/collections.abc.html" rel="noreferrer"><code>collections.abc</code></a> module. Of the abstract base classes listed there, <code>list</code> in Python implements <code>Iterable</code>, <code>Container</code>, <code>Sized</code>, <code>Sequence</code> and <code>MutableSequence</code>. Now, of these, <code>Iterable</code>, <code>Sequence</code> and <code>MutableSequence</code> could be casually called <em>list-like</em>.</p>\u000a\u000a<p>However, I would understand the term <strong>list-like</strong> to mean that it is a <code>MutableSequence</code> - has at least the methods <code>__getitem__</code>, <code>__setitem__</code>, <code>__delitem__</code> and <code>__len__</code>, expecting also it to have the  mixin methods mentioned in the documentation, such as <code>append</code>.</p>\u000a\u000a<p>If there is no need for <code>__setitem__</code> and <code>__delitem__</code> it should be called a sequence instead - the assumption is that if something accepts a sequence, it does not need to be mutable, thus <code>str</code>, <code>bytes</code>, <code>tuple</code> etc also work there.</p>\u000a\u000a<hr>\u000a\u000a<p>Your two links highlight the vagueness of the term:</p>\u000a\u000a<p>The plotly API requires that the <code>list-like</code> objects will be serialized to a JSON array by the internal <a href="https://github.com/plotly/python-api/blob/master/plotly/utils.py#L116" rel="noreferrer"><code>PlotlyJSONEncoder</code></a> that delegates most of the encoding to the Python <code>JSONEncoder</code>. However, the latter encodes only <code>tuple</code> and <code>list</code> (and subclasses) to a JSON array; thus the <em>list-like</em> here means a <code>list</code>, a <code>tuple</code> or subclasses thereof. A custom sequence object that is not a subclass of either will result in <code>TypeError: [...] is not JSON serializable</code>.</p>\u000a\u000a<p>The <a href="http://code.activestate.com/recipes/67671-a-function-to-unzip-simple-list-like-objects/" rel="noreferrer">unzip recipe</a> you linked to requires an object that behaves like a <a href="https://docs.python.org/3/library/collections.abc.html#collections.abc.Sequence" rel="noreferrer"><code>Sequence</code></a>, (mutability is not required), thus a <code>tuple</code> or <code>str</code>, or any custom object implementing <code>Sequence</code> will do there.</p>\u000a\u000a<hr>\u000a\u000a<p>TL;DR <strong>list-like</strong> is a vague term. It is preferable to use the terms iterable, sequence and mutable sequence instead, now that these are defined in <code>collections.abc</code>.</p>\u000a
p504
sVquestion_id
p505
I28841735
sVlast_activity_date
p506
I1425555422
sVcreation_date
p507
I1425417926
sVscore
p508
I40
sVowner
p509
(dp510
Vuser_id
p511
I918959
sVprofile_image
p512
Vhttps://www.gravatar.com/avatar/b9051b2917c3d55d55b3d7042fa49f6c?s=128&d=identicon&r=PG
p513
sVuser_type
p514
Vregistered
p515
sVreputation
p516
I52465
sVlink
p517
Vhttp://stackoverflow.com/users/918959/antti-haapala
p518
sVaccept_rate
p519
I88
sVdisplay_name
p520
VAntti Haapala
p521
ssVis_accepted
p522
I01
sVlast_edit_date
p523
I1425555422
sVanswer_id
p524
I28842190
sa(dp525
Vbody
p526
V<p>Tkinter root windows have a method called <code>after</code> which can be used to schedule a function to be called after a given period of time. If that function itself calls <code>after</code> you've set up an automatically recurring event. </p>\u000a\u000a<p>Here is a working example:</p>\u000a\u000a<pre><code># for python 3.x use 'tkinter' rather than 'Tkinter'\u000aimport Tkinter as tk\u000aimport time\u000a\u000aclass App():\u000a    def __init__(self):\u000a        self.root = tk.Tk()\u000a        self.label = tk.Label(text="")\u000a        self.label.pack()\u000a        self.update_clock()\u000a        self.root.mainloop()\u000a\u000a    def update_clock(self):\u000a        now = time.strftime("%H:%M:%S")\u000a        self.label.configure(text=now)\u000a        self.root.after(1000, self.update_clock)\u000a\u000aapp=App()\u000a</code></pre>\u000a\u000a<p>Bear in mind that <code>after</code> doesn't guarantee the function will run exactly on time. It only <em>schedules</em> the job to be run after a given amount of time. It the app is busy there may be a delay before it is called since Tkinter is single-threaded. The delay is typically measured in microseconds.</p>\u000a
p527
sVquestion_id
p528
I2400262
sVlast_activity_date
p529
I1393429031
sVcreation_date
p530
I1268050802
sVscore
p531
I67
sVowner
p532
(dp533
Vuser_id
p534
I7432
sVprofile_image
p535
Vhttps://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG
p536
sVuser_type
p537
Vregistered
p538
sVreputation
p539
I155022
sVlink
p540
Vhttp://stackoverflow.com/users/7432/bryan-oakley
p541
sVaccept_rate
p542
I94
sVdisplay_name
p543
VBryan Oakley
p544
ssVis_accepted
p545
I01
sVlast_edit_date
p546
I1393429031
sVanswer_id
p547
I2401181
sa(dp548
Vbody
p549
V<p>That function is simple enough that you can use ctypes to access it:</p>\u000a\u000a<pre><code>#!/usr/bin/env python\u000a\u000a__all__ = ["monotonic_time"]\u000a\u000aimport ctypes, os\u000a\u000aCLOCK_MONOTONIC_RAW = 4 # see &lt;linux/time.h&gt;\u000a\u000aclass timespec(ctypes.Structure):\u000a    _fields_ = [\u000a        ('tv_sec', ctypes.c_long),\u000a        ('tv_nsec', ctypes.c_long)\u000a    ]\u000a\u000alibrt = ctypes.CDLL('librt.so.1', use_errno=True)\u000aclock_gettime = librt.clock_gettime\u000aclock_gettime.argtypes = [ctypes.c_int, ctypes.POINTER(timespec)]\u000a\u000adef monotonic_time():\u000a    t = timespec()\u000a    if clock_gettime(CLOCK_MONOTONIC_RAW , ctypes.pointer(t)) != 0:\u000a        errno_ = ctypes.get_errno()\u000a        raise OSError(errno_, os.strerror(errno_))\u000a    return t.tv_sec + t.tv_nsec * 1e-9\u000a\u000aif __name__ == "__main__":\u000a    print monotonic_time()\u000a</code></pre>\u000a
p550
sVquestion_id
p551
I1205722
sVlast_activity_date
p552
I1391733993
sVcreation_date
p553
I1248950020
sVscore
p554
I66
sVowner
p555
(dp556
Vuser_id
p557
I19990
sVprofile_image
p558
Vhttps://www.gravatar.com/avatar/181de1fb11dffe39774f3e2e23cda3b6?s=128&d=identicon&r=PG
p559
sVuser_type
p560
Vregistered
p561
sVreputation
p562
I24012
sVlink
p563
Vhttp://stackoverflow.com/users/19990/armin-ronacher
p564
sVaccept_rate
p565
I50
sVdisplay_name
p566
VArmin Ronacher
p567
ssVis_accepted
p568
I01
sVlast_edit_date
p569
I1391733993
sVanswer_id
p570
I1205762
sa(dp571
Vbody
p572
V<p>The error basically says that classes aren't meant to <em>just</em> store data, as you're basically treating the class as a dictionary. Classes should have at least a few methods to operate on the data that they hold.</p>\u000a\u000a<p>If your class looks like this:</p>\u000a\u000a<pre><code>class MyClass(object):\u000a    def __init__(self, foo, bar):\u000a        self.foo = foo\u000a        self.bar = bar\u000a</code></pre>\u000a\u000a<p>Consider using a dictionary or a <code>namedtuple</code> instead. Although if a class seems like the best choice, use it. pylint doesn't always know what's best.</p>\u000a
p573
sVquestion_id
p574
I14027417
sVlast_activity_date
p575
I1385398359
sVcreation_date
p576
I1356409849
sVscore
p577
I56
sVowner
p578
(dp579
Vuser_id
p580
I464744
sVprofile_image
p581
Vhttps://www.gravatar.com/avatar/3dfd6067f4c69986a652444f44bb6d7c?s=128&d=identicon&r=PG
p582
sVuser_type
p583
Vregistered
p584
sVreputation
p585
I166953
sVlink
p586
Vhttp://stackoverflow.com/users/464744/blender
p587
sVaccept_rate
p588
I86
sVdisplay_name
p589
VBlender
p590
ssVis_accepted
p591
I01
sVlast_edit_date
p592
I1385398359
sVanswer_id
p593
I14027686
sa(dp594
Vbody
p595
V<p>It looks as if strptime doesn't always support <code>%z</code>. Python appears to just call the C function, and strptime doesn't support <code>%z</code> on your platform.</p>\u000a\u000a<p><strong>Note:</strong> from Python 3.2 onwards it will always work.</p>\u000a
p596
sVquestion_id
p597
I2609259
sVlast_activity_date
p598
I1372120971
sVcreation_date
p599
I1270832228
sVscore
p600
I37
sVowner
p601
(dp602
Vuser_id
p603
I8453
sVprofile_image
p604
Vhttps://www.gravatar.com/avatar/7ac87ba5c4a6a18a60d62dc70e0fc241?s=128&d=identicon&r=PG
p605
sVuser_type
p606
Vregistered
p607
sVreputation
p608
I2766
sVlink
p609
Vhttp://stackoverflow.com/users/8453/clahey
p610
sVaccept_rate
p611
I75
sVdisplay_name
p612
Vclahey
p613
ssVis_accepted
p614
I01
sVlast_edit_date
p615
I1372120971
sVanswer_id
p616
I2609335
sa(dp617
Vbody
p618
V<p>Globals in Python are global <em>to a module</em>, not across all modules. (Many people are confused by this, because in, say, C, a global is the same across all implementation files unless you explicitly make it <code>static</code>.)</p>\u000a\u000a<p>There are different ways to solve this, depending on your actual use case.</p>\u000a\u000a<hr>\u000a\u000a<p>Before even going down this path, ask yourself whether this really needs to be global. Maybe you really want a class, with <code>f</code> as an instance method, rather than just a free function? Then you could do something like this:</p>\u000a\u000a<pre><code>import module1\u000athingy1 = module1.Thingy(a=3)\u000athingy1.f()\u000a</code></pre>\u000a\u000a<hr>\u000a\u000a<p>If you really do want a global, but it's just there to be used by <code>module1</code>, set it in that module.</p>\u000a\u000a<pre><code>import module1\u000amodule1.a=3\u000amodule1.f()\u000a</code></pre>\u000a\u000a<hr>\u000a\u000a<p>On the other hand, if <code>a</code> is shared by a whole lot of modules, put it somewhere else, and have everyone import it:</p>\u000a\u000a<pre><code>import shared_stuff\u000aimport module1\u000ashared_stuff.a = 3\u000amodule1.f()\u000a</code></pre>\u000a\u000a<p>\u2026 and, in module1.py:</p>\u000a\u000a<pre><code>import shared_stuff\u000adef f():\u000a    print shared_stuff.a\u000a</code></pre>\u000a\u000a<hr>\u000a\u000a<p>Or, in the rare case that you really do need it to be truly global everywhere, like a builtin, add it to the builtin module. The exact details differ between Python 2.x and 3.x. In 3.x, it works like this:</p>\u000a\u000a<pre><code>import builtins\u000aimport module1\u000abuiltins.a = 3\u000amodule1.f()\u000a</code></pre>\u000a
p619
sVquestion_id
p620
I15959534
sVlast_activity_date
p621
I1365717605
sVcreation_date
p622
I1365717605
sVscore
p623
I101
sVowner
p624
(dp625
Vuser_id
p626
I908494
sVprofile_image
p627
Vhttps://www.gravatar.com/avatar/7e41acaa8f6a0e0f5a7c645e93add55a?s=128&d=identicon&r=PG
p628
sVuser_type
p629
Vregistered
p630
sVreputation
p631
I178780
sVlink
p632
Vhttp://stackoverflow.com/users/908494/abarnert
p633
sVaccept_rate
p634
I25
sVdisplay_name
p635
Vabarnert
p636
ssVis_accepted
p637
I01
sVanswer_id
p638
I15959638
sa(dp639
Vbody
p640
V<pre><code>obj= Model.objects.filter(testfield=12).order_by('-id')[0]\u000a</code></pre>\u000a
p641
sVquestion_id
p642
I15675672
sVlast_activity_date
p643
I1364454618
sVcreation_date
p644
I1364453319
sVscore
p645
I46
sVowner
p646
(dp647
Vuser_id
p648
I2008506
sVprofile_image
p649
Vhttps://www.gravatar.com/avatar/daebad6cb24f25df23333b18753403fc?s=128&d=identicon&r=PG
p650
sVuser_type
p651
Vregistered
p652
sVreputation
p653
I13586
sVlink
p654
Vhttp://stackoverflow.com/users/2008506/catherine
p655
sVaccept_rate
p656
I76
sVdisplay_name
p657
Vcatherine
p658
ssVis_accepted
p659
I01
sVlast_edit_date
p660
I1364454618
sVanswer_id
p661
I15675846
sa(dp662
Vbody
p663
V<p>Just put the default arguments before the <code>*args</code>:</p>\u000a\u000a<pre><code>def foo(a, b=3, *args, **kwargs):\u000a</code></pre>\u000a\u000a<p>Now, <code>b</code> will be explicitly set if you pass it as a keyword argument or the second positional argument. </p>\u000a\u000a<p>Examples:</p>\u000a\u000a<pre><code>foo(x) # a=x, b=3, args=(), kwargs={}\u000afoo(x, y) # a=x, b=y, args=(), kwargs={}\u000afoo(x, b=y) # a=x, b=y, args=(), kwargs={}\u000afoo(x, y, z, k) # a=x, b=y, args=(z, k), kwargs={}\u000afoo(x, c=y, d=k) # a=x, b=3, args=(), kwargs={'c': y, 'd': k}\u000afoo(x, c=y, b=z, d=k) # a=x, b=z, args=(), kwargs={'c': y, 'd': k}\u000a</code></pre>\u000a\u000a<p>Note that, in particular, <code>foo(x, y, b=z)</code> doesn't work because <code>b</code> is assigned by position in that case.</p>\u000a\u000a<hr>\u000a\u000a<p>This code works in Python 3 too. Putting the default arg <em>after</em> <code>*args</code> in Python 3 makes it a "keyword-only" argument that can <em>only</em> be specified by name, not by position. If you want a keyword-only argument in Python 2, you can use @mgilson's solution.</p>\u000a
p664
sVquestion_id
p665
I15301999
sVlast_activity_date
p666
I1362772761
sVcreation_date
p667
I1362771936
sVscore
p668
I36
sVowner
p669
(dp670
Vuser_id
p671
I1204143
sVprofile_image
p672
Vhttps://www.gravatar.com/avatar/5ca341b160687d99b1317859f91054ee?s=128&d=identicon&r=PG
p673
sVuser_type
p674
Vregistered
p675
sVreputation
p676
I106720
sVlink
p677
Vhttp://stackoverflow.com/users/1204143/nneonneo
p678
sVaccept_rate
p679
I66
sVdisplay_name
p680
Vnneonneo
p681
ssVis_accepted
p682
I01
sVlast_edit_date
p683
I1362772761
sVanswer_id
p684
I15302042
sa(dp685
Vbody
p686
V<p>A simple pure-Python implementation would be:</p>\u000a\u000a<pre><code>import re, math\u000afrom collections import Counter\u000a\u000aWORD = re.compile(r'\u005cw+')\u000a\u000adef get_cosine(vec1, vec2):\u000a     intersection = set(vec1.keys()) &amp; set(vec2.keys())\u000a     numerator = sum([vec1[x] * vec2[x] for x in intersection])\u000a\u000a     sum1 = sum([vec1[x]**2 for x in vec1.keys()])\u000a     sum2 = sum([vec2[x]**2 for x in vec2.keys()])\u000a     denominator = math.sqrt(sum1) * math.sqrt(sum2)\u000a\u000a     if not denominator:\u000a        return 0.0\u000a     else:\u000a        return float(numerator) / denominator\u000a\u000adef text_to_vector(text):\u000a     words = WORD.findall(text)\u000a     return Counter(words)\u000a\u000atext1 = 'This is a foo bar sentence .'\u000atext2 = 'This sentence is similar to a foo bar sentence .'\u000a\u000avector1 = text_to_vector(text1)\u000avector2 = text_to_vector(text2)\u000a\u000acosine = get_cosine(vector1, vector2)\u000a\u000aprint 'Cosine:', cosine\u000a</code></pre>\u000a\u000a<p>Prints:</p>\u000a\u000a<pre><code>Cosine: 0.861640436855\u000a</code></pre>\u000a\u000a<p>The cosine formula used here is described <a href="http://en.wikipedia.org/wiki/Cosine_similarity" rel="noreferrer">here</a>.</p>\u000a\u000a<p>This does not include weighting of the words by tf-idf, but in order to use tf-idf, you need to have a reasonably large corpus from which to estimate tfidf weights.</p>\u000a\u000a<p>You can also develop it further, by using a more sophisticated way to extract words from a piece of text, stem or lemmatise it, etc.</p>\u000a
p687
sVquestion_id
p688
I15173225
sVlast_activity_date
p689
I1362228540
sVcreation_date
p690
I1362228022
sVscore
p691
I82
sVowner
p692
(dp693
Vuser_id
p694
I1859772
sVprofile_image
p695
Vhttps://www.gravatar.com/avatar/05bbd1d0875731297408557a7f7d4061?s=128&d=identicon&r=PG
p696
sVuser_type
p697
Vregistered
p698
sVreputation
p699
I1750
sVlink
p700
Vhttp://stackoverflow.com/users/1859772/vpekar
p701
sVdisplay_name
p702
Vvpekar
p703
ssVis_accepted
p704
I01
sVlast_edit_date
p705
I1362228540
sVanswer_id
p706
I15174569
sa(dp707
Vbody
p708
V<p>Groupby A:</p>\u000a\u000a<pre><code>In [0]: grp = df.groupby('A')\u000a</code></pre>\u000a\u000a<p>Within each group, sum over B and broadcast the values using transform.  Then sort by B:</p>\u000a\u000a<pre><code>In [1]: grp[['B']].transform(sum).sort('B')\u000aOut[1]:\u000a          B\u000a2 -2.829710\u000a5 -2.829710\u000a1  0.253651\u000a4  0.253651\u000a0  0.551377\u000a3  0.551377\u000a</code></pre>\u000a\u000a<p>Index the original df by passing the index from above.  This will re-order the A values by the aggregate sum of the B values:</p>\u000a\u000a<pre><code>In [2]: sort1 = df.ix[grp[['B']].transform(sum).sort('B').index]\u000a\u000aIn [3]: sort1\u000aOut[3]:\u000a     A         B      C\u000a2  baz -0.528172  False\u000a5  baz -2.301539   True\u000a1  bar -0.611756   True\u000a4  bar  0.865408  False\u000a0  foo  1.624345  False\u000a3  foo -1.072969   True\u000a</code></pre>\u000a\u000a<p>Finally, sort the 'C' values within groups of 'A' using the <code>sort=False</code> option to preserve the A sort order from step 1:</p>\u000a\u000a<pre><code>In [4]: f = lambda x: x.sort('C', ascending=False)\u000a\u000aIn [5]: sort2 = sort1.groupby('A', sort=False).apply(f)\u000a\u000aIn [6]: sort2\u000aOut[6]:\u000a         A         B      C\u000aA\u000abaz 5  baz -2.301539   True\u000a    2  baz -0.528172  False\u000abar 1  bar -0.611756   True\u000a    4  bar  0.865408  False\u000afoo 3  foo -1.072969   True\u000a    0  foo  1.624345  False\u000a</code></pre>\u000a\u000a<p>Clean up the df index by using <code>reset_index</code> with <code>drop=True</code>:</p>\u000a\u000a<pre><code>In [7]: sort2.reset_index(0, drop=True)\u000aOut[7]:\u000a     A         B      C\u000a5  baz -2.301539   True\u000a2  baz -0.528172  False\u000a1  bar -0.611756   True\u000a4  bar  0.865408  False\u000a3  foo -1.072969   True\u000a0  foo  1.624345  False\u000a</code></pre>\u000a
p709
sVquestion_id
p710
I14941366
sVlast_activity_date
p711
I1361225508
sVcreation_date
p712
I1361225508
sVscore
p713
I43
sVowner
p714
(dp715
Vuser_id
p716
I919872
sVprofile_image
p717
Vhttps://www.gravatar.com/avatar/4dbc53382955c1a7ee0a92c0d3e94066?s=128&d=identicon&r=PG
p718
sVuser_type
p719
Vregistered
p720
sVreputation
p721
I13924
sVlink
p722
Vhttp://stackoverflow.com/users/919872/zelazny7
p723
sVaccept_rate
p724
I81
sVdisplay_name
p725
VZelazny7
p726
ssVis_accepted
p727
I01
sVanswer_id
p728
I14946246
sa(dp729
Vbody
p730
V<p>Use the <a href="http://docs.python.org/library/xml.etree.elementtree.html#xml.etree.ElementTree.Element.remove"><code>remove</code></a> method of an xmlElement : </p>\u000a\u000a<pre class="lang-py prettyprint-override"><code>tree=et.fromstring(xml)\u000a\u000afor bad in tree.xpath("//fruit[@state=\u005c'rotten\u005c']"):\u000a  bad.getparent().remove(bad)     # here I grab the parent of the element to call the remove directly on it\u000a\u000aprint et.tostring(tree, pretty_print=True, xml_declaration=True)\u000a</code></pre>\u000a\u000a<p>If I had to compare with the @Acorn version, mine will work even if the elements to remove are not directly under the root node of your xml.</p>\u000a
p731
sVquestion_id
p732
I7981840
sVlast_activity_date
p733
I1360846822
sVcreation_date
p734
I1320243774
sVscore
p735
I76
sVowner
p736
(dp737
Vuser_id
p738
I718618
sVprofile_image
p739
Vhttps://www.gravatar.com/avatar/9878e99dc2bbd256050b7dc4ffea820b?s=128&d=identicon&r=PG
p740
sVuser_type
p741
Vregistered
p742
sVreputation
p743
I40180
sVlink
p744
Vhttp://stackoverflow.com/users/718618/c%c3%a9dric-julien
p745
sVdisplay_name
p746
VC&#233;dric Julien
p747
ssVis_accepted
p748
I01
sVlast_edit_date
p749
I1360846822
sVanswer_id
p750
I7981894
sa(dp751
Vbody
p752
V<p>No, it's not possible (at least not with arbitrary statements), nor is it desirable. Fitting everything on one line would most likely violate <a href="http://www.python.org/dev/peps/pep-0008/">PEP-8</a> where it is mandated that lines should not exceed 80 characters in length.</p>\u000a\u000a<p>It's also against the Zen of Python: "Readability counts". (Type <code>import this</code> at the Python prompt to read the whole thing).</p>\u000a\u000a<p>You <em>can</em> use a ternary expression in Python, but only for expressions, not for statements:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; a = "Hello" if foo() else "Goodbye"\u000a</code></pre>\u000a\u000a<p><strong>Edit:</strong></p>\u000a\u000a<p>Your revised question now shows that the three statements are identical except for the value being assigned. In that case, a chained ternary operator does work, but I still think that it's less readable:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; i=100\u000a&gt;&gt;&gt; a = 1 if i&lt;100 else 2 if i&gt;100 else 0\u000a&gt;&gt;&gt; a\u000a0\u000a&gt;&gt;&gt; i=101\u000a&gt;&gt;&gt; a = 1 if i&lt;100 else 2 if i&gt;100 else 0\u000a&gt;&gt;&gt; a\u000a2\u000a&gt;&gt;&gt; i=99\u000a&gt;&gt;&gt; a = 1 if i&lt;100 else 2 if i&gt;100 else 0\u000a&gt;&gt;&gt; a\u000a1\u000a</code></pre>\u000a
p753
sVquestion_id
p754
I14029245
sVlast_activity_date
p755
I1356453629
sVcreation_date
p756
I1356427006
sVscore
p757
I55
sVowner
p758
(dp759
Vuser_id
p760
I20670
sVprofile_image
p761
Vhttps://www.gravatar.com/avatar/251f2449ffba9fbcc3491db6564ff4a2?s=128&d=identicon&r=PG
p762
sVuser_type
p763
Vregistered
p764
sVreputation
p765
I209304
sVlink
p766
Vhttp://stackoverflow.com/users/20670/tim-pietzcker
p767
sVaccept_rate
p768
I100
sVdisplay_name
p769
VTim Pietzcker
p770
ssVis_accepted
p771
I01
sVlast_edit_date
p772
I1356453629
sVanswer_id
p773
I14029300
sa(dp774
Vbody
p775
V<p><em>Some</em> of the performance difference can be explained by taking into account the time it takes the <code>.</code> operator to do its thing:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; x = 'foobar'\u000a&gt;&gt;&gt; y = 'foo'\u000a&gt;&gt;&gt; sw = x.startswith\u000a&gt;&gt;&gt; %timeit x.startswith(y)\u000a1000000 loops, best of 3: 316 ns per loop\u000a&gt;&gt;&gt; %timeit sw(y)\u000a1000000 loops, best of 3: 267 ns per loop\u000a&gt;&gt;&gt; %timeit x[:3] == y\u000a10000000 loops, best of 3: 151 ns per loop\u000a</code></pre>\u000a\u000a<p>Another portion of the difference can be explained by the fact that <code>startswith</code> is a <em>function</em>, and even no-op function calls take a bit of time:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; def f():\u000a...     pass\u000a... \u000a&gt;&gt;&gt; %timeit f()\u000a10000000 loops, best of 3: 105 ns per loop\u000a</code></pre>\u000a\u000a<p>This does not <em>totally</em> explain the difference, since the version using slicing and <code>len</code> calls a function and is still faster (compare to <code>sw(y)</code> above -- 267 ns):</p>\u000a\u000a<pre><code>&gt;&gt;&gt; %timeit x[:len(y)] == y\u000a1000000 loops, best of 3: 213 ns per loop\u000a</code></pre>\u000a\u000a<p>My only guess here is that maybe Python optimizes lookup time for built-in functions, or that <code>len</code> calls are heavily optimized (which is probably true). It might be possible to test that with a custom <code>len</code> func. Or possibly this is where the differences identified by <a href="http://stackoverflow.com/a/13271036/577088">LastCoder</a> kick in. Note also <a href="http://stackoverflow.com/a/13271349/577088">larsmans</a>' results, which indicate that <code>startswith</code> is actually faster for longer strings. The whole line of reasoning above applies only to those cases where the overhead I'm talking about actually matters. </p>\u000a
p776
sVquestion_id
p777
I13270888
sVlast_activity_date
p778
I1352297305
sVcreation_date
p779
I1352296139
sVscore
p780
I31
sVowner
p781
(dp782
Vuser_id
p783
I577088
sVprofile_image
p784
Vhttps://i.stack.imgur.com/5UZyo.jpg?s=128&g=1
p785
sVuser_type
p786
Vregistered
p787
sVreputation
p788
I67900
sVlink
p789
Vhttp://stackoverflow.com/users/577088/senderle
p790
sVdisplay_name
p791
Vsenderle
p792
ssVis_accepted
p793
I01
sVlast_edit_date
p794
I1352297305
sVanswer_id
p795
I13271125
sa(dp796
Vbody
p797
V<p>Call the function in this way:</p>\u000a\u000a<pre><code>self.parse_file()\u000a</code></pre>\u000a\u000a<p>You also need to define your parse_file() function like this:</p>\u000a\u000a<pre><code>def parse_file(self):\u000a</code></pre>\u000a\u000a<p>The parse_file method has to be bound to an object upon calling it (because it's not a static method). This is done by calling the function on an instance of the object, in your case the instance is <code>self</code>.</p>\u000a
p798
sVquestion_id
p799
I12646326
sVlast_activity_date
p800
I1348861973
sVcreation_date
p801
I1348861530
sVscore
p802
I52
sVowner
p803
(dp804
Vuser_id
p805
I1698813
sVprofile_image
p806
Vhttps://i.stack.imgur.com/1Otgl.jpg?s=128&g=1
p807
sVuser_type
p808
Vregistered
p809
sVreputation
p810
I1809
sVlink
p811
Vhttp://stackoverflow.com/users/1698813/lewis-diamond
p812
sVaccept_rate
p813
I60
sVdisplay_name
p814
VLewis Diamond
p815
ssVis_accepted
p816
I01
sVlast_edit_date
p817
I1348861973
sVanswer_id
p818
I12646396
sa(dp819
Vbody
p820
V<pre><code>return HttpResponse(status=204)\u000a</code></pre>\u000a
p821
sVquestion_id
p822
I12476452
sVlast_activity_date
p823
I1347990122
sVcreation_date
p824
I1347970834
sVscore
p825
I80
sVowner
p826
(dp827
Vuser_id
p828
I200434
sVprofile_image
p829
Vhttps://www.gravatar.com/avatar/3b926bea0b7257b2d324ca483282578e?s=128&d=identicon&r=PG
p830
sVuser_type
p831
Vregistered
p832
sVreputation
p833
I13223
sVlink
p834
Vhttp://stackoverflow.com/users/200434/steve-mayne
p835
sVaccept_rate
p836
I80
sVdisplay_name
p837
VSteve Mayne
p838
ssVis_accepted
p839
I01
sVlast_edit_date
p840
I1347990122
sVanswer_id
p841
I12476918
sa(dp842
Vbody
p843
V<p>Here's one way to do it:</p>\u000a\u000a<pre><code>if not any(d['main_color'] == 'red' for d in a):\u000a    # does not exist\u000a</code></pre>\u000a\u000a<p>The part in parentheses is a generator expression that returns <code>True</code> for each dictionary that has the key-value pair you are looking for, otherwise <code>False</code>.</p>\u000a\u000a<hr>\u000a\u000a<p>If the key could also be missing the above code can give you a <code>KeyError</code>. You can fix this by using <code>get</code> and providing a default value.</p>\u000a\u000a<pre><code>if not any(d.get('main_color', None) == 'red' for d in a):\u000a    # does not exist\u000a</code></pre>\u000a
p844
sVquestion_id
p845
I3897499
sVlast_activity_date
p846
I1346573023
sVcreation_date
p847
I1286651771
sVscore
p848
I95
sVowner
p849
(dp850
Vuser_id
p851
I61974
sVprofile_image
p852
Vhttps://www.gravatar.com/avatar/ad240ed5cc406759f0fd72591dc8ca47?s=128&d=identicon&r=PG
p853
sVuser_type
p854
Vregistered
p855
sVreputation
p856
I484956
sVlink
p857
Vhttp://stackoverflow.com/users/61974/mark-byers
p858
sVdisplay_name
p859
VMark Byers
p860
ssVis_accepted
p861
I01
sVlast_edit_date
p862
I1346573023
sVanswer_id
p863
I3897516
sa(dp864
Vbody
p865
V<p>Perhaps apigen.py can help: <a href="https://github.com/nipy/nipy/tree/master/tools" rel="noreferrer">https://github.com/nipy/nipy/tree/master/tools</a>.</p>\u000a\u000a<p>This tool is described very briefly here: <a href="http://comments.gmane.org/gmane.comp.python.sphinx.devel/2912" rel="noreferrer">http://comments.gmane.org/gmane.comp.python.sphinx.devel/2912</a>.</p>\u000a\u000a<hr>\u000a\u000a<p>Update: the <a href="http://sphinx.pocoo.org/invocation.html#invocation-of-sphinx-apidoc" rel="noreferrer">sphinx-apidoc</a> utility was added in Sphinx <a href="http://sphinx.pocoo.org/changes.html#release-1-1-oct-9-2011" rel="noreferrer">version 1.1</a>.</p>\u000a
p866
sVquestion_id
p867
I4616693
sVlast_activity_date
p868
I1331756590
sVcreation_date
p869
I1294335169
sVscore
p870
I16
sVowner
p871
(dp872
Vuser_id
p873
I407651
sVprofile_image
p874
Vhttps://www.gravatar.com/avatar/6e1f48e20177ed6c4c3197a9a92f48e5?s=128&d=identicon&r=PG
p875
sVuser_type
p876
Vregistered
p877
sVreputation
p878
I24243
sVlink
p879
Vhttp://stackoverflow.com/users/407651/mzjn
p880
sVdisplay_name
p881
Vmzjn
p882
ssVis_accepted
p883
I01
sVlast_edit_date
p884
I1331756590
sVanswer_id
p885
I4617804
sa(dp886
Vbody
p887
V<p>Try calling it like: <code>obj.some_function( '1', 2, '3', g="foo", h="bar" )</code>. After the required positional arguments, you can specify specific optional arguments by name.</p>\u000a
p888
sVquestion_id
p889
I9539921
sVlast_activity_date
p890
I1330720351
sVcreation_date
p891
I1330720351
sVscore
p892
I50
sVowner
p893
(dp894
Vuser_id
p895
I374746
sVprofile_image
p896
Vhttps://www.gravatar.com/avatar/659060fcfde804c6582d87b432dfa497?s=128&d=identicon&r=PG
p897
sVuser_type
p898
Vregistered
p899
sVreputation
p900
I11351
sVlink
p901
Vhttp://stackoverflow.com/users/374746/russell-borogove
p902
sVdisplay_name
p903
VRussell Borogove
p904
ssVis_accepted
p905
I01
sVanswer_id
p906
I9539945
sa(dp907
Vbody
p908
V<p>Paper: <a href="http://emr.cs.iit.edu/~reingold/hindu-paper.pdf">Indian Calendrical Calculations</a><br>\u000aProvides Common Lisp code in the appendix.</p>\u000a\u000a<p>While a Python (or other language) solution could be written according to the paper, the authors enumerate the Indian calendar rules pretty well, so it's a pretty solid paper if you're willing to consider taking the provided Common Lisp code.</p>\u000a
p909
sVquestion_id
p910
I8645956
sVlast_activity_date
p911
I1330683185
sVcreation_date
p912
I1330683185
sVscore
p913
I7
sVowner
p914
(dp915
Vuser_id
p916
I498705
sVprofile_image
p917
Vhttps://i.stack.imgur.com/EYkZa.jpg?s=128&g=1
p918
sVuser_type
p919
Vregistered
p920
sVreputation
p921
I8341
sVlink
p922
Vhttp://stackoverflow.com/users/498705/prashant-kumar
p923
sVaccept_rate
p924
I91
sVdisplay_name
p925
VPrashant Kumar
p926
ssVis_accepted
p927
I01
sVanswer_id
p928
I9531466
sa(dp929
Vbody
p930
V<p><del>On <strong>any</strong> exception?</p>\u000a\u000a<p>If my memory serves me right, in PyDev (in Eclipse) this is possible.</del></p>\u000a\u000a<p><hr>\u000a<strong>EDIT:</strong> went through it again, checked <a href="http://docs.python.org/library/pdb.html" rel="noreferrer">pdb documentation</a>, can't find a way to set an exception breakpoint.</p>\u000a\u000a<p>If I may suggest a really crude workaround, but if you must, you can call your program from within a <code>try-except</code> block, set a breakpoint there, and once it breaks in the <code>except</code> block just go up the stack and debug your error. </p>\u000a\u000a<p><strong>Another edit</strong> This functionality <a href="http://stackoverflow.com/a/6655894/17523">has been added to PyDev</a> </p>\u000a
p931
sVquestion_id
p932
I455552
sVlast_activity_date
p933
I1328429549
sVcreation_date
p934
I1232300609
sVscore
p935
I16
sVowner
p936
(dp937
Vuser_id
p938
I24545
sVprofile_image
p939
Vhttps://www.gravatar.com/avatar/0a59649d5bff1787b18d3a73da34a27a?s=128&d=identicon&r=PG
p940
sVuser_type
p941
Vregistered
p942
sVreputation
p943
I92496
sVlink
p944
Vhttp://stackoverflow.com/users/24545/yuval-adam
p945
sVaccept_rate
p946
I99
sVdisplay_name
p947
VYuval Adam
p948
ssVis_accepted
p949
I01
sVlast_edit_date
p950
I1328429549
sVanswer_id
p951
I455556
sa(dp952
Vbody
p953
V<p>There's no need to mess with your <code>PYTHONPATH</code> or <code>sys.path</code> here.</p>\u000a\u000a<p>To properly use absolute imports in a package you should include the "root" packagename as well, e.g.:</p>\u000a\u000a<pre><code>from dirFoo.dirFoo1.foo1 import Foo1\u000afrom dirFoo.dirFoo2.foo2 import Foo2\u000a</code></pre>\u000a\u000a<p>Or you can use <a href="http://docs.python.org/tutorial/modules.html#intra-package-references" rel="noreferrer">relative imports</a>:</p>\u000a\u000a<pre><code>from .dirfoo1.foo1 import Foo1\u000afrom .dirfoo1.foo1 import Foo2\u000a</code></pre>\u000a
p954
sVquestion_id
p955
I8953844
sVlast_activity_date
p956
I1327162681
sVcreation_date
p957
I1327162681
sVscore
p958
I59
sVowner
p959
(dp960
Vuser_id
p961
I617711
sVprofile_image
p962
Vhttps://i.stack.imgur.com/fHTfP.jpg?s=128&g=1
p963
sVuser_type
p964
Vregistered
p965
sVreputation
p966
I9555
sVlink
p967
Vhttp://stackoverflow.com/users/617711/rob-wouters
p968
sVdisplay_name
p969
VRob Wouters
p970
ssVis_accepted
p971
I01
sVanswer_id
p972
I8954533
sa(dp973
Vbody
p974
V<p>Sure. Assuming you have a string with the file's name called <code>fname</code>, the following does the trick.</p>\u000a\u000a<pre><code>with open(fname, 'r') as fin:\u000a    print fin.read()\u000a</code></pre>\u000a
p975
sVquestion_id
p976
I8084260
sVlast_activity_date
p977
I1320949015
sVcreation_date
p978
I1320949015
sVscore
p979
I57
sVowner
p980
(dp981
Vuser_id
p982
I937870
sVprofile_image
p983
Vhttps://www.gravatar.com/avatar/2282252d89ba3869c9c1d2ac82ede44c?s=128&d=identicon&r=PG
p984
sVuser_type
p985
Vregistered
p986
sVreputation
p987
I9981
sVlink
p988
Vhttp://stackoverflow.com/users/937870/david-alber
p989
sVdisplay_name
p990
VDavid Alber
p991
ssVis_accepted
p992
I01
sVanswer_id
p993
I8084311
sa(dp994
Vbody
p995
V<p>There are drawbacks of using reference counting. One of the most mentioned is circular references: Suppose A references B, B references C and C references B. If A were to drop its reference to B, both B and C will still have a reference count of 1 and won't be deleted with traditional reference counting. CPython (reference counting is not part of python itself, but part of the C implementation thereof) catches circular references with a separate garbage collection routine that it runs periodically...</p>\u000a\u000a<p>Another drawback: Reference counting can make execution slower. Each time an object is referenced and dereferenced, the interpreter/VM must check to see if the count has gone down to 0 (and then deallocate if it did). Garbage Collection does not need to do this.</p>\u000a\u000a<p>Also, Garbage Collection can be done in a separate thread (though it can be a bit tricky). On machines with lots of RAM and for processes that use memory only slowly, you might not want to be doing GC at all! Reference counting would be a bit of a drawback there in terms of performance...</p>\u000a
p996
sVquestion_id
p997
I21934
sVlast_activity_date
p998
I1319093511
sVcreation_date
p999
I1219396206
sVscore
p1000
I41
sVowner
p1001
(dp1002
Vuser_id
p1003
I2260
sVprofile_image
p1004
Vhttps://www.gravatar.com/avatar/7adfa37e16d44badfc22e2b1d9a78bca?s=128&d=identicon&r=PG
p1005
sVuser_type
p1006
Vregistered
p1007
sVreputation
p1008
I36074
sVlink
p1009
Vhttp://stackoverflow.com/users/2260/daren-thomas
p1010
sVaccept_rate
p1011
I87
sVdisplay_name
p1012
VDaren Thomas
p1013
ssVis_accepted
p1014
I01
sVlast_edit_date
p1015
I1319093511
sVanswer_id
p1016
I21964
sa(dp1017
Vbody
p1018
V<p>Just pass the list to <code>np.array</code>:</p>\u000a\u000a<pre><code>a = np.array(a)\u000a</code></pre>\u000a\u000a<p>You can also take this opportunity to set the <code>dtype</code> if the default is not what you desire.</p>\u000a\u000a<pre><code>a = np.array(a, dtype=...)\u000a</code></pre>\u000a
p1019
sVquestion_id
p1020
I7717380
sVlast_activity_date
p1021
I1318273656
sVcreation_date
p1022
I1318273656
sVscore
p1023
I47
sVowner
p1024
(dp1025
Vuser_id
p1026
I190597
sVprofile_image
p1027
Vhttps://www.gravatar.com/avatar/aabc98d5c6482ca0e1405ec97710f30a?s=128&d=identicon&r=PG&f=1
p1028
sVuser_type
p1029
Vregistered
p1030
sVreputation
p1031
I425294
sVlink
p1032
Vhttp://stackoverflow.com/users/190597/unutbu
p1033
sVaccept_rate
p1034
I88
sVdisplay_name
p1035
Vunutbu
p1036
ssVis_accepted
p1037
I01
sVanswer_id
p1038
I7717418
sa(dp1039
Vbody
p1040
V<p>You could use <code>set</code> to increment a counter:</p>\u000a\u000a<pre><code>{% set count = 1 %}\u000a{% for i in p %}\u000a  {{ count }}\u000a  {% set count = count + 1 %}\u000a{% endfor %}\u000a</code></pre>\u000a\u000a<p>Or you could use <code>loop.index</code>:</p>\u000a\u000a<pre><code>{% for i in p %}\u000a  {{ loop.index }}\u000a{% endfor %}\u000a</code></pre>\u000a\u000a<p>Check the <a href="http://jinja.pocoo.org/docs/templates/">template designer documentation</a>.</p>\u000a
p1041
sVquestion_id
p1042
I7537439
sVlast_activity_date
p1043
I1316846313
sVcreation_date
p1044
I1316846313
sVscore
p1045
I73
sVowner
p1046
(dp1047
Vuser_id
p1048
I641766
sVprofile_image
p1049
Vhttps://www.gravatar.com/avatar/cf83bc8f88d3065a6ab580be5cffc364?s=128&d=identicon&r=PG
p1050
sVuser_type
p1051
Vregistered
p1052
sVreputation
p1053
I31744
sVlink
p1054
Vhttp://stackoverflow.com/users/641766/zeekay
p1055
sVdisplay_name
p1056
Vzeekay
p1057
ssVis_accepted
p1058
I01
sVanswer_id
p1059
I7537466
sa(dp1060
Vbody
p1061
V<p>OK, to be clear.</p>\u000a\u000a<p>Twisted doesn't do anything about <em><a href="http://en.wikipedia.org/wiki/CPU_bound">cpu bound tasks</a></em>  and for good reason.  there's no way to make a compute bound job go any quicker by reordering subtasks; the only thing you could possibly do is add more compute resources; and even that wouldn't work out in python because of a subtlety of its implementation.</p>\u000a\u000a<p>Twisted offers special semantics and event loop handling in case the program would become "<em>stuck</em>" waiting for something outside if its control; most normally a process running on another machine and communicating with your twisted process over a network connection.  Since you would be <em>waiting</em> anyways, twisted gives you a mechanism to get more things done in the meantime.  That is to say, twisted provides concurrency for <em><a href="http://en.wikipedia.org/wiki/I/O_bound">I/O Bound tasks</a></em></p>\u000a\u000a<p>tl;dr: twisted is for network code.  Everything else is just normal python.</p>\u000a
p1062
sVquestion_id
p1063
I7313761
sVlast_activity_date
p1064
I1315268628
sVcreation_date
p1065
I1315268628
sVscore
p1066
I35
sVowner
p1067
(dp1068
Vuser_id
p1069
I65696
sVprofile_image
p1070
Vhttps://www.gravatar.com/avatar/d8da959b2a586b4a147604e6f534a9fe?s=128&d=identicon&r=PG
p1071
sVuser_type
p1072
Vregistered
p1073
sVreputation
p1074
I91218
sVlink
p1075
Vhttp://stackoverflow.com/users/65696/singlenegationelimination
p1076
sVaccept_rate
p1077
I85
sVdisplay_name
p1078
VSingleNegationElimination
p1079
ssVis_accepted
p1080
I01
sVanswer_id
p1081
I7313862
sa(dp1082
Vbody
p1083
V<p>That may not answer your question directly, but will definitely help. If use the profiler with option --sort cumulative it will sort the functions by cumulative time. Which is helpful to detect not only heavy functions but the functions that call them.</p>\u000a\u000a<pre><code>python -m cProfile --sort cumulative myScript.py\u000a</code></pre>\u000a\u000a<p>There is a workaround to get the caller function:</p>\u000a\u000a<pre><code>import inspect\u000aprint inspect.getframeinfo(inspect.currentframe().f_back)[2]\u000a</code></pre>\u000a\u000a<p>You can add as many f_back as you want in case you want the caller caller etc\u000aIf you want to calculate frequent calls you can do this:</p>\u000a\u000a<pre><code>record = {}\u000a\u000acaller = inspect.getframeinfo(inspect.currentframe().f_back)[2]\u000arecord[caller] = record.get(caller, 0) + 1\u000a</code></pre>\u000a\u000a<p>Then print them by order of frequency:</p>\u000a\u000a<pre><code>print sorted(record.items(), key=lambda a: a[1])\u000a</code></pre>\u000a
p1084
sVquestion_id
p1085
I843671
sVlast_activity_date
p1086
I1312397491
sVcreation_date
p1087
I1241889538
sVscore
p1088
I32
sVowner
p1089
(dp1090
Vuser_id
p1091
I97828
sVprofile_image
p1092
Vhttps://www.gravatar.com/avatar/ec468ce2d7da3ab5a194716eb1cc5ef5?s=128&d=identicon&r=PG
p1093
sVuser_type
p1094
Vregistered
p1095
sVreputation
p1096
I64017
sVlink
p1097
Vhttp://stackoverflow.com/users/97828/nadia-alramli
p1098
sVdisplay_name
p1099
VNadia Alramli
p1100
ssVis_accepted
p1101
I01
sVlast_edit_date
p1102
I1312397491
sVanswer_id
p1103
I843690
sa(dp1104
Vbody
p1105
V<p>Literal strings are unicode by default in Python3</p>\u000a\u000a<p>Assuming that text is a <code>bytes</code> object, just use <code>text.decode('utf-8')</code></p>\u000a\u000a<p><code>unicode</code> of Python2 is equivalent to <code>str</code> in Python3, so you can also write</p>\u000a\u000a<pre><code>str(text, 'utf-8')\u000a</code></pre>\u000a\u000a<p>if you prefer</p>\u000a
p1106
sVquestion_id
p1107
I6812031
sVlast_activity_date
p1108
I1311571306
sVcreation_date
p1109
I1311571306
sVscore
p1110
I54
sVowner
p1111
(dp1112
Vuser_id
p1113
I174728
sVprofile_image
p1114
Vhttps://i.stack.imgur.com/eRO75.jpg?s=128&g=1
p1115
sVuser_type
p1116
Vregistered
p1117
sVreputation
p1118
I167078
sVlink
p1119
Vhttp://stackoverflow.com/users/174728/john-la-rooy
p1120
sVaccept_rate
p1121
I100
sVdisplay_name
p1122
VJohn La Rooy
p1123
ssVis_accepted
p1124
I01
sVanswer_id
p1125
I6812069
sa(dp1126
Vbody
p1127
V<p>You should indeed be nervous. The whole idea that you might have a mixture of bytes and text in some data structure is horrifying. It violates the fundamental principle of working with string data: decode at input time, work exclusively in unicode, encode at output time.</p>\u000a\u000a<p>Update in response to comment:</p>\u000a\u000a<p>You are about to output some sort of HTTP request. This needs to be prepared as a byte string. The fact that urllib.urlencode is not capable of properly preparing that byte string if there are unicode characters with ordinal >= 128 in your dict is indeed unfortunate. If you have a mixture of byte strings and unicode strings in your dict, you need to be careful. Let's examine just what urlencode() does:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; import urllib\u000a&gt;&gt;&gt; tests = ['\u005cx80', '\u005cxe2\u005cx82\u005cxac', 1, '1', u'1', u'\u005cx80', u'\u005cu20ac']\u000a&gt;&gt;&gt; for test in tests:\u000a...     print repr(test), repr(urllib.urlencode({'a':test}))\u000a...\u000a'\u005cx80' 'a=%80'\u000a'\u005cxe2\u005cx82\u005cxac' 'a=%E2%82%AC'\u000a1 'a=1'\u000a'1' 'a=1'\u000au'1' 'a=1'\u000au'\u005cx80'\u000aTraceback (most recent call last):\u000a  File "&lt;stdin&gt;", line 2, in &lt;module&gt;\u000a  File "C:\u005cpython27\u005clib\u005curllib.py", line 1282, in urlencode\u000a    v = quote_plus(str(v))\u000aUnicodeEncodeError: 'ascii' codec can't encode character u'\u005cx80' in position 0: ordinal not in range(128)\u000a</code></pre>\u000a\u000a<p>The last two tests demonstrate the problem with urlencode(). Now let's look at the str tests.</p>\u000a\u000a<p>If you insist on having a mixture, then you should at the very least ensure that the str objects are encoded in UTF-8.</p>\u000a\u000a<p>'\u005cx80' is suspicious -- it is not the result of any_valid_unicode_string.encode('utf8').<br>\u000a'\u005cxe2\u005cx82\u005cxac' is OK; it's the result of u'\u005cu20ac'.encode('utf8').<br>\u000a'1' is OK -- all ASCII characters are OK on input to urlencode(), which will percent-encode such as '%' if necessary.</p>\u000a\u000a<p>Here's a suggested converter function. It doesn't mutate the input dict as well as returning it (as yours does); it returns a new dict. It forces an exception if a value is a str object but is not a valid UTF-8 string. By the way, your concern about it not handling nested objects is a little misdirected -- your code works only with dicts, and the concept of nested dicts doesn't really fly.</p>\u000a\u000a<pre><code>def encoded_dict(in_dict):\u000a    out_dict = {}\u000a    for k, v in in_dict.iteritems():\u000a        if isinstance(v, unicode):\u000a            v = v.encode('utf8')\u000a        elif isinstance(v, str):\u000a            # Must be encoded in UTF-8\u000a            v.decode('utf8')\u000a        out_dict[k] = v\u000a    return out_dict\u000a</code></pre>\u000a\u000a<p>and here's the output, using the same tests in reverse order (because the nasty one is at the front this time):</p>\u000a\u000a<pre><code>&gt;&gt;&gt; for test in tests[::-1]:\u000a...     print repr(test), repr(urllib.urlencode(encoded_dict({'a':test})))\u000a...\u000au'\u005cu20ac' 'a=%E2%82%AC'\u000au'\u005cx80' 'a=%C2%80'\u000au'1' 'a=1'\u000a'1' 'a=1'\u000a1 'a=1'\u000a'\u005cxe2\u005cx82\u005cxac' 'a=%E2%82%AC'\u000a'\u005cx80'\u000aTraceback (most recent call last):\u000a  File "&lt;stdin&gt;", line 2, in &lt;module&gt;\u000a  File "&lt;stdin&gt;", line 8, in encoded_dict\u000a  File "C:\u005cpython27\u005clib\u005cencodings\u005cutf_8.py", line 16, in decode\u000a    return codecs.utf_8_decode(input, errors, True)\u000aUnicodeDecodeError: 'utf8' codec can't decode byte 0x80 in position 0: invalid start byte\u000a&gt;&gt;&gt;\u000a</code></pre>\u000a\u000a<p>Does that help?</p>\u000a
p1128
sVquestion_id
p1129
I6480723
sVlast_activity_date
p1130
I1309076193
sVcreation_date
p1131
I1309044130
sVscore
p1132
I57
sVowner
p1133
(dp1134
Vuser_id
p1135
I84270
sVprofile_image
p1136
Vhttps://www.gravatar.com/avatar/da2c0de47c3681c58f25b1eb821f7221?s=128&d=identicon&r=PG
p1137
sVuser_type
p1138
Vregistered
p1139
sVreputation
p1140
I55767
sVlink
p1141
Vhttp://stackoverflow.com/users/84270/john-machin
p1142
sVdisplay_name
p1143
VJohn Machin
p1144
ssVis_accepted
p1145
I01
sVlast_edit_date
p1146
I1309076193
sVanswer_id
p1147
I6481120
sa(dp1148
Vbody
p1149
V<p>Sure you can; its called a <a href="http://docs.python.org/tutorial/datastructures.html#dictionaries" rel="noreferrer">dictionary</a>:</p>\u000a\u000a<pre><code>d={}\u000afor x in range(1,10):\u000a        d["string{0}".format(x)]="Hello"\u000a\u000aIn [7]: d["string5"]\u000aOut[7]: 'Hello'\u000a\u000aIn [8]: d\u000aOut[8]: \u000a{'string1': 'Hello',\u000a 'string2': 'Hello',\u000a 'string3': 'Hello',\u000a 'string4': 'Hello',\u000a 'string5': 'Hello',\u000a 'string6': 'Hello',\u000a 'string7': 'Hello',\u000a 'string8': 'Hello',\u000a 'string9': 'Hello'}\u000a</code></pre>\u000a\u000a<p>I said this somewhat tongue in check, but really the best way to associate one value with another value is a dictionary. That is what it was designed for!    </p>\u000a
p1150
sVquestion_id
p1151
I6181935
sVlast_activity_date
p1152
I1306805275
sVcreation_date
p1153
I1306803739
sVscore
p1154
I61
sVowner
p1155
(dp1156
Vuser_id
p1157
I455276
sVprofile_image
p1158
Vhttps://i.stack.imgur.com/JtuFL.jpg?s=128&g=1
p1159
sVuser_type
p1160
Vregistered
p1161
sVreputation
p1162
I14091
sVlink
p1163
Vhttp://stackoverflow.com/users/455276/the-wolf
p1164
sVaccept_rate
p1165
I100
sVdisplay_name
p1166
Vthe wolf
p1167
ssVis_accepted
p1168
I01
sVlast_edit_date
p1169
I1306805275
sVanswer_id
p1170
I6181978
sa(dp1171
Vbody
p1172
V<p>You could use the string formatting operator for that:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; '%.2f' % 1.234\u000a'1.23'\u000a&gt;&gt;&gt; '%.2f' % 5.0\u000a'5.00'\u000a</code></pre>\u000a\u000a<p>The result of the operator is a string, so you can store it in a variable, print etc.</p>\u000a
p1173
sVquestion_id
p1174
I6149006
sVlast_activity_date
p1175
I1306480530
sVcreation_date
p1176
I1306480530
sVscore
p1177
I69
sVowner
p1178
(dp1179
Vuser_id
p1180
I367273
sVprofile_image
p1181
Vhttps://www.gravatar.com/avatar/f1ed2b0c87f602ef30229f5c4b04eff6?s=128&d=identicon&r=PG
p1182
sVuser_type
p1183
Vregistered
p1184
sVreputation
p1185
I279603
sVlink
p1186
Vhttp://stackoverflow.com/users/367273/npe
p1187
sVaccept_rate
p1188
I96
sVdisplay_name
p1189
VNPE
p1190
ssVis_accepted
p1191
I01
sVanswer_id
p1192
I6149026
sa(dp1193
Vbody
p1194
V<p>The problem is at line:</p>\u000a\u000a<pre><code>subscriber.bind("tcp://localhost:5555")\u000a</code></pre>\u000a\u000a<p>try to change to:</p>\u000a\u000a<pre><code>subscriber.bind("tcp://127.0.0.1:5555")\u000a</code></pre>\u000a
p1195
sVquestion_id
p1196
I6024003
sVlast_activity_date
p1197
I1305583831
sVcreation_date
p1198
I1305583831
sVscore
p1199
I25
sVowner
p1200
(dp1201
Vuser_id
p1202
I260908
sVprofile_image
p1203
Vhttps://www.gravatar.com/avatar/362d69ce78ac544a706a3b925a04b458?s=128&d=identicon&r=PG
p1204
sVuser_type
p1205
Vregistered
p1206
sVreputation
p1207
I1152
sVlink
p1208
Vhttp://stackoverflow.com/users/260908/fdb
p1209
sVaccept_rate
p1210
I100
sVdisplay_name
p1211
Vfdb
p1212
ssVis_accepted
p1213
I01
sVanswer_id
p1214
I6024019
sa(dp1215
Vbody
p1216
V<p>Here is a quick example of how to perform incremental completion of file system paths. I've modified your example, organizing it into a class where methods named <code>complete_[name]</code> indicate top-level commands.</p>\u000a\u000a<p>I've switched the completion function to use the internal readline buffer to determine the state of the overall completion, which makes the state logic a bit simpler.  The path completion is in the <code>_complete_path(path)</code> method, and I've hooked up the <strong>extra</strong> command to perform path completions on its arguments.   </p>\u000a\u000a<p>I'm sure the code could be further simplified but it should provide you a decent starting point:</p>\u000a\u000a<pre><code>import os\u000aimport re\u000aimport readline\u000a\u000aCOMMANDS = ['extra', 'extension', 'stuff', 'errors',\u000a            'email', 'foobar', 'foo']\u000aRE_SPACE = re.compile('.*\u005cs+$', re.M)\u000a\u000aclass Completer(object):\u000a\u000a    def _listdir(self, root):\u000a        "List directory 'root' appending the path separator to subdirs."\u000a        res = []\u000a        for name in os.listdir(root):\u000a            path = os.path.join(root, name)\u000a            if os.path.isdir(path):\u000a                name += os.sep\u000a            res.append(name)\u000a        return res\u000a\u000a    def _complete_path(self, path=None):\u000a        "Perform completion of filesystem path."\u000a        if not path:\u000a            return self._listdir('.')\u000a        dirname, rest = os.path.split(path)\u000a        tmp = dirname if dirname else '.'\u000a        res = [os.path.join(dirname, p)\u000a                for p in self._listdir(tmp) if p.startswith(rest)]\u000a        # more than one match, or single match which does not exist (typo)\u000a        if len(res) &gt; 1 or not os.path.exists(path):\u000a            return res\u000a        # resolved to a single directory, so return list of files below it\u000a        if os.path.isdir(path):\u000a            return [os.path.join(path, p) for p in self._listdir(path)]\u000a        # exact file match terminates this completion\u000a        return [path + ' ']\u000a\u000a    def complete_extra(self, args):\u000a        "Completions for the 'extra' command."\u000a        if not args:\u000a            return self._complete_path('.')\u000a        # treat the last arg as a path and complete it\u000a        return self._complete_path(args[-1])\u000a\u000a    def complete(self, text, state):\u000a        "Generic readline completion entry point."\u000a        buffer = readline.get_line_buffer()\u000a        line = readline.get_line_buffer().split()\u000a        # show all commands\u000a        if not line:\u000a            return [c + ' ' for c in COMMANDS][state]\u000a        # account for last argument ending in a space\u000a        if RE_SPACE.match(buffer):\u000a            line.append('')\u000a        # resolve command to the implementation function\u000a        cmd = line[0].strip()\u000a        if cmd in COMMANDS:\u000a            impl = getattr(self, 'complete_%s' % cmd)\u000a            args = line[1:]\u000a            if args:\u000a                return (impl(args) + [None])[state]\u000a            return [cmd + ' '][state]\u000a        results = [c + ' ' for c in COMMANDS if c.startswith(cmd)] + [None]\u000a        return results[state]\u000a\u000acomp = Completer()\u000a# we want to treat '/' as part of a word, so override the delimiters\u000areadline.set_completer_delims(' \u005ct\u005cn;')\u000areadline.parse_and_bind("tab: complete")\u000areadline.set_completer(comp.complete)\u000araw_input('Enter section name: ')\u000a</code></pre>\u000a\u000a<p>Usage:</p>\u000a\u000a<pre><code>% python complete.py \u000aEnter section name: ext&lt;tab&gt;\u000aextension extra\u000aEnter section name: extra foo&lt;tab&gt;\u000afoo.py foo.txt foo/\u000aEnter section name: extra foo/&lt;tab&gt;\u000afoo/bar.txt foo/baz.txt\u000aEnter section name: extra foo/bar.txt\u000a</code></pre>\u000a\u000a<p><strong>Update</strong> It will complete paths from the root if the user types <code>/</code>:</p>\u000a\u000a<pre><code>% python complete.py\u000aEnter section name: extra /Use&lt;tab&gt;\u000a/Users/.localized  /Users/Shared/  /Users/user1 /Users/user2\u000aEnter section name: extra /Users/use&lt;tab&gt;\u000a/Users/user1  /Users/user2\u000a</code></pre>\u000a
p1217
sVquestion_id
p1218
I5637124
sVlast_activity_date
p1219
I1302799988
sVcreation_date
p1220
I1302626287
sVscore
p1221
I53
sVowner
p1222
(dp1223
Vuser_id
p1224
I538718
sVprofile_image
p1225
Vhttps://www.gravatar.com/avatar/8ddd6dfe0f103ddc3c512f1f266597f9?s=128&d=identicon&r=PG
p1226
sVuser_type
p1227
Vregistered
p1228
sVreputation
p1229
I26212
sVlink
p1230
Vhttp://stackoverflow.com/users/538718/samplebias
p1231
sVdisplay_name
p1232
Vsamplebias
p1233
ssVis_accepted
p1234
I01
sVlast_edit_date
p1235
I1302799988
sVanswer_id
p1236
I5638688
sa(dp1237
Vbody
p1238
V<p>This feature has been added to PyDev 2.0.1 with an option to relaunch the tests in the last test run whenever a python file change, with an additional option to rerun only the errors -- although it'll run the full test suite if no errors were found, as the idea is that you work through your errors and when all pass a final launch for the whole suite is done (then you can move on to another task).</p>\u000a\u000a<p>The current nightly build has this feature incorporated.</p>\u000a\u000a<p><img src="https://i.stack.imgur.com/ZZgWk.png" alt="Picture with new action"></p>\u000a
p1239
sVquestion_id
p1240
I1015581
sVlast_activity_date
p1241
I1302703781
sVcreation_date
p1242
I1302703781
sVscore
p1243
I34
sVowner
p1244
(dp1245
Vuser_id
p1246
I110451
sVprofile_image
p1247
Vhttps://www.gravatar.com/avatar/70fc26faedcbfc82344a0b347053aaa0?s=128&d=identicon&r=PG
p1248
sVuser_type
p1249
Vregistered
p1250
sVreputation
p1251
I18399
sVlink
p1252
Vhttp://stackoverflow.com/users/110451/fabio-zadrozny
p1253
sVdisplay_name
p1254
VFabio Zadrozny
p1255
ssVis_accepted
p1256
I01
sVanswer_id
p1257
I5650640
sa(dp1258
Vbody
p1259
V<p>You might want to take a look at the <code>timeit</code> module:</p>\u000a\u000a<p><a href="http://docs.python.org/library/timeit.html">http://docs.python.org/library/timeit.html</a></p>\u000a\u000a<p>or the <code>profile</code> module:</p>\u000a\u000a<p><a href="http://docs.python.org/library/profile.html">http://docs.python.org/library/profile.html</a></p>\u000a\u000a<p>There are some additionally some nice tutorials here:</p>\u000a\u000a<p><a href="http://www.doughellmann.com/PyMOTW/profile/index.html">http://www.doughellmann.com/PyMOTW/profile/index.html</a></p>\u000a\u000a<p><a href="http://www.doughellmann.com/PyMOTW/timeit/index.html">http://www.doughellmann.com/PyMOTW/timeit/index.html</a></p>\u000a\u000a<p>And the <code>time</code> module also might come in handy, although I prefer the later two recommendations for benchmarking and profiling code performance:</p>\u000a\u000a<p><a href="http://docs.python.org/library/time.html">http://docs.python.org/library/time.html</a></p>\u000a
p1260
sVquestion_id
p1261
I5622976
sVlast_activity_date
p1262
I1302533442
sVcreation_date
p1263
I1302533124
sVscore
p1264
I27
sVowner
p1265
(dp1266
Vuser_id
p1267
I392949
sVprofile_image
p1268
Vhttps://www.gravatar.com/avatar/ef7a66dcbb260f54c3d06b0490b844bf?s=128&d=identicon&r=PG
p1269
sVuser_type
p1270
Vregistered
p1271
sVreputation
p1272
I28899
sVlink
p1273
Vhttp://stackoverflow.com/users/392949/joshadel
p1274
sVaccept_rate
p1275
I70
sVdisplay_name
p1276
VJoshAdel
p1277
ssVis_accepted
p1278
I01
sVlast_edit_date
p1279
I1302533442
sVanswer_id
p1280
I5623040
sa(dp1281
Vbody
p1282
V<pre><code>import re \u000as = "123456789123456789"\u000amatches = re.finditer(r'(?=(\u005cd{10}))',s)\u000aresults = [int(match.group(1)) for match in matches]\u000a# results: \u000a# [1234567891,\u000a#  2345678912,\u000a#  3456789123,\u000a#  4567891234,\u000a#  5678912345,\u000a#  6789123456,\u000a#  7891234567,\u000a#  8912345678,\u000a#  9123456789]\u000a</code></pre>\u000a
p1283
sVquestion_id
p1284
I5616822
sVlast_activity_date
p1285
I1302498207
sVcreation_date
p1286
I1302497886
sVscore
p1287
I78
sVowner
p1288
(dp1289
Vuser_id
p1290
I42346
sVprofile_image
p1291
Vhttps://i.stack.imgur.com/ZikEw.jpg?s=128&g=1
p1292
sVuser_type
p1293
Vregistered
p1294
sVreputation
p1295
I84007
sVlink
p1296
Vhttp://stackoverflow.com/users/42346/bernie
p1297
sVdisplay_name
p1298
Vbernie
p1299
ssVis_accepted
p1300
I01
sVlast_edit_date
p1301
I1302498207
sVanswer_id
p1302
I5616910
sa(dp1303
Vbody
p1304
V<p>To use <code>tensordot</code>, compute the outer product of the <code>g</code> tensors:</p>\u000a\u000a<pre><code>def rotT(T, g):\u000a    gg = np.outer(g, g)\u000a    gggg = np.outer(gg, gg).reshape(4 * g.shape)\u000a    axes = ((0, 2, 4, 6), (0, 1, 2, 3))\u000a    return np.tensordot(gggg, T, axes)\u000a</code></pre>\u000a\u000a<p>On my system, this is around seven times faster than Sven's solution. If the <code>g</code> tensor doesn't change often, you can also cache the <code>gggg</code> tensor. If you do this and turn on some micro-optimizations (inlining the <code>tensordot</code> code, no checks, no generic shapes), you can still make it two times faster:</p>\u000a\u000a<pre><code>def rotT(T, gggg):\u000a    return np.dot(gggg.transpose((1, 3, 5, 7, 0, 2, 4, 6)).reshape((81, 81)),\u000a                  T.reshape(81, 1)).reshape((3, 3, 3, 3))\u000a</code></pre>\u000a\u000a<p>Results of <code>timeit</code> on my home laptop (500 iterations):</p>\u000a\u000a<pre><code>Your original code: 19.471129179\u000aSven's code: 0.718412876129\u000aMy first code: 0.118047952652\u000aMy second code: 0.0690279006958\u000a</code></pre>\u000a\u000a<p>The numbers on my work machine are:</p>\u000a\u000a<pre><code>Your original code: 9.77922987938\u000aSven's code: 0.137110948563\u000aMy first code: 0.0569641590118\u000aMy second code: 0.0308079719543\u000a</code></pre>\u000a
p1305
sVquestion_id
p1306
I4962606
sVlast_activity_date
p1307
I1297376650
sVcreation_date
p1308
I1297374327
sVscore
p1309
I38
sVowner
p1310
(dp1311
Vuser_id
p1312
I178761
sVprofile_image
p1313
Vhttps://www.gravatar.com/avatar/1687da90f2a29a38d00d32c6848f93b7?s=128&d=identicon&r=PG
p1314
sVuser_type
p1315
Vregistered
p1316
sVreputation
p1317
I31435
sVlink
p1318
Vhttp://stackoverflow.com/users/178761/philipp
p1319
sVaccept_rate
p1320
I75
sVdisplay_name
p1321
VPhilipp
p1322
ssVis_accepted
p1323
I01
sVlast_edit_date
p1324
I1297376650
sVanswer_id
p1325
I4963113
sa(dp1326
Vbody
p1327
V<p>Sure, save it as CSV:</p>\u000a\u000a<pre><code>import csv\u000aw = csv.writer(open("output.csv", "w"))\u000afor key, val in dict.items():\u000a    w.writerow([key, val])\u000a</code></pre>\u000a\u000a<p>Then reading it would be:</p>\u000a\u000a<pre><code>import csv\u000adict = {}\u000afor key, val in csv.reader(open("input.csv")):\u000a    dict[key] = val\u000a</code></pre>\u000a\u000a<p>Another alternative would be json (<code>json</code> for version 2.6+, or install <code>simplejson</code> for 2.5 and below):</p>\u000a\u000a<pre><code>&gt;&gt;&gt; import json\u000a&gt;&gt;&gt; dict = {"hello": "world"}\u000a&gt;&gt;&gt; json.dumps(dict)\u000a'{"hello": "world"}'\u000a</code></pre>\u000a
p1328
sVquestion_id
p1329
I4893689
sVlast_activity_date
p1330
I1296783263
sVcreation_date
p1331
I1296783263
sVscore
p1332
I54
sVowner
p1333
(dp1334
Vuser_id
p1335
I71522
sVprofile_image
p1336
Vhttps://www.gravatar.com/avatar/f0e286ba0482e57904e89e753a4b36e6?s=128&d=identicon&r=PG
p1337
sVuser_type
p1338
Vregistered
p1339
sVreputation
p1340
I60395
sVlink
p1341
Vhttp://stackoverflow.com/users/71522/david-wolever
p1342
sVaccept_rate
p1343
I62
sVdisplay_name
p1344
VDavid Wolever
p1345
ssVis_accepted
p1346
I01
sVanswer_id
p1347
I4893704
sa(dp1348
Vbody
p1349
V<p>I think you've almost got it.   Is this what you want?</p>\u000a\u000a<pre><code>from mpl_toolkits.mplot3d import Axes3D\u000afrom mpl_toolkits.mplot3d.art3d import Poly3DCollection\u000aimport matplotlib.pyplot as plt\u000afig = plt.figure()\u000aax = Axes3D(fig)\u000ax = [0,1,1,0]\u000ay = [0,0,1,1]\u000az = [0,1,0,1]\u000averts = [zip(x, y,z)]\u000aax.add_collection3d(Poly3DCollection(verts))\u000aplt.show()\u000a</code></pre>\u000a\u000a<p><img src="https://i.stack.imgur.com/cV4XI.png" alt="alt text">\u000aYou might also be interested in art3d.pathpatch_2d_to_3d.</p>\u000a
p1350
sVquestion_id
p1351
I4622057
sVlast_activity_date
p1352
I1294373606
sVcreation_date
p1353
I1294373606
sVscore
p1354
I40
sVowner
p1355
(dp1356
Vuser_id
p1357
I487339
sVprofile_image
p1358
Vhttps://i.stack.imgur.com/wbe4o.png?s=128&g=1
p1359
sVuser_type
p1360
Vregistered
p1361
sVreputation
p1362
I147176
sVlink
p1363
Vhttp://stackoverflow.com/users/487339/dsm
p1364
sVdisplay_name
p1365
VDSM
p1366
ssVis_accepted
p1367
I01
sVanswer_id
p1368
I4622449
sa(dp1369
Vbody
p1370
V<p>Inside a manager:</p>\u000a\u000a<pre><code>def delete_everything(self):\u000a    Reporter.objects.all().delete()\u000a\u000adef drop_table(self):\u000a    cursor = connection.cursor()\u000a    table_name = self.model._meta.db_table\u000a    sql = "DROP TABLE %s;" % (table_name, )\u000a    cursor.execute(sql)\u000a</code></pre>\u000a
p1371
sVquestion_id
p1372
I4532681
sVlast_activity_date
p1373
I1293335927
sVcreation_date
p1374
I1293335927
sVscore
p1375
I47
sVowner
p1376
(dp1377
Vuser_id
p1378
I55283
sVprofile_image
p1379
Vhttps://www.gravatar.com/avatar/f6adb50f300c3044905863088644dafd?s=128&d=identicon&r=PG
p1380
sVuser_type
p1381
Vregistered
p1382
sVreputation
p1383
I5596
sVlink
p1384
Vhttp://stackoverflow.com/users/55283/tiago
p1385
sVaccept_rate
p1386
I100
sVdisplay_name
p1387
VTiago
p1388
ssVis_accepted
p1389
I01
sVanswer_id
p1390
I4532693
sa(dp1391
Vbody
p1392
V<p>This should be faster than iterating and will work regardless of shape.</p>\u000a\u000a<pre><code>numpy.isnan(myarray).any()\u000a</code></pre>\u000a\u000a<p>Edit: 30x faster:</p>\u000a\u000a<pre><code>import timeit\u000as = 'import numpy;a = numpy.arange(10000.).reshape((100,100));a[10,10]=numpy.nan'\u000ams = [\u000a    'numpy.isnan(a).any()',\u000a    'any(numpy.isnan(x) for x in a.flatten())']\u000afor m in ms:\u000a    print "  %.2f s" % timeit.Timer(m, s).timeit(1000), m\u000a</code></pre>\u000a\u000a<p>Results:</p>\u000a\u000a<pre><code>  0.11 s numpy.isnan(a).any()\u000a  3.75 s any(numpy.isnan(x) for x in a.flatten())\u000a</code></pre>\u000a\u000a<p>Bonus: it works fine for non-array NumPy types:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; a = numpy.float64(42.)\u000a&gt;&gt;&gt; numpy.isnan(a).any()\u000aFalse\u000a&gt;&gt;&gt; a = numpy.float64(numpy.nan)\u000a&gt;&gt;&gt; numpy.isnan(a).any()\u000aTrue\u000a</code></pre>\u000a
p1393
sVquestion_id
p1394
I911871
sVlast_activity_date
p1395
I1291980121
sVcreation_date
p1396
I1243385750
sVscore
p1397
I61
sVowner
p1398
(dp1399
Vuser_id
p1400
I31676
sVprofile_image
p1401
Vhttps://www.gravatar.com/avatar/1e5e14a22b27a69b3d9fd5c7b05126d8?s=128&d=identicon&r=PG
p1402
sVuser_type
p1403
Vregistered
p1404
sVreputation
p1405
I21920
sVlink
p1406
Vhttp://stackoverflow.com/users/31676/paul
p1407
sVaccept_rate
p1408
I78
sVdisplay_name
p1409
VPaul
p1410
ssVis_accepted
p1411
I01
sVlast_edit_date
p1412
I1291980121
sVanswer_id
p1413
I913499
sa(dp1414
Vbody
p1415
V<p><code>easy_install -U pip</code></p>\u000a\u000a<p>:-)</p>\u000a
p1416
sVquestion_id
p1417
I4379970
sVlast_activity_date
p1418
I1291745155
sVcreation_date
p1419
I1291745155
sVscore
p1420
I78
sVowner
p1421
(dp1422
Vuser_id
p1423
I6760
sVprofile_image
p1424
Vhttps://www.gravatar.com/avatar/98d0816016ba9c3bfafbd9cf433aeaa4?s=128&d=identicon&r=PG
p1425
sVuser_type
p1426
Vregistered
p1427
sVreputation
p1428
I38415
sVlink
p1429
Vhttp://stackoverflow.com/users/6760/jonny-buchanan
p1430
sVdisplay_name
p1431
VJonny Buchanan
p1432
ssVis_accepted
p1433
I01
sVanswer_id
p1434
I4379999
sa(dp1435
Vbody
p1436
V<p>That's an artifact of Python's name resolution rules: <strike>you only have access to the global and the local scopes, but not to the scopes in-between, e.g. not to your immediate outer scope.</strike></p>\u000a\u000a<p><strong>EDIT:</strong> The above was poorly worded, you <em>do</em> have access to the variables defined in outer scopes, but by doing <code>x = x</code> or <code>mymethod = mymethod</code> from a non-global namespace, you're actually masking the outer variable with the one you're defining locally.</p>\u000a\u000a<p>In example 2, your immediate outer scope is the global scope, so <code>MyClass</code> can see <code>mymethod</code>, but in example 4 your immediate outer scope is <code>my_defining_func()</code>, so it can't, because the outer definition of <code>mymethod</code> is already masked by its local definition.</p>\u000a\u000a<p>See <a href="http://www.python.org/dev/peps/pep-3104/" rel="noreferrer">PEP 3104</a> for more details about nonlocal name resolution.</p>\u000a\u000a<p>Also note that, for the reasons explained above, I can't get example 3 to run under either Python 2.6.5 or 3.1.2:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; def myfunc():\u000a...     x = 3\u000a...     class MyClass(object):\u000a...         x = x\u000a...     return MyClass\u000a... \u000a&gt;&gt;&gt; myfunc().x\u000aTraceback (most recent call last):\u000a  File "&lt;stdin&gt;", line 1, in &lt;module&gt;\u000a  File "&lt;stdin&gt;", line 3, in myfunc\u000a  File "&lt;stdin&gt;", line 4, in MyClass\u000aNameError: name 'x' is not defined\u000a</code></pre>\u000a\u000a<p>But the following would work:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; def myfunc():\u000a...     x = 3\u000a...     class MyClass(object):\u000a...         y = x\u000a...     return MyClass\u000a... \u000a&gt;&gt;&gt; myfunc().y\u000a3\u000a</code></pre>\u000a
p1437
sVquestion_id
p1438
I4296677
sVlast_activity_date
p1439
I1290949989
sVcreation_date
p1440
I1290947285
sVscore
p1441
I15
sVowner
p1442
(dp1443
Vuser_id
p1444
I464709
sVprofile_image
p1445
Vhttps://www.gravatar.com/avatar/0ab3363d257d780bd4c1f0c844b020a2?s=128&d=identicon&r=PG
p1446
sVuser_type
p1447
Vregistered
p1448
sVreputation
p1449
I179050
sVlink
p1450
Vhttp://stackoverflow.com/users/464709/fr%c3%a9d%c3%a9ric-hamidi
p1451
sVdisplay_name
p1452
VFr&#233;d&#233;ric Hamidi
p1453
ssVis_accepted
p1454
I01
sVlast_edit_date
p1455
I1290949989
sVanswer_id
p1456
I4296729
sa(dp1457
Vbody
p1458
V<p>I would use a decorator on the function to handle keeping track of how many times it runs.</p>\u000a\u000a<pre><code>def run_once(f):\u000a    def wrapper(*args, **kwargs):\u000a        if not wrapper.has_run:\u000a            wrapper.has_run = True\u000a            return f(*args, **kwargs)\u000a    wrapper.has_run = False\u000a    return wrapper\u000a\u000a\u000a@run_once\u000adef my_function(foo, bar):\u000a    return foo+bar\u000a</code></pre>\u000a\u000a<p>Now <code>my_function</code> will only run once. Other calls to it will return <code>None</code>. Just add an <code>else</code> clause to the <code>if</code> if you want it to return something else. From your example, it doesn't need to return anything ever.</p>\u000a\u000a<p>If you don't control the creation of the function, or the function needs to be used normally in other contexts, you can just apply the decorator manually as well.</p>\u000a\u000a<pre><code>action = run_once(my_function)\u000awhile 1:\u000a    if predicate:\u000a        action()\u000a</code></pre>\u000a\u000a<p>This will leave <code>my_function</code> available for other uses.</p>\u000a\u000a<p>Finally, if you need to only run it once twice, then you can just do</p>\u000a\u000a<pre><code>action = run_once(my_function)\u000aaction() # run once the first time\u000a\u000aaction.has_run = False\u000aaction() # run once the second time\u000a</code></pre>\u000a
p1459
sVquestion_id
p1460
I4103773
sVlast_activity_date
p1461
I1288946465
sVcreation_date
p1462
I1288942881
sVscore
p1463
I71
sVowner
p1464
(dp1465
Vuser_id
p1466
I376728
sVprofile_image
p1467
Vhttps://www.gravatar.com/avatar/908d58f023f47e0a7d07fc671606341d?s=128&d=identicon&r=PG
p1468
sVuser_type
p1469
Vregistered
p1470
sVreputation
p1471
I39276
sVlink
p1472
Vhttp://stackoverflow.com/users/376728/aaronasterling
p1473
sVaccept_rate
p1474
I94
sVdisplay_name
p1475
Vaaronasterling
p1476
ssVis_accepted
p1477
I01
sVlast_edit_date
p1478
I1288946465
sVanswer_id
p1479
I4104188
sa(dp1480
Vbody
p1481
V<p>The <code>a == b</code> expression invokes <code>A.__eq__</code>, since it exists.  Its code includes <code>self.value == other</code>.  Since int's don't know how to compare themselves to B's, Python tries invoking <code>B.__eq__</code> to see if it knows how to compare itself to an int.</p>\u000a\u000a<p>If you amend your code to show what values are being compared:</p>\u000a\u000a<pre><code>class A(object):\u000a    def __eq__(self, other):\u000a        print "A __eq__ called: %r == %r ?" % (self, other)\u000a        return self.value == other\u000aclass B(object):\u000a    def __eq__(self, other):\u000a        print "B __eq__ called: %r == %r ?" % (self, other)\u000a        return self.value == other\u000a\u000aa = A()\u000aa.value = 3\u000ab = B()\u000ab.value = 4\u000aa == b\u000a</code></pre>\u000a\u000a<p>it will print:</p>\u000a\u000a<pre><code>A __eq__ called: &lt;__main__.A object at 0x013BA070&gt; == &lt;__main__.B object at 0x013BA090&gt; ?\u000aB __eq__ called: &lt;__main__.B object at 0x013BA090&gt; == 3 ?\u000a</code></pre>\u000a
p1482
sVquestion_id
p1483
I3588776
sVlast_activity_date
p1484
I1282958651
sVcreation_date
p1485
I1282952753
sVscore
p1486
I55
sVowner
p1487
(dp1488
Vuser_id
p1489
I14343
sVprofile_image
p1490
Vhttps://www.gravatar.com/avatar/75e9a11371cbe1566607180863efdf4c?s=128&d=identicon&r=PG
p1491
sVuser_type
p1492
Vregistered
p1493
sVreputation
p1494
I193903
sVlink
p1495
Vhttp://stackoverflow.com/users/14343/ned-batchelder
p1496
sVaccept_rate
p1497
I80
sVdisplay_name
p1498
VNed Batchelder
p1499
ssVis_accepted
p1500
I01
sVlast_edit_date
p1501
I1282958651
sVanswer_id
p1502
I3588809
sa(dp1503
Vbody
p1504
V<p>You haven't actually converted your strings to ints.  Or rather, you did, but then you didn't do anything with the results.  What you want is:</p>\u000a\u000a<pre><code>list1 = ["1","10","3","22","23","4","2","200"]\u000alist1 = [int(x) for x in list1]\u000alist1.sort()\u000a</code></pre>\u000a\u000a<p>However, python makes it even easier for you: sort takes a named parameter, key, which is a function that is called on each element before it is compared (but without modifying the list)</p>\u000a\u000a<pre><code>list1 = ["1","10","3","22","23","4","2","200"]\u000a# call int(x) on each element before comparing it\u000alist1.sort(key=int)\u000a</code></pre>\u000a
p1505
sVquestion_id
p1506
I3426108
sVlast_activity_date
p1507
I1281115343
sVcreation_date
p1508
I1281115343
sVscore
p1509
I92
sVowner
p1510
(dp1511
Vuser_id
p1512
I406926
sVprofile_image
p1513
Vhttps://www.gravatar.com/avatar/615fb27718fab4c47835a15724e18c03?s=128&d=identicon&r=PG
p1514
sVuser_type
p1515
Vregistered
p1516
sVreputation
p1517
I15050
sVlink
p1518
Vhttp://stackoverflow.com/users/406926/seamus-campbell
p1519
sVaccept_rate
p1520
I75
sVdisplay_name
p1521
VSeamus Campbell
p1522
ssVis_accepted
p1523
I01
sVanswer_id
p1524
I3426155
sa(dp1525
Vbody
p1526
V<p>You can use <a href="http://docs.python.org/library/os.html#os.listdir" rel="noreferrer">os.listdir()</a> to get the files in the source directory, <a href="http://docs.python.org/library/os.path.html#os.path.isfile" rel="noreferrer">os.path.isfile()</a> to see if they are regular files (including symbolic links on *nix systems), and <a href="http://docs.python.org/library/shutil.html#shutil.copy" rel="noreferrer">shutil.copy</a> to do the copying.</p>\u000a\u000a<p>The following code copies only the regular files from the source directory into the destination directory (I'm assuming you don't want any sub-directories copied).</p>\u000a\u000a<pre><code>import os\u000aimport shutil\u000asrc_files = os.listdir(src)\u000afor file_name in src_files:\u000a    full_file_name = os.path.join(src, file_name)\u000a    if (os.path.isfile(full_file_name)):\u000a        shutil.copy(full_file_name, dest)\u000a</code></pre>\u000a
p1527
sVquestion_id
p1528
I3397752
sVlast_activity_date
p1529
I1280866442
sVcreation_date
p1530
I1280858391
sVscore
p1531
I55
sVowner
p1532
(dp1533
Vuser_id
p1534
I197011
sVprofile_image
p1535
Vhttps://www.gravatar.com/avatar/c2bfdf995aa973ef9974fca9aeb6c7fb?s=128&d=identicon&r=PG
p1536
sVuser_type
p1537
Vregistered
p1538
sVreputation
p1539
I10663
sVlink
p1540
Vhttp://stackoverflow.com/users/197011/greenmatt
p1541
sVaccept_rate
p1542
I100
sVdisplay_name
p1543
VGreenMatt
p1544
ssVis_accepted
p1545
I01
sVlast_edit_date
p1546
I1280866442
sVanswer_id
p1547
I3399299
sa(dp1548
Vbody
p1549
V<p>Eventually I found <a href="http://github.com/axiak/pybloomfiltermmap" rel="noreferrer">pybloomfiltermap</a>. I haven't used it, but it looks like it'd fit the bill. </p>\u000a
p1550
sVquestion_id
p1551
I311202
sVlast_activity_date
p1552
I1280768409
sVcreation_date
p1553
I1280768409
sVscore
p1554
I8
sVowner
p1555
(dp1556
Vuser_id
p1557
I13055
sVprofile_image
p1558
Vhttps://www.gravatar.com/avatar/ab82fd8b5ffe4d09c2bb5f9c14d34b09?s=128&d=identicon&r=PG
p1559
sVuser_type
p1560
Vregistered
p1561
sVreputation
p1562
I30447
sVlink
p1563
Vhttp://stackoverflow.com/users/13055/parand
p1564
sVaccept_rate
p1565
I68
sVdisplay_name
p1566
VParand
p1567
ssVis_accepted
p1568
I01
sVanswer_id
p1569
I3390002
sa(dp1570
Vbody
p1571
V<p>PyMat looks like it's been abandoned.  </p>\u000a\u000a<p>I'm assuming you are on windows so you could always do the simplest approach and use Matlab's COM interface:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; import win32com.client\u000a&gt;&gt;&gt; h = win32com.client.Dispatch('matlab.application')\u000a&gt;&gt;&gt; h.Execute ("plot([0 18], [7 23])")\u000a&gt;&gt;&gt; h.Execute ("1+1")\u000au'\u005cnans =\u005cn\u005cn     2\u005cn\u005cn'\u000a</code></pre>\u000a\u000a<p>More info <a href="http://www.system.nada.kth.se/unix/software/matlab/senaste/techdoc/matlab_external/ch07cl24.html" rel="noreferrer">here</a></p>\u000a
p1572
sVquestion_id
p1573
I2883189
sVlast_activity_date
p1574
I1274471434
sVcreation_date
p1575
I1274471434
sVscore
p1576
I22
sVowner
p1577
(dp1578
Vuser_id
p1579
I16363
sVprofile_image
p1580
Vhttps://i.stack.imgur.com/xv8q9.png?s=128&g=1
p1581
sVuser_type
p1582
Vregistered
p1583
sVreputation
p1584
I75042
sVlink
p1585
Vhttp://stackoverflow.com/users/16363/mark
p1586
sVaccept_rate
p1587
I92
sVdisplay_name
p1588
VMark
p1589
ssVis_accepted
p1590
I01
sVanswer_id
p1591
I2885122
sa(dp1592
Vbody
p1593
V<p>Check out NLTK package: <a href="http://www.nltk.org" rel="noreferrer">http://www.nltk.org</a> it has everything what you need</p>\u000a\u000a<p>For the cosine_similarity:</p>\u000a\u000a<pre><code>\u000adef cosine_distance(u, v):\u000a    """\u000a    Returns the cosine of the angle between vectors v and u. This is equal to\u000a    u.v / |u||v|.\u000a    """\u000a    return numpy.dot(u, v) / (math.sqrt(numpy.dot(u, u)) * math.sqrt(numpy.dot(v, v))) \u000a</code></pre>\u000a\u000a<p>For ngrams:</p>\u000a\u000a<pre><code>\u000adef ngrams(sequence, n, pad_left=False, pad_right=False, pad_symbol=None):\u000a    """\u000a    A utility that produces a sequence of ngrams from a sequence of items.\u000a    For example:\u000a\u000a    >>> ngrams([1,2,3,4,5], 3)\u000a    [(1, 2, 3), (2, 3, 4), (3, 4, 5)]\u000a\u000a    Use ingram for an iterator version of this function.  Set pad_left\u000a    or pad_right to true in order to get additional ngrams:\u000a\u000a    >>> ngrams([1,2,3,4,5], 2, pad_right=True)\u000a    [(1, 2), (2, 3), (3, 4), (4, 5), (5, None)]\u000a\u000a    @param sequence: the source data to be converted into ngrams\u000a    @type sequence: C{sequence} or C{iterator}\u000a    @param n: the degree of the ngrams\u000a    @type n: C{int}\u000a    @param pad_left: whether the ngrams should be left-padded\u000a    @type pad_left: C{boolean}\u000a    @param pad_right: whether the ngrams should be right-padded\u000a    @type pad_right: C{boolean}\u000a    @param pad_symbol: the symbol to use for padding (default is None)\u000a    @type pad_symbol: C{any}\u000a    @return: The ngrams\u000a    @rtype: C{list} of C{tuple}s\u000a    """\u000a\u000a    if pad_left:\u000a        sequence = chain((pad_symbol,) * (n-1), sequence)\u000a    if pad_right:\u000a        sequence = chain(sequence, (pad_symbol,) * (n-1))\u000a    sequence = list(sequence)\u000a\u000a    count = max(0, len(sequence) - n + 1)\u000a    return [tuple(sequence[i:i+n]) for i in range(count)] \u000a</code></pre>\u000a\u000a<p>for tf-idf you will have to compute distribution first, I am using Lucene to do that, but you may very well do something similar with NLTK, use FreqDist:</p>\u000a\u000a<p><a href="http://nltk.googlecode.com/svn/trunk/doc/book/ch01.html#frequency_distribution_index_term" rel="noreferrer">http://nltk.googlecode.com/svn/trunk/doc/book/ch01.html#frequency_distribution_index_term</a></p>\u000a\u000a<p>if you like pylucene, this will tell you how to comute tf.idf</p>\u000a\u000a<pre><code>    # reader = lucene.IndexReader(FSDirectory.open(index_loc))\u000a    docs = reader.numDocs()\u000a    for i in xrange(docs):\u000a        tfv = reader.getTermFreqVector(i, fieldname)\u000a        if tfv:\u000a            rec = {}\u000a            terms = tfv.getTerms()\u000a            frequencies = tfv.getTermFrequencies()\u000a            for (t,f,x) in zip(terms,frequencies,xrange(maxtokensperdoc)):\u000a                    df= searcher.docFreq(Term(fieldname, t)) # number of docs with the given term\u000a                        tmap.setdefault(t, len(tmap))\u000a                        rec[t] = sim.tf(f) * sim.idf(df, max_doc)  #compute TF.IDF\u000a            # and normalize the values using cosine normalization\u000a            if cosine_normalization:\u000a                denom = sum([x**2 for x in rec.values()])**0.5\u000a                for k,v in rec.items():\u000a                    rec[k] = v / denom\u000a</code></pre>\u000a
p1594
sVquestion_id
p1595
I2380394
sVlast_activity_date
p1596
I1272845727
sVcreation_date
p1597
I1272820858
sVscore
p1598
I43
sVowner
p1599
(dp1600
Vuser_id
p1601
I275216
sVprofile_image
p1602
Vhttps://www.gravatar.com/avatar/5dd14a56c75b52e0d8cdcbc10c8d2af7?s=128&d=identicon&r=PG
p1603
sVuser_type
p1604
Vregistered
p1605
sVreputation
p1606
I694
sVlink
p1607
Vhttp://stackoverflow.com/users/275216/roman
p1608
sVdisplay_name
p1609
Vroman
p1610
ssVis_accepted
p1611
I01
sVlast_edit_date
p1612
I1272845727
sVanswer_id
p1613
I2754261
sa(dp1614
Vbody
p1615
V<p>Short and sweet:</p>\u000a\u000a<pre><code>sorted(data, key=lambda item: (int(item.partition(' ')[0])\u000a                               if item[0].isdigit() else float('inf'), item))\u000a</code></pre>\u000a\u000a<p>This version:</p>\u000a\u000a<ul>\u000a<li>Works in Python 2 and Python 3, because:\u000a\u000a<ul>\u000a<li>It does not assume you compare strings and integers (which won't work in Python 3)</li>\u000a<li>It doesn't use the <code>cmp</code> parameter to <code>sorted</code> (which doesn't exist in Python 3)</li>\u000a</ul></li>\u000a<li>Will sort on the string part if the quantities are equal</li>\u000a</ul>\u000a\u000a<p>If you want printed output exactly as described in your example, then: </p>\u000a\u000a<pre><code>data = set(['booklet', '4 sheets', '48 sheets', '12 sheets'])\u000ar = sorted(data, key=lambda item: (int(item.partition(' ')[0])\u000a                                   if item[0].isdigit() else float('inf'), item))\u000aprint ',\u005cn'.join(r)\u000a</code></pre>\u000a
p1616
sVquestion_id
p1617
I2669059
sVlast_activity_date
p1618
I1271698377
sVcreation_date
p1619
I1271698377
sVscore
p1620
I39
sVowner
p1621
(dp1622
Vuser_id
p1623
I219162
sVprofile_image
p1624
Vhttps://www.gravatar.com/avatar/4c7f016d15f498b5274e153dce3e7974?s=128&d=identicon&r=PG
p1625
sVuser_type
p1626
Vregistered
p1627
sVreputation
p1628
I37272
sVlink
p1629
Vhttp://stackoverflow.com/users/219162/daniel-stutzbach
p1630
sVaccept_rate
p1631
I87
sVdisplay_name
p1632
VDaniel Stutzbach
p1633
ssVis_accepted
p1634
I01
sVanswer_id
p1635
I2669523
sa(dp1636
Vbody
p1637
V<p>I think <a href="http://docs.python.org/library/os.path.html#os.path.expanduser" rel="noreferrer"><code>os.path.expanduser(path)</code></a> could be helpful.</p>\u000a\u000a<blockquote>\u000a  <p>On Unix and Windows, return the argument with an initial component of <code>~</code>  or <code>~user</code> replaced by that user\u2018s home directory.</p>\u000a  \u000a  <p>On Unix, an initial <code>~</code> is replaced by the environment variable HOME if it is set; otherwise the current user\u2019s home directory is looked up in the password directory through the built-in module <code>pwd</code>. <strong>An initial <code>~user</code> is looked up directly in the password directory</strong>.</p>\u000a  \u000a  <p>On Windows, HOME and USERPROFILE will be used if set, otherwise a <strong>combination of HOMEPATH and HOMEDRIVE</strong> will be used. <strong>An initial <code>~user</code> is handled by stripping the last directory component from the created user path derived above</strong>.</p>\u000a  \u000a  <p>If the expansion fails or if the path does not begin with a tilde, the path is returned unchanged.</p>\u000a</blockquote>\u000a\u000a<p>So you could just do:</p>\u000a\u000a<pre><code>os.path.expanduser('~user')\u000a</code></pre>\u000a
p1638
sVquestion_id
p1639
I2668909
sVlast_activity_date
p1640
I1271693460
sVcreation_date
p1641
I1271693140
sVscore
p1642
I50
sVowner
p1643
(dp1644
Vuser_id
p1645
I218196
sVprofile_image
p1646
Vhttps://i.stack.imgur.com/4P5DY.jpg?s=128&g=1
p1647
sVuser_type
p1648
Vregistered
p1649
sVreputation
p1650
I434937
sVlink
p1651
Vhttp://stackoverflow.com/users/218196/felix-kling
p1652
sVaccept_rate
p1653
I100
sVdisplay_name
p1654
VFelix Kling
p1655
ssVis_accepted
p1656
I01
sVlast_edit_date
p1657
I1271693460
sVanswer_id
p1658
I2668952
sa(dp1659
Vbody
p1660
V<p>I think it is totally independent. Just install them, then you have the commands e.g. <code>/usr/bin/python2.5</code> and <code>/usr/bin/python2.6</code>. Link <code>/usr/bin/python</code> to the one you want to use as default. </p>\u000a\u000a<p>All the libraries are in separate folders (named after the version) anyway.</p>\u000a\u000a<p>If you want to compile the versions manually, this is from the readme file of the Python source code:</p>\u000a\u000a<blockquote>\u000a  <p>Installing multiple versions</p>\u000a  \u000a  <p>On Unix and Mac systems if you intend to install multiple versions of Python\u000a  using the same installation prefix (--prefix argument to the configure\u000a  script) you must take care that your primary python executable is not\u000a  overwritten by the installation of a different version.  All files and\u000a  directories installed using "make altinstall" contain the major and minor\u000a  version and can thus live side-by-side.  "make install" also creates\u000a  ${prefix}/bin/python3 which refers to ${prefix}/bin/pythonX.Y.  If you intend\u000a  to install multiple versions using the same prefix you must decide which\u000a  version (if any) is your "primary" version.  Install that version using\u000a  "make install".  Install all other versions using "make altinstall".</p>\u000a  \u000a  <p>For example, if you want to install Python 2.5, 2.6 and 3.0 with 2.6 being\u000a  the primary version, you would execute "make install" in your 2.6 build\u000a  directory and "make altinstall" in the others.</p>\u000a</blockquote>\u000a
p1661
sVquestion_id
p1662
I2547554
sVlast_activity_date
p1663
I1269973740
sVcreation_date
p1664
I1269973407
sVscore
p1665
I48
sVowner
p1666
(dp1667
Vuser_id
p1668
I218196
sVprofile_image
p1669
Vhttps://i.stack.imgur.com/4P5DY.jpg?s=128&g=1
p1670
sVuser_type
p1671
Vregistered
p1672
sVreputation
p1673
I434937
sVlink
p1674
Vhttp://stackoverflow.com/users/218196/felix-kling
p1675
sVaccept_rate
p1676
I100
sVdisplay_name
p1677
VFelix Kling
p1678
ssVis_accepted
p1679
I01
sVlast_edit_date
p1680
I1269973740
sVanswer_id
p1681
I2547577
sa(dp1682
Vbody
p1683
V<p>The problem with relying on any floating point computation (<code>math.sqrt(x)</code>, or <code>x**0.5</code>) is that you can't really be sure it's exact (for sufficiently large integers <code>x</code>, it won't be, and might even overflow). Fortunately (if one's in no hurry;-) there are many pure integer approaches, such as the following...:</p>\u000a\u000a<pre><code>def is_square(apositiveint):\u000a  x = apositiveint // 2\u000a  seen = set([x])\u000a  while x * x != apositiveint:\u000a    x = (x + (apositiveint // x)) // 2\u000a    if x in seen: return False\u000a    seen.add(x)\u000a  return True\u000a\u000afor i in range(110, 130):\u000a   print i, is_square(i)\u000a</code></pre>\u000a\u000a<p>Hint: it's based on the "Babylonian algorithm" for square root, see <a href="http://en.wikipedia.org/wiki/Methods_of_computing_square_roots" rel="noreferrer">wikipedia</a>.  It <em>does</em> work for any positive number for which you have enough memory for the computation to proceed to completion;-).</p>\u000a\u000a<p><strong>Edit</strong>: let's see an example...</p>\u000a\u000a<pre><code>x = 12345678987654321234567 ** 2\u000a\u000afor i in range(x, x+2):\u000a   print i, is_square(i)\u000a</code></pre>\u000a\u000a<p>this prints, as desired (and in a reasonable amount of time, too;-):</p>\u000a\u000a<pre><code>152415789666209426002111556165263283035677489 True\u000a152415789666209426002111556165263283035677490 False\u000a</code></pre>\u000a\u000a<p>Please, before you propose solutions based on floating point intermediate results, make sure they work correctly on this simple example -- it's not <strong>that</strong> hard (you just need a few extra checks in case the sqrt computed is a little off), just takes a bit of care.</p>\u000a\u000a<p>And then try with <code>x**7</code> and find clever way to work around the problem you'll get,</p>\u000a\u000a<pre><code>OverflowError: long int too large to convert to float\u000a</code></pre>\u000a\u000a<p>you'll have to get more and more clever as the numbers keep growing, of course.</p>\u000a\u000a<p>If I <em>was</em> in a hurry, of course, I'd use <a href="http://www.gmpy.org/" rel="noreferrer">gmpy</a> -- but then, I'm clearly biased;-).</p>\u000a\u000a<pre><code>&gt;&gt;&gt; import gmpy\u000a&gt;&gt;&gt; gmpy.is_square(x**7)\u000a1\u000a&gt;&gt;&gt; gmpy.is_square(x**7 + 1)\u000a0\u000a</code></pre>\u000a\u000a<p>Yeah, I know, that's just so easy it feels like cheating (a bit the way I feel towards Python in general;-) -- no cleverness at all, just perfect directness and simplicity (and, in the case of gmpy, sheer speed;-)...</p>\u000a
p1684
sVquestion_id
p1685
I2489435
sVlast_activity_date
p1686
I1269221400
sVcreation_date
p1687
I1269220845
sVscore
p1688
I69
sVowner
p1689
(dp1690
Vuser_id
p1691
I95810
sVprofile_image
p1692
Vhttps://www.gravatar.com/avatar/e8d5fe90f1fe2148bf130cccd4dc311c?s=128&d=identicon&r=PG
p1693
sVuser_type
p1694
Vregistered
p1695
sVreputation
p1696
I516089
sVlink
p1697
Vhttp://stackoverflow.com/users/95810/alex-martelli
p1698
sVaccept_rate
p1699
I80
sVdisplay_name
p1700
VAlex Martelli
p1701
ssVis_accepted
p1702
I01
sVlast_edit_date
p1703
I1269221400
sVanswer_id
p1704
I2489519
sa(dp1705
Vbody
p1706
V<p>Type <code>M-x cd</code> to change directory to the location of the program you wish to debug.\u000aType <code>M-x pdb</code>. You'll be prompted with <code>Run pdb (like this): pdb</code>. Enter the name of the program (e.g. <code>test.py</code>). </p>\u000a\u000a<p>At the <code>(Pdb)</code> prompt, type <code>help</code> to learn about how to use pdb.</p>\u000a\u000a<p>Alternatively, you can put</p>\u000a\u000a<pre><code>import pdb \u000apdb.set_trace()\u000a</code></pre>\u000a\u000a<p>right inside your program (e.g. <code>test.py</code>). Now type <code>M-x shell</code> to get a shell prompt. When you run your program, you'll be dumped into <code>pdb</code> at the point where <code>pdb.set_trace()</code> is executed.</p>\u000a
p1707
sVquestion_id
p1708
I2324758
sVlast_activity_date
p1709
I1267015823
sVcreation_date
p1710
I1267012930
sVscore
p1711
I39
sVowner
p1712
(dp1713
Vuser_id
p1714
I190597
sVprofile_image
p1715
Vhttps://www.gravatar.com/avatar/aabc98d5c6482ca0e1405ec97710f30a?s=128&d=identicon&r=PG&f=1
p1716
sVuser_type
p1717
Vregistered
p1718
sVreputation
p1719
I425294
sVlink
p1720
Vhttp://stackoverflow.com/users/190597/unutbu
p1721
sVaccept_rate
p1722
I88
sVdisplay_name
p1723
Vunutbu
p1724
ssVis_accepted
p1725
I01
sVlast_edit_date
p1726
I1267015823
sVanswer_id
p1727
I2325751
sa(dp1728
Vbody
p1729
V<p>Check out <a href="http://docs.python.org/library/resource.html#resource.setrlimit" rel="noreferrer">resource.setrlimit()</a>.  It only works on Unix systems but it seems like it might be what you're looking for, as you can choose a maximum heap size for your process and your process's children with the resource.RLIMIT_DATA parameter.</p>\u000a\u000a<p>EDIT: Adding an example:</p>\u000a\u000a<pre><code>import resource\u000a\u000arsrc = resource.RLIMIT_DATA\u000asoft, hard = resource.getrlimit(rsrc)\u000aprint 'Soft limit starts as  :', soft\u000a\u000aresource.setrlimit(rsrc, (1024, hard)) #limit to one kilobyte\u000a\u000asoft, hard = resource.getrlimit(rsrc)\u000aprint 'Soft limit changed to :', soft\u000a</code></pre>\u000a\u000a<p>I'm not sure what your use case is exactly but it's possible you need to place a limit on the size of the stack instead with resouce.RLIMIT_STACK.  Going past this limit will send a SIGSEGV signal to your process, and to handle it you will need to employ an alternate signal stack as described in the setrlimit Linux <a href="http://linux.about.com/library/cmd/blcmdl2_setrlimit.htm" rel="noreferrer">manpage</a>.  I'm not sure if sigaltstack is implemented in python, though, so that could prove difficult if you want to recover from going over this boundary.</p>\u000a
p1730
sVquestion_id
p1731
I2308091
sVlast_activity_date
p1732
I1266814831
sVcreation_date
p1733
I1266809633
sVscore
p1734
I40
sVowner
p1735
(dp1736
Vuser_id
p1737
I212348
sVprofile_image
p1738
Vhttps://www.gravatar.com/avatar/285711fd48be4d01ca3781ee2df4eb77?s=128&d=identicon&r=PG
p1739
sVuser_type
p1740
Vregistered
p1741
sVreputation
p1742
I1757
sVlink
p1743
Vhttp://stackoverflow.com/users/212348/xitrium
p1744
sVaccept_rate
p1745
I75
sVdisplay_name
p1746
Vxitrium
p1747
ssVis_accepted
p1748
I01
sVlast_edit_date
p1749
I1266814831
sVanswer_id
p1750
I2308635
sa(dp1751
Vbody
p1752
V<p>No, there is not a balanced binary tree in the stdlib. However, from your comments, it sounds like you may have some other options:</p>\u000a\u000a<ul>\u000a<li>You say that you want a BST instead of a list for <code>O(log n)</code> searches. If searching is all you need and your data are already sorted, the <code>bisect</code> module provides a binary search algorithm for lists.</li>\u000a<li>Mike DeSimone recommended sets and dicts and you explained why lists are too algorithmically slow. Sets and dicts are implemented as hash tables, which have O(1) lookup. The solution to most problems in Python really is "use a dict".</li>\u000a</ul>\u000a\u000a<p>If neither solution works well for you, you'll have to go to a third party module or implement your own.</p>\u000a
p1753
sVquestion_id
p1754
I2298165
sVlast_activity_date
p1755
I1266600374
sVcreation_date
p1756
I1266600374
sVscore
p1757
I20
sVowner
p1758
(dp1759
Vuser_id
p1760
I192839
sVprofile_image
p1761
Vhttps://i.stack.imgur.com/GNPsv.jpg?s=128&g=1
p1762
sVuser_type
p1763
Vregistered
p1764
sVreputation
p1765
I38635
sVlink
p1766
Vhttp://stackoverflow.com/users/192839/mike-graham
p1767
sVaccept_rate
p1768
I71
sVdisplay_name
p1769
VMike Graham
p1770
ssVis_accepted
p1771
I01
sVanswer_id
p1772
I2298316
sa(dp1773
Vbody
p1774
V<p>How about:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; any(isinstance(e, int) and e &gt; 0 for e in [1,2,'joe'])\u000aTrue\u000a</code></pre>\u000a\u000a<p>It also works with <code>all()</code> of course:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; all(isinstance(e, int) and e &gt; 0 for e in [1,2,'joe'])\u000aFalse\u000a</code></pre>\u000a
p1775
sVquestion_id
p1776
I2012611
sVlast_activity_date
p1777
I1262778212
sVcreation_date
p1778
I1262778212
sVscore
p1779
I82
sVowner
p1780
(dp1781
Vuser_id
p1782
I10194
sVprofile_image
p1783
Vhttps://www.gravatar.com/avatar/ad4ee71956de6520a70d92a93b0ad145?s=128&d=identicon&r=PG
p1784
sVuser_type
p1785
Vregistered
p1786
sVreputation
p1787
I2880
sVlink
p1788
Vhttp://stackoverflow.com/users/10194/antoine-p
p1789
sVdisplay_name
p1790
VAntoine P.
p1791
ssVis_accepted
p1792
I01
sVanswer_id
p1793
I2012631
sa(dp1794
Vbody
p1795
V<pre><code>class Team:\u000a  def __init__(self):\u000a    self.name = None\u000a    self.logo = None\u000a    self.members = 0\u000a</code></pre>\u000a\u000a<p>In Python, you typically don't write getters and setters, unless you really have a non-trivial implementation for them (at which point you use property descriptors).</p>\u000a
p1796
sVquestion_id
p1797
I1495666
sVlast_activity_date
p1798
I1254272793
sVcreation_date
p1799
I1254272793
sVscore
p1800
I41
sVowner
p1801
(dp1802
Vuser_id
p1803
I33006
sVprofile_image
p1804
Vhttps://www.gravatar.com/avatar/3acb8bae5a2b5a28f6fe522a4ea9b873?s=128&d=identicon&r=PG
p1805
sVuser_type
p1806
Vregistered
p1807
sVreputation
p1808
I84348
sVlink
p1809
Vhttp://stackoverflow.com/users/33006/martin-v-l%c3%b6wis
p1810
sVaccept_rate
p1811
I88
sVdisplay_name
p1812
VMartin v. L&#246;wis
p1813
ssVis_accepted
p1814
I01
sVanswer_id
p1815
I1495680
sa(dp1816
Vbody
p1817
V<pre><code>res = dict((v,k) for k,v in a.iteritems())\u000a</code></pre>\u000a
p1818
sVquestion_id
p1819
I1031851
sVlast_activity_date
p1820
I1245754816
sVcreation_date
p1821
I1245754816
sVscore
p1822
I64
sVowner
p1823
(dp1824
Vuser_id
p1825
I42610
sVprofile_image
p1826
Vhttps://www.gravatar.com/avatar/5ea9e348dc045d53f5659eadf3e695b2?s=128&d=identicon&r=PG
p1827
sVuser_type
p1828
Vregistered
p1829
sVreputation
p1830
I22397
sVlink
p1831
Vhttp://stackoverflow.com/users/42610/liori
p1832
sVaccept_rate
p1833
I73
sVdisplay_name
p1834
Vliori
p1835
ssVis_accepted
p1836
I01
sVanswer_id
p1837
I1031878
sa(dp1838
Vbody
p1839
V<p>If you take a look at <a href="http://www.python.org/dev/peps/pep-0234" rel="noreferrer">PEP234</a> defining iterators, it says:</p>\u000a\u000a<pre><code>1. An object can be iterated over with "for" if it implements\u000a   __iter__() or __getitem__().\u000a\u000a2. An object can function as an iterator if it implements next().\u000a</code></pre>\u000a
p1840
sVquestion_id
p1841
I926574
sVlast_activity_date
p1842
I1243610962
sVcreation_date
p1843
I1243610962
sVscore
p1844
I38
sVowner
p1845
(dp1846
Vuser_id
p1847
I111777
sVprofile_image
p1848
Vhttps://www.gravatar.com/avatar/730df0227780e818df8ce1e19c9a6c48?s=128&d=identicon&r=PG
p1849
sVuser_type
p1850
Vregistered
p1851
sVreputation
p1852
I19023
sVlink
p1853
Vhttp://stackoverflow.com/users/111777/scompt-com
p1854
sVaccept_rate
p1855
I84
sVdisplay_name
p1856
Vscompt.com
p1857
ssVis_accepted
p1858
I01
sVanswer_id
p1859
I926609
sa(dp1860
Vbody
p1861
V<p>You need to have <a href="http://www.crummy.com/software/BeautifulSoup/" rel="noreferrer">BeautifulSoup</a>.</p>\u000a\u000a<pre><code>from BeautifulSoup import BeautifulStoneSoup\u000aimport cgi\u000a\u000adef HTMLEntitiesToUnicode(text):\u000a    """Converts HTML entities to unicode.  For example '&amp;amp;' becomes '&amp;'."""\u000a    text = unicode(BeautifulStoneSoup(text, convertEntities=BeautifulStoneSoup.ALL_ENTITIES))\u000a    return text\u000a\u000adef unicodeToHTMLEntities(text):\u000a    """Converts unicode to HTML entities.  For example '&amp;' becomes '&amp;amp;'."""\u000a    text = cgi.escape(text).encode('ascii', 'xmlcharrefreplace')\u000a    return text\u000a\u000atext = "&amp;amp;, &amp;reg;, &amp;lt;, &amp;gt;, &amp;cent;, &amp;pound;, &amp;yen;, &amp;euro;, &amp;sect;, &amp;copy;"\u000a\u000auni = HTMLEntitiesToUnicode(text)\u000ahtmlent = unicodeToHTMLEntities(uni)\u000a\u000aprint uni\u000aprint htmlent\u000a# &amp;, , &lt;, &gt;, , , , \u20ac, , \u000a# &amp;amp;, &amp;#174;, &amp;lt;, &amp;gt;, &amp;#162;, &amp;#163;, &amp;#165;, &amp;#8364;, &amp;#167;, &amp;#169;\u000a</code></pre>\u000a
p1862
sVquestion_id
p1863
I701704
sVlast_activity_date
p1864
I1238515076
sVcreation_date
p1865
I1238515076
sVscore
p1866
I20
sVowner
p1867
(dp1868
Vuser_id
p1869
I84952
sVprofile_image
p1870
Vhttps://www.gravatar.com/avatar/632abd6b35ab1ef10fae5c49119b51c7?s=128&d=identicon&r=PG
p1871
sVuser_type
p1872
Vregistered
p1873
sVreputation
p1874
I5897
sVlink
p1875
Vhttp://stackoverflow.com/users/84952/hekevintran
p1876
sVaccept_rate
p1877
I81
sVdisplay_name
p1878
Vhekevintran
p1879
ssVis_accepted
p1880
I01
sVanswer_id
p1881
I701722
sa(dp1882
Vbody
p1883
V<p>You can get a list of <em>all</em> matching elements with a list comprehension:</p>\u000a\u000a<pre><code>[x for x in myList if x.n == 30]  # list of all elements with .n==30\u000a</code></pre>\u000a\u000a<p>If you simply want to determine if the list contains <em>any</em> element that matches and do it (relatively) efficiently, you can do</p>\u000a\u000a<pre><code>def contains(list, filter):\u000a    for x in list:\u000a        if filter(x):\u000a            return True\u000a    return False\u000a\u000aif contains(myList, lambda x: x.n == 3)  # True if any element has .n==3\u000a    # do stuff\u000a</code></pre>\u000a
p1884
sVquestion_id
p1885
I598398
sVlast_activity_date
p1886
I1235913227
sVcreation_date
p1887
I1235844665
sVscore
p1888
I56
sVowner
p1889
(dp1890
Vuser_id
p1891
I9530
sVprofile_image
p1892
Vhttps://www.gravatar.com/avatar/924800e76876546c5c575c0175e1f434?s=128&d=identicon&r=PG
p1893
sVuser_type
p1894
Vregistered
p1895
sVreputation
p1896
I259251
sVlink
p1897
Vhttp://stackoverflow.com/users/9530/adam-rosenfield
p1898
sVaccept_rate
p1899
I78
sVdisplay_name
p1900
VAdam Rosenfield
p1901
ssVis_accepted
p1902
I01
sVlast_edit_date
p1903
I1235913227
sVanswer_id
p1904
I598407
sa(dp1905
Vbody
p1906
V<p>Use the <code>list_of_ids</code> directly:</p>\u000a\u000a<pre><code>format_strings = ','.join(['%s'] * len(list_of_ids))\u000acursor.execute("DELETE FROM foo.bar WHERE baz IN (%s)" % format_strings,\u000a                tuple(list_of_ids))\u000a</code></pre>\u000a\u000a<p>That way you avoid having to quote yourself, and avoid all kinds of sql injection.</p>\u000a\u000a<p>Note that the data (<code>list_of_ids</code>) is going directly to mysql's driver, as a parameter (not in the query text) so there is no injection. You can leave any chars you want in the string, no need to remove or quote chars.</p>\u000a
p1907
sVquestion_id
p1908
I589284
sVlast_activity_date
p1909
I1235630798
sVcreation_date
p1910
I1235630798
sVscore
p1911
I80
sVowner
p1912
(dp1913
Vuser_id
p1914
I17160
sVprofile_image
p1915
Vhttps://www.gravatar.com/avatar/81cb50f5fe868629a680c16a56781f01?s=128&d=identicon&r=PG
p1916
sVuser_type
p1917
Vregistered
p1918
sVreputation
p1919
I118064
sVlink
p1920
Vhttp://stackoverflow.com/users/17160/nosklo
p1921
sVaccept_rate
p1922
I78
sVdisplay_name
p1923
Vnosklo
p1924
ssVis_accepted
p1925
I01
sVanswer_id
p1926
I589416
sa(dp1927
Vbody
p1928
V<p>As always: It depends ;-)</p>\u000a\u000a<p>When I don't need any apache features I am going with a pure python webserver like paste etc. Which one exactly depends on your application I guess and can be decided by doing some benchmarks. I always wanted to do some but never came to it. I guess Spawning might have some advantages in using non blocking IO out of the box but I had sometimes problems with it because of the patching it's doing. </p>\u000a\u000a<p>You are always free to put a varnish in front as well of course.</p>\u000a\u000a<p>If an Apache is required I am usually going with solution 3 so that I can keep processes separate. You can also more easily move processes to other servers etc. I simply like to keep things separate.</p>\u000a\u000a<p>For static files I am using right now a separate server for a project which just serves static images/css/js. I am using lighttpd as webserver which has great performance (in this case I don't have a varnish in front anymore).</p>\u000a\u000a<p>Another useful tool is <a href="http://supervisord.org/" rel="noreferrer">supervisord</a> for controlling and monitoring these services.</p>\u000a\u000a<p>I am additionally using <a href="http://pypi.python.org/pypi/zc.buildout" rel="noreferrer">buildout</a> for managing my deployments and development sandboxes (together with <a href="http://pypi.python.org/pypi/virtualenv" rel="noreferrer">virtualenv</a>).</p>\u000a
p1929
sVquestion_id
p1930
I574068
sVlast_activity_date
p1931
I1235266796
sVcreation_date
p1932
I1235266796
sVscore
p1933
I26
sVowner
p1934
(dp1935
Vuser_id
p1936
I67151
sVprofile_image
p1937
Vhttps://www.gravatar.com/avatar/f7d96d15b901651ba8861f8385b7042c?s=128&d=identicon&r=PG
p1938
sVuser_type
p1939
Vregistered
p1940
sVreputation
p1941
I3636
sVlink
p1942
Vhttp://stackoverflow.com/users/67151/mrtopf
p1943
sVdisplay_name
p1944
VMrTopf
p1945
ssVis_accepted
p1946
I01
sVanswer_id
p1947
I574135
sa(dp1948
Vbody
p1949
V<p>I found an answer here <a href="http://vim.wikia.com/wiki/Restoring_indent_after_typing_hash" rel="noreferrer">http://vim.wikia.com/wiki/Restoring_indent_after_typing_hash</a></p>\u000a\u000a<p>It seems that the vim smartindent option is the cause of the problem.\u000aThe referenced page above describes work-a-rounds but after reading the help in smartindent in vim itself (:help smartindent), I decided to try cindent instead of smartindent.</p>\u000a\u000a<p>I replaced </p>\u000a\u000a<pre><code>set smartindent\u000a</code></pre>\u000a\u000a<p>with </p>\u000a\u000a<pre><code>set cindent\u000a</code></pre>\u000a\u000a<p>in my .vimrc file</p>\u000a\u000a<p>and so far it is working perfectly.</p>\u000a\u000a<p>This changed also fixed the behavior of '&lt;&lt;' and '>>' for indenting visual blocks that include python comments.</p>\u000a\u000a<p>There are more configuration options for and information on indentation in the vim help for smartindent and cindent (:help smartindent and :help cindent).</p>\u000a
p1950
sVquestion_id
p1951
I354097
sVlast_activity_date
p1952
I1229911735
sVcreation_date
p1953
I1228860438
sVscore
p1954
I30
sVowner
p1955
(dp1956
Vuser_id
p1957
I3045
sVprofile_image
p1958
Vhttps://www.gravatar.com/avatar/128510486651f7651644cc30956a5dfe?s=128&d=identicon&r=PG
p1959
sVuser_type
p1960
Vregistered
p1961
sVreputation
p1962
I8776
sVlink
p1963
Vhttp://stackoverflow.com/users/3045/paul-d-eden
p1964
sVaccept_rate
p1965
I90
sVdisplay_name
p1966
VPaul D. Eden
p1967
ssVis_accepted
p1968
I01
sVlast_edit_date
p1969
I1229911735
sVanswer_id
p1970
I354422
sa(dp1971
Vbody
p1972
V<p>What exactly do you mean by Monkey Patch here?  There are <a href="http://wikipedia.org/wiki/Monkey_patch" rel="noreferrer">several slightly different definitions</a>.</p>\u000a\u000a<p>If you mean, "can you change a class's methods at runtime?", then the answer is emphatically yes:</p>\u000a\u000a<pre><code>class Foo:\u000a  pass # dummy class\u000a\u000aFoo.bar = lambda self: 42\u000a\u000ax = Foo()\u000aprint x.bar()\u000a</code></pre>\u000a\u000a<p>If you mean, "can you change a class's methods at runtime and <strong>make all of the instances of that class change after-the-fact</strong>?" then the answer is yes as well.  Just change the order slightly:</p>\u000a\u000a<pre><code>class Foo:\u000a  pass # dummy class\u000a\u000ax = Foo()\u000a\u000aFoo.bar = lambda self: 42\u000a\u000aprint x.bar()\u000a</code></pre>\u000a\u000a<p>But you can't do this for certain built-in classes, like <code>int</code> or <code>float</code>.  These classes' methods are implemented in C and there are certain abstractions sacrificed in order to make the implementation easier and more efficient.</p>\u000a\u000a<p>I'm not really clear on <strong>why</strong> you would want to alter the behavior of the built-in numeric classes anyway.  If you need to alter their behavior, subclass them!!</p>\u000a
p1973
sVquestion_id
p1974
I192649
sVlast_activity_date
p1975
I1223666142
sVcreation_date
p1976
I1223666142
sVscore
p1977
I34
sVowner
p1978
(dp1979
Vuser_id
p1980
I20789
sVprofile_image
p1981
Vhttps://www.gravatar.com/avatar/a913ff1821be75c981d066f685816ed9?s=128&d=identicon&r=PG
p1982
sVuser_type
p1983
Vregistered
p1984
sVreputation
p1985
I36282
sVlink
p1986
Vhttp://stackoverflow.com/users/20789/dan-lenski
p1987
sVaccept_rate
p1988
I71
sVdisplay_name
p1989
VDan Lenski
p1990
ssVis_accepted
p1991
I01
sVanswer_id
p1992
I192703
sa(dp1993
Vbody
p1994
V<p>The most important limitation, currently, is that you cannot assign to an outer-scope variable. In other words, closures are read-only:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; def outer(x): \u000a...     def inner_reads():\u000a...         # Will return outer's 'x'.\u000a...         return x\u000a...     def inner_writes(y):\u000a...         # Will assign to a local 'x', not the outer 'x'\u000a...         x = y\u000a...     def inner_error(y):\u000a...         # Will produce an error: 'x' is local because of the assignment,\u000a...         # but we use it before it is assigned to.\u000a...         tmp = x\u000a...         x = y\u000a...         return tmp\u000a...     return inner_reads, inner_writes, inner_error\u000a... \u000a&gt;&gt;&gt; inner_reads, inner_writes, inner_error = outer(5)\u000a&gt;&gt;&gt; inner_reads()\u000a5\u000a&gt;&gt;&gt; inner_writes(10)\u000a&gt;&gt;&gt; inner_reads()\u000a5\u000a&gt;&gt;&gt; inner_error(10)\u000aTraceback (most recent call last):\u000a  File "&lt;stdin&gt;", line 1, in &lt;module&gt;\u000a  File "&lt;stdin&gt;", line 11, in inner_error\u000aUnboundLocalError: local variable 'x' referenced before assignment\u000a</code></pre>\u000a\u000a<p>A name that gets assigned to in a local scope (a function) is always local, unless declared otherwise. While there is the 'global' declaration to declare a variable global even when it is assigned to, there is no such declaration for enclosed variables -- yet. In Python 3.0, there is (will be) the 'nonlocal' declaration that does just that.</p>\u000a\u000a<p>You can work around this limitation in the mean time by using a mutable container type:</p>\u000a\u000a<pre><code>&gt;&gt;&gt; def outer(x):\u000a...     x = [x]\u000a...     def inner_reads():\u000a...         # Will return outer's x's first (and only) element.\u000a...         return x[0]\u000a...     def inner_writes(y):\u000a...         # Will look up outer's x, then mutate it.      \u000a...         x[0] = y\u000a...     def inner_error(y):\u000a...         # Will now work, because 'x' is not assigned to, just referenced.\u000a...         tmp = x[0]\u000a...         x[0] = y\u000a...         return tmp\u000a...     return inner_reads, inner_writes, inner_error\u000a... \u000a&gt;&gt;&gt; inner_reads, inner_writes, inner_error = outer(5)\u000a&gt;&gt;&gt; inner_reads()\u000a5\u000a&gt;&gt;&gt; inner_writes(10)\u000a&gt;&gt;&gt; inner_reads()\u000a10\u000a&gt;&gt;&gt; inner_error(15)\u000a10\u000a&gt;&gt;&gt; inner_reads()\u000a15\u000a</code></pre>\u000a
p1995
sVquestion_id
p1996
I141642
sVlast_activity_date
p1997
I1222460367
sVcreation_date
p1998
I1222460367
sVscore
p1999
I41
sVowner
p2000
(dp2001
Vuser_id
p2002
I17624
sVprofile_image
p2003
Vhttps://www.gravatar.com/avatar/90285a816eda046ff55a0dcacc0c5ee8?s=128&d=identicon&r=PG
p2004
sVuser_type
p2005
Vregistered
p2006
sVreputation
p2007
I69283
sVlink
p2008
Vhttp://stackoverflow.com/users/17624/thomas-wouters
p2009
sVdisplay_name
p2010
VThomas Wouters
p2011
ssVis_accepted
p2012
I01
sVanswer_id
p2013
I141710
sa(dp2014
Vbody
p2015
V<p>The <a href="http://groups.google.com/group/google-appengine/browse_thread/thread/ec0800a3ca92fe69#" rel="noreferrer">official answer</a> from Google is that you have to delete in chunks spread over multiple requests. You can use AJAX, <a href="http://en.wikipedia.org/wiki/Meta_refresh" rel="noreferrer">meta refresh</a>, or request your URL from a script until there are no entities left.</p>\u000a
p2016
sVquestion_id
p2017
I108822
sVlast_activity_date
p2018
I1222137850
sVcreation_date
p2019
I1222137850
sVscore
p2020
I5
sVowner
p2021
(dp2022
Vuser_id
p2023
I712
sVprofile_image
p2024
Vhttps://www.gravatar.com/avatar/bd319cfb666b090230d12d3d3284d018?s=128&d=identicon&r=PG
p2025
sVuser_type
p2026
Vregistered
p2027
sVreputation
p2028
I13016
sVlink
p2029
Vhttp://stackoverflow.com/users/712/alexander-kojevnikov
p2030
sVdisplay_name
p2031
VAlexander Kojevnikov
p2032
ssVis_accepted
p2033
I01
sVanswer_id
p2034
I118828
sasVquota_max
p2035
I300
sVquota_remaining
p2036
I132
s.